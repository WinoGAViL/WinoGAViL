(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(t,e,n){t.exports=n("zUnb")},"2D0q":function(t,e,n){"use strict";function i(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,r++)i[r]=o[s];return i}var r;n.r(e),n.d(e,"LogLevel",function(){return s}),n.d(e,"Logger",function(){return h}),n.d(e,"setLogLevel",function(){return d}),n.d(e,"setUserLogHandler",function(){return f});var o=[],s=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},c=s.INFO,u=((r={})[s.DEBUG]="log",r[s.VERBOSE]="log",r[s.INFO]="info",r[s.WARN]="warn",r[s.ERROR]="error",r),l=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var o=(new Date).toISOString(),s=u[e];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[s].apply(console,i(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=c,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in s))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,i([this,s.DEBUG],t)),this._logHandler.apply(this,i([this,s.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,i([this,s.VERBOSE],t)),this._logHandler.apply(this,i([this,s.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,i([this,s.INFO],t)),this._logHandler.apply(this,i([this,s.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,i([this,s.WARN],t)),this._logHandler.apply(this,i([this,s.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,i([this,s.ERROR],t)),this._logHandler.apply(this,i([this,s.ERROR],t))},t}();function d(t){o.forEach(function(e){e.setLogLevel(t)})}function f(t,e){for(var n=function(n){var i=null;e&&e.level&&(i=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];var a=r.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=i?i:e.logLevel)&&t({level:s[n].toLowerCase(),message:a,args:r,type:e.name})}},i=0,r=o;i<r.length;i++)n(r[i])}},"2QA8":function(t,e,n){"use strict";n.d(e,"a",function(){return i});const i=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",function(){return r});let i=!1;const r={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else i&&console.log("RxJS: Back to a better error behavior. Thank you. <3");i=t},get useDeprecatedSynchronousErrorHandling(){return i}}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("quSY");class r extends i.a{constructor(t,e){super()}schedule(t,e=0){return this}}class o extends r{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,i=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(i,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(i,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,i=void 0;try{this.work(t)}catch(r){n=!0,i=!!r&&r||new Error(r)}if(n)return this.unsubscribe(),i}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,i=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==i&&n.splice(i,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("lJxs"),r=n("Cfvw"),o=n("zx2A");function s(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?o=>o.pipe(s((n,o)=>Object(r.a)(t(n,o)).pipe(Object(i.a)((t,i)=>e(n,t,o,i))),n)):("number"==typeof e&&(n=e),e=>e.lift(new a(t,n)))}class a{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new c(t,this.project,this.concurrent))}}class c extends o.b{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(i){return void this.destination.error(i)}this.active++,this._innerSub(e)}_innerSub(t){const e=new o.a(this),n=this.destination;n.add(e);const i=Object(o.c)(t,e);i!==e&&n.add(i)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"5ENO":function(t,e,n){"use strict";n.r(e),n.d(e,"Component",function(){return o}),n.d(e,"ComponentContainer",function(){return a}),n.d(e,"Provider",function(){return s});var i=n("jebL"),r=n("gS2T"),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),s=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return t.prototype.get=function(t){var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new r.Deferred;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var i=this.getOrInitializeService({instanceIdentifier:e});i&&n.resolve(i)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e,n=this.normalizeInstanceIdentifier(null==t?void 0:t.identifier),i=null!==(e=null==t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(i)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(r){if(i)return null;throw r}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:"[DEFAULT]"})}catch(l){}try{for(var r=Object(i.__values)(this.instancesDeferred.entries()),o=r.next();!o.done;o=r.next()){var s=Object(i.__read)(o.value,2),a=s[1],c=this.normalizeInstanceIdentifier(s[0]);try{var u=this.getOrInitializeService({instanceIdentifier:c});a.resolve(u)}catch(l){}}}catch(h){e={error:h}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(i.__awaiter)(this,void 0,void 0,function(){var t;return Object(i.__generator)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(i.__spreadArray)(Object(i.__spreadArray)([],Object(i.__read)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}))),Object(i.__read)(t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()}))))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t="[DEFAULT]"),this.instances.has(t)},t.prototype.getOptions=function(t){return void 0===t&&(t="[DEFAULT]"),this.instancesOptions.get(t)||{}},t.prototype.initialize=function(t){var e,n;void 0===t&&(t={});var r=t.options,o=void 0===r?{}:r,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(this.name+"("+s+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var a=this.getOrInitializeService({instanceIdentifier:s,options:o});try{for(var c=Object(i.__values)(this.instancesDeferred.entries()),u=c.next();!u.done;u=c.next()){var l=Object(i.__read)(u.value,2),h=l[1];s===this.normalizeInstanceIdentifier(l[0])&&h.resolve(a)}}catch(d){e={error:d}}finally{try{u&&!u.done&&(n=c.return)&&n.call(c)}finally{if(e)throw e.error}}return a},t.prototype.onInit=function(t,e){var n,i=this.normalizeInstanceIdentifier(e),r=null!==(n=this.onInitCallbacks.get(i))&&void 0!==n?n:new Set;r.add(t),this.onInitCallbacks.set(i,r);var o=this.instances.get(i);return o&&t(o,i),function(){r.delete(t)}},t.prototype.invokeOnInitCallbacks=function(t,e){var n,r,o=this.onInitCallbacks.get(e);if(o)try{for(var s=Object(i.__values)(o),a=s.next();!a.done;a=s.next()){var c=a.value;try{c(t,e)}catch(u){}}}catch(l){n={error:l}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,i=t.options,r=void 0===i?{}:i,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,"[DEFAULT]"===e?void 0:e),options:r}),this.instances.set(n,o),this.instancesOptions.set(n,r),this.invokeOnInitCallbacks(o,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(s){}return o||null},t.prototype.normalizeInstanceIdentifier=function(t){return void 0===t&&(t="[DEFAULT]"),this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}(),a=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new s(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},"7Hc7":function(t,e,n){"use strict";n.d(e,"b",function(){return d}),n.d(e,"a",function(){return f});let i=1;const r=(()=>Promise.resolve())(),o={};function s(t){return t in o&&(delete o[t],!0)}const a={setImmediate(t){const e=i++;return o[e]=!0,r.then(()=>s(e)&&t()),e},clearImmediate(t){s(t)}};var c=n("3N8a");class u extends c.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=a.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(a.clearImmediate(e),t.scheduled=void 0)}}var l=n("IjjT");class h extends l.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,i=-1,r=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++i<r&&(t=e.shift()));if(this.active=!1,n){for(;++i<r&&(t=e.shift());)t.unsubscribe();throw n}}}const d=new h(u),f=d},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",function(){return u});var i=n("n6bG"),r=n("gRHU"),o=n("quSY"),s=n("2QA8"),a=n("2fFW"),c=n("NJ4a");class u extends o.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=r.a;break;case 1:if(!t){this.destination=r.a;break}if("object"==typeof t){t instanceof u?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[s.a](){return this}static create(t,e,n){const i=new u(t,e,n);return i.syncErrorThrowable=!1,i}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends u{constructor(t,e,n,o){let s;super(),this._parentSubscriber=t;let a=this;Object(i.a)(e)?s=e:e&&(s=e.next,n=e.error,o=e.complete,e!==r.a&&(a=Object.create(e),Object(i.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=s,this._error=n,this._complete=o}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(c.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(c.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(c.a)(n)}}__tryOrSetError(t,e,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(i){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=i,t.syncErrorThrown=!0,!0):(Object(c.a)(i),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"9ppp":function(t,e,n){"use strict";n.d(e,"a",function(){return i});const i=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",function(){return h});var i=n("HDdC"),r=n("SeVD"),o=n("quSY"),s=n("kJWO"),a=n("jZKg"),c=n("Lhse"),u=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[s.a]}(t))return function(t,e){return new i.a(n=>{const i=new o.a;return i.add(e.schedule(()=>{const r=t[s.a]();i.add(r.subscribe({next(t){i.add(e.schedule(()=>n.next(t)))},error(t){i.add(e.schedule(()=>n.error(t)))},complete(){i.add(e.schedule(()=>n.complete()))}}))})),i})}(t,e);if(Object(u.a)(t))return function(t,e){return new i.a(n=>{const i=new o.a;return i.add(e.schedule(()=>t.then(t=>{i.add(e.schedule(()=>{n.next(t),i.add(e.schedule(()=>n.complete()))}))},t=>{i.add(e.schedule(()=>n.error(t)))}))),i})}(t,e);if(Object(l.a)(t))return Object(a.a)(t,e);if(function(t){return t&&"function"==typeof t[c.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new i.a(n=>{const i=new o.a;let r;return i.add(()=>{r&&"function"==typeof r.return&&r.return()}),i.add(e.schedule(()=>{r=t[c.a](),i.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=r.next();t=n.value,e=n.done}catch(i){return void n.error(i)}e?n.complete():(n.next(t),this.schedule())}))})),i})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof i.a?t:new i.a(Object(r.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"b",function(){return r}),n.d(e,"a",function(){return o});var i=n("3N8a");const r=new(n("IjjT").a)(i.a),o=r},DH7j:function(t,e,n){"use strict";n.d(e,"a",function(){return i});const i=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},EY2u:function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return o});var i=n("HDdC");const r=new i.a(t=>t.complete());function o(t){return t?function(t){return new i.a(e=>t.schedule(()=>e.complete()))}(t):r}},HDdC:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var i=n("7o/Q"),r=n("2QA8"),o=n("gRHU"),s=n("kJWO"),a=n("SpAZ"),c=n("2fFW");let u=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:s}=this,a=function(t,e,n){if(t){if(t instanceof i.a)return t;if(t[r.a])return t[r.a]()}return t||e||n?new i.a(t,e,n):new i.a(o.a)}(t,e,n);if(a.add(s?s.call(a,this.source):this.source||c.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),c.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){c.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:r}=t;if(e||r)return!1;t=n&&n instanceof i.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let i;i=this.subscribe(e=>{try{t(e)}catch(r){n(r),i&&i.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[s.a](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?a.a:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=c.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},"I2V/":function(t,e,n){"use strict";(function(t){var e=n("d+ix"),i=n("5ENO"),r=n("gS2T"),o=n("jebL"),s=n("2D0q"),a="";function c(t){a=t}var u,l=function(){function t(t){this.domStorage_=t,this.prefix_="firebase:"}return t.prototype.set=function(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Object(r.stringify)(e))},t.prototype.get=function(t){var e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:Object(r.jsonEval)(e)},t.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},t.prototype.prefixedName_=function(t){return this.prefix_+t},t.prototype.toString=function(){return this.domStorage_.toString()},t}(),h=function(){function t(){this.cache_={},this.isInMemoryStorage=!0}return t.prototype.set=function(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e},t.prototype.get=function(t){return Object(r.contains)(this.cache_,t)?this.cache_[t]:null},t.prototype.remove=function(t){delete this.cache_[t]},t}(),d=function(t){try{if("undefined"!=typeof window&&void 0!==window[t]){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new l(e)}}catch(n){}return new h},f=d("localStorage"),p=d("sessionStorage"),g=new s.Logger("@firebase/database"),m=(u=1,function(){return u++}),b=function(t){var e=Object(r.stringToByteArray)(t),n=new r.Sha1;n.update(e);var i=n.digest();return r.base64.encodeByteArray(i)},_=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n="",i=0;i<t.length;i++){var o=t[i];Array.isArray(o)||o&&"object"==typeof o&&"number"==typeof o.length?n+=_.apply(null,o):n+="object"==typeof o?Object(r.stringify)(o):o,n+=" "}return n},v=null,y=!0,w=function(t,e){Object(r.assert)(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(g.logLevel=s.LogLevel.VERBOSE,v=g.log.bind(g),e&&p.set("logging_enabled",!0)):"function"==typeof t?v=t:(v=null,p.remove("logging_enabled"))},C=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!0===y&&(y=!1,null===v&&!0===p.get("logging_enabled")&&w(!0)),v){var n=_.apply(null,t);v(n)}},S=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];C.apply(void 0,Object(o.__spreadArray)([t],Object(o.__read)(e)))}},k=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE INTERNAL ERROR: "+_.apply(void 0,Object(o.__spreadArray)([],Object(o.__read)(t)));g.error(n)},O=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE FATAL ERROR: "+_.apply(void 0,Object(o.__spreadArray)([],Object(o.__read)(t)));throw g.error(n),new Error(n)},T=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE WARNING: "+_.apply(void 0,Object(o.__spreadArray)([],Object(o.__read)(t)));g.warn(n)},x=function(t){return"number"==typeof t&&(t!=t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},E="[MIN_NAME]",I="[MAX_NAME]",A=function(t,e){if(t===e)return 0;if(t===E||e===I)return-1;if(e===E||t===I)return 1;var n=L(t),i=L(e);return null!==n?null!==i?n-i==0?t.length-e.length:n-i:-1:null!==i?1:t<e?-1:1},R=function(t,e){return t===e?0:t<e?-1:1},P=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Object(r.stringify)(e))},D=function(t){if("object"!=typeof t||null===t)return Object(r.stringify)(t);var e=[];for(var n in t)e.push(n);e.sort();for(var i="{",o=0;o<e.length;o++)0!==o&&(i+=","),i+=Object(r.stringify)(e[o]),i+=":",i+=D(t[e[o]]);return i+"}"},M=function(t,e){var n=t.length;if(n<=e)return[t];for(var i=[],r=0;r<n;r+=e)i.push(t.substring(r,r+e>n?n:r+e));return i};function N(t,e){for(var n in t)t.hasOwnProperty(n)&&e(n,t[n])}var j=function(t){var e,n,i,o,s;Object(r.assert)(!x(t),"Invalid JSON number"),0===t?(n=0,i=0,e=1/t==-1/0?1:0):(e=t<0,(t=Math.abs(t))>=Math.pow(2,-1022)?(n=(o=Math.min(Math.floor(Math.log(t)/Math.LN2),1023))+1023,i=Math.round(t*Math.pow(2,52-o)-Math.pow(2,52))):(n=0,i=Math.round(t/Math.pow(2,-1074))));var a=[];for(s=52;s;s-=1)a.push(i%2?1:0),i=Math.floor(i/2);for(s=11;s;s-=1)a.push(n%2?1:0),n=Math.floor(n/2);a.push(e?1:0),a.reverse();var c=a.join(""),u="";for(s=0;s<64;s+=8){var l=parseInt(c.substr(s,8),2).toString(16);1===l.length&&(l="0"+l),u+=l}return u.toLowerCase()},F=new RegExp("^-?(0*)\\d{1,10}$"),L=function(t){if(F.test(t)){var e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},V=function(t){try{t()}catch(e){setTimeout(function(){throw T("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},U=function(t,e){var n=setTimeout(t,e);return"object"==typeof n&&n.unref&&n.unref(),n},q=function(){function t(t,e){var n=this;this.appName_=t,this.appCheckProvider=e,this.appCheck=null==e?void 0:e.getImmediate({optional:!0}),this.appCheck||null==e||e.get().then(function(t){return n.appCheck=t})}return t.prototype.getToken=function(t){var e=this;return this.appCheck?this.appCheck.getToken(t):new Promise(function(n,i){setTimeout(function(){e.appCheck?e.getToken(t).then(n,i):n(null)},0)})},t.prototype.addTokenChangeListener=function(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(function(e){return e.addTokenListener(t)})},t.prototype.notifyForInvalidToken=function(){T('Provided AppCheck credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly.')},t}(),B=function(){function t(t,e,n){var i=this;this.appName_=t,this.firebaseOptions_=e,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit(function(t){return i.auth_=t})}return t.prototype.getToken=function(t){var e=this;return this.auth_?this.auth_.getToken(t).catch(function(t){return t&&"auth/token-not-initialized"===t.code?(C("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)}):new Promise(function(n,i){setTimeout(function(){e.auth_?e.getToken(t).then(n,i):n(null)},0)})},t.prototype.addTokenChangeListener=function(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(function(e){return e.addAuthTokenListener(t)})},t.prototype.removeTokenChangeListener=function(t){this.authProvider_.get().then(function(e){return e.removeAuthTokenListener(t)})},t.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';T(t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.')},t}(),H=function(){function t(t){this.accessToken=t}return t.prototype.getToken=function(t){return Promise.resolve({accessToken:this.accessToken})},t.prototype.addTokenChangeListener=function(t){t(this.accessToken)},t.prototype.removeTokenChangeListener=function(t){},t.prototype.notifyForInvalidToken=function(){},t.OWNER="owner",t}(),z=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,W=function(){function t(t,e,n,i,r,o,s){void 0===r&&(r=!1),void 0===o&&(o=""),void 0===s&&(s=!1),this.secure=e,this.namespace=n,this.webSocketOnly=i,this.nodeAdmin=r,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=f.get("host:"+t)||this._host}return t.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},t.prototype.isCustomHost=function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain},Object.defineProperty(t.prototype,"host",{get:function(){return this._host},set:function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&f.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),t.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t},t.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host+"/"+(this.includeNamespaceInQueryParams?"?ns="+this.namespace:"")},t}();function G(t,e,n){var i;if(Object(r.assert)("string"==typeof e,"typeof type must == string"),Object(r.assert)("object"==typeof n,"typeof params must == object"),"websocket"===e)i=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else{if("long_polling"!==e)throw new Error("Unknown connection type: "+e);i=(t.secure?"https://":"http://")+t.internalHost+"/.lp?"}(function(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams})(t)&&(n.ns=t.namespace);var o=[];return N(n,function(t,e){o.push(t+"="+e)}),i+o.join("&")}var K=function(){function t(){this.counters_={}}return t.prototype.incrementCounter=function(t,e){void 0===e&&(e=1),Object(r.contains)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e},t.prototype.get=function(){return Object(r.deepCopy)(this.counters_)},t}(),$={},Y={};function Q(t){var e=t.toString();return $[e]||($[e]=new K),$[e]}var Z=function(){function t(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return t.prototype.closeAfter=function(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},t.prototype.handleResponse=function(t,e){var n=this;this.pendingResponses[t]=e;for(var i=function(){var t=r.pendingResponses[r.currentResponseNum];delete r.pendingResponses[r.currentResponseNum];for(var e=function(e){t[e]&&V(function(){n.onMessage_(t[e])})},i=0;i<t.length;++i)e(i);if(r.currentResponseNum===r.closeAfterResponse)return r.onClose&&(r.onClose(),r.onClose=null),"break";r.currentResponseNum++},r=this;this.pendingResponses[this.currentResponseNum]&&"break"!==i(););},t}(),X=function(){function t(t,e,n,i,r,o,s){var a=this;this.connId=t,this.repoInfo=e,this.applicationId=n,this.appCheckToken=i,this.authToken=r,this.transportSessionId=o,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=S(t),this.stats_=Q(e),this.urlFn=function(t){return a.appCheckToken&&(t.ac=a.appCheckToken),G(e,"long_polling",t)}}return t.prototype.open=function(t,e){var n=this;this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new Z(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null},Math.floor(3e4)),function(t){if(Object(r.isNodeSdk)()||"complete"===document.readyState)t();else{var e=!1,n=function(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(function(){if(!n.isClosed_){n.scriptTagHolder=new J(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=Object(o.__read)(t,5),r=i[0],s=i[1],a=i[2];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,"start"===r)n.id=s,n.password=a;else{if("close"!==r)throw new Error("Unrecognized command received: "+r);s?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(s,function(){n.onClosed_()})):n.onClosed_()}},function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=Object(o.__read)(t,2),r=i[0],s=i[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(r,s)},function(){n.onClosed_()},n.urlFn);var t={start:"t"};t.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(t.cb=n.scriptTagHolder.uniqueCallbackIdentifier),t.v="5",n.transportSessionId&&(t.s=n.transportSessionId),n.lastSessionId&&(t.ls=n.lastSessionId),n.applicationId&&(t.p=n.applicationId),n.appCheckToken&&(t.ac=n.appCheckToken),"undefined"!=typeof location&&location.hostname&&z.test(location.hostname)&&(t.r="f");var e=n.urlFn(t);n.log_("Connecting via long-poll to "+e),n.scriptTagHolder.addTag(e,function(){})}})},t.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},t.forceAllow=function(){t.forceAllow_=!0},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){return!(Object(r.isNodeSdk)()||!t.forceAllow_&&(t.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))},t.prototype.markConnectionHealthy=function(){},t.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},t.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},t.prototype.send=function(t){var e=Object(r.stringify)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);for(var n=Object(r.base64Encode)(e),i=M(n,1840),o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++},t.prototype.addDisconnectPingFrame=function(t,e){if(!Object(r.isNodeSdk)()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=t,n.pw=e,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},t.prototype.incrementIncomingBytes_=function(t){var e=Object(r.stringify)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)},t}(),J=function(){function t(e,n,i,o){if(this.onDisconnect=i,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,Object(r.isNodeSdk)())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=m(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();var s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(s='<script>document.domain="'+document.domain+'";<\/script>');var a="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(c){C("frame writing exception"),c.stack&&C(c.stack),C(c)}}}return t.createIFrame_=function(){var t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||C("No IE domain setting required")}catch(n){var e=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+e+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},t.prototype.close=function(){var t=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){null!==t.myIFrame&&(document.body.removeChild(t.myIFrame),t.myIFrame=null)},Math.floor(0)));var e=this.onDisconnect;e&&(this.onDisconnect=null,e())},t.prototype.startLongPoll=function(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););},t.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;for(var e=this.urlFn(t),n="",i=0;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+n.length<=1870;){var r=this.pendingSegs.shift();n=n+"&seg"+i+"="+r.seg+"&ts"+i+"="+r.ts+"&d"+i+"="+r.d,i++}return this.addLongPollTag_(e+=n,this.currentSerial),!0}return!1},t.prototype.enqueueSegment=function(t,e,n){this.pendingSegs.push({seg:t,ts:e,d:n}),this.alive&&this.newRequest_()},t.prototype.addLongPollTag_=function(t,e){var n=this;this.outstandingRequests.add(e);var i=function(){n.outstandingRequests.delete(e),n.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(t,function(){clearTimeout(r),i()})},t.prototype.addTag=function(t,e){var n=this;Object(r.isNodeSdk)()?this.doNodeLongPoll(t,e):setTimeout(function(){try{if(!n.sendNewPolls)return;var i=n.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){var t=i.readyState;t&&"loaded"!==t&&"complete"!==t||(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),e())},i.onerror=function(){C("Long-poll script failed to load: "+t),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(i)}catch(r){}},Math.floor(1))},t}(),tt=null;"undefined"!=typeof MozWebSocket?tt=MozWebSocket:"undefined"!=typeof WebSocket&&(tt=WebSocket);var et=function(){function t(e,n,i,r,o,s,a){this.connId=e,this.applicationId=i,this.appCheckToken=r,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=S(this.connId),this.stats_=Q(n),this.connURL=t.connectionURL_(n,s,a,r),this.nodeAdmin=n.nodeAdmin}return t.connectionURL_=function(t,e,n,i){var o={v:"5"};return!Object(r.isNodeSdk)()&&"undefined"!=typeof location&&location.hostname&&z.test(location.hostname)&&(o.r="f"),e&&(o.s=e),n&&(o.ls=n),i&&(o.ac=i),G(t,"websocket",o)},t.prototype.open=function(t,e){var n=this;this.onDisconnect=e,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,f.set("previous_websocket_failure",!0);try{if(Object(r.isNodeSdk)()){var i={headers:{"User-Agent":"Firebase/5/"+a+"/"+process.platform+"/"+(this.nodeAdmin?"AdminNode":"Node"),"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(i.headers.Authorization="Bearer "+this.authToken),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);var o=process.env,s=0===this.connURL.indexOf("wss://")?o.HTTPS_PROXY||o.https_proxy:o.HTTP_PROXY||o.http_proxy;s&&(i.proxy={origin:s}),this.mySock=new tt(this.connURL,[],i)}else this.mySock=new tt(this.connURL,[],i={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}})}catch(u){this.log_("Error instantiating WebSocket.");var c=u.message||u.data;return c&&this.log_(c),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(t){n.handleIncomingFrame(t)},this.mySock.onerror=function(t){n.log_("WebSocket error.  Closing connection.");var e=t.message||t.data;e&&n.log_(e),n.onClosed_()}},t.prototype.start=function(){},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){var e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==tt&&!t.forceDisallow_},t.previouslyFailed=function(){return f.isInMemoryStorage||!0===f.get("previous_websocket_failure")},t.prototype.markConnectionHealthy=function(){f.remove("previous_websocket_failure")},t.prototype.appendFrame_=function(t){if(this.frames.push(t),this.frames.length===this.totalFrames){var e=this.frames.join("");this.frames=null;var n=Object(r.jsonEval)(e);this.onMessage(n)}},t.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},t.prototype.extractFrameCount_=function(t){if(Object(r.assert)(null===this.frames,"We already have a frame buffer"),t.length<=6){var e=Number(t);if(!isNaN(e))return this.handleNewFrameCount_(e),null}return this.handleNewFrameCount_(1),t},t.prototype.handleIncomingFrame=function(t){if(null!==this.mySock){var e=t.data;if(this.bytesReceived+=e.length,this.stats_.incrementCounter("bytes_received",e.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(e);else{var n=this.extractFrameCount_(e);null!==n&&this.appendFrame_(n)}}},t.prototype.send=function(t){this.resetKeepAlive();var e=Object(r.stringify)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);var n=M(e,16384);n.length>1&&this.sendString_(String(n.length));for(var i=0;i<n.length;i++)this.sendString_(n[i])},t.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},t.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},t.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){t.mySock&&t.sendString_("0"),t.resetKeepAlive()},Math.floor(45e3))},t.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t}(),nt=function(){function t(t){this.initTransports_(t)}return Object.defineProperty(t,"ALL_TRANSPORTS",{get:function(){return[X,et]},enumerable:!1,configurable:!0}),t.prototype.initTransports_=function(e){var n,i,r=et&&et.isAvailable(),s=r&&!et.previouslyFailed();if(e.webSocketOnly&&(r||T("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[et];else{var a=this.transports_=[];try{for(var c=Object(o.__values)(t.ALL_TRANSPORTS),u=c.next();!u.done;u=c.next()){var l=u.value;l&&l.isAvailable()&&a.push(l)}}catch(h){n={error:h}}finally{try{u&&!u.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}}},t.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},t.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},t}(),it=function(){function t(t,e,n,i,r,o,s,a,c,u){this.id=t,this.repoInfo_=e,this.applicationId_=n,this.appCheckToken_=i,this.authToken_=r,this.onMessage_=o,this.onReady_=s,this.onDisconnect_=a,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=S("c:"+this.id+":"),this.transportManager_=new nt(e),this.log_("Connection created"),this.start_()}return t.prototype.start_=function(){var t=this,e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){t.conn_&&t.conn_.open(n,i)},Math.floor(0));var r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=U(function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&t.conn_.bytesReceived>102400?(t.log_("Connection exceeded healthy timeout but has received "+t.conn_.bytesReceived+" bytes.  Marking connection healthy."),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&t.conn_.bytesSent>10240?t.log_("Connection exceeded healthy timeout but has sent "+t.conn_.bytesSent+" bytes.  Leaving connection alive."):(t.log_("Closing unhealthy connection after timeout."),t.close()))},Math.floor(r)))},t.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},t.prototype.disconnReceiver_=function(t){var e=this;return function(n){t===e.conn_?e.onConnectionLost_(n):t===e.secondaryConn_?(e.log_("Secondary connection lost."),e.onSecondaryConnectionLost_()):e.log_("closing an old connection")}},t.prototype.connReceiver_=function(t){var e=this;return function(n){2!==e.state_&&(t===e.rx_?e.onPrimaryMessageReceived_(n):t===e.secondaryConn_?e.onSecondaryMessageReceived_(n):e.log_("message on old connection"))}},t.prototype.sendRequest=function(t){this.sendData_({t:"d",d:t})},t.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},t.prototype.onSecondaryControl_=function(t){if("t"in t){var e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},t.prototype.onSecondaryMessageReceived_=function(t){var e=P("t",t),n=P("d",t);if("c"===e)this.onSecondaryControl_(n);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(n)}},t.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},t.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},t.prototype.onPrimaryMessageReceived_=function(t){var e=P("t",t),n=P("d",t);"c"===e?this.onControl_(n):"d"===e&&this.onDataMessage_(n)},t.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},t.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},t.prototype.onControl_=function(t){var e=P("t",t);if("d"in t){var n=t.d;if("h"===e)this.onHandshake_(n);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(n):"r"===e?this.onReset_(n):"e"===e?k("Server Error: "+n):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):k("Unknown control packet command: "+e)}},t.prototype.onHandshake_=function(t){var e=t.ts,n=t.v,i=t.h;this.sessionId=t.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==n&&T("Protocol version mismatch detected"),this.tryStartUpgrade_())},t.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},t.prototype.startUpgrade_=function(t){var e=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),U(function(){e.secondaryConn_&&(e.log_("Timed out trying to upgrade."),e.secondaryConn_.close())},Math.floor(6e4))},t.prototype.onReset_=function(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())},t.prototype.onConnectionEstablished_=function(t,e){var n=this;this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):U(function(){n.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))},t.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},t.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==t&&this.rx_!==t||this.close()},t.prototype.onConnectionLost_=function(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(f.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},t.prototype.onConnectionShutdown_=function(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},t.prototype.sendData_=function(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)},t.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},t.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},t}(),rt=function(){function t(){}return t.prototype.put=function(t,e,n,i){},t.prototype.merge=function(t,e,n,i){},t.prototype.refreshAuthToken=function(t){},t.prototype.refreshAppCheckToken=function(t){},t.prototype.onDisconnectPut=function(t,e,n){},t.prototype.onDisconnectMerge=function(t,e,n){},t.prototype.onDisconnectCancel=function(t,e){},t.prototype.reportStats=function(t){},t}(),ot=function(){function t(t){this.allowedEvents_=t,this.listeners_={},Object(r.assert)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return t.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Array.isArray(this.listeners_[t]))for(var i=Object(o.__spreadArray)([],Object(o.__read)(this.listeners_[t])),r=0;r<i.length;r++)i[r].callback.apply(i[r].context,e)},t.prototype.on=function(t,e,n){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:n});var i=this.getInitialEvent(t);i&&e.apply(n,i)},t.prototype.off=function(t,e,n){this.validateEventType_(t);for(var i=this.listeners_[t]||[],r=0;r<i.length;r++)if(i[r].callback===e&&(!n||n===i[r].context))return void i.splice(r,1)},t.prototype.validateEventType_=function(t){Object(r.assert)(this.allowedEvents_.find(function(e){return e===t}),"Unknown event: "+t)},t}(),st=function(t){function e(){var e=t.call(this,["online"])||this;return e.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||Object(r.isMobileCordova)()||(window.addEventListener("online",function(){e.online_||(e.online_=!0,e.trigger("online",!0))},!1),window.addEventListener("offline",function(){e.online_&&(e.online_=!1,e.trigger("online",!1))},!1)),e}return Object(o.__extends)(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return Object(r.assert)("online"===t,"Unknown event type: "+t),[this.online_]},e.prototype.currentlyOnline=function(){return this.online_},e}(ot),at=function(){function t(t,e){if(void 0===e){this.pieces_=t.split("/");for(var n=0,i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[n]=this.pieces_[i],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}return t.prototype.toString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"},t}();function ct(){return new at("")}function ut(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function lt(t){return t.pieces_.length-t.pieceNum_}function ht(t){var e=t.pieceNum_;return e<t.pieces_.length&&e++,new at(t.pieces_,e)}function dt(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function ft(t,e){return void 0===e&&(e=0),t.pieces_.slice(t.pieceNum_+e)}function pt(t){if(t.pieceNum_>=t.pieces_.length)return null;for(var e=[],n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new at(e,0)}function gt(t,e){for(var n=[],i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);if(e instanceof at)for(i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);else{var r=e.split("/");for(i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new at(n,0)}function mt(t){return t.pieceNum_>=t.pieces_.length}function bt(t,e){var n=ut(t),i=ut(e);if(null===n)return e;if(n===i)return bt(ht(t),ht(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function _t(t,e){for(var n=ft(t,0),i=ft(e,0),r=0;r<n.length&&r<i.length;r++){var o=A(n[r],i[r]);if(0!==o)return o}return n.length===i.length?0:n.length<i.length?-1:1}function vt(t,e){if(lt(t)!==lt(e))return!1;for(var n=t.pieceNum_,i=e.pieceNum_;n<=t.pieces_.length;n++,i++)if(t.pieces_[n]!==e.pieces_[i])return!1;return!0}function yt(t,e){var n=t.pieceNum_,i=e.pieceNum_;if(lt(t)>lt(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[i])return!1;++n,++i}return!0}var wt=function(){return function(t,e){this.errorPrefix_=e,this.parts_=ft(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=Object(r.stringLength)(this.parts_[n]);Ct(this)}}();function Ct(t){if(t.byteLength_>768)throw new Error(t.errorPrefix_+"has a key path longer than 768 bytes ("+t.byteLength_+").");if(t.parts_.length>32)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+St(t))}function St(t){return 0===t.parts_.length?"":"in property '"+t.parts_.join(".")+"'"}var kt,Ot,Tt=function(t){function e(){var e,n,i=t.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(n="visibilitychange",e="hidden"):void 0!==document.mozHidden?(n="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(n="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(n="webkitvisibilitychange",e="webkitHidden")),i.visible_=!0,n&&document.addEventListener(n,function(){var t=!document[e];t!==i.visible_&&(i.visible_=t,i.trigger("visible",t))},!1),i}return Object(o.__extends)(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return Object(r.assert)("visible"===t,"Unknown event type: "+t),[this.visible_]},e}(ot),xt=function(t){function e(n,i,o,s,a,c,u,l){var h=t.call(this)||this;if(h.repoInfo_=n,h.applicationId_=i,h.onDataUpdate_=o,h.onConnectStatus_=s,h.onServerInfoUpdate_=a,h.authTokenProvider_=c,h.appCheckTokenProvider_=u,h.authOverride_=l,h.id=e.nextPersistentConnectionId_++,h.log_=S("p:"+h.id+":"),h.interruptReasons_={},h.listens=new Map,h.outstandingPuts_=[],h.outstandingGets_=[],h.outstandingPutCount_=0,h.outstandingGetCount_=0,h.onDisconnectRequestQueue_=[],h.connected_=!1,h.reconnectDelay_=1e3,h.maxReconnectDelay_=3e5,h.securityDebugCallback_=null,h.lastSessionId=null,h.establishConnectionTimer_=null,h.visible_=!1,h.requestCBHash_={},h.requestNumber_=0,h.realtime_=null,h.authToken_=null,h.appCheckToken_=null,h.forceTokenRefresh_=!1,h.invalidAuthTokenCount_=0,h.invalidAppCheckTokenCount_=0,h.firstConnection_=!0,h.lastConnectionAttemptTime_=null,h.lastConnectionEstablishedTime_=null,l&&!Object(r.isNodeSdk)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return Tt.getInstance().on("visible",h.onVisible_,h),-1===n.host.indexOf("fblocal")&&st.getInstance().on("online",h.onOnline_,h),h}return Object(o.__extends)(e,t),e.prototype.sendRequest=function(t,e,n){var i=++this.requestNumber_,o={r:i,a:t,b:e};this.log_(Object(r.stringify)(o)),Object(r.assert)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),n&&(this.requestCBHash_[i]=n)},e.prototype.get=function(t){var e=this;this.initConnection_();var n=new r.Deferred,i={p:t._path.toString(),q:t._queryObject},o={action:"g",request:i,onComplete:function(t){var r=t.d;"ok"===t.s?(e.onDataUpdate_(i.p,r,!1,null),n.resolve(r)):n.reject(r)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;var s=this.outstandingGets_.length-1;return this.connected_||setTimeout(function(){var t=e.outstandingGets_[s];void 0!==t&&o===t&&(delete e.outstandingGets_[s],e.outstandingGetCount_--,0===e.outstandingGetCount_&&(e.outstandingGets_=[]),e.log_("get "+s+" timed out on connection"),n.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(s),n.promise},e.prototype.listen=function(t,e,n,i){this.initConnection_();var o=t._queryIdentifier,s=t._path.toString();this.log_("Listen called for "+s+" "+o),this.listens.has(s)||this.listens.set(s,new Map),Object(r.assert)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Object(r.assert)(!this.listens.get(s).has(o),"listen() called twice for same path/queryId.");var a={onComplete:i,hashFn:e,query:t,tag:n};this.listens.get(s).set(o,a),this.connected_&&this.sendListen_(a)},e.prototype.sendGet_=function(t){var e=this,n=this.outstandingGets_[t];this.sendRequest("g",n.request,function(i){delete e.outstandingGets_[t],e.outstandingGetCount_--,0===e.outstandingGetCount_&&(e.outstandingGets_=[]),n.onComplete&&n.onComplete(i)})},e.prototype.sendListen_=function(t){var n=this,i=t.query,r=i._path.toString(),o=i._queryIdentifier;this.log_("Listen on "+r+" for "+o);var s={p:r};t.tag&&(s.q=i._queryObject,s.t=t.tag),s.h=t.hashFn(),this.sendRequest("q",s,function(s){var a=s.d,c=s.s;e.warnOnListenWarnings_(a,i),(n.listens.get(r)&&n.listens.get(r).get(o))===t&&(n.log_("listen response",s),"ok"!==c&&n.removeListen_(r,o),t.onComplete&&t.onComplete(c,a))})},e.warnOnListenWarnings_=function(t,e){if(t&&"object"==typeof t&&Object(r.contains)(t,"w")){var n=Object(r.safeGet)(t,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var i='".indexOn": "'+e._queryParams.getIndex().toString()+'"',o=e._path.toString();T("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+i+" at "+o+" to your security rules for better performance.")}}},e.prototype.refreshAuthToken=function(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(t)},e.prototype.reduceReconnectDelayIfAdminCredential_=function(t){(t&&40===t.length||Object(r.isAdmin)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},e.prototype.refreshAppCheckToken=function(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},function(){})},e.prototype.tryAuth=function(){var t=this;if(this.connected_&&this.authToken_){var e=this.authToken_,n=Object(r.isValidFormat)(e)?"auth":"gauth",i={cred:e};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(n,i,function(n){var i=n.s,r=n.d||"error";t.authToken_===e&&("ok"===i?t.invalidAuthTokenCount_=0:t.onAuthRevoked_(i,r))})}},e.prototype.tryAppCheck=function(){var t=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},function(e){var n=e.s,i=e.d||"error";"ok"===n?t.invalidAppCheckTokenCount_=0:t.onAppCheckRevoked_(n,i)})},e.prototype.unlisten=function(t,e){var n=t._path.toString(),i=t._queryIdentifier;this.log_("Unlisten called for "+n+" "+i),Object(r.assert)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,i)&&this.connected_&&this.sendUnlisten_(n,i,t._queryObject,e)},e.prototype.sendUnlisten_=function(t,e,n,i){this.log_("Unlisten on "+t+" for "+e);var r={p:t};i&&(r.q=n,r.t=i),this.sendRequest("n",r)},e.prototype.onDisconnectPut=function(t,e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:e,onComplete:n})},e.prototype.onDisconnectMerge=function(t,e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:e,onComplete:n})},e.prototype.onDisconnectCancel=function(t,e){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,e):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:e})},e.prototype.sendOnDisconnect_=function(t,e,n,i){var r={p:e,d:n};this.log_("onDisconnect "+t,r),this.sendRequest(t,r,function(t){i&&setTimeout(function(){i(t.s,t.d)},Math.floor(0))})},e.prototype.put=function(t,e,n,i){this.putInternal("p",t,e,n,i)},e.prototype.merge=function(t,e,n,i){this.putInternal("m",t,e,n,i)},e.prototype.putInternal=function(t,e,n,i,r){this.initConnection_();var o={p:e,d:n};void 0!==r&&(o.h=r),this.outstandingPuts_.push({action:t,request:o,onComplete:i}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+e)},e.prototype.sendPut_=function(t){var e=this,n=this.outstandingPuts_[t].action,i=this.outstandingPuts_[t].request,r=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,i,function(i){e.log_(n+" response",i),delete e.outstandingPuts_[t],e.outstandingPutCount_--,0===e.outstandingPutCount_&&(e.outstandingPuts_=[]),r&&r(i.s,i.d)})},e.prototype.reportStats=function(t){var e=this;if(this.connected_){var n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,function(t){"ok"!==t.s&&e.log_("reportStats","Error sending stats: "+t.d)})}},e.prototype.onDataMessage_=function(t){if("r"in t){this.log_("from server: "+Object(r.stringify)(t));var e=t.r,n=this.requestCBHash_[e];n&&(delete this.requestCBHash_[e],n(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}},e.prototype.onDataPush_=function(t,e){this.log_("handleServerMessage",t,e),"d"===t?this.onDataUpdate_(e.p,e.d,!1,e.t):"m"===t?this.onDataUpdate_(e.p,e.d,!0,e.t):"c"===t?this.onListenRevoked_(e.p,e.q):"ac"===t?this.onAuthRevoked_(e.s,e.d):"apc"===t?this.onAppCheckRevoked_(e.s,e.d):"sd"===t?this.onSecurityDebugPacket_(e):k("Unrecognized action received from server: "+Object(r.stringify)(t)+"\nAre you using the latest client?")},e.prototype.onReady_=function(t,e){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=e,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},e.prototype.scheduleConnect_=function(t){var e=this;Object(r.assert)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){e.establishConnectionTimer_=null,e.establishConnection_()},Math.floor(t))},e.prototype.initConnection_=function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)},e.prototype.onVisible_=function(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)),this.visible_=t},e.prototype.onOnline_=function(t){t?(this.log_("Browser went online."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},e.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=1e3),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());var t=(new Date).getTime()-this.lastConnectionAttemptTime_,e=Math.max(0,this.reconnectDelay_-t);e=Math.random()*e,this.log_("Trying to reconnect in "+e+"ms"),this.scheduleConnect_(e),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},e.prototype.establishConnection_=function(){return Object(o.__awaiter)(this,void 0,void 0,function(){var t,n,i,s,a,c,u,l,h,d,f,p,g,m=this;return Object(o.__generator)(this,function(b){switch(b.label){case 0:if(!this.shouldReconnect_())return[3,4];this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+e.nextConnectionId_++,a=this.lastSessionId,c=!1,u=null,this.realtime_={close:l=function(){u?u.close():(c=!0,i())},sendRequest:function(t){Object(r.assert)(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(t)}},h=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,b.label=1;case 1:return b.trys.push([1,3,,4]),[4,Promise.all([this.authTokenProvider_.getToken(h),this.appCheckTokenProvider_.getToken(h)])];case 2:return d=o.__read.apply(void 0,[b.sent(),2]),f=d[0],p=d[1],c?C("getToken() completed but was canceled"):(C("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=p&&p.token,u=new it(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,n,i,function(t){T(t+" ("+m.repoInfo_.toString()+")"),m.interrupt("server_kill")},a)),[3,4];case 3:return g=b.sent(),this.log_("Failed to get token: "+g),c||(this.repoInfo_.nodeAdmin&&T(g),l()),[3,4];case 4:return[2]}})})},e.prototype.interrupt=function(t){C("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},e.prototype.resume=function(t){C("Resuming connection for reason: "+t),delete this.interruptReasons_[t],Object(r.isEmpty)(this.interruptReasons_)&&(this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0))},e.prototype.handleTimestamp_=function(t){var e=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:e})},e.prototype.cancelSentTransactions_=function(){for(var t=0;t<this.outstandingPuts_.length;t++){var e=this.outstandingPuts_[t];e&&"h"in e.request&&e.queued&&(e.onComplete&&e.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},e.prototype.onListenRevoked_=function(t,e){var n;n=e?e.map(function(t){return D(t)}).join("$"):"default";var i=this.removeListen_(t,n);i&&i.onComplete&&i.onComplete("permission_denied")},e.prototype.removeListen_=function(t,e){var n,i=new at(t).toString();if(this.listens.has(i)){var r=this.listens.get(i);n=r.get(e),r.delete(e),0===r.size&&this.listens.delete(i)}else n=void 0;return n},e.prototype.onAuthRevoked_=function(t,e){C("Auth token revoked: "+t+"/"+e),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},e.prototype.onAppCheckRevoked_=function(t,e){C("App check token revoked: "+t+"/"+e),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())},e.prototype.onSecurityDebugPacket_=function(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))},e.prototype.restoreState_=function(){var t,e,n,i;this.tryAuth(),this.tryAppCheck();try{for(var r=Object(o.__values)(this.listens.values()),s=r.next();!s.done;s=r.next()){var a=s.value;try{for(var c=(n=void 0,Object(o.__values)(a.values())),u=c.next();!u.done;u=c.next())this.sendListen_(u.value)}catch(d){n={error:d}}finally{try{u&&!u.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}}}catch(f){t={error:f}}finally{try{s&&!s.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}for(var l=0;l<this.outstandingPuts_.length;l++)this.outstandingPuts_[l]&&this.sendPut_(l);for(;this.onDisconnectRequestQueue_.length;){var h=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(h.action,h.pathString,h.data,h.onComplete)}for(l=0;l<this.outstandingGets_.length;l++)this.outstandingGets_[l]&&this.sendGet_(l)},e.prototype.sendConnectStats_=function(){var t={},e="js";Object(r.isNodeSdk)()&&(e=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+e+"."+a.replace(/\./g,"-")]=1,Object(r.isMobileCordova)()?t["framework.cordova"]=1:Object(r.isReactNative)()&&(t["framework.reactnative"]=1),this.reportStats(t)},e.prototype.shouldReconnect_=function(){var t=st.getInstance().currentlyOnline();return Object(r.isEmpty)(this.interruptReasons_)&&t},e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e}(rt),Et=function(){function t(t,e){this.name=t,this.node=e}return t.Wrap=function(e,n){return new t(e,n)},t}(),It=function(){function t(){}return t.prototype.getCompare=function(){return this.compare.bind(this)},t.prototype.indexedValueChanged=function(t,e){var n=new Et(E,t),i=new Et(E,e);return 0!==this.compare(n,i)},t.prototype.minPost=function(){return Et.MIN},t}(),At=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(o.__extends)(e,t),Object.defineProperty(e,"__EMPTY_NODE",{get:function(){return kt},set:function(t){kt=t},enumerable:!1,configurable:!0}),e.prototype.compare=function(t,e){return A(t.name,e.name)},e.prototype.isDefinedOn=function(t){throw Object(r.assertionError)("KeyIndex.isDefinedOn not expected to be called.")},e.prototype.indexedValueChanged=function(t,e){return!1},e.prototype.minPost=function(){return Et.MIN},e.prototype.maxPost=function(){return new Et(I,kt)},e.prototype.makePost=function(t,e){return Object(r.assert)("string"==typeof t,"KeyIndex indexValue must always be a string."),new Et(t,kt)},e.prototype.toString=function(){return".key"},e}(It),Rt=new At,Pt=function(){function t(t,e,n,i,r){void 0===r&&(r=null),this.isReverse_=i,this.resultGenerator_=r,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(t=t,o=e?n(t.key,e):1,i&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return t.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t},t.prototype.hasNext=function(){return this.nodeStack_.length>0},t.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},t}(),Dt=function(){function t(e,n,i,r,o){this.key=e,this.value=n,this.color=null!=i?i:t.RED,this.left=null!=r?r:Nt.EMPTY_NODE,this.right=null!=o?o:Nt.EMPTY_NODE}return t.prototype.copy=function(e,n,i,r,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=i?i:this.color,null!=r?r:this.left,null!=o?o:this.right)},t.prototype.count=function(){return this.left.count()+1+this.right.count()},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},t.prototype.minKey=function(){return this.min_().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var i=this,r=n(t,i.key);return(i=r<0?i.copy(null,null,null,i.left.insert(t,e,n),null):0===r?i.copy(null,e,null,null,null):i.copy(null,null,null,null,i.right.insert(t,e,n))).fixUp_()},t.prototype.removeMin_=function(){if(this.left.isEmpty())return Nt.EMPTY_NODE;var t=this;return t.left.isRed_()||t.left.left.isRed_()||(t=t.moveRedLeft_()),(t=t.copy(null,null,null,t.left.removeMin_(),null)).fixUp_()},t.prototype.remove=function(t,e){var n,i;if(e(t,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(t,e),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===e(t,n.key)){if(n.right.isEmpty())return Nt.EMPTY_NODE;i=n.right.min_(),n=n.copy(i.key,i.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(t,e))}return n.fixUp_()},t.prototype.isRed_=function(){return this.color},t.prototype.fixUp_=function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t},t.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight_())).rotateLeft_()).colorFlip_()),t},t.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=(t=t.rotateRight_()).colorFlip_()),t},t.prototype.rotateLeft_=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight_=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},t.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)},t.RED=!0,t.BLACK=!1,t}(),Mt=function(){function t(){}return t.prototype.copy=function(t,e,n,i,r){return this},t.prototype.insert=function(t,e,n){return new Dt(t,e,null)},t.prototype.remove=function(t,e){return this},t.prototype.count=function(){return 0},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.check_=function(){return 0},t.prototype.isRed_=function(){return!1},t}(),Nt=function(){function t(e,n){void 0===n&&(n=t.EMPTY_NODE),this.comparator_=e,this.root_=n}return t.prototype.insert=function(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Dt.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Dt.BLACK,null,null))},t.prototype.get=function(t){for(var e,n=this.root_;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key)))return n.value;e<0?n=n.left:e>0&&(n=n.right)}return null},t.prototype.getPredecessorKey=function(t){for(var e,n=this.root_,i=null;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key))){if(n.left.isEmpty())return i?i.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}e<0?n=n.left:e>0&&(i=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},t.prototype.isEmpty=function(){return this.root_.isEmpty()},t.prototype.count=function(){return this.root_.count()},t.prototype.minKey=function(){return this.root_.minKey()},t.prototype.maxKey=function(){return this.root_.maxKey()},t.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},t.prototype.getIterator=function(t){return new Pt(this.root_,null,this.comparator_,!1,t)},t.prototype.getIteratorFrom=function(t,e){return new Pt(this.root_,t,this.comparator_,!1,e)},t.prototype.getReverseIteratorFrom=function(t,e){return new Pt(this.root_,t,this.comparator_,!0,e)},t.prototype.getReverseIterator=function(t){return new Pt(this.root_,null,this.comparator_,!0,t)},t.EMPTY_NODE=new Mt,t}();function jt(t,e){return A(t.name,e.name)}function Ft(t,e){return A(t,e)}var Lt,Vt,Ut,qt,Bt,Ht=function(t){return"number"==typeof t?"number:"+j(t):"string:"+t},zt=function(t){if(t.isLeafNode()){var e=t.val();Object(r.assert)("string"==typeof e||"number"==typeof e||"object"==typeof e&&Object(r.contains)(e,".sv"),"Priority must be a string or number.")}else Object(r.assert)(t===Ot||t.isEmpty(),"priority of unexpected type.");Object(r.assert)(t===Ot||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},Wt=function(){function t(e,n){void 0===n&&(n=t.__childrenNodeConstructor.EMPTY_NODE),this.value_=e,this.priorityNode_=n,this.lazyHash_=null,Object(r.assert)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),zt(this.priorityNode_)}return Object.defineProperty(t,"__childrenNodeConstructor",{get:function(){return Lt},set:function(t){Lt=t},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!0},t.prototype.getPriority=function(){return this.priorityNode_},t.prototype.updatePriority=function(e){return new t(this.value_,e)},t.prototype.getImmediateChild=function(e){return".priority"===e?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.getChild=function(e){return mt(e)?this:".priority"===ut(e)?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.hasChild=function(){return!1},t.prototype.getPredecessorChildName=function(t,e){return null},t.prototype.updateImmediateChild=function(e,n){return".priority"===e?this.updatePriority(n):n.isEmpty()&&".priority"!==e?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)},t.prototype.updateChild=function(e,n){var i=ut(e);return null===i?n:n.isEmpty()&&".priority"!==i?this:(Object(r.assert)(".priority"!==i||1===lt(e),".priority must be the last token in a path"),this.updateImmediateChild(i,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(ht(e),n)))},t.prototype.isEmpty=function(){return!1},t.prototype.numChildren=function(){return 0},t.prototype.forEachChild=function(t,e){return!1},t.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.priorityNode_.isEmpty()||(t+="priority:"+Ht(this.priorityNode_.val())+":");var e=typeof this.value_;t+=e+":",t+="number"===e?j(this.value_):this.value_,this.lazyHash_=b(t)}return this.lazyHash_},t.prototype.getValue=function(){return this.value_},t.prototype.compareTo=function(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:(Object(r.assert)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))},t.prototype.compareToLeafNode_=function(e){var n=typeof e.value_,i=typeof this.value_,o=t.VALUE_TYPE_ORDER.indexOf(n),s=t.VALUE_TYPE_ORDER.indexOf(i);return Object(r.assert)(o>=0,"Unknown leaf type: "+n),Object(r.assert)(s>=0,"Unknown leaf type: "+i),o===s?"object"===i?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-o},t.prototype.withIndex=function(){return this},t.prototype.isIndexed=function(){return!0},t.prototype.equals=function(t){return t===this||!!t.isLeafNode()&&this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)},t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t}(),Gt=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(o.__extends)(e,t),e.prototype.compare=function(t,e){var n=t.node.getPriority(),i=e.node.getPriority(),r=n.compareTo(i);return 0===r?A(t.name,e.name):r},e.prototype.isDefinedOn=function(t){return!t.getPriority().isEmpty()},e.prototype.indexedValueChanged=function(t,e){return!t.getPriority().equals(e.getPriority())},e.prototype.minPost=function(){return Et.MIN},e.prototype.maxPost=function(){return new Et(I,new Wt("[PRIORITY-POST]",Ut))},e.prototype.makePost=function(t,e){var n=Vt(t);return new Et(e,new Wt("[PRIORITY-POST]",n))},e.prototype.toString=function(){return".priority"},e}(It)),Kt=Math.log(2),$t=function(){function t(t){this.count=parseInt(Math.log(t+1)/Kt,10),this.current_=this.count-1;var e=parseInt(Array(this.count+1).join("1"),2);this.bits_=t+1&e}return t.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},t}(),Yt=function(t,e,n,i){t.sort(e);var r=function(e,i){var o,s,a=i-e;if(0===a)return null;if(1===a)return o=t[e],s=n?n(o):o,new Dt(s,o.node,Dt.BLACK,null,null);var c=parseInt(a/2,10)+e,u=r(e,c),l=r(c+1,i);return o=t[c],s=n?n(o):o,new Dt(s,o.node,Dt.BLACK,u,l)},o=function(e){for(var i=null,o=null,s=t.length,a=function(e,i){var o=s-e,a=s;s-=e;var u=r(o+1,a),l=t[o],h=n?n(l):l;c(new Dt(h,l.node,i,null,u))},c=function(t){i?(i.left=t,i=t):(o=t,i=t)},u=0;u<e.count;++u){var l=e.nextBitIsOne(),h=Math.pow(2,e.count-(u+1));l?a(h,Dt.BLACK):(a(h,Dt.BLACK),a(h,Dt.RED))}return o}(new $t(t.length));return new Nt(i||e,o)},Qt={},Zt=function(){function t(t,e){this.indexes_=t,this.indexSet_=e}return Object.defineProperty(t,"Default",{get:function(){return Object(r.assert)(Qt&&Gt,"ChildrenNode.ts has not been loaded"),qt=qt||new t({".priority":Qt},{".priority":Gt})},enumerable:!1,configurable:!0}),t.prototype.get=function(t){var e=Object(r.safeGet)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Nt?e:null},t.prototype.hasIndex=function(t){return Object(r.contains)(this.indexSet_,t.toString())},t.prototype.addIndex=function(e,n){Object(r.assert)(e!==Rt,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var i,s=[],a=!1,c=n.getIterator(Et.Wrap),u=c.getNext();u;)a=a||e.isDefinedOn(u.node),s.push(u),u=c.getNext();i=a?Yt(s,e.getCompare()):Qt;var l=e.toString(),h=Object(o.__assign)({},this.indexSet_);h[l]=e;var d=Object(o.__assign)({},this.indexes_);return d[l]=i,new t(d,h)},t.prototype.addToIndexes=function(e,n){var i=this;return new t(Object(r.map)(this.indexes_,function(t,o){var s=Object(r.safeGet)(i.indexSet_,o);if(Object(r.assert)(s,"Missing index implementation for "+o),t===Qt){if(s.isDefinedOn(e.node)){for(var a=[],c=n.getIterator(Et.Wrap),u=c.getNext();u;)u.name!==e.name&&a.push(u),u=c.getNext();return a.push(e),Yt(a,s.getCompare())}return Qt}var l=n.get(e.name),h=t;return l&&(h=h.remove(new Et(e.name,l))),h.insert(e,e.node)}),this.indexSet_)},t.prototype.removeFromIndexes=function(e,n){return new t(Object(r.map)(this.indexes_,function(t){if(t===Qt)return t;var i=n.get(e.name);return i?t.remove(new Et(e.name,i)):t}),this.indexSet_)},t}(),Xt=function(){function t(t,e,n){this.children_=t,this.priorityNode_=e,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&zt(this.priorityNode_),this.children_.isEmpty()&&Object(r.assert)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(t,"EMPTY_NODE",{get:function(){return Bt||(Bt=new t(new Nt(Ft),null,Zt.Default))},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!1},t.prototype.getPriority=function(){return this.priorityNode_||Bt},t.prototype.updatePriority=function(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)},t.prototype.getImmediateChild=function(t){if(".priority"===t)return this.getPriority();var e=this.children_.get(t);return null===e?Bt:e},t.prototype.getChild=function(t){var e=ut(t);return null===e?this:this.getImmediateChild(e).getChild(ht(t))},t.prototype.hasChild=function(t){return null!==this.children_.get(t)},t.prototype.updateImmediateChild=function(e,n){if(Object(r.assert)(n,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(n);var i=new Et(e,n),o=void 0,s=void 0;n.isEmpty()?(o=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(i,this.children_)):(o=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(i,this.children_));var a=o.isEmpty()?Bt:this.priorityNode_;return new t(o,a,s)},t.prototype.updateChild=function(t,e){var n=ut(t);if(null===n)return e;Object(r.assert)(".priority"!==ut(t)||1===lt(t),".priority must be the last token in a path");var i=this.getImmediateChild(n).updateChild(ht(t),e);return this.updateImmediateChild(n,i)},t.prototype.isEmpty=function(){return this.children_.isEmpty()},t.prototype.numChildren=function(){return this.children_.count()},t.prototype.val=function(e){if(this.isEmpty())return null;var n={},i=0,r=0,o=!0;if(this.forEachChild(Gt,function(s,a){n[s]=a.val(e),i++,o&&t.INTEGER_REGEXP_.test(s)?r=Math.max(r,Number(s)):o=!1}),!e&&o&&r<2*i){var s=[];for(var a in n)s[a]=n[a];return s}return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.getPriority().isEmpty()||(t+="priority:"+Ht(this.getPriority().val())+":"),this.forEachChild(Gt,function(e,n){var i=n.hash();""!==i&&(t+=":"+e+":"+i)}),this.lazyHash_=""===t?"":b(t)}return this.lazyHash_},t.prototype.getPredecessorChildName=function(t,e,n){var i=this.resolveIndex_(n);if(i){var r=i.getPredecessorKey(new Et(t,e));return r?r.name:null}return this.children_.getPredecessorKey(t)},t.prototype.getFirstChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.minKey();return n&&n.name}return this.children_.minKey()},t.prototype.getFirstChild=function(t){var e=this.getFirstChildName(t);return e?new Et(e,this.children_.get(e)):null},t.prototype.getLastChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.maxKey();return n&&n.name}return this.children_.maxKey()},t.prototype.getLastChild=function(t){var e=this.getLastChildName(t);return e?new Et(e,this.children_.get(e)):null},t.prototype.forEachChild=function(t,e){var n=this.resolveIndex_(t);return n?n.inorderTraversal(function(t){return e(t.name,t.node)}):this.children_.inorderTraversal(e)},t.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},t.prototype.getIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getIteratorFrom(t,function(t){return t});for(var i=this.children_.getIteratorFrom(t.name,Et.Wrap),r=i.peek();null!=r&&e.compare(r,t)<0;)i.getNext(),r=i.peek();return i},t.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},t.prototype.getReverseIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getReverseIteratorFrom(t,function(t){return t});for(var i=this.children_.getReverseIteratorFrom(t.name,Et.Wrap),r=i.peek();null!=r&&e.compare(r,t)>0;)i.getNext(),r=i.peek();return i},t.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Jt?-1:0},t.prototype.withIndex=function(e){if(e===Rt||this.indexMap_.hasIndex(e))return this;var n=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,n)},t.prototype.isIndexed=function(t){return t===Rt||this.indexMap_.hasIndex(t)},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;var e=t;if(this.getPriority().equals(e.getPriority())){if(this.children_.count()===e.children_.count()){for(var n=this.getIterator(Gt),i=e.getIterator(Gt),r=n.getNext(),o=i.getNext();r&&o;){if(r.name!==o.name||!r.node.equals(o.node))return!1;r=n.getNext(),o=i.getNext()}return null===r&&null===o}return!1}return!1},t.prototype.resolveIndex_=function(t){return t===Rt?null:this.indexMap_.get(t.toString())},t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t}(),Jt=new(function(t){function e(){return t.call(this,new Nt(Ft),Xt.EMPTY_NODE,Zt.Default)||this}return Object(o.__extends)(e,t),e.prototype.compareTo=function(t){return t===this?0:1},e.prototype.equals=function(t){return t===this},e.prototype.getPriority=function(){return this},e.prototype.getImmediateChild=function(t){return Xt.EMPTY_NODE},e.prototype.isEmpty=function(){return!1},e}(Xt));function te(t,e){if(void 0===e&&(e=null),null===t)return Xt.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),Object(r.assert)(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new Wt(t,te(e));if(t instanceof Array){var n=Xt.EMPTY_NODE;return N(t,function(e,i){if(Object(r.contains)(t,e)&&"."!==e.substring(0,1)){var o=te(i);!o.isLeafNode()&&o.isEmpty()||(n=n.updateImmediateChild(e,o))}}),n.updatePriority(te(e))}var i=[],o=!1;if(N(t,function(t,e){if("."!==t.substring(0,1)){var n=te(e);n.isEmpty()||(o=o||!n.getPriority().isEmpty(),i.push(new Et(t,n)))}}),0===i.length)return Xt.EMPTY_NODE;var s=Yt(i,jt,function(t){return t.name},Ft);if(o){var a=Yt(i,Gt.getCompare());return new Xt(s,te(e),new Zt({".priority":a},{".priority":Gt}))}return new Xt(s,te(e),Zt.Default)}Object.defineProperties(Et,{MIN:{value:new Et(E,Xt.EMPTY_NODE)},MAX:{value:new Et(I,Jt)}}),At.__EMPTY_NODE=Xt.EMPTY_NODE,Wt.__childrenNodeConstructor=Xt,Ot=Jt,Ut=Jt,Vt=te;var ee,ne,ie=function(t){function e(e){var n=t.call(this)||this;return n.indexPath_=e,Object(r.assert)(!mt(e)&&".priority"!==ut(e),"Can't create PathIndex with empty path or .priority key"),n}return Object(o.__extends)(e,t),e.prototype.extractChild=function(t){return t.getChild(this.indexPath_)},e.prototype.isDefinedOn=function(t){return!t.getChild(this.indexPath_).isEmpty()},e.prototype.compare=function(t,e){var n=this.extractChild(t.node),i=this.extractChild(e.node),r=n.compareTo(i);return 0===r?A(t.name,e.name):r},e.prototype.makePost=function(t,e){var n=te(t),i=Xt.EMPTY_NODE.updateChild(this.indexPath_,n);return new Et(e,i)},e.prototype.maxPost=function(){var t=Xt.EMPTY_NODE.updateChild(this.indexPath_,Jt);return new Et(I,t)},e.prototype.toString=function(){return ft(this.indexPath_,0).join("/")},e}(It),re=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(o.__extends)(e,t),e.prototype.compare=function(t,e){var n=t.node.compareTo(e.node);return 0===n?A(t.name,e.name):n},e.prototype.isDefinedOn=function(t){return!0},e.prototype.indexedValueChanged=function(t,e){return!t.equals(e)},e.prototype.minPost=function(){return Et.MIN},e.prototype.maxPost=function(){return Et.MAX},e.prototype.makePost=function(t,e){var n=te(t);return new Et(e,n)},e.prototype.toString=function(){return".value"},e}(It)),oe="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",se=(ee=0,ne=[],function(t){var e,n=t===ee;ee=t;var i=new Array(8);for(e=7;e>=0;e--)i[e]=oe.charAt(t%64),t=Math.floor(t/64);Object(r.assert)(0===t,"Cannot push at time == 0");var o=i.join("");if(n){for(e=11;e>=0&&63===ne[e];e--)ne[e]=0;ne[e]++}else for(e=0;e<12;e++)ne[e]=Math.floor(64*Math.random());for(e=0;e<12;e++)o+=oe.charAt(ne[e]);return Object(r.assert)(20===o.length,"nextPushId: Length should be 20."),o}),ae=function(t){if("2147483647"===t)return"-";var e=L(t);if(null!=e)return""+(e+1);for(var n=new Array(t.length),i=0;i<n.length;i++)n[i]=t.charAt(i);if(n.length<786)return n.push("-"),n.join("");for(var r=n.length-1;r>=0&&"z"===n[r];)r--;if(-1===r)return I;var o=oe.charAt(oe.indexOf(n[r])+1);return n[r]=o,n.slice(0,r+1).join("")},ce=function(t){if("-2147483648"===t)return E;var e=L(t);if(null!=e)return""+(e-1);for(var n=new Array(t.length),i=0;i<n.length;i++)n[i]=t.charAt(i);return"-"===n[n.length-1]?1===n.length?"2147483647":(delete n[n.length-1],n.join("")):(n[n.length-1]=oe.charAt(oe.indexOf(n[n.length-1])-1),n.join("")+"z".repeat(786-n.length))};function ue(t){return{type:"value",snapshotNode:t}}function le(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function he(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function de(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}var fe=function(){function t(t){this.index_=t}return t.prototype.updateChild=function(t,e,n,i,o,s){Object(r.assert)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");var a=t.getImmediateChild(e);return a.getChild(i).equals(n.getChild(i))&&a.isEmpty()===n.isEmpty()?t:(null!=s&&(n.isEmpty()?t.hasChild(e)?s.trackChildChange(he(e,a)):Object(r.assert)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(le(e,n)):s.trackChildChange(de(e,n,a))),t.isLeafNode()&&n.isEmpty()?t:t.updateImmediateChild(e,n).withIndex(this.index_))},t.prototype.updateFullNode=function(t,e,n){return null!=n&&(t.isLeafNode()||t.forEachChild(Gt,function(t,i){e.hasChild(t)||n.trackChildChange(he(t,i))}),e.isLeafNode()||e.forEachChild(Gt,function(e,i){if(t.hasChild(e)){var r=t.getImmediateChild(e);r.equals(i)||n.trackChildChange(de(e,i,r))}else n.trackChildChange(le(e,i))})),e.withIndex(this.index_)},t.prototype.updatePriority=function(t,e){return t.isEmpty()?Xt.EMPTY_NODE:t.updatePriority(e)},t.prototype.filtersNodes=function(){return!1},t.prototype.getIndexedFilter=function(){return this},t.prototype.getIndex=function(){return this.index_},t}(),pe=function(){function t(e){this.indexedFilter_=new fe(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e)}return t.prototype.getStartPost=function(){return this.startPost_},t.prototype.getEndPost=function(){return this.endPost_},t.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},t.prototype.updateChild=function(t,e,n,i,r,o){return this.matches(new Et(e,n))||(n=Xt.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,n,i,r,o)},t.prototype.updateFullNode=function(t,e,n){e.isLeafNode()&&(e=Xt.EMPTY_NODE);var i=e.withIndex(this.index_);i=i.updatePriority(Xt.EMPTY_NODE);var r=this;return e.forEachChild(Gt,function(t,e){r.matches(new Et(t,e))||(i=i.updateImmediateChild(t,Xt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,i,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.indexedFilter_},t.prototype.getIndex=function(){return this.index_},t.getStartPost_=function(t){if(t.hasStart()){var e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()},t.getEndPost_=function(t){if(t.hasEnd()){var e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()},t}(),ge=function(){function t(t){this.rangedFilter_=new pe(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return t.prototype.updateChild=function(t,e,n,i,r,o){return this.rangedFilter_.matches(new Et(e,n))||(n=Xt.EMPTY_NODE),t.getImmediateChild(e).equals(n)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,n,i,r,o):this.fullLimitUpdateChild_(t,e,n,r,o)},t.prototype.updateFullNode=function(t,e,n){var i;if(e.isLeafNode()||e.isEmpty())i=Xt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){i=Xt.EMPTY_NODE.withIndex(this.index_);var r=void 0;r=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;r.hasNext()&&o<this.limit_;){var s=r.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),s)<=0:this.index_.compare(s,this.rangedFilter_.getEndPost())<=0))break;i=i.updateImmediateChild(s.name,s.node),o++}}else{i=(i=e.withIndex(this.index_)).updatePriority(Xt.EMPTY_NODE);var a=void 0,c=void 0,u=void 0;if(r=void 0,this.reverse_){r=i.getReverseIterator(this.index_),a=this.rangedFilter_.getEndPost(),c=this.rangedFilter_.getStartPost();var l=this.index_.getCompare();u=function(t,e){return l(e,t)}}else r=i.getIterator(this.index_),a=this.rangedFilter_.getStartPost(),c=this.rangedFilter_.getEndPost(),u=this.index_.getCompare();o=0;for(var h=!1;r.hasNext();)s=r.getNext(),!h&&u(a,s)<=0&&(h=!0),h&&o<this.limit_&&u(s,c)<=0?o++:i=i.updateImmediateChild(s.name,Xt.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,i,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},t.prototype.getIndex=function(){return this.index_},t.prototype.fullLimitUpdateChild_=function(t,e,n,i,o){var s;if(this.reverse_){var a=this.index_.getCompare();s=function(t,e){return a(e,t)}}else s=this.index_.getCompare();var c=t;Object(r.assert)(c.numChildren()===this.limit_,"");var u=new Et(e,n),l=this.reverse_?c.getFirstChild(this.index_):c.getLastChild(this.index_),h=this.rangedFilter_.matches(u);if(c.hasChild(e)){for(var d=c.getImmediateChild(e),f=i.getChildAfterChild(this.index_,l,this.reverse_);null!=f&&(f.name===e||c.hasChild(f.name));)f=i.getChildAfterChild(this.index_,f,this.reverse_);var p=null==f?1:s(f,u);if(h&&!n.isEmpty()&&p>=0)return null!=o&&o.trackChildChange(de(e,n,d)),c.updateImmediateChild(e,n);null!=o&&o.trackChildChange(he(e,d));var g=c.updateImmediateChild(e,Xt.EMPTY_NODE);return null!=f&&this.rangedFilter_.matches(f)?(null!=o&&o.trackChildChange(le(f.name,f.node)),g.updateImmediateChild(f.name,f.node)):g}return n.isEmpty()?t:h&&s(l,u)>=0?(null!=o&&(o.trackChildChange(he(l.name,l.node)),o.trackChildChange(le(e,n))),c.updateImmediateChild(e,n).updateImmediateChild(l.name,Xt.EMPTY_NODE)):t},t}(),me=function(){function t(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Gt}return t.prototype.hasStart=function(){return this.startSet_},t.prototype.hasStartAfter=function(){return this.startAfterSet_},t.prototype.hasEndBefore=function(){return this.endBeforeSet_},t.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_},t.prototype.getIndexStartValue=function(){return Object(r.assert)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},t.prototype.getIndexStartName=function(){return Object(r.assert)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:E},t.prototype.hasEnd=function(){return this.endSet_},t.prototype.getIndexEndValue=function(){return Object(r.assert)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},t.prototype.getIndexEndName=function(){return Object(r.assert)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:I},t.prototype.hasLimit=function(){return this.limitSet_},t.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},t.prototype.getLimit=function(){return Object(r.assert)(this.limitSet_,"Only valid if limit has been set"),this.limit_},t.prototype.getIndex=function(){return this.index_},t.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},t.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===Gt},t.prototype.copy=function(){var e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e},t}();function be(t,e,n){var i=t.copy();return i.startSet_=!0,void 0===e&&(e=null),i.indexStartValue_=e,null!=n?(i.startNameSet_=!0,i.indexStartName_=n):(i.startNameSet_=!1,i.indexStartName_=""),i}function _e(t,e,n){var i=t.copy();return i.endSet_=!0,void 0===e&&(e=null),i.indexEndValue_=e,void 0!==n?(i.endNameSet_=!0,i.indexEndName_=n):(i.endNameSet_=!1,i.indexEndName_=""),i}function ve(t,e){var n=t.copy();return n.index_=e,n}function ye(t){var e,n={};return t.isDefault()||(t.index_===Gt?e="$priority":t.index_===re?e="$value":t.index_===Rt?e="$key":(Object(r.assert)(t.index_ instanceof ie,"Unrecognized index type!"),e=t.index_.toString()),n.orderBy=Object(r.stringify)(e),t.startSet_&&(n.startAt=Object(r.stringify)(t.indexStartValue_),t.startNameSet_&&(n.startAt+=","+Object(r.stringify)(t.indexStartName_))),t.endSet_&&(n.endAt=Object(r.stringify)(t.indexEndValue_),t.endNameSet_&&(n.endAt+=","+Object(r.stringify)(t.indexEndName_))),t.limitSet_&&(t.isViewFromLeft()?n.limitToFirst=t.limit_:n.limitToLast=t.limit_)),n}function we(t){var e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_)),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_)),t.limitSet_){e.l=t.limit_;var n=t.viewFrom_;""===n&&(n=t.isViewFromLeft()?"l":"r"),e.vf=n}return t.index_!==Gt&&(e.i=t.index_.toString()),e}var Ce=function(t){function e(e,n,i,r){var o=t.call(this)||this;return o.repoInfo_=e,o.onDataUpdate_=n,o.authTokenProvider_=i,o.appCheckTokenProvider_=r,o.log_=S("p:rest:"),o.listens_={},o}return Object(o.__extends)(e,t),e.prototype.reportStats=function(t){throw new Error("Method not implemented.")},e.getListenId_=function(t,e){return void 0!==e?"tag$"+e:(Object(r.assert)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())},e.prototype.listen=function(t,n,i,o){var s=this,a=t._path.toString();this.log_("Listen called for "+a+" "+t._queryIdentifier);var c=e.getListenId_(t,i),u={};this.listens_[c]=u;var l=ye(t._queryParams);this.restRequest_(a+".json",l,function(t,e){var n=e;404===t&&(n=null,t=null),null===t&&s.onDataUpdate_(a,n,!1,i),Object(r.safeGet)(s.listens_,c)===u&&o(t?401===t?"permission_denied":"rest_error:"+t:"ok",null)})},e.prototype.unlisten=function(t,n){var i=e.getListenId_(t,n);delete this.listens_[i]},e.prototype.get=function(t){var e=this,n=ye(t._queryParams),i=t._path.toString(),o=new r.Deferred;return this.restRequest_(i+".json",n,function(t,n){var r=n;404===t&&(r=null,t=null),null===t?(e.onDataUpdate_(i,r,!1,null),o.resolve(r)):o.reject(new Error(r))}),o.promise},e.prototype.refreshAuthToken=function(t){},e.prototype.restRequest_=function(t,e,n){var i=this;return void 0===e&&(e={}),e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(function(s){var a=Object(o.__read)(s,2),c=a[0],u=a[1];c&&c.accessToken&&(e.auth=c.accessToken),u&&u.token&&(e.ac=u.token);var l=(i.repoInfo_.secure?"https://":"http://")+i.repoInfo_.host+t+"?ns="+i.repoInfo_.namespace+Object(r.querystring)(e);i.log_("Sending REST request for "+l);var h=new XMLHttpRequest;h.onreadystatechange=function(){if(n&&4===h.readyState){i.log_("REST Response for "+l+" received. status:",h.status,"response:",h.responseText);var t=null;if(h.status>=200&&h.status<300){try{t=Object(r.jsonEval)(h.responseText)}catch(e){T("Failed to parse JSON response for "+l+": "+h.responseText)}n(null,t)}else 401!==h.status&&404!==h.status&&T("Got unsuccessful REST response for "+l+" Status: "+h.status),n(h.status);n=null}},h.open("GET",l,!0),h.send()})},e}(rt),Se=function(){function t(){this.rootNode_=Xt.EMPTY_NODE}return t.prototype.getNode=function(t){return this.rootNode_.getChild(t)},t.prototype.updateSnapshot=function(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)},t}();function ke(){return{value:null,children:new Map}}function Oe(t,e,n){if(mt(e))t.value=n,t.children.clear();else if(null!==t.value)t.value=t.value.updateChild(e,n);else{var i=ut(e);t.children.has(i)||t.children.set(i,ke()),Oe(t.children.get(i),e=ht(e),n)}}function Te(t,e){if(mt(e))return t.value=null,t.children.clear(),!0;if(null!==t.value){if(t.value.isLeafNode())return!1;var n=t.value;return t.value=null,n.forEachChild(Gt,function(e,n){Oe(t,new at(e),n)}),Te(t,e)}if(t.children.size>0){var i=ut(e);return e=ht(e),t.children.has(i)&&Te(t.children.get(i),e)&&t.children.delete(i),0===t.children.size}return!0}function xe(t,e,n){null!==t.value?n(e,t.value):function(t,e){t.children.forEach(function(t,n){e(n,t)})}(t,function(t,i){xe(i,new at(e.toString()+"/"+t),n)})}var Ee=function(){function t(t){this.collection_=t,this.last_=null}return t.prototype.get=function(){var t=this.collection_.get(),e=Object(o.__assign)({},t);return this.last_&&N(this.last_,function(t,n){e[t]=e[t]-n}),this.last_=t,e},t}(),Ie=function(){function t(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new Ee(t);var n=1e4+2e4*Math.random();U(this.reportStats_.bind(this),Math.floor(n))}return t.prototype.reportStats_=function(){var t=this,e=this.statsListener_.get(),n={},i=!1;N(e,function(e,o){o>0&&Object(r.contains)(t.statsToReport_,e)&&(n[e]=o,i=!0)}),i&&this.server_.reportStats(n),U(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},t}(),Ae=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}({});function Re(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}var Pe,De=function(){function t(t,e,n){this.path=t,this.affectedTree=e,this.revert=n,this.type=Ae.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return t.prototype.operationForChild=function(e){if(mt(this.path)){if(null!=this.affectedTree.value)return Object(r.assert)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new at(e));return new t(ct(),n,this.revert)}return Object(r.assert)(ut(this.path)===e,"operationForChild called for unrelated child."),new t(ht(this.path),this.affectedTree,this.revert)},t}(),Me=function(){function t(t,e){this.source=t,this.path=e,this.type=Ae.LISTEN_COMPLETE}return t.prototype.operationForChild=function(e){return mt(this.path)?new t(this.source,ct()):new t(this.source,ht(this.path))},t}(),Ne=function(){function t(t,e,n){this.source=t,this.path=e,this.snap=n,this.type=Ae.OVERWRITE}return t.prototype.operationForChild=function(e){return mt(this.path)?new t(this.source,ct(),this.snap.getImmediateChild(e)):new t(this.source,ht(this.path),this.snap)},t}(),je=function(){function t(t,e,n){this.source=t,this.path=e,this.children=n,this.type=Ae.MERGE}return t.prototype.operationForChild=function(e){if(mt(this.path)){var n=this.children.subtree(new at(e));return n.isEmpty()?null:n.value?new Ne(this.source,ct(),n.value):new t(this.source,ct(),n)}return Object(r.assert)(ut(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,ht(this.path),this.children)},t.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},t}(),Fe=function(){function t(t,e,n){this.node_=t,this.fullyInitialized_=e,this.filtered_=n}return t.prototype.isFullyInitialized=function(){return this.fullyInitialized_},t.prototype.isFiltered=function(){return this.filtered_},t.prototype.isCompleteForPath=function(t){if(mt(t))return this.isFullyInitialized()&&!this.filtered_;var e=ut(t);return this.isCompleteForChild(e)},t.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},t.prototype.getNode=function(){return this.node_},t}(),Le=function(){return function(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}();function Ve(t,e,n,i,o,s){var a=i.filter(function(t){return t.type===n});a.sort(function(e,n){return function(t,e,n){if(null==e.childName||null==n.childName)throw Object(r.assertionError)("Should only compare child_ events.");var i=new Et(e.childName,e.snapshotNode),o=new Et(n.childName,n.snapshotNode);return t.index_.compare(i,o)}(t,e,n)}),a.forEach(function(n){var i=function(t,e,n){return"value"===e.type||"child_removed"===e.type||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}(t,n,s);o.forEach(function(r){r.respondsTo(n.type)&&e.push(r.createEvent(i,t.query_))})})}function Ue(t,e){return{eventCache:t,serverCache:e}}function qe(t,e,n,i){return Ue(new Fe(e,n,i),t.serverCache)}function Be(t,e,n,i){return Ue(t.eventCache,new Fe(e,n,i))}function He(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function ze(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}var We=function(){function t(t,e){void 0===e&&(Pe||(Pe=new Nt(R)),e=Pe),this.value=t,this.children=e}return t.fromObject=function(e){var n=new t(null);return N(e,function(t,e){n=n.set(new at(t),e)}),n},t.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},t.prototype.findRootMostMatchingPathAndValue=function(t,e){if(null!=this.value&&e(this.value))return{path:ct(),value:this.value};if(mt(t))return null;var n=ut(t),i=this.children.get(n);if(null!==i){var r=i.findRootMostMatchingPathAndValue(ht(t),e);return null!=r?{path:gt(new at(n),r.path),value:r.value}:null}return null},t.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,function(){return!0})},t.prototype.subtree=function(e){if(mt(e))return this;var n=ut(e),i=this.children.get(n);return null!==i?i.subtree(ht(e)):new t(null)},t.prototype.set=function(e,n){if(mt(e))return new t(n,this.children);var i=ut(e),r=(this.children.get(i)||new t(null)).set(ht(e),n),o=this.children.insert(i,r);return new t(this.value,o)},t.prototype.remove=function(e){if(mt(e))return this.children.isEmpty()?new t(null):new t(null,this.children);var n=ut(e),i=this.children.get(n);if(i){var r=i.remove(ht(e)),o=void 0;return o=r.isEmpty()?this.children.remove(n):this.children.insert(n,r),null===this.value&&o.isEmpty()?new t(null):new t(this.value,o)}return this},t.prototype.get=function(t){if(mt(t))return this.value;var e=ut(t),n=this.children.get(e);return n?n.get(ht(t)):null},t.prototype.setTree=function(e,n){if(mt(e))return n;var i,r=ut(e),o=(this.children.get(r)||new t(null)).setTree(ht(e),n);return i=o.isEmpty()?this.children.remove(r):this.children.insert(r,o),new t(this.value,i)},t.prototype.fold=function(t){return this.fold_(ct(),t)},t.prototype.fold_=function(t,e){var n={};return this.children.inorderTraversal(function(i,r){n[i]=r.fold_(gt(t,i),e)}),e(t,this.value,n)},t.prototype.findOnPath=function(t,e){return this.findOnPath_(t,ct(),e)},t.prototype.findOnPath_=function(t,e,n){var i=!!this.value&&n(e,this.value);if(i)return i;if(mt(t))return null;var r=ut(t),o=this.children.get(r);return o?o.findOnPath_(ht(t),gt(e,r),n):null},t.prototype.foreachOnPath=function(t,e){return this.foreachOnPath_(t,ct(),e)},t.prototype.foreachOnPath_=function(e,n,i){if(mt(e))return this;this.value&&i(n,this.value);var r=ut(e),o=this.children.get(r);return o?o.foreachOnPath_(ht(e),gt(n,r),i):new t(null)},t.prototype.foreach=function(t){this.foreach_(ct(),t)},t.prototype.foreach_=function(t,e){this.children.inorderTraversal(function(n,i){i.foreach_(gt(t,n),e)}),this.value&&e(t,this.value)},t.prototype.foreachChild=function(t){this.children.inorderTraversal(function(e,n){n.value&&t(e,n.value)})},t}(),Ge=function(){function t(t){this.writeTree_=t}return t.empty=function(){return new t(new We(null))},t}();function Ke(t,e,n){if(mt(e))return new Ge(new We(n));var i=t.writeTree_.findRootMostValueAndPath(e);if(null!=i){var r=i.path,o=i.value,s=bt(r,e);return o=o.updateChild(s,n),new Ge(t.writeTree_.set(r,o))}var a=new We(n),c=t.writeTree_.setTree(e,a);return new Ge(c)}function $e(t,e,n){var i=t;return N(n,function(t,n){i=Ke(i,gt(e,t),n)}),i}function Ye(t,e){if(mt(e))return Ge.empty();var n=t.writeTree_.setTree(e,new We(null));return new Ge(n)}function Qe(t,e){return null!=Ze(t,e)}function Ze(t,e){var n=t.writeTree_.findRootMostValueAndPath(e);return null!=n?t.writeTree_.get(n.path).getChild(bt(n.path,e)):null}function Xe(t){var e=[],n=t.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(Gt,function(t,n){e.push(new Et(t,n))}):t.writeTree_.children.inorderTraversal(function(t,n){null!=n.value&&e.push(new Et(t,n.value))}),e}function Je(t,e){if(mt(e))return t;var n=Ze(t,e);return new Ge(null!=n?new We(n):t.writeTree_.subtree(e))}function tn(t){return t.writeTree_.isEmpty()}function en(t,e){return nn(ct(),t.writeTree_,e)}function nn(t,e,n){if(null!=e.value)return n.updateChild(t,e.value);var i=null;return e.children.inorderTraversal(function(e,o){".priority"===e?(Object(r.assert)(null!==o.value,"Priority writes must always be leaf nodes"),i=o.value):n=nn(gt(t,e),o,n)}),n.getChild(t).isEmpty()||null===i||(n=n.updateChild(gt(t,".priority"),i)),n}function rn(t,e){return gn(e,t)}function on(t,e){if(t.snap)return yt(t.path,e);for(var n in t.children)if(t.children.hasOwnProperty(n)&&yt(gt(t.path,n),e))return!0;return!1}function sn(t){return t.visible}function an(t,e,n){for(var i=Ge.empty(),o=0;o<t.length;++o){var s=t[o];if(e(s)){var a=s.path,c=void 0;if(s.snap)yt(n,a)?i=Ke(i,c=bt(n,a),s.snap):yt(a,n)&&(c=bt(a,n),i=Ke(i,ct(),s.snap.getChild(c)));else{if(!s.children)throw Object(r.assertionError)("WriteRecord should have .snap or .children");if(yt(n,a))i=$e(i,c=bt(n,a),s.children);else if(yt(a,n))if(mt(c=bt(a,n)))i=$e(i,ct(),s.children);else{var u=Object(r.safeGet)(s.children,ut(c));if(u){var l=u.getChild(ht(c));i=Ke(i,ct(),l)}}}}}return i}function cn(t,e,n,i,r){if(i||r){var o=Je(t.visibleWrites,e);return!r&&tn(o)?n:r||null!=n||Qe(o,ct())?en(an(t.allWrites,function(t){return(t.visible||r)&&(!i||!~i.indexOf(t.writeId))&&(yt(t.path,e)||yt(e,t.path))},e),n||Xt.EMPTY_NODE):null}var s=Ze(t.visibleWrites,e);if(null!=s)return s;var a=Je(t.visibleWrites,e);return tn(a)?n:null!=n||Qe(a,ct())?en(a,n||Xt.EMPTY_NODE):null}function un(t,e,n,i){return cn(t.writeTree,t.treePath,e,n,i)}function ln(t,e){return function(t,e,n){var i=Xt.EMPTY_NODE,r=Ze(t.visibleWrites,e);if(r)return r.isLeafNode()||r.forEachChild(Gt,function(t,e){i=i.updateImmediateChild(t,e)}),i;if(n){var o=Je(t.visibleWrites,e);return n.forEachChild(Gt,function(t,e){var n=en(Je(o,new at(t)),e);i=i.updateImmediateChild(t,n)}),Xe(o).forEach(function(t){i=i.updateImmediateChild(t.name,t.node)}),i}return Xe(Je(t.visibleWrites,e)).forEach(function(t){i=i.updateImmediateChild(t.name,t.node)}),i}(t.writeTree,t.treePath,e)}function hn(t,e,n,i){return function(t,e,n,i,o){Object(r.assert)(i||o,"Either existingEventSnap or existingServerSnap must exist");var s=gt(e,n);if(Qe(t.visibleWrites,s))return null;var a=Je(t.visibleWrites,s);return tn(a)?o.getChild(n):en(a,o.getChild(n))}(t.writeTree,t.treePath,e,n,i)}function dn(t,e){return function(t,e){return Ze(t.visibleWrites,e)}(t.writeTree,gt(t.treePath,e))}function fn(t,e,n){return function(t,e,n,i){var r=gt(e,n),o=Ze(t.visibleWrites,r);return null!=o?o:i.isCompleteForChild(n)?en(Je(t.visibleWrites,r),i.getNode().getImmediateChild(n)):null}(t.writeTree,t.treePath,e,n)}function pn(t,e){return gn(gt(t.treePath,e),t.writeTree)}function gn(t,e){return{treePath:t,writeTree:e}}var mn=function(){function t(){this.changeMap=new Map}return t.prototype.trackChildChange=function(t){var e=t.type,n=t.childName;Object(r.assert)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),Object(r.assert)(".priority"!==n,"Only non-priority child changes can be tracked.");var i=this.changeMap.get(n);if(i){var o=i.type;if("child_added"===e&&"child_removed"===o)this.changeMap.set(n,de(n,t.snapshotNode,i.snapshotNode));else if("child_removed"===e&&"child_added"===o)this.changeMap.delete(n);else if("child_removed"===e&&"child_changed"===o)this.changeMap.set(n,he(n,i.oldSnap));else if("child_changed"===e&&"child_added"===o)this.changeMap.set(n,le(n,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==o)throw Object(r.assertionError)("Illegal combination of changes: "+t+" occurred after "+i);this.changeMap.set(n,de(n,t.snapshotNode,i.oldSnap))}}else this.changeMap.set(n,t)},t.prototype.getChanges=function(){return Array.from(this.changeMap.values())},t}(),bn=new(function(){function t(){}return t.prototype.getCompleteChild=function(t){return null},t.prototype.getChildAfterChild=function(t,e,n){return null},t}()),_n=function(){function t(t,e,n){void 0===n&&(n=null),this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=n}return t.prototype.getCompleteChild=function(t){var e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);var n=null!=this.optCompleteServerCache_?new Fe(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return fn(this.writes_,t,n)},t.prototype.getChildAfterChild=function(t,e,n){var i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:ze(this.viewCache_),r=function(t,e,n,i,r,o){return function(t,e,n,i,r,o,s){var a,c=Je(t.visibleWrites,e),u=Ze(c,ct());if(null!=u)a=u;else{if(null==n)return[];a=en(c,n)}if((a=a.withIndex(s)).isEmpty()||a.isLeafNode())return[];for(var l=[],h=s.getCompare(),d=o?a.getReverseIteratorFrom(i,s):a.getIteratorFrom(i,s),f=d.getNext();f&&l.length<1;)0!==h(f,i)&&l.push(f),f=d.getNext();return l}(t.writeTree,t.treePath,e,n,0,r,o)}(this.writes_,i,e,0,n,t);return 0===r.length?null:r[0]},t}();function vn(t,e,n,i,o,s){var a=e.eventCache;if(null!=dn(i,n))return e;var c=void 0,u=void 0;if(mt(n))if(Object(r.assert)(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){var l=ze(e),h=ln(i,l instanceof Xt?l:Xt.EMPTY_NODE);c=t.filter.updateFullNode(e.eventCache.getNode(),h,s)}else{var d=un(i,ze(e));c=t.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{var f=ut(n);if(".priority"===f){Object(r.assert)(1===lt(n),"Can't have a priority with additional path components");var p=a.getNode(),g=hn(i,n,p,u=e.serverCache.getNode());c=null!=g?t.filter.updatePriority(p,g):a.getNode()}else{var m=ht(n),b=void 0;if(a.isCompleteForChild(f)){u=e.serverCache.getNode();var _=hn(i,n,a.getNode(),u);b=null!=_?a.getNode().getImmediateChild(f).updateChild(m,_):a.getNode().getImmediateChild(f)}else b=fn(i,f,e.serverCache);c=null!=b?t.filter.updateChild(a.getNode(),f,b,m,o,s):a.getNode()}}return qe(e,c,a.isFullyInitialized()||mt(n),t.filter.filtersNodes())}function yn(t,e,n,i,r,o,s,a){var c,u=e.serverCache,l=s?t.filter:t.filter.getIndexedFilter();if(mt(n))c=l.updateFullNode(u.getNode(),i,null);else if(l.filtersNodes()&&!u.isFiltered()){var h=u.getNode().updateChild(n,i);c=l.updateFullNode(u.getNode(),h,null)}else{var d=ut(n);if(!u.isCompleteForPath(n)&&lt(n)>1)return e;var f=ht(n),p=u.getNode().getImmediateChild(d).updateChild(f,i);c=".priority"===d?l.updatePriority(u.getNode(),p):l.updateChild(u.getNode(),d,p,f,bn,null)}var g=Be(e,c,u.isFullyInitialized()||mt(n),l.filtersNodes());return vn(t,g,n,r,new _n(r,g,o),a)}function wn(t,e,n,i,r,o,s){var a,c,u=e.eventCache,l=new _n(r,e,o);if(mt(n))c=t.filter.updateFullNode(e.eventCache.getNode(),i,s),a=qe(e,c,!0,t.filter.filtersNodes());else{var h=ut(n);if(".priority"===h)c=t.filter.updatePriority(e.eventCache.getNode(),i),a=qe(e,c,u.isFullyInitialized(),u.isFiltered());else{var d=ht(n),f=u.getNode().getImmediateChild(h),p=void 0;if(mt(d))p=i;else{var g=l.getCompleteChild(h);p=null!=g?".priority"===dt(d)&&g.getChild(pt(d)).isEmpty()?g:g.updateChild(d,i):Xt.EMPTY_NODE}a=f.equals(p)?e:qe(e,t.filter.updateChild(u.getNode(),h,p,d,l,s),u.isFullyInitialized(),t.filter.filtersNodes())}}return a}function Cn(t,e){return t.eventCache.isCompleteForChild(e)}function Sn(t,e,n){return n.foreach(function(t,n){e=e.updateChild(t,n)}),e}function kn(t,e,n,i,r,o,s,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;var c,u=e;c=mt(n)?i:new We(null).setTree(n,i);var l=e.serverCache.getNode();return c.children.inorderTraversal(function(n,i){if(l.hasChild(n)){var c=Sn(0,e.serverCache.getNode().getImmediateChild(n),i);u=yn(t,u,new at(n),c,r,o,s,a)}}),c.children.inorderTraversal(function(n,i){var c=!e.serverCache.isCompleteForChild(n)&&void 0===i.value;if(!l.hasChild(n)&&!c){var h=Sn(0,e.serverCache.getNode().getImmediateChild(n),i);u=yn(t,u,new at(n),h,r,o,s,a)}}),u}var On,Tn=function(){function t(t,e){this.query_=t,this.eventRegistrations_=[];var n,i=this.query_._queryParams,r=new fe(i.getIndex()),o=(n=i).loadsAllData()?new fe(n.getIndex()):n.hasLimit()?new ge(n):new pe(n);this.processor_=function(t){return{filter:t}}(o);var s=e.serverCache,a=e.eventCache,c=r.updateFullNode(Xt.EMPTY_NODE,s.getNode(),null),u=o.updateFullNode(Xt.EMPTY_NODE,a.getNode(),null),l=new Fe(c,s.isFullyInitialized(),r.filtersNodes()),h=new Fe(u,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=Ue(h,l),this.eventGenerator_=new Le(this.query_)}return Object.defineProperty(t.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),t}();function xn(t,e){var n=ze(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!mt(e)&&!n.getImmediateChild(ut(e)).isEmpty())?n.getChild(e):null}function En(t){return 0===t.eventRegistrations_.length}function In(t,e,n){var i=[];if(n){Object(r.assert)(null==e,"A cancel should cancel all event registrations.");var o=t.query._path;t.eventRegistrations_.forEach(function(t){var e=t.createCancelEvent(n,o);e&&i.push(e)})}if(e){for(var s=[],a=0;a<t.eventRegistrations_.length;++a){var c=t.eventRegistrations_[a];if(c.matches(e)){if(e.hasAnyCallback()){s=s.concat(t.eventRegistrations_.slice(a+1));break}}else s.push(c)}t.eventRegistrations_=s}else t.eventRegistrations_=[];return i}function An(t,e,n,i){e.type===Ae.MERGE&&null!==e.source.queryId&&(Object(r.assert)(ze(t.viewCache_),"We should always have a full cache before handling merges"),Object(r.assert)(He(t.viewCache_),"Missing event cache, even though we have a server cache"));var o,s,a=t.viewCache_,c=function(t,e,n,i,o){var s,a,c=new mn;if(n.type===Ae.OVERWRITE){var u=n;u.source.fromUser?s=wn(t,e,u.path,u.snap,i,o,c):(Object(r.assert)(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered()&&!mt(u.path),s=yn(t,e,u.path,u.snap,i,o,a,c))}else if(n.type===Ae.MERGE){var l=n;l.source.fromUser?s=function(t,e,n,i,r,o,s){var a=e;return i.foreach(function(i,c){var u=gt(n,i);Cn(e,ut(u))&&(a=wn(t,a,u,c,r,o,s))}),i.foreach(function(i,c){var u=gt(n,i);Cn(e,ut(u))||(a=wn(t,a,u,c,r,o,s))}),a}(t,e,l.path,l.children,i,o,c):(Object(r.assert)(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered(),s=kn(t,e,l.path,l.children,i,o,a,c))}else if(n.type===Ae.ACK_USER_WRITE){var h=n;s=h.revert?function(t,e,n,i,o,s){var a;if(null!=dn(i,n))return e;var c=new _n(i,e,o),u=e.eventCache.getNode(),l=void 0;if(mt(n)||".priority"===ut(n)){var h=void 0;if(e.serverCache.isFullyInitialized())h=un(i,ze(e));else{var d=e.serverCache.getNode();Object(r.assert)(d instanceof Xt,"serverChildren would be complete if leaf node"),h=ln(i,d)}l=t.filter.updateFullNode(u,h=h,s)}else{var f=ut(n),p=fn(i,f,e.serverCache);null==p&&e.serverCache.isCompleteForChild(f)&&(p=u.getImmediateChild(f)),(l=null!=p?t.filter.updateChild(u,f,p,ht(n),c,s):e.eventCache.getNode().hasChild(f)?t.filter.updateChild(u,f,Xt.EMPTY_NODE,ht(n),c,s):u).isEmpty()&&e.serverCache.isFullyInitialized()&&(a=un(i,ze(e))).isLeafNode()&&(l=t.filter.updateFullNode(l,a,s))}return a=e.serverCache.isFullyInitialized()||null!=dn(i,ct()),qe(e,l,a,t.filter.filtersNodes())}(t,e,h.path,i,o,c):function(t,e,n,i,r,o,s){if(null!=dn(r,n))return e;var a=e.serverCache.isFiltered(),c=e.serverCache;if(null!=i.value){if(mt(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return yn(t,e,n,c.getNode().getChild(n),r,o,a,s);if(mt(n)){var u=new We(null);return c.getNode().forEachChild(Rt,function(t,e){u=u.set(new at(t),e)}),kn(t,e,n,u,r,o,a,s)}return e}var l=new We(null);return i.foreach(function(t,e){var i=gt(n,t);c.isCompleteForPath(i)&&(l=l.set(t,c.getNode().getChild(i)))}),kn(t,e,n,l,r,o,a,s)}(t,e,h.path,h.affectedTree,i,o,c)}else{if(n.type!==Ae.LISTEN_COMPLETE)throw Object(r.assertionError)("Unknown operation type: "+n.type);s=function(t,e,n,i,r){var o=e.serverCache;return vn(t,Be(e,o.getNode(),o.isFullyInitialized()||mt(n),o.isFiltered()),n,i,bn,r)}(t,e,n.path,i,c)}var d=c.getChanges();return function(t,e,n){var i=e.eventCache;if(i.isFullyInitialized()){var r=i.getNode().isLeafNode()||i.getNode().isEmpty(),o=He(t);(n.length>0||!t.eventCache.isFullyInitialized()||r&&!i.getNode().equals(o)||!i.getNode().getPriority().equals(o.getPriority()))&&n.push(ue(He(e)))}}(e,s,d),{viewCache:s,changes:d}}(t.processor_,a,e,n,i);return o=t.processor_,s=c.viewCache,Object(r.assert)(s.eventCache.getNode().isIndexed(o.filter.getIndex()),"Event snap not indexed"),Object(r.assert)(s.serverCache.getNode().isIndexed(o.filter.getIndex()),"Server snap not indexed"),Object(r.assert)(c.viewCache.serverCache.isFullyInitialized()||!a.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=c.viewCache,Rn(t,c.changes,c.viewCache.eventCache.getNode(),null)}function Rn(t,e,n,i){return function(t,e,n,i){var r=[],o=[];return e.forEach(function(e){"child_changed"===e.type&&t.index_.indexedValueChanged(e.oldSnap,e.snapshotNode)&&o.push({type:"child_moved",snapshotNode:e.snapshotNode,childName:e.childName})}),Ve(t,r,"child_removed",e,i,n),Ve(t,r,"child_added",e,i,n),Ve(t,r,"child_moved",o,i,n),Ve(t,r,"child_changed",e,i,n),Ve(t,r,"value",e,i,n),r}(t.eventGenerator_,e,n,i?[i]:t.eventRegistrations_)}var Pn,Dn=function(){return function(){this.views=new Map}}();function Mn(t,e,n,i){var s,a,c=e.source.queryId;if(null!==c){var u=t.views.get(c);return Object(r.assert)(null!=u,"SyncTree gave us an op for an invalid query."),An(u,e,n,i)}var l=[];try{for(var h=Object(o.__values)(t.views.values()),d=h.next();!d.done;d=h.next())l=l.concat(An(u=d.value,e,n,i))}catch(f){s={error:f}}finally{try{d&&!d.done&&(a=h.return)&&a.call(h)}finally{if(s)throw s.error}}return l}function Nn(t,e,n,i,r){var o=t.views.get(e._queryIdentifier);if(!o){var s=un(n,r?i:null),a=!1;s?a=!0:i instanceof Xt?(s=ln(n,i),a=!1):(s=Xt.EMPTY_NODE,a=!1);var c=Ue(new Fe(s,a,!1),new Fe(i,r,!1));return new Tn(e,c)}return o}function jn(t){var e,n,i=[];try{for(var r=Object(o.__values)(t.views.values()),s=r.next();!s.done;s=r.next()){var a=s.value;a.query._queryParams.loadsAllData()||i.push(a)}}catch(c){e={error:c}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return i}function Fn(t,e){var n,i,r=null;try{for(var s=Object(o.__values)(t.views.values()),a=s.next();!a.done;a=s.next())r=r||xn(a.value,e)}catch(c){n={error:c}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}return r}function Ln(t,e){return e._queryParams.loadsAllData()?qn(t):t.views.get(e._queryIdentifier)}function Vn(t,e){return null!=Ln(t,e)}function Un(t){return null!=qn(t)}function qn(t){var e,n;try{for(var i=Object(o.__values)(t.views.values()),r=i.next();!r.done;r=i.next()){var s=r.value;if(s.query._queryParams.loadsAllData())return s}}catch(a){e={error:a}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return null}var Bn=1,Hn=function(){return function(t){this.listenProvider_=t,this.syncPointTree_=new We(null),this.pendingWriteTree_={visibleWrites:Ge.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}();function zn(t,e,n,i,o){return function(t,e,n,i,o){Object(r.assert)(i>t.lastWriteId,"Stacking an older write on top of newer ones"),void 0===o&&(o=!0),t.allWrites.push({path:e,snap:n,writeId:i,visible:o}),o&&(t.visibleWrites=Ke(t.visibleWrites,e,n)),t.lastWriteId=i}(t.pendingWriteTree_,e,n,i,o),o?Qn(t,new Ne({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,n)):[]}function Wn(t,e,n){void 0===n&&(n=!1);var i=function(t,e){for(var n=0;n<t.allWrites.length;n++){var i=t.allWrites[n];if(i.writeId===e)return i}return null}(t.pendingWriteTree_,e);if(function(t,e){var n=t.allWrites.findIndex(function(t){return t.writeId===e});Object(r.assert)(n>=0,"removeWrite called with nonexistent writeId.");var i=t.allWrites[n];t.allWrites.splice(n,1);for(var o=i.visible,s=!1,a=t.allWrites.length-1;o&&a>=0;){var c=t.allWrites[a];c.visible&&(a>=n&&on(c,i.path)?o=!1:yt(i.path,c.path)&&(s=!0)),a--}return!!o&&(s?(function(t){t.visibleWrites=an(t.allWrites,sn,ct()),t.lastWriteId=t.allWrites.length>0?t.allWrites[t.allWrites.length-1].writeId:-1}(t),!0):(i.snap?t.visibleWrites=Ye(t.visibleWrites,i.path):N(i.children,function(e){t.visibleWrites=Ye(t.visibleWrites,gt(i.path,e))}),!0))}(t.pendingWriteTree_,e)){var o=new We(null);return null!=i.snap?o=o.set(ct(),!0):N(i.children,function(t){o=o.set(new at(t),!0)}),Qn(t,new De(i.path,o,n))}return[]}function Gn(t,e,n){return Qn(t,new Ne({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,n))}function Kn(t,e,n,i){var s=e._path,a=t.syncPointTree_.get(s),c=[];if(a&&("default"===e._queryIdentifier||Vn(a,e))){var u=function(t,e,n,i){var s,a,c=e._queryIdentifier,u=[],l=[],h=Un(t);if("default"===c)try{for(var d=Object(o.__values)(t.views.entries()),f=d.next();!f.done;f=d.next()){var p,g=Object(o.__read)(f.value,2),m=g[0];l=l.concat(In(p=g[1],n,i)),En(p)&&(t.views.delete(m),p.query._queryParams.loadsAllData()||u.push(p.query))}}catch(b){s={error:b}}finally{try{f&&!f.done&&(a=d.return)&&a.call(d)}finally{if(s)throw s.error}}else(p=t.views.get(c))&&(l=l.concat(In(p,n,i)),En(p)&&(t.views.delete(c),p.query._queryParams.loadsAllData()||u.push(p.query)));return h&&!Un(t)&&u.push(new(Object(r.assert)(On,"Reference.ts has not been loaded"),On)(e._repo,e._path)),{removed:u,events:l}}(a,e,n,i);0===a.views.size&&(t.syncPointTree_=t.syncPointTree_.remove(s));var l=u.removed;c=u.events;var h=-1!==l.findIndex(function(t){return t._queryParams.loadsAllData()}),d=t.syncPointTree_.findOnPath(s,function(t,e){return Un(e)});if(h&&!d){var f=t.syncPointTree_.subtree(s);if(!f.isEmpty())for(var p=function(t){return t.fold(function(t,e,n){if(e&&Un(e))return[qn(e)];var i=[];return e&&(i=jn(e)),N(n,function(t,e){i=i.concat(e)}),i})}(f),g=0;g<p.length;++g){var m=p[g],b=m.query,_=Jn(t,m);t.listenProvider_.startListening(oi(b),ti(t,b),_.hashFn,_.onComplete)}}!d&&l.length>0&&!i&&(h?t.listenProvider_.stopListening(oi(e),null):l.forEach(function(e){var n=t.queryToTagMap.get(ei(e));t.listenProvider_.stopListening(oi(e),n)})),function(t,e){for(var n=0;n<e.length;++n){var i=e[n];if(!i._queryParams.loadsAllData()){var r=ei(i),o=t.queryToTagMap.get(r);t.queryToTagMap.delete(r),t.tagToQueryMap.delete(o)}}}(t,l)}return c}function $n(t,e,n){var i=e._path,o=null,s=!1;t.syncPointTree_.foreachOnPath(i,function(t,e){var n=bt(t,i);o=o||Fn(e,n),s=s||Un(e)});var a,c=t.syncPointTree_.get(i);c?(s=s||Un(c),o=o||Fn(c,ct())):(c=new Dn,t.syncPointTree_=t.syncPointTree_.set(i,c)),null!=o?a=!0:(a=!1,o=Xt.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild(function(t,e){var n=Fn(e,ct());n&&(o=o.updateImmediateChild(t,n))}));var u=Vn(c,e);if(!u&&!e._queryParams.loadsAllData()){var l=ei(e);Object(r.assert)(!t.queryToTagMap.has(l),"View does not exist, but we have a tag");var h=Bn++;t.queryToTagMap.set(l,h),t.tagToQueryMap.set(h,l)}var d=function(t,e,n,i,r,o){var s=Nn(t,e,i,r,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,s),function(t,e){t.eventRegistrations_.push(e)}(s,n),function(t,e){var n=t.viewCache_.eventCache,i=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Gt,function(t,e){i.push(le(t,e))}),n.isFullyInitialized()&&i.push(ue(n.getNode())),Rn(t,i,n.getNode(),e)}(s,n)}(c,e,n,rn(t.pendingWriteTree_,i),o,a);if(!u&&!s){var f=Ln(c,e);d=d.concat(function(t,e,n){var i=e._path,o=ti(t,e),s=Jn(t,n),a=t.listenProvider_.startListening(oi(e),o,s.hashFn,s.onComplete),c=t.syncPointTree_.subtree(i);if(o)Object(r.assert)(!Un(c.value),"If we're adding a query, it shouldn't be shadowed");else for(var u=c.fold(function(t,e,n){if(!mt(t)&&e&&Un(e))return[qn(e).query];var i=[];return e&&(i=i.concat(jn(e).map(function(t){return t.query}))),N(n,function(t,e){i=i.concat(e)}),i}),l=0;l<u.length;++l){var h=u[l];t.listenProvider_.stopListening(oi(h),ti(t,h))}return a}(t,e,f))}return d}function Yn(t,e,n){var i=t.pendingWriteTree_,r=t.syncPointTree_.findOnPath(e,function(t,n){var i=Fn(n,bt(t,e));if(i)return i});return cn(i,e,r,n,!0)}function Qn(t,e){return Zn(e,t.syncPointTree_,null,rn(t.pendingWriteTree_,ct()))}function Zn(t,e,n,i){if(mt(t.path))return Xn(t,e,n,i);var r=e.get(ct());null==n&&null!=r&&(n=Fn(r,ct()));var o=[],s=ut(t.path),a=t.operationForChild(s),c=e.children.get(s);if(c&&a){var u=n?n.getImmediateChild(s):null,l=pn(i,s);o=o.concat(Zn(a,c,u,l))}return r&&(o=o.concat(Mn(r,t,i,n))),o}function Xn(t,e,n,i){var r=e.get(ct());null==n&&null!=r&&(n=Fn(r,ct()));var o=[];return e.children.inorderTraversal(function(e,r){var s=n?n.getImmediateChild(e):null,a=pn(i,e),c=t.operationForChild(e);c&&(o=o.concat(Xn(c,r,s,a)))}),r&&(o=o.concat(Mn(r,t,i,n))),o}function Jn(t,e){var n=e.query,i=ti(t,n);return{hashFn:function(){return(function(t){return t.viewCache_.serverCache.getNode()}(e)||Xt.EMPTY_NODE).hash()},onComplete:function(e){if("ok"===e)return i?function(t,e,n){var i=ni(t,n);if(i){var r=ii(i),o=r.path,s=r.queryId,a=bt(o,e);return ri(t,o,new Me(Re(s),a))}return[]}(t,n._path,i):function(t,e){return Qn(t,new Me({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e))}(t,n._path);var r=function(t,e){var n="Unknown Error";"too_big"===t?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===t?n="Client doesn't have permission to access the desired data.":"unavailable"===t&&(n="The service is unavailable");var i=new Error(t+" at "+e._path.toString()+": "+n);return i.code=t.toUpperCase(),i}(e,n);return Kn(t,n,null,r)}}}function ti(t,e){var n=ei(e);return t.queryToTagMap.get(n)}function ei(t){return t._path.toString()+"$"+t._queryIdentifier}function ni(t,e){return t.tagToQueryMap.get(e)}function ii(t){var e=t.indexOf("$");return Object(r.assert)(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new at(t.substr(0,e))}}function ri(t,e,n){var i=t.syncPointTree_.get(e);return Object(r.assert)(i,"Missing sync point for query tag that we're tracking"),Mn(i,n,rn(t.pendingWriteTree_,e),null)}function oi(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(Object(r.assert)(Pn,"Reference.ts has not been loaded"),Pn)(t._repo,t._path):t}var si=function(){function t(t){this.node_=t}return t.prototype.getImmediateChild=function(e){return new t(this.node_.getImmediateChild(e))},t.prototype.node=function(){return this.node_},t}(),ai=function(){function t(t,e){this.syncTree_=t,this.path_=e}return t.prototype.getImmediateChild=function(e){var n=gt(this.path_,e);return new t(this.syncTree_,n)},t.prototype.node=function(){return Yn(this.syncTree_,this.path_)},t}(),ci=function(t,e,n){return t&&"object"==typeof t?(Object(r.assert)(".sv"in t,"Unexpected leaf node or priority contents"),"string"==typeof t[".sv"]?ui(t[".sv"],e,n):"object"==typeof t[".sv"]?li(t[".sv"],e):void Object(r.assert)(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},ui=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:Object(r.assert)(!1,"Unexpected server value: "+t)}},li=function(t,e,n){t.hasOwnProperty("increment")||Object(r.assert)(!1,"Unexpected server value: "+JSON.stringify(t,null,2));var i=t.increment;"number"!=typeof i&&Object(r.assert)(!1,"Unexpected increment value: "+i);var o=e.node();if(Object(r.assert)(null!=o,"Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return i;var s=o.getValue();return"number"!=typeof s?i:s+i},hi=function(t,e,n,i){return fi(e,new ai(n,t),i)},di=function(t,e,n){return fi(t,new si(e),n)};function fi(t,e,n){var i,r=t.getPriority().val(),o=ci(r,e.getImmediateChild(".priority"),n);if(t.isLeafNode()){var s=t,a=ci(s.getValue(),e,n);return a!==s.getValue()||o!==s.getPriority().val()?new Wt(a,te(o)):t}var c=t;return i=c,o!==c.getPriority().val()&&(i=i.updatePriority(new Wt(o))),c.forEachChild(Gt,function(t,r){var o=fi(r,e.getImmediateChild(t),n);o!==r&&(i=i.updateImmediateChild(t,o))}),i}var pi=function(){return function(t,e,n){void 0===t&&(t=""),void 0===e&&(e=null),void 0===n&&(n={children:{},childCount:0}),this.name=t,this.parent=e,this.node=n}}();function gi(t,e){for(var n=e instanceof at?e:new at(e),i=t,o=ut(n);null!==o;){var s=Object(r.safeGet)(i.node.children,o)||{children:{},childCount:0};i=new pi(o,i,s),o=ut(n=ht(n))}return i}function mi(t){return t.node.value}function bi(t,e){t.node.value=e,Ci(t)}function _i(t){return t.node.childCount>0}function vi(t,e){N(t.node.children,function(n,i){e(new pi(n,t,i))})}function yi(t,e,n,i){n&&!i&&e(t),vi(t,function(t){yi(t,e,!0,i)}),n&&i&&e(t)}function wi(t){return new at(null===t.parent?t.name:wi(t.parent)+"/"+t.name)}function Ci(t){null!==t.parent&&function(t,e,n){var i=function(t){return void 0===mi(t)&&!_i(t)}(n),o=Object(r.contains)(t.node.children,e);i&&o?(delete t.node.children[e],t.node.childCount--,Ci(t)):i||o||(t.node.children[e]=n.node,t.node.childCount++,Ci(t))}(t.parent,t.name,t)}var Si=/[\[\].#$\/\u0000-\u001F\u007F]/,ki=/[\[\].#$\u0000-\u001F\u007F]/,Oi=function(t){return"string"==typeof t&&0!==t.length&&!Si.test(t)},Ti=function(t){return"string"==typeof t&&0!==t.length&&!ki.test(t)},xi=function(t){return null===t||"string"==typeof t||"number"==typeof t&&!x(t)||t&&"object"==typeof t&&Object(r.contains)(t,".sv")},Ei=function(t,e,n,i){i&&void 0===e||Ii(Object(r.errorPrefix)(t,"value"),e,n)},Ii=function(t,e,n){var i=n instanceof at?new wt(n,t):n;if(void 0===e)throw new Error(t+"contains undefined "+St(i));if("function"==typeof e)throw new Error(t+"contains a function "+St(i)+" with contents = "+e.toString());if(x(e))throw new Error(t+"contains "+e.toString()+" "+St(i));if("string"==typeof e&&e.length>10485760/3&&Object(r.stringLength)(e)>10485760)throw new Error(t+"contains a string greater than 10485760 utf8 bytes "+St(i)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){var o=!1,s=!1;if(N(e,function(e,n){if(".value"===e)o=!0;else if(".priority"!==e&&".sv"!==e&&(s=!0,!Oi(e)))throw new Error(t+" contains an invalid key ("+e+") "+St(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');var a,c;!function(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Object(r.stringLength)(e),Ct(t)}(i,e),Ii(t,n,i),c=(a=i).parts_.pop(),a.byteLength_-=Object(r.stringLength)(c),a.parts_.length>0&&(a.byteLength_-=1)}),o&&s)throw new Error(t+' contains ".value" child '+St(i)+" in addition to actual children.")}},Ai=function(t,e,n,i){if(!i||void 0!==e){var o=Object(r.errorPrefix)(t,"values");if(!e||"object"!=typeof e||Array.isArray(e))throw new Error(o+" must be an object containing the children to replace.");var s=[];N(e,function(t,e){var i=new at(t);if(Ii(o,e,gt(n,i)),".priority"===dt(i)&&!xi(e))throw new Error(o+"contains an invalid value for '"+i.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(i)}),function(t,e){var n,i;for(n=0;n<e.length;n++)for(var r=ft(i=e[n]),o=0;o<r.length;o++)if(".priority"===r[o]&&o===r.length-1);else if(!Oi(r[o]))throw new Error(t+"contains an invalid key ("+r[o]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');e.sort(_t);var s=null;for(n=0;n<e.length;n++){if(i=e[n],null!==s&&yt(s,i))throw new Error(t+"contains a path "+s.toString()+" that is ancestor of another path "+i.toString());s=i}}(o,s)}},Ri=function(t,e,n){if(!n||void 0!==e){if(x(e))throw new Error(Object(r.errorPrefix)(t,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!xi(e))throw new Error(Object(r.errorPrefix)(t,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Pi=function(t,e,n){if(!n||void 0!==e)switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Object(r.errorPrefix)(t,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},Di=function(t,e,n,i){if(!(i&&void 0===n||Oi(n)))throw new Error(Object(r.errorPrefix)(t,e)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Mi=function(t,e,n,i){if(!(i&&void 0===n||Ti(n)))throw new Error(Object(r.errorPrefix)(t,e)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Ni=function(t,e){if(".info"===ut(e))throw new Error(t+" failed = Can't modify data under /.info/")},ji=function(t,e){var n=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!Oi(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==n.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Ti(t)}(n))throw new Error(Object(r.errorPrefix)(t,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},Fi=function(t,e,n,i){if((!i||void 0!==n)&&"boolean"!=typeof n)throw new Error(Object(r.errorPrefix)(t,e)+"must be a boolean.")},Li=function(){return function(){this.eventLists_=[],this.recursionDepth_=0}}();function Vi(t,e){for(var n=null,i=0;i<e.length;i++){var r=e[i],o=r.getPath();null===n||vt(o,n.path)||(t.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(r)}n&&t.eventLists_.push(n)}function Ui(t,e,n){Vi(t,n),Bi(t,function(t){return vt(t,e)})}function qi(t,e,n){Vi(t,n),Bi(t,function(t){return yt(t,e)||yt(e,t)})}function Bi(t,e){t.recursionDepth_++;for(var n=!0,i=0;i<t.eventLists_.length;i++){var r=t.eventLists_[i];r&&(e(r.path)?(Hi(t.eventLists_[i]),t.eventLists_[i]=null):n=!1)}n&&(t.eventLists_=[]),t.recursionDepth_--}function Hi(t){for(var e=0;e<t.events.length;e++){var n=t.events[e];if(null!==n){t.events[e]=null;var i=n.getEventRunner();v&&C("event: "+n.toString()),V(i)}}}var zi=function(){function t(t,e,n,i){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=n,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Li,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=ke(),this.transactionQueueTree_=new pi,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return t.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},t}();function Wi(t){var e=t.infoData_.getNode(new at(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function Gi(t){return(e=(e={timestamp:Wi(t)})||{}).timestamp=e.timestamp||(new Date).getTime(),e;var e}function Ki(t,e,n,i,o){t.dataUpdateCount++;var s=new at(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;var a=[];if(o)if(i){var c=Object(r.map)(n,function(t){return te(t)});a=function(t,e,n,i){var r=ni(t,i);if(r){var o=ii(r),s=o.path,a=o.queryId,c=bt(s,e),u=We.fromObject(n);return ri(t,s,new je(Re(a),c,u))}return[]}(t.serverSyncTree_,s,c,o)}else{var u=te(n);a=function(t,e,n,i){var r=ni(t,i);if(null!=r){var o=ii(r),s=o.path,a=o.queryId,c=bt(s,e);return ri(t,s,new Ne(Re(a),c,n))}return[]}(t.serverSyncTree_,s,u,o)}else if(i){var l=Object(r.map)(n,function(t){return te(t)});a=function(t,e,n){var i=We.fromObject(n);return Qn(t,new je({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,i))}(t.serverSyncTree_,s,l)}else{var h=te(n);a=Gn(t.serverSyncTree_,s,h)}var d=s;a.length>0&&(d=sr(t,s)),qi(t.eventQueue_,d,a)}function $i(t,e){Yi(t,"connected",e),!1===e&&function(t){nr(t,"onDisconnectEvents");var e=Gi(t),n=ke();xe(t.onDisconnect_,ct(),function(i,r){var o=hi(i,r,t.serverSyncTree_,e);Oe(n,i,o)});var i=[];xe(n,ct(),function(e,n){i=i.concat(Gn(t.serverSyncTree_,e,n));var r=hr(t,e);sr(t,r)}),t.onDisconnect_=ke(),qi(t.eventQueue_,ct(),i)}(t)}function Yi(t,e,n){var i=new at("/.info/"+e),r=te(n);t.infoData_.updateSnapshot(i,r);var o=Gn(t.infoSyncTree_,i,r);qi(t.eventQueue_,i,o)}function Qi(t){return t.nextWriteId_++}function Zi(t,e,n,i,r){nr(t,"set",{path:e.toString(),value:n,priority:i});var o=Gi(t),s=te(n,i),a=Yn(t.serverSyncTree_,e),c=di(s,a,o),u=Qi(t),l=zn(t.serverSyncTree_,e,c,u,!0);Vi(t.eventQueue_,l),t.server_.put(e.toString(),s.val(!0),function(n,i){var o="ok"===n;o||T("set at "+e+" failed: "+n);var s=Wn(t.serverSyncTree_,u,!o);qi(t.eventQueue_,e,s),ir(0,r,n,i)});var h=hr(t,e);sr(t,h),qi(t.eventQueue_,h,[])}function Xi(t,e,n){t.server_.onDisconnectCancel(e.toString(),function(i,r){"ok"===i&&Te(t.onDisconnect_,e),ir(0,n,i,r)})}function Ji(t,e,n,i){var r=te(n);t.server_.onDisconnectPut(e.toString(),r.val(!0),function(n,o){"ok"===n&&Oe(t.onDisconnect_,e,r),ir(0,i,n,o)})}function tr(t,e,n){var i;i=".info"===ut(e._path)?Kn(t.infoSyncTree_,e,n):Kn(t.serverSyncTree_,e,n),Ui(t.eventQueue_,e._path,i)}function er(t){t.persistentConnection_&&t.persistentConnection_.interrupt("repo_interrupt")}function nr(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var i="";t.persistentConnection_&&(i=t.persistentConnection_.id+":"),C.apply(void 0,Object(o.__spreadArray)([i],Object(o.__read)(e)))}function ir(t,e,n,i){e&&V(function(){if("ok"===n)e(null);else{var t=(n||"error").toUpperCase(),r=t;i&&(r+=": "+i);var o=new Error(r);o.code=t,e(o)}})}function rr(t,e,n){return Yn(t.serverSyncTree_,e,n)||Xt.EMPTY_NODE}function or(t,e){if(void 0===e&&(e=t.transactionQueueTree_),e||lr(t,e),mi(e)){var n=cr(t,e);Object(r.assert)(n.length>0,"Sending zero length transaction queue"),n.every(function(t){return 0===t.status})&&function(t,e,n){for(var i=n.map(function(t){return t.currentWriteId}),o=rr(t,e,i),s=o,a=o.hash(),c=0;c<n.length;c++){var u=n[c];Object(r.assert)(0===u.status,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;var l=bt(e,u.path);s=s.updateChild(l,u.currentOutputSnapshotRaw)}var h=s.val(!0),d=e;t.server_.put(d.toString(),h,function(i){nr(t,"transaction put response",{path:d.toString(),status:i});var r=[];if("ok"===i){for(var o=[],s=function(e){n[e].status=2,r=r.concat(Wn(t.serverSyncTree_,n[e].currentWriteId)),n[e].onComplete&&o.push(function(){return n[e].onComplete(null,!0,n[e].currentOutputSnapshotResolved)}),n[e].unwatcher()},a=0;a<n.length;a++)s(a);for(lr(t,gi(t.transactionQueueTree_,e)),or(t,t.transactionQueueTree_),qi(t.eventQueue_,e,r),a=0;a<o.length;a++)V(o[a])}else{if("datastale"===i)for(a=0;a<n.length;a++)n[a].status=3===n[a].status?4:0;else for(T("transaction at "+d.toString()+" failed: "+i),a=0;a<n.length;a++)n[a].status=4,n[a].abortReason=i;sr(t,e)}},a)}(t,wi(e),n)}else _i(e)&&vi(e,function(e){or(t,e)})}function sr(t,e){var n=ar(t,e),i=wi(n);return function(t,e,n){if(0!==e.length){for(var i=[],o=[],s=e.filter(function(t){return 0===t.status}).map(function(t){return t.currentWriteId}),a=function(a){var c,u=e[a],l=bt(n,u.path),h=!1;if(Object(r.assert)(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===u.status)h=!0,c=u.abortReason,o=o.concat(Wn(t.serverSyncTree_,u.currentWriteId,!0));else if(0===u.status)if(u.retryCount>=25)h=!0,c="maxretry",o=o.concat(Wn(t.serverSyncTree_,u.currentWriteId,!0));else{var d=rr(t,u.path,s);u.currentInputSnapshot=d;var f=e[a].update(d.val());if(void 0!==f){Ii("transaction failed: Data returned ",f,u.path);var p=te(f);"object"==typeof f&&null!=f&&Object(r.contains)(f,".priority")||(p=p.updatePriority(d.getPriority()));var g=u.currentWriteId,m=Gi(t),b=di(p,d,m);u.currentOutputSnapshotRaw=p,u.currentOutputSnapshotResolved=b,u.currentWriteId=Qi(t),s.splice(s.indexOf(g),1),o=(o=o.concat(zn(t.serverSyncTree_,u.path,b,u.currentWriteId,u.applyLocally))).concat(Wn(t.serverSyncTree_,g,!0))}else h=!0,c="nodata",o=o.concat(Wn(t.serverSyncTree_,u.currentWriteId,!0))}qi(t.eventQueue_,n,o),o=[],h&&(e[a].status=2,setTimeout(e[a].unwatcher,Math.floor(0)),e[a].onComplete&&i.push("nodata"===c?function(){return e[a].onComplete(null,!1,e[a].currentInputSnapshot)}:function(){return e[a].onComplete(new Error(c),!1,null)}))},c=0;c<e.length;c++)a(c);for(lr(t,t.transactionQueueTree_),c=0;c<i.length;c++)V(i[c]);or(t,t.transactionQueueTree_)}}(t,cr(t,n),i),i}function ar(t,e){var n,i=t.transactionQueueTree_;for(n=ut(e);null!==n&&void 0===mi(i);)i=gi(i,n),n=ut(e=ht(e));return i}function cr(t,e){var n=[];return ur(t,e,n),n.sort(function(t,e){return t.order-e.order}),n}function ur(t,e,n){var i=mi(e);if(i)for(var r=0;r<i.length;r++)n.push(i[r]);vi(e,function(e){ur(t,e,n)})}function lr(t,e){var n=mi(e);if(n){for(var i=0,r=0;r<n.length;r++)2!==n[r].status&&(n[i]=n[r],i++);n.length=i,bi(e,n.length>0?n:void 0)}vi(e,function(e){lr(t,e)})}function hr(t,e){var n=wi(ar(t,e)),i=gi(t.transactionQueueTree_,e);return function(t,e,n){for(var i=t.parent;null!==i;){if(e(i))return!0;i=i.parent}}(i,function(e){dr(t,e)}),dr(t,i),yi(i,function(e){dr(t,e)}),n}function dr(t,e){var n=mi(e);if(n){for(var i=[],o=[],s=-1,a=0;a<n.length;a++)3===n[a].status||(1===n[a].status?(Object(r.assert)(s===a-1,"All SENT items should be at beginning of queue."),s=a,n[a].status=3,n[a].abortReason="set"):(Object(r.assert)(0===n[a].status,"Unexpected transaction status in abort"),n[a].unwatcher(),o=o.concat(Wn(t.serverSyncTree_,n[a].currentWriteId,!0)),n[a].onComplete&&i.push(n[a].onComplete.bind(null,new Error("set"),!1,null))));for(-1===s?bi(e,void 0):n.length=s+1,qi(t.eventQueue_,wi(e),o),a=0;a<i.length;a++)V(i[a])}}var fr=function(t,e){var n=pr(t),i=n.namespace;return"firebase.com"===n.domain&&O(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),i&&"undefined"!==i||"localhost"===n.domain||O("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&T("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new W(n.host,n.secure,i,e,"ws"===n.scheme||"wss"===n.scheme,"",i!==n.subdomain),path:new at(n.pathString)}},pr=function(t){var e="",n="",i="",r="",s="",a=!0,c="https",u=443;if("string"==typeof t){var l=t.indexOf("//");l>=0&&(c=t.substring(0,l-1),t=t.substring(l+2));var h=t.indexOf("/");-1===h&&(h=t.length);var d=t.indexOf("?");-1===d&&(d=t.length),e=t.substring(0,Math.min(h,d)),h<d&&(r=function(t){for(var e="",n=t.split("/"),i=0;i<n.length;i++)if(n[i].length>0){var r=n[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch(o){}e+="/"+r}return e}(t.substring(h,d)));var f=function(t){var e,n,i={};"?"===t.charAt(0)&&(t=t.substring(1));try{for(var r=Object(o.__values)(t.split("&")),s=r.next();!s.done;s=r.next()){var a=s.value;if(0!==a.length){var c=a.split("=");2===c.length?i[decodeURIComponent(c[0])]=decodeURIComponent(c[1]):T("Invalid query segment '"+a+"' in query '"+t+"'")}}}catch(u){e={error:u}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return i}(t.substring(Math.min(t.length,d)));(l=e.indexOf(":"))>=0?(a="https"===c||"wss"===c,u=parseInt(e.substring(l+1),10)):l=e.length;var p=e.slice(0,l);if("localhost"===p.toLowerCase())n="localhost";else if(p.split(".").length<=2)n=p;else{var g=e.indexOf(".");i=e.substring(0,g).toLowerCase(),n=e.substring(g+1),s=i}"ns"in f&&(s=f.ns)}return{host:e,port:u,domain:n,subdomain:i,secure:a,scheme:c,pathString:r,namespace:s}},gr=function(){function t(t,e,n,i){this.eventType=t,this.eventRegistration=e,this.snapshot=n,this.prevName=i}return t.prototype.getPath=function(){var t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path},t.prototype.getEventType=function(){return this.eventType},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+Object(r.stringify)(this.snapshot.exportVal())},t}(),mr=function(){function t(t,e,n){this.eventRegistration=t,this.error=e,this.path=n}return t.prototype.getPath=function(){return this.path},t.prototype.getEventType=function(){return"cancel"},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.path.toString()+":cancel"},t}(),br=function(){function t(t,e){this.snapshotCallback=t,this.cancelCallback=e}return t.prototype.onValue=function(t,e){this.snapshotCallback.call(null,t,e)},t.prototype.onCancel=function(t){return Object(r.assert)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)},Object.defineProperty(t.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),t.prototype.matches=function(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context},t}(),_r=function(){function t(t,e){this._repo=t,this._path=e}return t.prototype.cancel=function(){var t=new r.Deferred;return Xi(this._repo,this._path,t.wrapCallback(function(){})),t.promise},t.prototype.remove=function(){Ni("OnDisconnect.remove",this._path);var t=new r.Deferred;return Ji(this._repo,this._path,null,t.wrapCallback(function(){})),t.promise},t.prototype.set=function(t){Ni("OnDisconnect.set",this._path),Ei("OnDisconnect.set",t,this._path,!1);var e=new r.Deferred;return Ji(this._repo,this._path,t,e.wrapCallback(function(){})),e.promise},t.prototype.setWithPriority=function(t,e){Ni("OnDisconnect.setWithPriority",this._path),Ei("OnDisconnect.setWithPriority",t,this._path,!1),Ri("OnDisconnect.setWithPriority",e,!1);var n=new r.Deferred;return function(t,e,n,i,r){var o=te(n,i);t.server_.onDisconnectPut(e.toString(),o.val(!0),function(n,i){"ok"===n&&Oe(t.onDisconnect_,e,o),ir(0,r,n,i)})}(this._repo,this._path,t,e,n.wrapCallback(function(){})),n.promise},t.prototype.update=function(t){Ni("OnDisconnect.update",this._path),Ai("OnDisconnect.update",t,this._path,!1);var e=new r.Deferred;return function(t,e,n,i){if(Object(r.isEmpty)(n))return C("onDisconnect().update() called with empty data.  Don't do anything."),void ir(0,i,"ok",void 0);t.server_.onDisconnectMerge(e.toString(),n,function(r,o){"ok"===r&&N(n,function(n,i){var r=te(i);Oe(t.onDisconnect_,gt(e,n),r)}),ir(0,i,r,o)})}(this._repo,this._path,t,e.wrapCallback(function(){})),e.promise},t}(),vr=function(){function t(t,e,n,i){this._repo=t,this._path=e,this._queryParams=n,this._orderByCalled=i}return Object.defineProperty(t.prototype,"key",{get:function(){return mt(this._path)?null:dt(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Sr(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_queryIdentifier",{get:function(){var t=we(this._queryParams),e=D(t);return"{}"===e?"default":e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_queryObject",{get:function(){return we(this._queryParams)},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){if(!((e=Object(r.getModularInstance)(e))instanceof t))return!1;var n=this._repo===e._repo,i=vt(this._path,e._path);return n&&i&&this._queryIdentifier===e._queryIdentifier},t.prototype.toJSON=function(){return this.toString()},t.prototype.toString=function(){return this._repo.toString()+function(t){for(var e="",n=t.pieceNum_;n<t.pieces_.length;n++)""!==t.pieces_[n]&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}(this._path)},t}();function yr(t,e){if(!0===t._orderByCalled)throw new Error(e+": You can't combine multiple orderBy calls.")}function wr(t){var e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===Rt){var i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",o="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==E)throw new Error(i);if("string"!=typeof e)throw new Error(o)}if(t.hasEnd()){if(t.getIndexEndName()!==I)throw new Error(i);if("string"!=typeof n)throw new Error(o)}}else if(t.getIndex()===Gt){if(null!=e&&!xi(e)||null!=n&&!xi(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(Object(r.assert)(t.getIndex()instanceof ie||t.getIndex()===re,"unknown index type."),null!=e&&"object"==typeof e||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Cr(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var Sr=function(t){function e(e,n){return t.call(this,e,n,new me,!1)||this}return Object(o.__extends)(e,t),Object.defineProperty(e.prototype,"parent",{get:function(){var t=pt(this._path);return null===t?null:new e(this._repo,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){for(var t=this;null!==t.parent;)t=t.parent;return t},enumerable:!1,configurable:!0}),e}(vr),kr=function(){function t(t,e,n){this._node=t,this.ref=e,this._index=n}return Object.defineProperty(t.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),t.prototype.child=function(e){var n=new at(e),i=xr(this.ref,e);return new t(this._node.getChild(n),i,Gt)},t.prototype.exists=function(){return!this._node.isEmpty()},t.prototype.exportVal=function(){return this._node.val(!0)},t.prototype.forEach=function(e){var n=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,function(i,r){return e(new t(r,xr(n.ref,i),Gt))})},t.prototype.hasChild=function(t){var e=new at(t);return!this._node.getChild(e).isEmpty()},t.prototype.hasChildren=function(){return!this._node.isLeafNode()&&!this._node.isEmpty()},t.prototype.toJSON=function(){return this.exportVal()},t.prototype.val=function(){return this._node.val()},t}();function Or(t,e){return(t=Object(r.getModularInstance)(t))._checkNotDeleted("ref"),void 0!==e?xr(t._root,e):t._root}function Tr(t,e){(t=Object(r.getModularInstance)(t))._checkNotDeleted("refFromURL");var n=fr(e,t._repo.repoInfo_.nodeAdmin);ji("refFromURL",n);var i=n.repoInfo;return t._repo.repoInfo_.isCustomHost()||i.host===t._repo.repoInfo_.host||O("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+t._repo.repoInfo_.host+")"),Or(t,n.path.toString())}function xr(t,e){var n;return null===ut((t=Object(r.getModularInstance)(t))._path)?((n=e)&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Mi("child","path",n,!1)):Mi("child","path",e,!1),new Sr(t._repo,gt(t._path,e))}function Er(t,e){t=Object(r.getModularInstance)(t),Ni("push",t._path),Ei("push",e,t._path,!0);var n,i=Wi(t._repo),o=se(i),s=xr(t,o),a=xr(t,o);return n=null!=e?Ar(a,e).then(function(){return a}):Promise.resolve(a),s.then=n.then.bind(n),s.catch=n.then.bind(n,void 0),s}function Ir(t){return Ni("remove",t._path),Ar(t,null)}function Ar(t,e){t=Object(r.getModularInstance)(t),Ni("set",t._path),Ei("set",e,t._path,!1);var n=new r.Deferred;return Zi(t._repo,t._path,e,null,n.wrapCallback(function(){})),n.promise}function Rr(t,e){t=Object(r.getModularInstance)(t),Ni("setPriority",t._path),Ri("setPriority",e,!1);var n=new r.Deferred;return Zi(t._repo,gt(t._path,".priority"),e,null,n.wrapCallback(function(){})),n.promise}function Pr(t,e,n){if(Ni("setWithPriority",t._path),Ei("setWithPriority",e,t._path,!1),Ri("setWithPriority",n,!1),".length"===t.key||".keys"===t.key)throw"setWithPriority failed: "+t.key+" is a read-only object.";var i=new r.Deferred;return Zi(t._repo,t._path,e,n,i.wrapCallback(function(){})),i.promise}function Dr(t,e){Ai("update",e,t._path,!1);var n=new r.Deferred;return function(t,e,n,i){nr(t,"update",{path:e.toString(),value:n});var o=!0,s=Gi(t),a={};if(N(n,function(n,i){o=!1,a[n]=hi(gt(e,n),te(i),t.serverSyncTree_,s)}),o)C("update() called with empty data.  Don't do anything."),ir(0,i,"ok",void 0);else{var c=Qi(t),u=function(t,e,n,i){!function(t,e,n,i){Object(r.assert)(i>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:i,visible:!0}),t.visibleWrites=$e(t.visibleWrites,e,n),t.lastWriteId=i}(t.pendingWriteTree_,e,n,i);var o=We.fromObject(n);return Qn(t,new je({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,o))}(t.serverSyncTree_,e,a,c);Vi(t.eventQueue_,u),t.server_.merge(e.toString(),n,function(n,r){var o="ok"===n;o||T("update at "+e+" failed: "+n);var s=Wn(t.serverSyncTree_,c,!o),a=s.length>0?sr(t,e):e;qi(t.eventQueue_,a,s),ir(0,i,n,r)}),N(n,function(n){var i=hr(t,gt(e,n));sr(t,i)}),qi(t.eventQueue_,e,[])}}(t._repo,t._path,e,n.wrapCallback(function(){})),n.promise}var Mr=function(){function t(t){this.callbackContext=t}return t.prototype.respondsTo=function(t){return"value"===t},t.prototype.createEvent=function(t,e){var n=e._queryParams.getIndex();return new gr("value",this,new kr(t.snapshotNode,new Sr(e._repo,e._path),n))},t.prototype.getEventRunner=function(t){var e=this;return"cancel"===t.getEventType()?function(){return e.callbackContext.onCancel(t.error)}:function(){return e.callbackContext.onValue(t.snapshot,null)}},t.prototype.createCancelEvent=function(t,e){return this.callbackContext.hasCancelCallback?new mr(this,t,e):null},t.prototype.matches=function(e){return e instanceof t&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))},t.prototype.hasAnyCallback=function(){return null!==this.callbackContext},t}(),Nr=function(){function t(t,e){this.eventType=t,this.callbackContext=e}return t.prototype.respondsTo=function(t){var e="children_added"===t?"child_added":t;return this.eventType===("children_removed"===e?"child_removed":e)},t.prototype.createCancelEvent=function(t,e){return this.callbackContext.hasCancelCallback?new mr(this,t,e):null},t.prototype.createEvent=function(t,e){Object(r.assert)(null!=t.childName,"Child events should have a childName.");var n=xr(new Sr(e._repo,e._path),t.childName),i=e._queryParams.getIndex();return new gr(t.type,this,new kr(t.snapshotNode,n,i),t.prevName)},t.prototype.getEventRunner=function(t){var e=this;return"cancel"===t.getEventType()?function(){return e.callbackContext.onCancel(t.error)}:function(){return e.callbackContext.onValue(t.snapshot,t.prevName)}},t.prototype.matches=function(e){return e instanceof t&&this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext))},t.prototype.hasAnyCallback=function(){return!!this.callbackContext},t}();function jr(t,e,n,i,r){var o;if("object"==typeof i&&(o=void 0,r=i),"function"==typeof i&&(o=i),r&&r.onlyOnce){var s=n,a=function(e,n){tr(t._repo,t,u),s(e,n)};a.userCallback=n.userCallback,a.context=n.context,n=a}var c=new br(n,o||void 0),u="value"===e?new Mr(c):new Nr(e,c);return function(t,e,n){var i;i=".info"===ut(e._path)?$n(t.infoSyncTree_,e,n):$n(t.serverSyncTree_,e,n),Ui(t.eventQueue_,e._path,i)}(t._repo,t,u),function(){return tr(t._repo,t,u)}}function Fr(t,e,n,i){return jr(t,"value",e,n,i)}function Lr(t,e,n,i){return jr(t,"child_added",e,n,i)}function Vr(t,e,n,i){return jr(t,"child_changed",e,n,i)}function Ur(t,e,n,i){return jr(t,"child_moved",e,n,i)}function qr(t,e,n,i){return jr(t,"child_removed",e,n,i)}function Br(t,e,n){var i=null,r=n?new br(n):null;"value"===e?i=new Mr(r):e&&(i=new Nr(e,r)),tr(t._repo,t,i)}var Hr=function(){return function(){}}(),zr=function(t){function e(e,n){var i=t.call(this)||this;return i._value=e,i._key=n,i}return Object(o.__extends)(e,t),e.prototype._apply=function(t){Ei("endAt",this._value,t._path,!0);var e=_e(t._queryParams,this._value,this._key);if(Cr(e),wr(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new vr(t._repo,t._path,e,t._orderByCalled)},e}(Hr);function Wr(t,e){return Di("endAt","key",e,!0),new zr(t,e)}var Gr=function(t){function e(e,n){var i=t.call(this)||this;return i._value=e,i._key=n,i}return Object(o.__extends)(e,t),e.prototype._apply=function(t){Ei("endBefore",this._value,t._path,!1);var e,n,i,r,o=(n=this._value,i=this._key,(e=t._queryParams).index_===Rt?("string"==typeof n&&(n=ce(n)),r=_e(e,n,i)):r=_e(e,n,null==i?E:ce(i)),r.endBeforeSet_=!0,r);if(Cr(o),wr(o),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new vr(t._repo,t._path,o,t._orderByCalled)},e}(Hr);function Kr(t,e){return Di("endBefore","key",e,!0),new Gr(t,e)}var $r=function(t){function e(e,n){var i=t.call(this)||this;return i._value=e,i._key=n,i}return Object(o.__extends)(e,t),e.prototype._apply=function(t){Ei("startAt",this._value,t._path,!0);var e=be(t._queryParams,this._value,this._key);if(Cr(e),wr(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new vr(t._repo,t._path,e,t._orderByCalled)},e}(Hr);function Yr(t,e){return void 0===t&&(t=null),Di("startAt","key",e,!0),new $r(t,e)}var Qr=function(t){function e(e,n){var i=t.call(this)||this;return i._value=e,i._key=n,i}return Object(o.__extends)(e,t),e.prototype._apply=function(t){Ei("startAfter",this._value,t._path,!1);var e,n,i,r,o=(n=this._value,i=this._key,(e=t._queryParams).index_===Rt?("string"==typeof n&&(n=ae(n)),r=be(e,n,i)):r=be(e,n,null==i?I:ae(i)),r.startAfterSet_=!0,r);if(Cr(o),wr(o),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new vr(t._repo,t._path,o,t._orderByCalled)},e}(Hr);function Zr(t,e){return Di("startAfter","key",e,!0),new Qr(t,e)}var Xr=function(t){function e(e){var n=t.call(this)||this;return n._limit=e,n}return Object(o.__extends)(e,t),e.prototype._apply=function(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new vr(t._repo,t._path,(e=this._limit,(n=t._queryParams.copy()).limitSet_=!0,n.limit_=e,n.viewFrom_="l",n),t._orderByCalled);var e,n},e}(Hr);function Jr(t){if("number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Xr(t)}var to=function(t){function e(e){var n=t.call(this)||this;return n._limit=e,n}return Object(o.__extends)(e,t),e.prototype._apply=function(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new vr(t._repo,t._path,(e=this._limit,(n=t._queryParams.copy()).limitSet_=!0,n.limit_=e,n.viewFrom_="r",n),t._orderByCalled);var e,n},e}(Hr);function eo(t){if("number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new to(t)}var no=function(t){function e(e){var n=t.call(this)||this;return n._path=e,n}return Object(o.__extends)(e,t),e.prototype._apply=function(t){yr(t,"orderByChild");var e=new at(this._path);if(mt(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var n=new ie(e),i=ve(t._queryParams,n);return wr(i),new vr(t._repo,t._path,i,!0)},e}(Hr);function io(t){if("$key"===t)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===t)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===t)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Mi("orderByChild","path",t,!1),new no(t)}var ro=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(o.__extends)(e,t),e.prototype._apply=function(t){yr(t,"orderByKey");var e=ve(t._queryParams,Rt);return wr(e),new vr(t._repo,t._path,e,!0)},e}(Hr);function oo(){return new ro}var so=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(o.__extends)(e,t),e.prototype._apply=function(t){yr(t,"orderByPriority");var e=ve(t._queryParams,Gt);return wr(e),new vr(t._repo,t._path,e,!0)},e}(Hr);function ao(){return new so}var co=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(o.__extends)(e,t),e.prototype._apply=function(t){yr(t,"orderByValue");var e=ve(t._queryParams,re);return wr(e),new vr(t._repo,t._path,e,!0)},e}(Hr);function uo(){return new co}var lo=function(t){function e(e,n){var i=t.call(this)||this;return i._value=e,i._key=n,i}return Object(o.__extends)(e,t),e.prototype._apply=function(t){if(Ei("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new zr(this._value,this._key)._apply(new $r(this._value,this._key)._apply(t))},e}(Hr);function ho(t,e){return Di("equalTo","key",e,!0),new lo(t,e)}function fo(t){for(var e,n,i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];var a=Object(r.getModularInstance)(t);try{for(var c=Object(o.__values)(i),u=c.next();!u.done;u=c.next()){var l=u.value;a=l._apply(a)}}catch(h){e={error:h}}finally{try{u&&!u.done&&(n=c.return)&&n.call(c)}finally{if(e)throw e.error}}return a}!function(t){Object(r.assert)(!On,"__referenceConstructor has already been defined"),On=t}(Sr),function(t){Object(r.assert)(!Pn,"__referenceConstructor has already been defined"),Pn=t}(Sr);var po={},go=!1;function mo(t,e,n,i,r){var o=i||t.options.databaseURL;void 0===o&&(t.options.projectId||O("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),C("Using default host for project ",t.options.projectId),o=t.options.projectId+"-default-rtdb.firebaseio.com");var s,a=fr(o,r),c=a.repoInfo,u=void 0;"undefined"!=typeof process&&(u=process.env.FIREBASE_DATABASE_EMULATOR_HOST),u?(s=!0,c=(a=fr(o="http://"+u+"?ns="+c.namespace,r)).repoInfo):s=!a.repoInfo.secure;var l=r&&s?new H(H.OWNER):new B(t.name,t.options,e);ji("Invalid Firebase Database URL",a),mt(a.path)||O("Database URL must point to the root of a Firebase Database (not including a child path).");var h=function(t,e,n,i){var r=po[e.name];r||(po[e.name]=r={});var o=r[t.toURLString()];return o&&O("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new zi(t,go,n,i),r[t.toURLString()]=o,o}(c,t,l,new q(t.name,n));return new bo(h,t)}var bo=function(){function t(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}return Object.defineProperty(t.prototype,"_repo",{get:function(){return this._instanceStarted||(function(t,e,n){if(t.stats_=Q(t.repoInfo_),t.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)t.server_=new Ce(t.repoInfo_,function(e,n,i,r){Ki(t,e,n,i,r)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(function(){return $i(t,!0)},0);else{if(null!=n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Object(r.stringify)(n)}catch(s){throw new Error("Invalid authOverride provided: "+s)}}t.persistentConnection_=new xt(t.repoInfo_,e,function(e,n,i,r){Ki(t,e,n,i,r)},function(e){$i(t,e)},function(e){!function(t,e){N(e,function(e,n){Yi(t,e,n)})}(t,e)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}var i,o;t.authTokenProvider_.addTokenChangeListener(function(e){t.server_.refreshAuthToken(e)}),t.appCheckProvider_.addTokenChangeListener(function(e){t.server_.refreshAppCheckToken(e.token)}),t.statsReporter_=(i=function(){return new Ie(t.stats_,t.server_)},o=t.repoInfo_.toString(),Y[o]||(Y[o]=i()),Y[o]),t.infoData_=new Se,t.infoSyncTree_=new Hn({startListening:function(e,n,i,r){var o=[],s=t.infoData_.getNode(e._path);return s.isEmpty()||(o=Gn(t.infoSyncTree_,e._path,s),setTimeout(function(){r("ok")},0)),o},stopListening:function(){}}),Yi(t,"connected",!1),t.serverSyncTree_=new Hn({startListening:function(e,n,i,r){return t.server_.listen(e,i,n,function(n,i){var o=r(n,i);qi(t.eventQueue_,e._path,o)}),[]},stopListening:function(e,n){t.server_.unlisten(e,n)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new Sr(this._repo,ct())),this._rootInternal},enumerable:!1,configurable:!0}),t.prototype._delete=function(){var t,e,n;return null!==this._rootInternal&&(t=this._repo,(n=po[e=this.app.name])&&n[t.key]===t||O("Database "+e+"("+t.repoInfo_+") has already been deleted."),er(t),delete n[t.key],this._repoInternal=null,this._rootInternal=null),Promise.resolve()},t.prototype._checkNotDeleted=function(t){null===this._rootInternal&&O("Cannot call "+t+" on a deleted database.")},t}();function _o(t){(t=Object(r.getModularInstance)(t))._checkNotDeleted("goOffline"),er(t._repo)}function vo(t){var e;(t=Object(r.getModularInstance)(t))._checkNotDeleted("goOnline"),(e=t._repo).persistentConnection_&&e.persistentConnection_.resume("repo_interrupt")}var yo={".sv":"timestamp"},wo=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}();function Co(t,e,n){var i;if(t=Object(r.getModularInstance)(t),Ni("Reference.transaction",t._path),".length"===t.key||".keys"===t.key)throw"Reference.transaction failed: "+t.key+" is a read-only object.";var o=null===(i=null==n?void 0:n.applyLocally)||void 0===i||i,s=new r.Deferred,a=Fr(t,function(){});return function(e,n,i,o,a,c){nr(e,"transaction on "+n);var u={path:n,update:i,onComplete:function(e,n,i){var r=null;e?s.reject(e):(r=new kr(i,new Sr(t._repo,t._path),Gt),s.resolve(new wo(n,r)))},status:null,order:m(),applyLocally:c,retryCount:0,unwatcher:a,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},l=rr(e,n,void 0);u.currentInputSnapshot=l;var h=u.update(l.val());if(void 0===h)u.unwatcher(),u.currentOutputSnapshotRaw=null,u.currentOutputSnapshotResolved=null,u.onComplete&&u.onComplete(null,!1,u.currentInputSnapshot);else{Ii("transaction failed: Data returned ",h,u.path),u.status=0;var d=gi(e.transactionQueueTree_,n),f=mi(d)||[];f.push(u),bi(d,f);var p=void 0;"object"==typeof h&&null!==h&&Object(r.contains)(h,".priority")?(p=Object(r.safeGet)(h,".priority"),Object(r.assert)(xi(p),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):p=(Yn(e.serverSyncTree_,n)||Xt.EMPTY_NODE).getPriority().val();var g=Gi(e),b=te(h,p),_=di(b,l,g);u.currentOutputSnapshotRaw=b,u.currentOutputSnapshotResolved=_,u.currentWriteId=Qi(e);var v=zn(e.serverSyncTree_,n,_,u.currentWriteId,u.applyLocally);qi(e.eventQueue_,n,v),or(e,e.transactionQueueTree_)}}(t._repo,t._path,e,0,a,o),s.promise}var So=function(){function t(t){this._delegate=t}return t.prototype.cancel=function(t){Object(r.validateArgCount)("OnDisconnect.cancel",0,1,arguments.length),Object(r.validateCallback)("OnDisconnect.cancel","onComplete",t,!0);var e=this._delegate.cancel();return t&&e.then(function(){return t(null)},function(e){return t(e)}),e},t.prototype.remove=function(t){Object(r.validateArgCount)("OnDisconnect.remove",0,1,arguments.length),Object(r.validateCallback)("OnDisconnect.remove","onComplete",t,!0);var e=this._delegate.remove();return t&&e.then(function(){return t(null)},function(e){return t(e)}),e},t.prototype.set=function(t,e){Object(r.validateArgCount)("OnDisconnect.set",1,2,arguments.length),Object(r.validateCallback)("OnDisconnect.set","onComplete",e,!0);var n=this._delegate.set(t);return e&&n.then(function(){return e(null)},function(t){return e(t)}),n},t.prototype.setWithPriority=function(t,e,n){Object(r.validateArgCount)("OnDisconnect.setWithPriority",2,3,arguments.length),Object(r.validateCallback)("OnDisconnect.setWithPriority","onComplete",n,!0);var i=this._delegate.setWithPriority(t,e);return n&&i.then(function(){return n(null)},function(t){return n(t)}),i},t.prototype.update=function(t,e){if(Object(r.validateArgCount)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){for(var n={},i=0;i<t.length;++i)n[""+i]=t[i];t=n,T("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Object(r.validateCallback)("OnDisconnect.update","onComplete",e,!0);var o=this._delegate.update(t);return e&&o.then(function(){return e(null)},function(t){return e(t)}),o},t}(),ko=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return Object(r.validateArgCount)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}(),Oo=function(){function t(t,e){this._database=t,this._delegate=e}return t.prototype.val=function(){return Object(r.validateArgCount)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},t.prototype.exportVal=function(){return Object(r.validateArgCount)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},t.prototype.toJSON=function(){return Object(r.validateArgCount)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},t.prototype.exists=function(){return Object(r.validateArgCount)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},t.prototype.child=function(e){return Object(r.validateArgCount)("DataSnapshot.child",0,1,arguments.length),e=String(e),Mi("DataSnapshot.child","path",e,!1),new t(this._database,this._delegate.child(e))},t.prototype.hasChild=function(t){return Object(r.validateArgCount)("DataSnapshot.hasChild",1,1,arguments.length),Mi("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)},t.prototype.getPriority=function(){return Object(r.validateArgCount)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},t.prototype.forEach=function(e){var n=this;return Object(r.validateArgCount)("DataSnapshot.forEach",1,1,arguments.length),Object(r.validateCallback)("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(function(i){return e(new t(n._database,i))})},t.prototype.hasChildren=function(){return Object(r.validateArgCount)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(t.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),t.prototype.numChildren=function(){return Object(r.validateArgCount)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},t.prototype.getRef=function(){return Object(r.validateArgCount)("DataSnapshot.ref",0,0,arguments.length),new xo(this._database,this._delegate.ref)},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),t}(),To=function(){function t(t,e){this.database=t,this._delegate=e}return t.prototype.on=function(e,n,i,o){var s,a=this;Object(r.validateArgCount)("Query.on",2,4,arguments.length),Object(r.validateCallback)("Query.on","callback",n,!1);var c=t.getCancelAndContextArgs_("Query.on",i,o),u=function(t,e){n.call(c.context,new Oo(a.database,t),e)};u.userCallback=n,u.context=c.context;var l=null===(s=c.cancel)||void 0===s?void 0:s.bind(c.context);switch(e){case"value":return Fr(this._delegate,u,l),n;case"child_added":return Lr(this._delegate,u,l),n;case"child_removed":return qr(this._delegate,u,l),n;case"child_changed":return Vr(this._delegate,u,l),n;case"child_moved":return Ur(this._delegate,u,l),n;default:throw new Error(Object(r.errorPrefix)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},t.prototype.off=function(t,e,n){if(Object(r.validateArgCount)("Query.off",0,3,arguments.length),Pi("Query.off",t,!0),Object(r.validateCallback)("Query.off","callback",e,!0),Object(r.validateContextObject)("Query.off","context",n,!0),e){var i=function(){};i.userCallback=e,i.context=n,Br(this._delegate,t,i)}else Br(this._delegate,t)},t.prototype.get=function(){var t=this;return function(t){return function(t,e){var n=function(t,e){var n=e._path,i=null;t.syncPointTree_.foreachOnPath(n,function(t,e){var r=bt(t,n);i=i||Fn(e,r)});var r=t.syncPointTree_.get(n);r?i=i||Fn(r,ct()):(r=new Dn,t.syncPointTree_=t.syncPointTree_.set(n,r));var o=null!=i,s=o?new Fe(i,!0,!1):null;return He(Nn(r,e,rn(t.pendingWriteTree_,e._path),o?s.getNode():Xt.EMPTY_NODE,o).viewCache_)}(t.serverSyncTree_,e);return null!=n?Promise.resolve(n):t.server_.get(e).then(function(n){var i=te(n).withIndex(e._queryParams.getIndex()),r=Gn(t.serverSyncTree_,e._path,i);return Ui(t.eventQueue_,e._path,r),Promise.resolve(i)},function(n){return nr(t,"get for query "+Object(r.stringify)(e)+" failed: "+n),Promise.reject(new Error(n))})}((t=Object(r.getModularInstance)(t))._repo,t).then(function(e){return new kr(e,new Sr(t._repo,t._path),t._queryParams.getIndex())})}(this._delegate).then(function(e){return new Oo(t.database,e)})},t.prototype.once=function(e,n,i,o){var s=this;Object(r.validateArgCount)("Query.once",1,4,arguments.length),Object(r.validateCallback)("Query.once","callback",n,!0);var a=t.getCancelAndContextArgs_("Query.once",i,o),c=new r.Deferred,u=function(t,e){var i=new Oo(s.database,t);n&&n.call(a.context,i,e),c.resolve(i)};u.userCallback=n,u.context=a.context;var l=function(t){a.cancel&&a.cancel.call(a.context,t),c.reject(t)};switch(e){case"value":Fr(this._delegate,u,l,{onlyOnce:!0});break;case"child_added":Lr(this._delegate,u,l,{onlyOnce:!0});break;case"child_removed":qr(this._delegate,u,l,{onlyOnce:!0});break;case"child_changed":Vr(this._delegate,u,l,{onlyOnce:!0});break;case"child_moved":Ur(this._delegate,u,l,{onlyOnce:!0});break;default:throw new Error(Object(r.errorPrefix)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return c.promise},t.prototype.limitToFirst=function(e){return Object(r.validateArgCount)("Query.limitToFirst",1,1,arguments.length),new t(this.database,fo(this._delegate,Jr(e)))},t.prototype.limitToLast=function(e){return Object(r.validateArgCount)("Query.limitToLast",1,1,arguments.length),new t(this.database,fo(this._delegate,eo(e)))},t.prototype.orderByChild=function(e){return Object(r.validateArgCount)("Query.orderByChild",1,1,arguments.length),new t(this.database,fo(this._delegate,io(e)))},t.prototype.orderByKey=function(){return Object(r.validateArgCount)("Query.orderByKey",0,0,arguments.length),new t(this.database,fo(this._delegate,oo()))},t.prototype.orderByPriority=function(){return Object(r.validateArgCount)("Query.orderByPriority",0,0,arguments.length),new t(this.database,fo(this._delegate,ao()))},t.prototype.orderByValue=function(){return Object(r.validateArgCount)("Query.orderByValue",0,0,arguments.length),new t(this.database,fo(this._delegate,uo()))},t.prototype.startAt=function(e,n){return void 0===e&&(e=null),Object(r.validateArgCount)("Query.startAt",0,2,arguments.length),new t(this.database,fo(this._delegate,Yr(e,n)))},t.prototype.startAfter=function(e,n){return void 0===e&&(e=null),Object(r.validateArgCount)("Query.startAfter",0,2,arguments.length),new t(this.database,fo(this._delegate,Zr(e,n)))},t.prototype.endAt=function(e,n){return void 0===e&&(e=null),Object(r.validateArgCount)("Query.endAt",0,2,arguments.length),new t(this.database,fo(this._delegate,Wr(e,n)))},t.prototype.endBefore=function(e,n){return void 0===e&&(e=null),Object(r.validateArgCount)("Query.endBefore",0,2,arguments.length),new t(this.database,fo(this._delegate,Kr(e,n)))},t.prototype.equalTo=function(e,n){return Object(r.validateArgCount)("Query.equalTo",1,2,arguments.length),new t(this.database,fo(this._delegate,ho(e,n)))},t.prototype.toString=function(){return Object(r.validateArgCount)("Query.toString",0,0,arguments.length),this._delegate.toString()},t.prototype.toJSON=function(){return Object(r.validateArgCount)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},t.prototype.isEqual=function(e){if(Object(r.validateArgCount)("Query.isEqual",1,1,arguments.length),!(e instanceof t)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(e._delegate)},t.getCancelAndContextArgs_=function(t,e,n){var i={cancel:void 0,context:void 0};if(e&&n)i.cancel=e,Object(r.validateCallback)(t,"cancel",i.cancel,!0),i.context=n,Object(r.validateContextObject)(t,"context",i.context,!0);else if(e)if("object"==typeof e&&null!==e)i.context=e;else{if("function"!=typeof e)throw new Error(Object(r.errorPrefix)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");i.cancel=e}return i},Object.defineProperty(t.prototype,"ref",{get:function(){return new xo(this.database,new Sr(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),t}(),xo=function(t){function e(e,n){var i=t.call(this,e,new vr(n._repo,n._path,new me,!1))||this;return i.database=e,i._delegate=n,i}return Object(o.__extends)(e,t),e.prototype.getKey=function(){return Object(r.validateArgCount)("Reference.key",0,0,arguments.length),this._delegate.key},e.prototype.child=function(t){return Object(r.validateArgCount)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new e(this.database,xr(this._delegate,t))},e.prototype.getParent=function(){Object(r.validateArgCount)("Reference.parent",0,0,arguments.length);var t=this._delegate.parent;return t?new e(this.database,t):null},e.prototype.getRoot=function(){return Object(r.validateArgCount)("Reference.root",0,0,arguments.length),new e(this.database,this._delegate.root)},e.prototype.set=function(t,e){Object(r.validateArgCount)("Reference.set",1,2,arguments.length),Object(r.validateCallback)("Reference.set","onComplete",e,!0);var n=Ar(this._delegate,t);return e&&n.then(function(){return e(null)},function(t){return e(t)}),n},e.prototype.update=function(t,e){if(Object(r.validateArgCount)("Reference.update",1,2,arguments.length),Array.isArray(t)){for(var n={},i=0;i<t.length;++i)n[""+i]=t[i];t=n,T("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Ni("Reference.update",this._delegate._path),Object(r.validateCallback)("Reference.update","onComplete",e,!0);var o=Dr(this._delegate,t);return e&&o.then(function(){return e(null)},function(t){return e(t)}),o},e.prototype.setWithPriority=function(t,e,n){Object(r.validateArgCount)("Reference.setWithPriority",2,3,arguments.length),Object(r.validateCallback)("Reference.setWithPriority","onComplete",n,!0);var i=Pr(this._delegate,t,e);return n&&i.then(function(){return n(null)},function(t){return n(t)}),i},e.prototype.remove=function(t){Object(r.validateArgCount)("Reference.remove",0,1,arguments.length),Object(r.validateCallback)("Reference.remove","onComplete",t,!0);var e=Ir(this._delegate);return t&&e.then(function(){return t(null)},function(e){return t(e)}),e},e.prototype.transaction=function(t,e,n){var i=this;Object(r.validateArgCount)("Reference.transaction",1,3,arguments.length),Object(r.validateCallback)("Reference.transaction","transactionUpdate",t,!1),Object(r.validateCallback)("Reference.transaction","onComplete",e,!0),Fi("Reference.transaction","applyLocally",n,!0);var o=Co(this._delegate,t,{applyLocally:n}).then(function(t){return new ko(t.committed,new Oo(i.database,t.snapshot))});return e&&o.then(function(t){return e(null,t.committed,t.snapshot)},function(t){return e(t,!1,null)}),o},e.prototype.setPriority=function(t,e){Object(r.validateArgCount)("Reference.setPriority",1,2,arguments.length),Object(r.validateCallback)("Reference.setPriority","onComplete",e,!0);var n=Rr(this._delegate,t);return e&&n.then(function(){return e(null)},function(t){return e(t)}),n},e.prototype.push=function(t,n){var i=this;Object(r.validateArgCount)("Reference.push",0,2,arguments.length),Object(r.validateCallback)("Reference.push","onComplete",n,!0);var o=Er(this._delegate,t),s=o.then(function(t){return new e(i.database,t)});n&&s.then(function(){return n(null)},function(t){return n(t)});var a=new e(this.database,o);return a.then=s.then.bind(s),a.catch=s.catch.bind(s,void 0),a},e.prototype.onDisconnect=function(){return Ni("Reference.onDisconnect",this._delegate._path),new So(new _r(this._delegate._repo,this._delegate._path))},Object.defineProperty(e.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),e}(To),Eo=function(){function t(t,e){var n=this;this._delegate=t,this.app=e,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),function(t,e,n,i){void 0===i&&(i={}),(t=Object(r.getModularInstance)(t))._checkNotDeleted("useEmulator"),t._instanceStarted&&O("Cannot call useEmulator() after instance has already been initialized.");var o=t._repoInternal,s=void 0;if(o.repoInfo_.nodeAdmin)i.mockUserToken&&O('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new H(H.OWNER);else if(i.mockUserToken){var a="string"==typeof i.mockUserToken?i.mockUserToken:Object(r.createMockUserToken)(i.mockUserToken,t.app.options.projectId);s=new H(a)}!function(t,e,n,i){t.repoInfo_=new W(e+":"+n,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams),i&&(t.authTokenProvider_=i)}(o,e,n,s)}(this._delegate,t,e,n)},t.prototype.ref=function(t){if(Object(r.validateArgCount)("database.ref",0,1,arguments.length),t instanceof xo){var e=Tr(this._delegate,t.toString());return new xo(this,e)}return e=Or(this._delegate,t),new xo(this,e)},t.prototype.refFromURL=function(t){var e="database.refFromURL";Object(r.validateArgCount)(e,1,1,arguments.length);var n=Tr(this._delegate,t);return new xo(this,n)},t.prototype.goOffline=function(){return Object(r.validateArgCount)("database.goOffline",0,0,arguments.length),_o(this._delegate)},t.prototype.goOnline=function(){return Object(r.validateArgCount)("database.goOnline",0,0,arguments.length),vo(this._delegate)},t.ServerValue={TIMESTAMP:yo,increment:function(t){return function(t){return{".sv":{increment:t}}}(t)}},t}(),Io=Object.freeze({__proto__:null,forceLongPolling:function(){et.forceDisallow(),X.forceAllow()},forceWebSockets:function(){X.forceDisallow()},isWebSocketsAvailable:function(){return et.isAvailable()},setSecurityDebugCallback:function(t,e){t._delegate._repo.persistentConnection_.securityDebugCallback_=e},stats:function(t,e){!function(t,e){if(void 0===e&&(e=!1),"undefined"!=typeof console){var n;e?(t.statsListener_||(t.statsListener_=new Ee(t.stats_)),n=t.statsListener_.get()):n=t.stats_.get();var i=Object.keys(n).reduce(function(t,e){return Math.max(e.length,t)},0);N(n,function(t,e){for(var n=t,r=t.length;r<i+2;r++)n+=" ";console.log(n+e)})}}(t._delegate._repo,e)},statsIncrementCounter:function(t,e){!function(t,e){t.stats_.incrementCounter(e),t.statsReporter_.statsToReport_[e]=!0}(t._delegate._repo,e)},dataUpdateCount:function(t){return t._delegate._repo.dataUpdateCount},interceptServerData:function(t,e){return function(t,e){t.interceptServerDataCallback_=e}(t._delegate._repo,e)},initStandalone:function(t){var e=t.app,n=t.url,r=t.customAuthImpl,o=t.namespace,s=t.nodeAdmin,a=void 0!==s&&s;c(t.version);var u=new i.Provider("auth-internal",new i.ComponentContainer("database-standalone"));return u.setComponent(new i.Component("auth-internal",function(){return r},"PRIVATE")),{instance:new Eo(mo(e,u,void 0,n,a),e),namespace:o}}}),Ao=xt;xt.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},xt.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};var Ro=Object.freeze({__proto__:null,DataConnection:Ao,RealTimeConnection:it,hijackHash:function(t){var e=xt.prototype.put;return xt.prototype.put=function(n,i,r,o){void 0!==o&&(o=t()),e.call(this,n,i,r,o)},function(){xt.prototype.put=e}},ConnectionTarget:W,queryIdentifier:function(t){return t._delegate._queryIdentifier},forceRestClient:function(t){!function(t){go=t}(t)}}),Po=Eo.ServerValue;!function(e){c(e.SDK_VERSION);var n=e.INTERNAL.registerComponent(new i.Component("database",function(t,e){var n=e.instanceIdentifier,i=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return new Eo(mo(i,r,o,n),i)},"PUBLIC").setServiceProps({Reference:xo,Query:To,Database:Eo,DataSnapshot:Oo,enableLogging:w,INTERNAL:Io,ServerValue:Po,TEST_ACCESS:Ro}).setMultipleInstances(!0));e.registerVersion("@firebase/database","0.11.0"),Object(r.isNodeSdk)()&&(t.exports=n)}(e.default)}).call(this,n("3UD+")(t))},I55L:function(t,e,n){"use strict";n.d(e,"a",function(){return i});const i=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";n.d(e,"a",function(){return r});let i=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class r extends i{constructor(t,e=i.now){super(t,()=>r.delegate&&r.delegate!==this?r.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return r.delegate&&r.delegate!==this?r.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},JO9c:function(t,e,n){"use strict";var i=n("d+ix");(function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},n=function(t){t=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,t];for(var e=0;e<t.length;++e){var n=t[e];if(n&&n.Math==Math)return n}return globalThis}(this);function r(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function o(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:r(t)}}!function(t,i){if(i){var r=n;t=t.split(".");for(var o=0;o<t.length-1;o++){var s=t[o];s in r||(r[s]={}),r=r[s]}(i=i(o=r[t=t[t.length-1]]))!=o&&null!=i&&e(r,t,{configurable:!0,writable:!0,value:i})}}("Promise",function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(n){e.reject(n)}}function i(){this.a=null}function r(t){return t instanceof e?t:new e(function(e){e(t)})}if(t)return t;i.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c(function(){e.g()})}this.a.push(t)};var s=n.setTimeout;i.prototype.c=function(t){s(t,0)},i.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(i){this.f(i)}}}this.a=null},i.prototype.f=function(t){this.c(function(){throw t})},e.prototype.f=function(){function t(t){return function(i){n||(n=!0,t.call(e,i))}}var e=this,n=!1;return{resolve:t(this.m),reject:t(this.g)}},e.prototype.m=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.s(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.v(t):this.h(t)}},e.prototype.v=function(t){var e=void 0;try{e=t.then}catch(n){return void this.g(n)}"function"==typeof e?this.u(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)a.b(this.a[t]);this.a=null}};var a=new i;return e.prototype.s=function(t){var e=this.f();t.Ra(e.resolve,e.reject)},e.prototype.u=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(i){n.reject(i)}},e.prototype.then=function(t,n){function i(t,e){return"function"==typeof t?function(e){try{r(t(e))}catch(n){o(n)}}:e}var r,o,s=new e(function(t,e){r=t,o=e});return this.Ra(i(t,r),i(n,o)),s},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Ra=function(t,e){function n(){switch(i.b){case 1:t(i.c);break;case 2:e(i.c);break;default:throw Error("Unexpected state: "+i.b)}}var i=this;null==this.a?a.b(n):this.a.push(n)},e.resolve=r,e.reject=function(t){return new e(function(e,n){n(t)})},e.race=function(t){return new e(function(e,n){for(var i=o(t),s=i.next();!s.done;s=i.next())r(s.value).Ra(e,n)})},e.all=function(t){var n=o(t),i=n.next();return i.done?r([]):new e(function(t,e){function o(e){return function(n){s[e]=n,0==--a&&t(s)}}var s=[],a=0;do{s.push(void 0),a++,r(i.value).Ra(o(s.length-1),e),i=n.next()}while(!i.done)})},e});var s=s||{},a=this||self,c=/^[\w+/_-]+[=]{0,2}$/,u=null;function l(t){return(t=t.querySelector&&t.querySelector("script[nonce]"))&&(t=t.nonce||t.getAttribute("nonce"))&&c.test(t)?t:""}function h(){}function d(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function f(t){var e=d(t);return"array"==e||"object"==e&&"number"==typeof t.length}function p(t){return"function"==d(t)}function g(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function m(t){return Object.prototype.hasOwnProperty.call(t,b)&&t[b]||(t[b]=++_)}var b="closure_uid_"+(1e9*Math.random()>>>0),_=0;function v(t,e,n){return t.call.apply(t.bind,arguments)}function y(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,i),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function w(t,e,n){return(w=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?v:y).apply(null,arguments)}function C(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var S=Date.now;function k(t,e){function n(){}n.prototype=e.prototype,t.bb=e.prototype,t.prototype=new n,t.prototype.constructor=t}function O(t){return t}function T(t,e,n){this.code=I+t,this.message=e||A[t]||"",this.a=n||null}function x(t){var e=t&&t.code;return e?new T(e.substring(I.length),t.message,t.serverResponse):null}k(T,Error),T.prototype.w=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},T.prototype.toJSON=function(){return this.w()};var E,I="auth/",A={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},R={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function P(t){for(var e in R)if(R[e].id===t)return{firebaseEndpoint:(t=R[e]).Ua,secureTokenEndpoint:t.$a,identityPlatformEndpoint:t.Xa};return null}function D(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(e){return!1}}function M(t){if(Error.captureStackTrace)Error.captureStackTrace(this,M);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function N(t,e){for(var n="",i=(t=t.split("%s")).length-1,r=0;r<i;r++)n+=t[r]+(r<e.length?e[r]:"%s");M.call(this,n+t[i])}function j(t,e){throw new N("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function F(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function L(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function V(){this.b=this.a=null}E=P("__EID__")?"__EID__":void 0,k(M,Error),M.prototype.name="CustomError",k(N,M),N.prototype.name="AssertionError",F.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var U=new F(function(){return new B},function(t){t.reset()});function q(){var t=_e,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function B(){this.next=this.b=this.a=null}V.prototype.add=function(t,e){var n=U.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},B.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},B.prototype.reset=function(){this.next=this.b=this.a=null};var H=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},z=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var i=t.length,r="string"==typeof t?t.split(""):t,o=0;o<i;o++)o in r&&e.call(n,r[o],o,t)},W=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n=t.length,i=[],r=0,o="string"==typeof t?t.split(""):t,s=0;s<n;s++)if(s in o){var a=o[s];e.call(void 0,a,s,t)&&(i[r++]=a)}return i},G=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,i=Array(n),r="string"==typeof t?t.split(""):t,o=0;o<n;o++)o in r&&(i[o]=e.call(void 0,r[o],o,t));return i},K=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,i="string"==typeof t?t.split(""):t,r=0;r<n;r++)if(r in i&&e.call(void 0,i[r],r,t))return!0;return!1};function $(t,e){return 0<=H(t,e)}function Y(t,e){var n;return(n=0<=(e=H(t,e)))&&Array.prototype.splice.call(t,e,1),n}function Q(t,e){!function(t,e){for(var n="string"==typeof t?t.split(""):t,i=t.length-1;0<=i;--i)i in n&&e.call(void 0,n[i],i,t)}(t,function(n,i){e.call(void 0,n,i,t)&&Array.prototype.splice.call(t,i,1)})}function Z(t){return Array.prototype.concat.apply([],arguments)}function X(t){var e=t.length;if(0<e){for(var n=Array(e),i=0;i<e;i++)n[i]=t[i];return n}return[]}var J,tt=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},et=/&/g,nt=/</g,it=/>/g,rt=/"/g,ot=/'/g,st=/\x00/g,at=/[\x00&<>"']/;function ct(t,e){return-1!=t.indexOf(e)}function ut(t,e){return t<e?-1:t>e?1:0}t:{var lt=a.navigator;if(lt){var ht=lt.userAgent;if(ht){J=ht;break t}}J=""}function dt(t){return ct(J,t)}function ft(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function pt(t){for(var e in t)return!1;return!0}function gt(t){var e,n={};for(e in t)n[e]=t[e];return n}var mt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function bt(t,e){for(var n,i,r=1;r<arguments.length;r++){for(n in i=arguments[r])t[n]=i[n];for(var o=0;o<mt.length;o++)n=mt[o],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}function _t(t,e){t:{try{var n=t&&t.ownerDocument,i=n&&(n.defaultView||n.parentWindow);if((i=i||a).Element&&i.Location){var r=i;break t}}catch(s){}r=null}if(r&&void 0!==r[e]&&(!t||!(t instanceof r[e])&&(t instanceof r.Location||t instanceof r.Element))){if(g(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(s){o="<object could not be stringified>"}else o=void 0===t?"undefined":null===t?"null":typeof t;j("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,o)}}function vt(t,e){this.a=t===St&&e||"",this.b=Ct}function yt(t){return t instanceof vt&&t.constructor===vt&&t.b===Ct?t.a:(j("expected object of type Const, got '"+t+"'"),"type_error:Const")}vt.prototype.ta=!0,vt.prototype.sa=function(){return this.a},vt.prototype.toString=function(){return"Const{"+this.a+"}"};var wt,Ct={},St={};function kt(){if(void 0===wt){var t=null,e=a.trustedTypes;if(e&&e.createPolicy){try{t=e.createPolicy("goog#html",{createHTML:O,createScript:O,createScriptURL:O})}catch(n){a.console&&a.console.error(n.message)}wt=t}else wt=t}return wt}function Ot(t,e){this.a=e===At?t:""}function Tt(t){return t instanceof Ot&&t.constructor===Ot?t.a:(j("expected object of type TrustedResourceUrl, got '"+t+"' of type "+d(t)),"type_error:TrustedResourceUrl")}function xt(t,e){var n=yt(t);if(!It.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return function(t){var e=kt();return new Ot(t=e?e.createScriptURL(t):t,At)}(t=n.replace(Et,function(t,i){if(!Object.prototype.hasOwnProperty.call(e,i))throw Error('Found marker, "'+i+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[i])instanceof vt?yt(t):encodeURIComponent(String(t))}))}Ot.prototype.ta=!0,Ot.prototype.sa=function(){return this.a.toString()},Ot.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Et=/%{(\w+)}/g,It=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,At={};function Rt(t,e){this.a=e===Lt?t:""}function Pt(t){return t instanceof Rt&&t.constructor===Rt?t.a:(j("expected object of type SafeUrl, got '"+t+"' of type "+d(t)),"type_error:SafeUrl")}Rt.prototype.ta=!0,Rt.prototype.sa=function(){return this.a.toString()},Rt.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Dt=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,Mt=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Nt=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function jt(t){if(t instanceof Rt)return t;if(t="object"==typeof t&&t.ta?t.sa():String(t),Nt.test(t))t=new Rt(t,Lt);else{var e=(t=(t=String(t)).replace(/(%0A|%0D)/g,"")).match(Mt);t=e&&Dt.test(e[1])?new Rt(t,Lt):null}return t}function Ft(t){return t instanceof Rt?t:(t="object"==typeof t&&t.ta?t.sa():String(t),Nt.test(t)||(t="about:invalid#zClosurez"),new Rt(t,Lt))}var Lt={},Vt=new Rt("about:invalid#zClosurez",Lt);function Ut(t,e,n){this.a=n===qt?t:""}Ut.prototype.ta=!0,Ut.prototype.sa=function(){return this.a.toString()},Ut.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var qt={};function Bt(t,e,n,i){return t=t instanceof Rt?t:Ft(t),e=e||a,n=n instanceof vt?yt(n):n||"",e.open(Pt(t),n,i,void 0)}function Ht(t,e){for(var n=t.split("%s"),i="",r=Array.prototype.slice.call(arguments,1);r.length&&1<n.length;)i+=n.shift()+r.shift();return i+n.join("%s")}function zt(t){return at.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(et,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(nt,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(it,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(rt,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(ot,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(st,"&#0;"))),t}function Wt(t){return Wt[" "](t),t}Wt[" "]=h;var Gt,Kt,$t=dt("Opera"),Yt=dt("Trident")||dt("MSIE"),Qt=dt("Edge"),Zt=Qt||Yt,Xt=dt("Gecko")&&!(ct(J.toLowerCase(),"webkit")&&!dt("Edge"))&&!(dt("Trident")||dt("MSIE"))&&!dt("Edge"),Jt=ct(J.toLowerCase(),"webkit")&&!dt("Edge");function te(){var t=a.document;return t?t.documentMode:void 0}t:{var ee="",ne=(Kt=J,Xt?/rv:([^\);]+)(\)|;)/.exec(Kt):Qt?/Edge\/([\d\.]+)/.exec(Kt):Yt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Kt):Jt?/WebKit\/(\S+)/.exec(Kt):$t?/(?:Version)[ \/]?(\S+)/.exec(Kt):void 0);if(ne&&(ee=ne?ne[1]:""),Yt){var ie=te();if(null!=ie&&ie>parseFloat(ee)){Gt=String(ie);break t}}Gt=ee}var re={};function oe(t){return function(t,e){var n=re;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=tt(String(Gt)).split("."),i=tt(String(t)).split("."),r=Math.max(n.length,i.length),o=0;0==e&&o<r;o++){var s=n[o]||"",a=i[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=ut(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||ut(0==s[2].length,0==a[2].length)||ut(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e})}var se=a.document&&Yt&&(te()||parseInt(Gt,10))||void 0;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(Kt){}var ae=!Yt||9<=Number(se);function ce(t){var e=document;return"string"==typeof t?e.getElementById(t):t}function ue(t,e){ft(e,function(e,n){e&&"object"==typeof e&&e.ta&&(e=e.sa()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:de.hasOwnProperty(n)?t.setAttribute(de[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e})}var le,he,de={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function fe(t,e,n){function i(n){n&&e.appendChild("string"==typeof n?t.createTextNode(n):n)}for(var r=2;r<n.length;r++){var o=n[r];if(!f(o)||g(o)&&0<o.nodeType)i(o);else{t:{if(o&&"number"==typeof o.length){if(g(o)){var s="function"==typeof o.item||"string"==typeof o.item;break t}if(p(o)){s="function"==typeof o.item;break t}}s=!1}z(s?X(o):o,i)}}}function pe(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function ge(t){a.setTimeout(function(){throw t},0)}function me(t,e){he||function(){if(a.Promise&&a.Promise.resolve){var t=a.Promise.resolve(void 0);he=function(){t.then(ve)}}else he=function(){var t=ve;!p(a.setImmediate)||a.Window&&a.Window.prototype&&!dt("Edge")&&a.Window.prototype.setImmediate==a.setImmediate?(le||(le=function(){var t=a.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!dt("Presto")&&(t=function(){var t=pe(document,"IFRAME");t.style.display="none",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.close();var n="callImmediate"+Math.random(),i="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=w(function(t){"*"!=i&&t.origin!=i||t.data!=n||this.port1.onmessage()},this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,i)}}}),void 0!==t&&!dt("Trident")&&!dt("MSIE")){var e=new t,n={},i=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).Hb;n.Hb=null,t()}},function(t){i.next={Hb:t},i=i.next,e.port2.postMessage(0)}}return function(t){a.setTimeout(t,0)}}()),le(t)):a.setImmediate(t)}}(),be||(he(),be=!0),_e.add(t,e)}var be=!1,_e=new V;function ve(){for(var t;t=q();){try{t.a.call(t.b)}catch(e){ge(e)}L(U,t)}be=!1}function ye(t,e){if(this.a=we,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=h)try{var n=this;t.call(e,function(t){Me(n,Ce,t)},function(t){if(!(t instanceof qe))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(e){}Me(n,Se,t)})}catch(i){Me(this,Se,i)}}var we=0,Ce=2,Se=3;function ke(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}ke.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Oe=new F(function(){return new ke},function(t){t.reset()});function Te(t,e,n){var i=Oe.get();return i.g=t,i.b=e,i.f=n,i}function xe(t){if(t instanceof ye)return t;var e=new ye(h);return Me(e,Ce,t),e}function Ee(t){return new ye(function(e,n){n(t)})}function Ie(t,e,n){Ne(t,e,n,null)||me(C(e,t))}function Ae(t){return new ye(function(e){var n=t.length,i=[];if(n)for(var r=function(t,r,o){n--,i[t]=r?{Qb:!0,value:o}:{Qb:!1,reason:o},0==n&&e(i)},o=0;o<t.length;o++)Ie(t[o],C(r,o,!0),C(r,o,!1));else e(i)})}function Re(t,e){if(t.a==we)if(t.c){var n=t.c;if(n.b){for(var i=0,r=null,o=null,s=n.b;s&&(s.c||(i++,s.a==t&&(r=s),!(r&&1<i)));s=s.next)r||(o=s);r&&(n.a==we&&1==i?Re(n,e):(o?((i=o).next==n.f&&(n.f=i),i.next=i.next.next):Fe(n),Le(n,r,Se,e)))}t.c=null}else Me(t,Se,e)}function Pe(t,e){t.b||t.a!=Ce&&t.a!=Se||je(t),t.f?t.f.next=e:t.b=e,t.f=e}function De(t,e,n,i){var r=Te(null,null,null);return r.a=new ye(function(t,o){r.g=e?function(n){try{var r=e.call(i,n);t(r)}catch(s){o(s)}}:t,r.b=n?function(e){try{var r=n.call(i,e);void 0===r&&e instanceof qe?o(e):t(r)}catch(s){o(s)}}:o}),r.a.c=t,Pe(t,r),r.a}function Me(t,e,n){t.a==we&&(t===n&&(e=Se,n=new TypeError("Promise cannot resolve to itself")),t.a=1,Ne(n,t.$c,t.ad,t)||(t.i=n,t.a=e,t.c=null,je(t),e!=Se||n instanceof qe||function(t,e){t.g=!0,me(function(){t.g&&Ue.call(null,e)})}(t,n)))}function Ne(t,e,n,i){if(t instanceof ye)return Pe(t,Te(e||h,n||null,i)),!0;if(D(t))return t.then(e,n,i),!0;if(g(t))try{var r=t.then;if(p(r))return function(t,e,n,i,r){function o(t){s||(s=!0,i.call(r,t))}var s=!1;try{e.call(t,function(t){s||(s=!0,n.call(r,t))},o)}catch(a){o(a)}}(t,r,e,n,i),!0}catch(o){return n.call(i,o),!0}return!1}function je(t){t.h||(t.h=!0,me(t.gc,t))}function Fe(t){var e=null;return t.b&&(t.b=(e=t.b).next,e.next=null),t.b||(t.f=null),e}function Le(t,e,n,i){if(n==Se&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,Ve(e,n,i);else try{e.c?e.g.call(e.f):Ve(e,n,i)}catch(r){Ue.call(null,r)}L(Oe,e)}function Ve(t,e,n){e==Ce?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}ye.prototype.then=function(t,e,n){return De(this,p(t)?t:null,p(e)?e:null,n)},ye.prototype.$goog_Thenable=!0,(t=ye.prototype).oa=function(t,e){return(t=Te(t,t,e)).c=!0,Pe(this,t),this},t.o=function(t,e){return De(this,null,t,e)},t.cancel=function(t){if(this.a==we){var e=new qe(t);me(function(){Re(this,e)},this)}},t.$c=function(t){this.a=we,Me(this,Ce,t)},t.ad=function(t){this.a=we,Me(this,Se,t)},t.gc=function(){for(var t;t=Fe(this);)Le(this,t,this.a,this.i);this.h=!1};var Ue=ge;function qe(t){M.call(this,t)}function Be(){0!=He&&(ze[m(this)]=this),this.ya=this.ya,this.pa=this.pa}k(qe,M),qe.prototype.name="cancel";var He=0,ze={};function We(t){if(!t.ya&&(t.ya=!0,t.Da(),0!=He)){var e=m(t);if(0!=He&&t.pa&&0<t.pa.length)throw Error(t+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete ze[e]}}Be.prototype.ya=!1,Be.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var Ge=Object.freeze||function(t){return t},Ke=!Yt||9<=Number(se),$e=Yt&&!oe("9"),Ye=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{a.addEventListener("test",h,e),a.removeEventListener("test",h,e)}catch(n){}return t}();function Qe(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function Ze(t,e){if(Qe.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(Xt){t:{try{Wt(e.nodeName);var r=!0;break t}catch(o){}r=!1}r||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Xe[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}Qe.prototype.preventDefault=function(){this.defaultPrevented=!0},k(Ze,Qe);var Xe=Ge({2:"touch",3:"pen",4:"mouse"});Ze.prototype.preventDefault=function(){Ze.bb.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,$e)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}},Ze.prototype.g=function(){return this.a};var Je="closure_listenable_"+(1e6*Math.random()|0),tn=0;function en(t,e,n,i,r){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.Wa=r,this.key=++tn,this.wa=this.Qa=!1}function nn(t){t.wa=!0,t.listener=null,t.proxy=null,t.src=null,t.Wa=null}function rn(t){this.src=t,this.a={},this.b=0}function on(t,e){var n=e.type;n in t.a&&Y(t.a[n],e)&&(nn(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function sn(t,e,n,i){for(var r=0;r<t.length;++r){var o=t[r];if(!o.wa&&o.listener==e&&o.capture==!!n&&o.Wa==i)return r}return-1}rn.prototype.add=function(t,e,n,i,r){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=sn(t,e,i,r);return-1<s?(e=t[s],n||(e.Qa=!1)):((e=new en(e,this.src,o,!!i,r)).Qa=n,t.push(e)),e};var an="closure_lm_"+(1e6*Math.random()|0),cn={};function un(t,e,n,i,r){if(i&&i.once)hn(t,e,n,i,r);else if(Array.isArray(e))for(var o=0;o<e.length;o++)un(t,e[o],n,i,r);else n=yn(n),t&&t[Je]?Cn(t,e,n,g(i)?!!i.capture:!!i,r):ln(t,e,n,!1,i,r)}function ln(t,e,n,i,r,o){if(!e)throw Error("Invalid event type");var s=g(r)?!!r.capture:!!r,a=_n(t);if(a||(t[an]=a=new rn(t)),!(n=a.add(e,n,i,s,o)).proxy)if(i=function(){var t=bn,e=Ke?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=i,i.src=t,i.listener=n,t.addEventListener)Ye||(r=s),void 0===r&&(r=!1),t.addEventListener(e.toString(),i,r);else if(t.attachEvent)t.attachEvent(pn(e.toString()),i);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(i)}}function hn(t,e,n,i,r){if(Array.isArray(e))for(var o=0;o<e.length;o++)hn(t,e[o],n,i,r);else n=yn(n),t&&t[Je]?Sn(t,e,n,g(i)?!!i.capture:!!i,r):ln(t,e,n,!0,i,r)}function dn(t,e,n,i,r){if(Array.isArray(e))for(var o=0;o<e.length;o++)dn(t,e[o],n,i,r);else i=g(i)?!!i.capture:!!i,n=yn(n),t&&t[Je]?(t=t.v,(e=String(e).toString())in t.a&&-1<(n=sn(o=t.a[e],n,i,r))&&(nn(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=_n(t))&&(e=t.a[e.toString()],t=-1,e&&(t=sn(e,n,i,r)),(n=-1<t?e[t]:null)&&fn(n))}function fn(t){if("number"!=typeof t&&t&&!t.wa){var e=t.src;if(e&&e[Je])on(e.v,t);else{var n=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent(pn(n),i):e.addListener&&e.removeListener&&e.removeListener(i),(n=_n(e))?(on(n,t),0==n.b&&(n.src=null,e[an]=null)):nn(t)}}}function pn(t){return t in cn?cn[t]:cn[t]="on"+t}function gn(t,e,n,i){var r=!0;if((t=_n(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.wa&&(o=mn(o,i),r=r&&!1!==o)}return r}function mn(t,e){var n=t.listener,i=t.Wa||t.src;return t.Qa&&fn(t),n.call(i,e)}function bn(t,e){if(t.wa)return!0;if(!Ke){if(!e)t:{e=["window","event"];for(var n=a,i=0;i<e.length;i++)if(null==(n=n[e[i]])){e=null;break t}e=n}if(e=new Ze(i=e,this),n=!0,!(0>i.keyCode||null!=i.returnValue)){t:{var r=!1;if(0==i.keyCode)try{i.keyCode=-1;break t}catch(s){r=!0}(r||null==i.returnValue)&&(i.returnValue=!0)}for(i=[],r=e.b;r;r=r.parentNode)i.push(r);for(t=t.type,r=i.length-1;0<=r;r--){e.b=i[r];var o=gn(i[r],t,!0,e);n=n&&o}for(r=0;r<i.length;r++)e.b=i[r],o=gn(i[r],t,!1,e),n=n&&o}return n}return mn(t,new Ze(e,this))}function _n(t){return(t=t[an])instanceof rn?t:null}var vn="__closure_events_fn_"+(1e9*Math.random()>>>0);function yn(t){return p(t)?t:(t[vn]||(t[vn]=function(e){return t.handleEvent(e)}),t[vn])}function wn(){Be.call(this),this.v=new rn(this),this.bc=this,this.hb=null}function Cn(t,e,n,i,r){t.v.add(String(e),n,!1,i,r)}function Sn(t,e,n,i,r){t.v.add(String(e),n,!0,i,r)}function kn(t,e,n,i){if(!(e=t.v.a[String(e)]))return!0;e=e.concat();for(var r=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.wa&&s.capture==n){var a=s.listener,c=s.Wa||s.src;s.Qa&&on(t.v,s),r=!1!==a.call(c,i)&&r}}return r&&!i.defaultPrevented}function On(t,e,n){if(p(t))n&&(t=w(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=w(t.handleEvent,t)}return 2147483647<Number(e)?-1:a.setTimeout(t,e||0)}function Tn(t){var e=null;return new ye(function(n,i){-1==(e=On(function(){n(void 0)},t))&&i(Error("Failed to schedule timer."))}).o(function(t){throw a.clearTimeout(e),t})}function xn(t){if(t.X&&"function"==typeof t.X)return t.X();if("string"==typeof t)return t.split("");if(f(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}for(i in e=[],n=0,t)e[n++]=t[i];return e}function En(t){if(t.Y&&"function"==typeof t.Y)return t.Y();if(!t.X||"function"!=typeof t.X){if(f(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var i in e=[],n=0,t)e[n++]=i;return e}}function In(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var i=0;i<n;i+=2)this.set(arguments[i],arguments[i+1])}else if(t)if(t instanceof In)for(n=t.Y(),i=0;i<n.length;i++)this.set(n[i],t.get(n[i]));else for(i in t)this.set(i,t[i])}function An(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var i=t.a[e];Rn(t.b,i)&&(t.a[n++]=i),e++}t.a.length=n}if(t.c!=t.a.length){var r={};for(n=e=0;e<t.a.length;)Rn(r,i=t.a[e])||(t.a[n++]=i,r[i]=1),e++;t.a.length=n}}function Rn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}k(wn,Be),wn.prototype[Je]=!0,wn.prototype.addEventListener=function(t,e,n,i){un(this,t,e,n,i)},wn.prototype.removeEventListener=function(t,e,n,i){dn(this,t,e,n,i)},wn.prototype.dispatchEvent=function(t){var e,n=this.hb;if(n)for(e=[];n;n=n.hb)e.push(n);n=this.bc;var i=t.type||t;if("string"==typeof t)t=new Qe(t,n);else if(t instanceof Qe)t.target=t.target||n;else{var r=t;bt(t=new Qe(i,n),r)}if(r=!0,e)for(var o=e.length-1;0<=o;o--){var s=t.b=e[o];r=kn(s,i,!0,t)&&r}if(r=kn(s=t.b=n,i,!0,t)&&r,r=kn(s,i,!1,t)&&r,e)for(o=0;o<e.length;o++)r=kn(s=t.b=e[o],i,!1,t)&&r;return r},wn.prototype.Da=function(){if(wn.bb.Da.call(this),this.v){var t,e=this.v;for(t in e.a){for(var n=e.a[t],i=0;i<n.length;i++)nn(n[i]);delete e.a[t],e.b--}}this.hb=null},(t=In.prototype).X=function(){An(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.Y=function(){return An(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return Rn(this.b,t)?this.b[t]:e},t.set=function(t,e){Rn(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.Y(),i=0;i<n.length;i++){var r=n[i],o=this.get(r);t.call(e,o,r,this)}};var Pn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Dn(t,e){var n;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,t instanceof Dn?(this.i=void 0!==e?e:t.i,Mn(this,t.c),this.l=t.l,this.a=t.a,Nn(this,t.g),this.f=t.f,jn(this,ei(t.b)),this.h=t.h):t&&(n=String(t).match(Pn))?(this.i=!!e,Mn(this,n[1]||"",!0),this.l=qn(n[2]||""),this.a=qn(n[3]||"",!0),Nn(this,n[4]),this.f=qn(n[5]||"",!0),jn(this,n[6]||"",!0),this.h=qn(n[7]||"")):(this.i=!!e,this.b=new Yn(null,this.i))}function Mn(t,e,n){t.c=n?qn(e,!0):e,t.c&&(t.c=t.c.replace(/:$/,""))}function Nn(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.g=e}else t.g=null}function jn(t,e,n){e instanceof Yn?(t.b=e,function(t,e){e&&!t.f&&(Qn(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(Xn(this,e),ti(this,n,t))},t)),t.f=e}(t.b,t.i)):(n||(e=Bn(e,Kn)),t.b=new Yn(e,t.i))}function Fn(t,e,n){t.b.set(e,n)}function Ln(t,e){return t.b.get(e)}function Vn(t){return t instanceof Dn?new Dn(t):new Dn(t,void 0)}function Un(t,e,n,i){var r=new Dn(null,void 0);return t&&Mn(r,t),e&&(r.a=e),n&&Nn(r,n),i&&(r.f=i),r}function qn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Bn(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Hn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Hn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Dn.prototype.toString=function(){var t=[],e=this.c;e&&t.push(Bn(e,zn,!0),":");var n=this.a;return(n||"file"==e)&&(t.push("//"),(e=this.l)&&t.push(Bn(e,zn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&t.push(":",String(n))),(n=this.f)&&(this.a&&"/"!=n.charAt(0)&&t.push("/"),t.push(Bn(n,"/"==n.charAt(0)?Gn:Wn,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.h)&&t.push("#",Bn(n,$n)),t.join("")},Dn.prototype.resolve=function(t){var e=new Dn(this),n=!!t.c;n?Mn(e,t.c):n=!!t.l,n?e.l=t.l:n=!!t.a,n?e.a=t.a:n=null!=t.g;var i=t.f;if(n)Nn(e,t.g);else if(n=!!t.f){if("/"!=i.charAt(0))if(this.a&&!this.f)i="/"+i;else{var r=e.f.lastIndexOf("/");-1!=r&&(i=e.f.substr(0,r+1)+i)}if(".."==(r=i)||"."==r)i="";else if(ct(r,"./")||ct(r,"/.")){i=0==r.lastIndexOf("/",0),r=r.split("/");for(var o=[],s=0;s<r.length;){var a=r[s++];"."==a?i&&s==r.length&&o.push(""):".."==a?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),i&&s==r.length&&o.push("")):(o.push(a),i=!0)}i=o.join("/")}else i=r}return n?e.f=i:n=""!==t.b.toString(),n?jn(e,ei(t.b)):n=!!t.h,n&&(e.h=t.h),e};var zn=/[#\/\?@]/g,Wn=/[#\?:]/g,Gn=/[#\?]/g,Kn=/[#\?@]/g,$n=/#/g;function Yn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Qn(t){t.a||(t.a=new In,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i=t[n].indexOf("="),r=null;if(0<=i){var o=t[n].substring(0,i);r=t[n].substring(i+1)}else o=t[n];e(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Zn(t){var e=En(t);if(void 0===e)throw Error("Keys are undefined");var n=new Yn(null,void 0);t=xn(t);for(var i=0;i<e.length;i++){var r=e[i],o=t[i];Array.isArray(o)?ti(n,r,o):n.add(r,o)}return n}function Xn(t,e){Qn(t),e=ni(t,e),Rn(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Rn((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&An(t)))}function Jn(t,e){return Qn(t),e=ni(t,e),Rn(t.a.b,e)}function ti(t,e,n){Xn(t,e),0<n.length&&(t.c=null,t.a.set(ni(t,e),X(n)),t.b+=n.length)}function ei(t){var e=new Yn;return e.c=t.c,t.a&&(e.a=new In(t.a),e.b=t.b),e}function ni(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function ii(t){var e=[];return oi(new ri,t,e),e.join("")}function ri(){}function oi(t,e,n){if(null==e)n.push("null");else{if("object"==typeof e){if(Array.isArray(e)){var i=e;e=i.length,n.push("[");for(var r="",o=0;o<e;o++)n.push(r),oi(t,i[o],n),r=",";return void n.push("]")}if(!(e instanceof String||e instanceof Number||e instanceof Boolean)){for(i in n.push("{"),r="",e)Object.prototype.hasOwnProperty.call(e,i)&&"function"!=typeof(o=e[i])&&(n.push(r),ci(i,n),n.push(":"),oi(t,o,n),r=",");return void n.push("}")}e=e.valueOf()}switch(typeof e){case"string":ci(e,n);break;case"number":n.push(isFinite(e)&&!isNaN(e)?String(e):"null");break;case"boolean":n.push(String(e));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof e)}}}(t=Yn.prototype).add=function(t,e){Qn(this),this.c=null,t=ni(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(t,e){Qn(this),this.a.forEach(function(n,i){z(n,function(n){t.call(e,n,i,this)},this)},this)},t.Y=function(){Qn(this);for(var t=this.a.X(),e=this.a.Y(),n=[],i=0;i<e.length;i++)for(var r=t[i],o=0;o<r.length;o++)n.push(e[i]);return n},t.X=function(t){Qn(this);var e=[];if("string"==typeof t)Jn(this,t)&&(e=Z(e,this.a.get(ni(this,t))));else{t=this.a.X();for(var n=0;n<t.length;n++)e=Z(e,t[n])}return e},t.set=function(t,e){return Qn(this),this.c=null,Jn(this,t=ni(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return t&&0<(t=this.X(t)).length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.Y(),n=0;n<e.length;n++){var i=e[n],r=encodeURIComponent(String(i));i=this.X(i);for(var o=0;o<i.length;o++){var s=r;""!==i[o]&&(s+="="+encodeURIComponent(String(i[o]))),t.push(s)}}return this.c=t.join("&")};var si={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},ai=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function ci(t,e){e.push('"',t.replace(ai,function(t){var e=si[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),si[t]=e),e}),'"')}function ui(){var t=Ei();return Yt&&!!se&&11==se||/Edge\/\d+/.test(t)}function li(){return a.window&&a.window.location.href||self&&self.location&&self.location.href||""}function hi(t,e){e=e||a.window;var n="about:blank";t&&(n=Pt(jt(t)||Vt)),e.location.href=n}function di(t,e){var n,i=[];for(n in t)n in e?typeof t[n]!=typeof e[n]?i.push(n):"object"==typeof t[n]&&null!=t[n]&&null!=e[n]?0<di(t[n],e[n]).length&&i.push(n):t[n]!==e[n]&&i.push(n):i.push(n);for(n in e)n in t||i.push(n);return i}function fi(t){return!!((t=(t||Ei()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function pi(t){t=t||a.window;try{t.close()}catch(e){}}function gi(t,e,n){var i=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var r=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(s in e={width:e,height:n,top:0<r?r:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Ei().toLowerCase(),i&&(e.target=i,ct(n,"crios/")&&(e.target="_blank")),Oi(Ei())==ki&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),i=window,e=n instanceof Rt?n:jt(void 0!==n.href?n.href:String(n))||Vt,n=t.target||n.target,r=[],t)switch(s){case"width":case"height":case"top":case"left":r.push(s+"="+t[s]);break;case"target":case"noopener":case"noreferrer":break;default:r.push(s+"="+(t[s]?1:0))}var s=r.join(",");if((dt("iPhone")&&!dt("iPod")&&!dt("iPad")||dt("iPad")||dt("iPod"))&&i.navigator&&i.navigator.standalone&&n&&"_self"!=n?(_t(s=pe(document,"A"),"HTMLAnchorElement"),e=e instanceof Rt?e:Ft(e),s.href=Pt(e),s.setAttribute("target",n),t.noreferrer&&s.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,i,1),s.dispatchEvent(t),s={}):t.noreferrer?(s=Bt("",i,n,s),t=Pt(e),s&&(Zt&&ct(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),s.opener=null,t='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+zt(t)+'">',t=new Ut(t=(i=kt())?i.createHTML(t):t,null,qt),i=s.document)&&(i.write(function(t){return t instanceof Ut&&t.constructor===Ut?t.a:(j("expected object of type SafeHtml, got '"+t+"' of type "+d(t)),"type_error:SafeHtml")}(t)),i.close())):(s=Bt(e,i,n,s))&&t.noopener&&(s.opener=null),s)try{s.focus()}catch(a){}return s}var mi=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,bi=/^[^@]+@[^@]+$/;function _i(){var t=null;return new ye(function(e){"complete"==a.document.readyState?e():(t=function(){e()},hn(window,"load",t))}).o(function(e){throw dn(window,"load",t),e})}function vi(t){return t=t||Ei(),!("file:"!==Di()&&"ionic:"!==Di()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function yi(){var t=a.window;try{return!(!t||t==t.top)}catch(e){return!1}}function wi(){return void 0!==a.WorkerGlobalScope&&"function"==typeof a.importScripts}function Ci(){return i.default.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":i.default.INTERNAL.hasOwnProperty("node")?"Node":wi()?"Worker":"Browser"}function Si(){var t=Ci();return"ReactNative"===t||"Node"===t}var ki="Firefox";function Oi(t){var e=t.toLowerCase();return ct(e,"opera/")||ct(e,"opr/")||ct(e,"opios/")?"Opera":ct(e,"iemobile")?"IEMobile":ct(e,"msie")||ct(e,"trident/")?"IE":ct(e,"edge/")?"Edge":ct(e,"firefox/")?ki:ct(e,"silk/")?"Silk":ct(e,"blackberry")?"Blackberry":ct(e,"webos")?"Webos":!ct(e,"safari/")||ct(e,"chrome/")||ct(e,"crios/")||ct(e,"android")?!ct(e,"chrome/")&&!ct(e,"crios/")||ct(e,"edge/")?ct(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":"Chrome":"Safari"}var Ti={md:"FirebaseCore-web",od:"FirebaseUI-web"};function xi(t,e){e=e||[];var n,i=[],r={};for(n in Ti)r[Ti[n]]=!0;for(n=0;n<e.length;n++)void 0!==r[e[n]]&&(delete r[e[n]],i.push(e[n]));return i.sort(),(e=i).length||(e=["FirebaseCore-web"]),"Browser"===(i=Ci())?i=Oi(r=Ei()):"Worker"===i&&(i=Oi(r=Ei())+"-"+i),i+"/JsCore/"+t+"/"+e.join(",")}function Ei(){return a.navigator&&a.navigator.userAgent||""}function Ii(t,e){t=t.split("."),e=e||a;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function Ai(){try{var t=a.localStorage,e=Li();if(t)return t.setItem(e,"1"),t.removeItem(e),!ui()||!!a.indexedDB}catch(n){return wi()&&!!a.indexedDB}return!1}function Ri(){return(Pi()||"chrome-extension:"===Di()||vi())&&!Si()&&Ai()&&!wi()}function Pi(){return"http:"===Di()||"https:"===Di()}function Di(){return a.location&&a.location.protocol||null}function Mi(t){return!fi(t=t||Ei())&&Oi(t)!=ki}function Ni(t){return void 0===t?null:ii(t)}function ji(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!=t[e]&&(n[e]=t[e]);return n}function Fi(t){if(null!==t)return JSON.parse(t)}function Li(t){return t||Math.floor(1e9*Math.random()).toString()}function Vi(t){return"Safari"!=Oi(t=t||Ei())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function Ui(){var t=a.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function qi(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=Ei(),e=Ci(),this.b=fi(t)||"ReactNative"===e}function Bi(){var t=a.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function Hi(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(n){}return null}function zi(){return!(!Ii("fireauth.oauthhelper",a)&&!Ii("fireauth.iframe",a))}qi.prototype.get=function(){var t=a.navigator;return!t||"boolean"!=typeof t.onLine||!Pi()&&"chrome-extension:"!==Di()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Wi,Gi={};function Ki(t){Gi[t]||(Gi[t]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t))}try{var $i={};Object.defineProperty($i,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty($i,"abcd",{configurable:!0,enumerable:!0,value:2}),Wi=2==$i.abcd}catch(Kt){Wi=!1}function Yi(t,e,n){Wi?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function Qi(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Yi(t,n,e[n])}function Zi(t){var e={};return Qi(e,t),e}function Xi(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)Yi(e,n,Xi(t[n]));return e}function Ji(t){var e=t&&(t[rr]?"phone":null);if(!(e&&t&&t[ir]))throw new T("internal-error","Internal assert: invalid MultiFactorInfo object");Yi(this,"uid",t[ir]),Yi(this,"displayName",t[er]||null);var n=null;t[nr]&&(n=new Date(t[nr]).toUTCString()),Yi(this,"enrollmentTime",n),Yi(this,"factorId",e)}function tr(t){try{var e=new or(t)}catch(n){e=null}return e}Ji.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var er="displayName",nr="enrolledAt",ir="mfaEnrollmentId",rr="phoneInfo";function or(t){Ji.call(this,t),Yi(this,"phoneNumber",t[rr])}function sr(t){var e={},n=t[lr],i=t[dr],r=t[fr];if(t=tr(t[hr]),!r||r!=cr&&r!=ur&&!n||r==ur&&!i||r==ar&&!t)throw Error("Invalid checkActionCode response!");r==ur?(e[gr]=n||null,e[br]=n||null,e[pr]=i):(e[gr]=i||null,e[br]=i||null,e[pr]=n||null),e[mr]=t||null,Yi(this,vr,r),Yi(this,_r,Xi(e))}k(or,Ji),or.prototype.w=function(){var t=or.bb.w.call(this);return t.phoneNumber=this.phoneNumber,t};var ar="REVERT_SECOND_FACTOR_ADDITION",cr="EMAIL_SIGNIN",ur="VERIFY_AND_CHANGE_EMAIL",lr="email",hr="mfaInfo",dr="newEmail",fr="requestType",pr="email",gr="fromEmail",mr="multiFactorInfo",br="previousEmail",_r="data",vr="operation";function yr(t){var e=Ln(t=Vn(t),wr)||null,n=Ln(t,Cr)||null,i=Ln(t,Or)||null;if(i=i&&xr[i]||null,!e||!n||!i)throw new T("argument-error",wr+", "+Cr+"and "+Or+" are required in a valid action code URL.");Qi(this,{apiKey:e,operation:i,code:n,continueUrl:Ln(t,Sr)||null,languageCode:Ln(t,kr)||null,tenantId:Ln(t,Tr)||null})}var wr="apiKey",Cr="oobCode",Sr="continueUrl",kr="languageCode",Or="mode",Tr="tenantId",xr={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:ar,signIn:cr,verifyAndChangeEmail:ur,verifyEmail:"VERIFY_EMAIL"};function Er(t){try{return new yr(t)}catch(e){return null}}function Ir(t){var e=t[Mr];if(void 0===e)throw new T("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new T("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[Ar];if(n&&"object"==typeof n){e=n[Fr];var i=n[Nr];if(n=n[jr],"string"==typeof e&&e.length){if(this.a=e,void 0!==i&&"boolean"!=typeof i)throw new T("argument-error",Nr+" property must be a boolean when specified.");if(this.g=!!i,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new T("argument-error",jr+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==e)throw new T("argument-error",Fr+" property must be a non empty string when specified.");if(void 0!==i||void 0!==n)throw new T("missing-android-pkg-name")}}else if(void 0!==n)throw new T("argument-error",Ar+" property must be a non null object when specified.");if(this.f=null,(e=t[Dr])&&"object"==typeof e){if("string"==typeof(e=e[Lr])&&e.length)this.f=e;else if(void 0!==e)throw new T("argument-error",Lr+" property must be a non empty string when specified.")}else if(void 0!==e)throw new T("argument-error",Dr+" property must be a non null object when specified.");if(void 0!==(e=t[Pr])&&"boolean"!=typeof e)throw new T("argument-error",Pr+" property must be a boolean when specified.");if(this.c=!!e,void 0!==(t=t[Rr])&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new T("argument-error",Rr+" property must be a non empty string when specified.");this.i=t||null}var Ar="android",Rr="dynamicLinkDomain",Pr="handleCodeInApp",Dr="iOS",Mr="url",Nr="installApp",jr="minimumVersion",Fr="packageName",Lr="bundleId";function Vr(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}var Ur=null;function qr(t){var e=Hr(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.h=t,this.a=e.exp,this.i=e.sub,t=Date.now()/1e3,this.g=e.iat||(t>this.a?this.a:t),this.b=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.c=!!e.is_anonymous||"anonymous"==this.b}function Br(t){try{return new qr(t)}catch(e){return null}}function Hr(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{var i=function(t){var e=[];return function(t,e){function n(e){for(;i<t.length;){var n=t.charAt(i++),r=Ur[n];if(null!=r)return r;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!Ur){Ur={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var i=t.concat(e[n].split("")),r=0;r<i.length;r++){var o=i[r];void 0===Ur[o]&&(Ur[o]=r)}}}();for(var i=0;;){var r=n(-1),o=n(0),s=n(64),a=n(64);if(64===a&&-1===r)break;e(r<<2|o>>4),64!=s&&(e(o<<4&240|s>>2),64!=a&&e(s<<6&192|a))}}(t,function(t){e.push(t)}),e}(t);for(t=[],n=e=0;e<i.length;){var r=i[e++];if(128>r)t[n++]=String.fromCharCode(r);else if(191<r&&224>r){var o=i[e++];t[n++]=String.fromCharCode((31&r)<<6|63&o)}else if(239<r&&365>r){o=i[e++];var s=i[e++],a=((7&r)<<18|(63&o)<<12|(63&s)<<6|63&i[e++])-65536;t[n++]=String.fromCharCode(55296+(a>>10)),t[n++]=String.fromCharCode(56320+(1023&a))}else o=i[e++],s=i[e++],t[n++]=String.fromCharCode((15&r)<<12|(63&o)<<6|63&s)}return JSON.parse(t.join(""))}catch(c){}return null}qr.prototype.T=function(){return this.f},qr.prototype.l=function(){return this.c},qr.prototype.toString=function(){return this.h};var zr="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Wr=["client_id","response_type","scope","redirect_uri","state"],Gr={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:Wr},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:Wr},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:Wr},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:zr},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function Kr(t){for(var e in Gr)if(Gr[e].fa==t)return Gr[e];return null}function $r(t){var e={};e["facebook.com"]=Jr,e["google.com"]=eo,e["github.com"]=to,e["twitter.com"]=no;var n=t&&t[Qr];try{if(n)return e[n]?new e[n](t):new Xr(t);if(void 0!==t[Yr])return new Zr(t)}catch(i){}return null}var Yr="idToken",Qr="providerId";function Zr(t){var e=t[Qr];if(!e&&t[Yr]){var n=Br(t[Yr]);n&&n.b&&(e=n.b)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,void 0!==t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),Yi(this,"providerId",e),Yi(this,"isNewUser",n)}function Xr(t){Zr.call(this,t),Yi(this,"profile",Xi((t=Fi(t.rawUserInfo||"{}"))||{}))}function Jr(t){if(Xr.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function to(t){if(Xr.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Yi(this,"username",this.profile&&this.profile.login||null)}function eo(t){if(Xr.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function no(t){if(Xr.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Yi(this,"username",t.screenName||null)}function io(t){var e=Vn(t),n=Ln(e,"link"),i=Ln(Vn(n),"link");return e=Ln(e,"deep_link_id"),Ln(Vn(e),"link")||e||i||n||t}function ro(t,e){if(!t&&!e)throw new T("internal-error","Internal assert: no raw session string available");if(t&&e)throw new T("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?oo:so}k(Xr,Zr),k(Jr,Xr),k(to,Xr),k(eo,Xr),k(no,Xr);var oo="enroll",so="signin";function ao(){}function co(t,e){return t.then(function(t){if(t[Ys]){var n=Br(t[Ys]);if(!n||e!=n.i)throw new T("user-mismatch");return t}throw new T("user-mismatch")}).o(function(t){throw t&&t.code&&t.code==I+"user-not-found"?new T("user-mismatch"):t})}function uo(t,e){if(!e)throw new T("internal-error","failed to construct a credential");this.a=e,Yi(this,"providerId",t),Yi(this,"signInMethod",t)}function lo(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function ho(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new uo(t.providerId,t.pendingToken)}catch(e){}return null}function fo(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&Yi(this,"idToken",e.idToken),e.accessToken&&Yi(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&Yi(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new T("internal-error","failed to construct a credential");Yi(this,"accessToken",e.oauthToken),Yi(this,"secret",e.oauthTokenSecret)}Yi(this,"providerId",t),Yi(this,"signInMethod",n)}function po(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:Zn(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function go(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new fo(t.providerId,e,t.signInMethod)}catch(n){}}return null}function mo(t,e){this.Qc=e||[],Qi(this,{providerId:t,isOAuthProvider:!0}),this.Jb={},this.qb=(Kr(t)||{}).Ja||null,this.pb=null}function bo(t){if("string"!=typeof t||0!=t.indexOf("saml."))throw new T("argument-error",'SAML provider IDs must be prefixed with "saml."');mo.call(this,t,[])}function _o(t){mo.call(this,t,Wr),this.a=[]}function vo(){_o.call(this,"facebook.com")}function yo(t){if(!t)throw new T("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return g(t)&&(e=t.accessToken),(new vo).credential({accessToken:e})}function wo(){_o.call(this,"github.com")}function Co(t){if(!t)throw new T("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return g(t)&&(e=t.accessToken),(new wo).credential({accessToken:e})}function So(){_o.call(this,"google.com"),this.Ca("profile")}function ko(t,e){var n=t;return g(t)&&(n=t.idToken,e=t.accessToken),(new So).credential({idToken:n,accessToken:e})}function Oo(){mo.call(this,"twitter.com",zr)}function To(t,e){var n=t;if(g(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new T("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new fo("twitter.com",n,"twitter.com")}function xo(t,e,n){this.a=t,this.f=e,Yi(this,"providerId","password"),Yi(this,"signInMethod",n===Io.EMAIL_LINK_SIGN_IN_METHOD?Io.EMAIL_LINK_SIGN_IN_METHOD:Io.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Eo(t){return t&&t.email&&t.password?new xo(t.email,t.password,t.signInMethod):null}function Io(){Qi(this,{providerId:"password",isOAuthProvider:!1})}function Ao(t,e){if(!(e=Ro(e)))throw new T("argument-error","Invalid email link!");return new xo(t,e.code,Io.EMAIL_LINK_SIGN_IN_METHOD)}function Ro(t){return(t=Er(t=io(t)))&&t.operation===cr?t:null}function Po(t){if(!(t.fb&&t.eb||t.La&&t.ea))throw new T("internal-error");this.a=t,Yi(this,"providerId","phone"),this.fa="phone",Yi(this,"signInMethod","phone")}function Do(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return z(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(n){t[n]&&(e[n]=t[n])}),new Po(e)}return null}function Mo(t){return t.a.La&&t.a.ea?{temporaryProof:t.a.La,phoneNumber:t.a.ea}:{sessionInfo:t.a.fb,code:t.a.eb}}function No(t){try{this.a=t||i.default.auth()}catch(e){throw new T("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Qi(this,{providerId:"phone",isOAuthProvider:!1})}function jo(t,e){if(!t)throw new T("missing-verification-id");if(!e)throw new T("missing-verification-code");return new Po({fb:t,eb:e})}function Fo(t){if(t.temporaryProof&&t.phoneNumber)return new Po({La:t.temporaryProof,ea:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,i=t&&t.oauthTokenSecret,r=t&&t.nonce,o=t&&t.oauthIdToken,s=t&&t.pendingToken;try{switch(e){case"google.com":return ko(o,n);case"facebook.com":return yo(n);case"github.com":return Co(n);case"twitter.com":return To(n,i);default:return n||i||o||s?s?0==e.indexOf("saml.")?new uo(e,s):new fo(e,{pendingToken:s,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new _o(e).credential({idToken:o,accessToken:n,rawNonce:r}):null}}catch(a){return null}}function Lo(t){if(!t.isOAuthProvider)throw new T("invalid-oauth-provider")}function Vo(t,e,n,i,r,o,s){if(this.c=t,this.b=e||null,this.g=n||null,this.f=i||null,this.i=o||null,this.h=s||null,this.a=r||null,!this.g&&!this.a)throw new T("invalid-auth-event");if(this.g&&this.a)throw new T("invalid-auth-event");if(this.g&&!this.f)throw new T("invalid-auth-event")}function Uo(t){return(t=t||{}).type?new Vo(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&x(t.error),t.postBody,t.tenantId):null}function qo(){this.b=null,this.a=[]}ro.prototype.Ha=function(){return xe(this.a?this.a:this.b)},ro.prototype.w=function(){return this.type==oo?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},ao.prototype.ka=function(){},ao.prototype.b=function(){},ao.prototype.c=function(){},ao.prototype.w=function(){},uo.prototype.ka=function(t){return ma(t,lo(this))},uo.prototype.b=function(t,e){var n=lo(this);return n.idToken=e,ba(t,n)},uo.prototype.c=function(t,e){return co(_a(t,lo(this)),e)},uo.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},fo.prototype.ka=function(t){return ma(t,po(this))},fo.prototype.b=function(t,e){var n=po(this);return n.idToken=e,ba(t,n)},fo.prototype.c=function(t,e){return co(_a(t,po(this)),e)},fo.prototype.w=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},mo.prototype.Ka=function(t){return this.Jb=gt(t),this},k(bo,mo),k(_o,mo),_o.prototype.Ca=function(t){return $(this.a,t)||this.a.push(t),this},_o.prototype.Rb=function(){return X(this.a)},_o.prototype.credential=function(t,e){var n;if(!(n=g(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new T("argument-error","credential failed: must provide the ID token and/or the access token.");return new fo(this.providerId,n,this.providerId)},k(vo,_o),Yi(vo,"PROVIDER_ID","facebook.com"),Yi(vo,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),k(wo,_o),Yi(wo,"PROVIDER_ID","github.com"),Yi(wo,"GITHUB_SIGN_IN_METHOD","github.com"),k(So,_o),Yi(So,"PROVIDER_ID","google.com"),Yi(So,"GOOGLE_SIGN_IN_METHOD","google.com"),k(Oo,mo),Yi(Oo,"PROVIDER_ID","twitter.com"),Yi(Oo,"TWITTER_SIGN_IN_METHOD","twitter.com"),xo.prototype.ka=function(t){return this.signInMethod==Io.EMAIL_LINK_SIGN_IN_METHOD?Ja(t,Ta,{email:this.a,oobCode:this.f}):Ja(t,$a,{email:this.a,password:this.f})},xo.prototype.b=function(t,e){return this.signInMethod==Io.EMAIL_LINK_SIGN_IN_METHOD?Ja(t,xa,{idToken:e,email:this.a,oobCode:this.f}):Ja(t,Ua,{idToken:e,email:this.a,password:this.f})},xo.prototype.c=function(t,e){return co(this.ka(t),e)},xo.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Qi(Io,{PROVIDER_ID:"password"}),Qi(Io,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Qi(Io,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Po.prototype.ka=function(t){return t.gb(Mo(this))},Po.prototype.b=function(t,e){var n=Mo(this);return n.idToken=e,Ja(t,Qa,n)},Po.prototype.c=function(t,e){var n=Mo(this);return n.operation="REAUTH",co(t=Ja(t,Za,n),e)},Po.prototype.w=function(){var t={providerId:"phone"};return this.a.fb&&(t.verificationId=this.a.fb),this.a.eb&&(t.verificationCode=this.a.eb),this.a.La&&(t.temporaryProof=this.a.La),this.a.ea&&(t.phoneNumber=this.a.ea),t},No.prototype.gb=function(t,e){var n=this.a.a;return xe(e.verify()).then(function(i){if("string"!=typeof i)throw new T("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":var r=g(t)?t.session:null,o=g(t)?t.phoneNumber:t;return(r&&r.type==oo?r.Ha().then(function(t){return function(t,e){return Ja(t,Ba,e).then(function(t){return t.phoneSessionInfo.sessionInfo})}(n,{idToken:t,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:i}})}):r&&r.type==so?r.Ha().then(function(e){return function(t,e){return Ja(t,Ha,e).then(function(t){return t.phoneResponseInfo.sessionInfo})}(n,{mfaPendingCredential:e,mfaEnrollmentId:t.multiFactorHint&&t.multiFactorHint.uid||t.multiFactorUid,phoneSignInInfo:{recaptchaToken:i}})}):function(t,e){return Ja(t,La,e)}(n,{phoneNumber:o,recaptchaToken:i})).then(function(t){return"function"==typeof e.reset&&e.reset(),t},function(t){throw"function"==typeof e.reset&&e.reset(),t});default:throw new T("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})},Qi(No,{PROVIDER_ID:"phone"}),Qi(No,{PHONE_SIGN_IN_METHOD:"phone"}),Vo.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},Vo.prototype.T=function(){return this.h},Vo.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var Bo,Ho=null;function zo(t){var e="unauthorized-domain",n=void 0,i=Vn(t);t=i.a,"chrome-extension"==(i=i.c)?n=Ht("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==i||"https"==i?n=Ht("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",T.call(this,e,n)}function Wo(t,e,n){T.call(this,t,n),(t=e||{}).Kb&&Yi(this,"email",t.Kb),t.ea&&Yi(this,"phoneNumber",t.ea),t.credential&&Yi(this,"credential",t.credential),t.$b&&Yi(this,"tenantId",t.$b)}function Go(t){if(t.code){var e=t.code||"";0==e.indexOf(I)&&(e=e.substring(I.length));var n={credential:Fo(t),$b:t.tenantId};if(t.email)n.Kb=t.email;else if(t.phoneNumber)n.ea=t.phoneNumber;else if(!n.credential)return new T(e,t.message||void 0);return new Wo(e,n,t.message)}return null}function Ko(){}function $o(){}function Yo(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var i=e[n];try{return new ActiveXObject(i),t.f=i}catch(r){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function Qo(){}function Zo(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=w(this.qc,this),this.a.onerror=w(this.Tb,this),this.a.onprogress=w(this.rc,this),this.a.ontimeout=w(this.vc,this)}function Xo(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function Jo(t,e,n){this.reset(t,e,n,void 0,void 0)}function ts(t){this.f=t,this.b=this.c=this.a=null}function es(t,e){this.name=t,this.value=e}k(zo,T),k(Wo,T),Wo.prototype.w=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.w();return e&&bt(t,e),t},Wo.prototype.toJSON=function(){return this.w()},Ko.prototype.c=null,k($o,Ko),$o.prototype.a=function(){var t=Yo(this);return t?new ActiveXObject(t):new XMLHttpRequest},$o.prototype.b=function(){var t={};return Yo(this)&&(t[0]=!0,t[1]=!0),t},Bo=new $o,k(Qo,Ko),Qo.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new Zo;throw Error("Unsupported browser")},Qo.prototype.b=function(){return{}},(t=Zo.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Xo(this,4)},t.Tb=function(){this.status=500,this.response=this.responseText="",Xo(this,4)},t.vc=function(){this.Tb()},t.rc=function(){this.status=200,Xo(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},Jo.prototype.a=null,Jo.prototype.reset=function(t,e,n,i,r){i||S(),delete this.a},es.prototype.toString=function(){return this.name};var ns=new es("SEVERE",1e3),is=new es("WARNING",900),rs=new es("CONFIG",700),os=new es("FINE",500);function ss(t){return t.c?t.c:t.a?ss(t.a):(j("Root logger has no level set."),null)}ts.prototype.log=function(t,e,n){if(t.value>=ss(this).value)for(p(e)&&(e=e()),t=new Jo(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var as={},cs=null;function us(t){var e;if(cs||(cs=new ts(""),as[""]=cs,cs.c=rs),!(e=as[t])){e=new ts(t);var n=t.lastIndexOf("."),i=t.substr(n+1);(n=us(t.substr(0,n))).b||(n.b={}),n.b[i]=e,e.a=n,as[t]=e}return e}function ls(t,e){t&&t.log(os,e,void 0)}function hs(t){this.f=t}function ds(t){wn.call(this),this.u=t,this.h=void 0,this.readyState=fs,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=us("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}k(hs,Ko),hs.prototype.a=function(){return new ds(this.f)},hs.prototype.b=function(t){return function(){return t}}({}),k(ds,wn);var fs=0;function ps(t){t.c.read().then(t.pc.bind(t)).catch(t.Va.bind(t))}function gs(t){t.readyState=4,t.g=null,t.c=null,t.m=null,ms(t)}function ms(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function bs(t){wn.call(this),this.headers=new In,this.D=t||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=_s,this.u=this.S=!1}(t=ds.prototype).open=function(t,e){if(this.readyState!=fs)throw this.abort(),Error("Error reopening a connection");this.s=t,this.f=e,this.readyState=1,ms(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.l,method:this.s,credentials:this.h,cache:void 0};t&&(e.body=t),this.u.fetch(new Request(this.f,e)).then(this.uc.bind(this),this.Va.bind(this))},t.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,gs(this)),this.readyState=fs},t.uc=function(t){this.a&&(this.g=t,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=t.headers,this.readyState=2,ms(this)),this.a&&(this.readyState=3,ms(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):void 0!==a.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.m=new TextDecoder,ps(this)):t.text().then(this.tc.bind(this),this.Va.bind(this)))))},t.pc=function(t){if(this.a){var e=this.m.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?gs(this):ms(this),3==this.readyState&&ps(this)}},t.tc=function(t){this.a&&(this.response=this.responseText=t,gs(this))},t.sc=function(t){this.a&&(this.response=t,gs(this))},t.Va=function(t){var e=this.i;e&&e.log(is,"Failed to fetch url "+this.f,t instanceof Error?t:Error(t)),this.a&&gs(this)},t.setRequestHeader=function(t,e){this.l.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.i)&&t.log(is,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.i;return t&&t.log(is,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(ds.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(t){this.h=t?"include":"same-origin"}}),k(bs,wn);var _s="";bs.prototype.b=us("goog.net.XhrIo");var vs=/^https?$/i,ys=["POST","PUT"];function ws(t){return"content-type"==t.toLowerCase()}function Cs(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,Ss(t),Os(t)}function Ss(t){t.J||(t.J=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function ks(t){if(t.c&&void 0!==s)if(t.C[1]&&4==xs(t)&&2==Es(t))ls(t.b,Is(t,"Local request error detected and ignored"));else if(t.i&&4==xs(t))On(t.Wb,0,t);else if(t.dispatchEvent("readystatechange"),4==xs(t)){ls(t.b,Is(t,"Request complete")),t.c=!1;try{var e,n=Es(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var i=!0;break t;default:i=!1}if(!(e=i)){var r;if(r=0===n){var o=String(t.l).match(Pn)[1]||null;if(!o&&a.self&&a.self.location){var c=a.self.location.protocol;o=c.substr(0,c.length-1)}r=!vs.test(o?o.toLowerCase():"")}e=r}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var u=2<xs(t)?t.a.statusText:""}catch(l){ls(t.b,"Can not get status: "+l.message),u=""}t.h=u+" ["+Es(t)+"]",Ss(t)}}finally{Os(t)}}}function Os(t,e){if(t.a){Ts(t);var n=t.a,i=t.C[0]?h:null;t.a=null,t.C=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=i}catch(r){(t=t.b)&&t.log(ns,"Problem encountered resetting onreadystatechange: "+r.message,void 0)}}}function Ts(t){t.a&&t.u&&(t.a.ontimeout=null),t.s&&(a.clearTimeout(t.s),t.s=null)}function xs(t){return t.a?t.a.readyState:0}function Es(t){try{return 2<xs(t)?t.a.status:-1}catch(e){return-1}}function Is(t,e){return e+" ["+t.P+" "+t.l+" "+Es(t)+"]"}function As(t){var e=qs;this.g=[],this.u=e,this.s=t||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function Rs(t,e,n){t.a=!0,t.c=n,t.f=!e,Ns(t)}function Ps(t){if(t.a){if(!t.v)throw new js(t);t.v=!1}}function Ds(t,e,n,i){t.g.push([e,n,i]),t.a&&Ns(t)}function Ms(t){return K(t.g,function(t){return p(t[1])})}function Ns(t){if(t.h&&t.a&&Ms(t)){var e=t.h,n=Vs[e];n&&(a.clearTimeout(n.a),delete Vs[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var i=n=!1;t.g.length&&!t.i;){var r=t.g.shift(),o=r[0],s=r[1];if(r=r[2],o=t.f?s:o)try{var c=o.call(r||t.s,e);void 0!==c&&(t.f=t.f&&(c==e||c instanceof Error),t.c=e=c),(D(e)||"function"==typeof a.Promise&&e instanceof a.Promise)&&(i=!0,t.i=!0)}catch(u){e=u,t.f=!0,Ms(t)||(n=!0)}}t.c=e,i&&(c=w(t.m,t,!0),i=w(t.m,t,!1),e instanceof As?(Ds(e,c,i),e.C=!0):e.then(c,i)),n&&(e=new Ls(e),Vs[e.a]=e,t.h=e.a)}function js(){M.call(this)}function Fs(){M.call(this)}function Ls(t){this.a=a.setTimeout(w(this.c,this),0),this.b=t}(t=bs.prototype).Ma=function(){void 0!==s&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",ls(this.b,Is(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(ls(this.b,Is(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Os(this))},t.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Os(this,!0)),bs.bb.Da.call(this)},t.Wb=function(){this.ya||(this.N||this.i||this.f?ks(this):this.Jc())},t.Jc=function(){ks(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case _s:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(ns,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(e){return ls(this.b,"Can not get response: "+e.message),null}},As.prototype.cancel=function(t){if(this.a)this.c instanceof As&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(t=new Fs(this),Ps(this),Rs(this,!1,t))}},As.prototype.m=function(t,e){this.i=!1,Rs(this,t,e)},As.prototype.then=function(t,e,n){var i,r,o=new ye(function(t,e){i=t,r=e});return Ds(this,i,function(t){t instanceof Fs?o.cancel():r(t)}),o.then(t,e,n)},As.prototype.$goog_Thenable=!0,k(js,M),js.prototype.message="Deferred has already fired",js.prototype.name="AlreadyCalledError",k(Fs,M),Fs.prototype.message="Deferred was canceled",Fs.prototype.name="CanceledError",Ls.prototype.c=function(){throw delete Vs[this.a],this.b};var Vs={};function Us(t){var e={},n=e.document||document,i=Tt(t).toString(),r=pe(document,"SCRIPT"),o={Xb:r,Ma:void 0},s=new As(o),c=null,h=null!=e.timeout?e.timeout:5e3;return 0<h&&(c=window.setTimeout(function(){Bs(r,!0);var t=new Ws(zs,"Timeout reached for loading script "+i);Ps(s),Rs(s,!1,t)},h),o.Ma=c),r.onload=r.onreadystatechange=function(){r.readyState&&"loaded"!=r.readyState&&"complete"!=r.readyState||(Bs(r,e.xd||!1,c),Ps(s),Rs(s,!0,null))},r.onerror=function(){Bs(r,!0,c);var t=new Ws(Hs,"Error while loading script "+i);Ps(s),Rs(s,!1,t)},bt(o=e.attributes||{},{type:"text/javascript",charset:"UTF-8"}),ue(r,o),function(t,e){_t(t,"HTMLScriptElement"),t.src=Tt(e),(e=t.ownerDocument&&t.ownerDocument.defaultView)&&e!=a?e=l(e.document):(null===u&&(u=l(a.document)),e=u),e&&t.setAttribute("nonce",e)}(r,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(r),s}function qs(){if(this&&this.Xb){var t=this.Xb;t&&"SCRIPT"==t.tagName&&Bs(t,!0,this.Ma)}}function Bs(t,e,n){null!=n&&a.clearTimeout(n),t.onload=h,t.onerror=h,t.onreadystatechange=h,e&&window.setTimeout(function(){t&&t.parentNode&&t.parentNode.removeChild(t)},0)}var Hs=0,zs=1;function Ws(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),M.call(this,n),this.code=t}function Gs(t){this.f=t}function Ks(t,e,n){if(this.c=t,this.l=(t=e||{}).secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=t.secureTokenTimeout||Qs,this.g=gt(t.secureTokenHeaders||Zs),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=t.firebaseTimeout||Xs,this.a=gt(t.firebaseHeaders||Js),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==Ci(),!(n=a.XMLHttpRequest||n&&i.default.INTERNAL.node&&i.default.INTERNAL.node.XMLHttpRequest)&&!wi())throw new T("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,this.f=wi()?new hs(self):Si()?new Gs(n):new Qo,this.b=null}k(Ws,M),k(Gs,Ko),Gs.prototype.a=function(){return new this.f},Gs.prototype.b=function(){return{}};var $s,Ys="idToken",Qs=new qi(3e4,6e4),Zs={"Content-Type":"application/x-www-form-urlencoded"},Xs=new qi(3e4,6e4),Js={"Content-Type":"application/json"};function ta(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function ea(t,e){e&&(t.l=na("https://securetoken.googleapis.com/v1/token",e),t.h=na("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",e),t.i=na("https://identitytoolkit.googleapis.com/v2/",e))}function na(t,e){return t=Vn(t),e=Vn(e.url),t.f=t.a+t.f,Mn(t,e.c),t.a=e.a,Nn(t,e.g),t.toString()}function ia(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function ra(t,e,n,i,r,o,s){(function(){var t=Ei();return!((t="Chrome"!=Oi(t)?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t||Yt&&se&&!(9<se))})()||wi()?t=w(t.u,t):($s||($s=new ye(function(t,e){!function(t,e){((window.gapi||{}).client||{}).request?t():(a[sa]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},function(t,e){Ds(t,null,e,void 0)}(Us(xt(oa,{onload:sa})),function(){e(Error("CORS_UNSUPPORTED"))}))}(t,e)})),t=w(t.s,t)),t(e,n,i,r,o,s)}Ks.prototype.T=function(){return this.b},Ks.prototype.u=function(t,e,n,i,r,o){if(wi()&&(void 0===a.fetch||void 0===a.Headers||void 0===a.Request))throw new T("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var s=new bs(this.f);if(o){s.g=Math.max(0,o);var c=setTimeout(function(){s.dispatchEvent("timeout")},o)}Cn(s,"complete",function(){c&&clearTimeout(c);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return ls(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(n){t=null}e&&e(t)}),Sn(s,"ready",function(){c&&clearTimeout(c),We(this)}),Sn(s,"timeout",function(){c&&clearTimeout(c),We(this),e&&e(null)}),function(t,e,n,i,r){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.P=n,t.J=!1,t.c=!0,t.a=t.D?t.D.a():Bo.a(),t.C=function(t){return t.c||(t.c=t.b())}(t.D?t.D:Bo),t.a.onreadystatechange=w(t.Wb,t);try{ls(t.b,Is(t,"Opening Xhr")),t.N=!0,t.a.open(n,String(e),!0),t.N=!1}catch(s){return ls(t.b,Is(t,"Error opening Xhr: "+s.message)),void Cs(t,s)}e=i||"";var o=new In(t.headers);r&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(f(t)||"string"==typeof t)z(t,e,void 0);else for(var n=En(t),i=xn(t),r=i.length,o=0;o<r;o++)e.call(void 0,i[o],n&&n[o],t)}(r,function(t,e){o.set(e,t)}),r=function(t){t:{for(var e=ws,n=t.length,i="string"==typeof t?t.split(""):t,r=0;r<n;r++)if(r in i&&e.call(void 0,i[r],r,t)){e=r;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(o.Y()),i=a.FormData&&e instanceof a.FormData,!$(ys,n)||r||i||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(t,e){this.a.setRequestHeader(e,t)},t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.S&&(t.a.withCredentials=t.S);try{Ts(t),0<t.g&&(t.u=function(t){return Yt&&oe(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(t.a),ls(t.b,Is(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.u)),t.u?(t.a.timeout=t.g,t.a.ontimeout=w(t.Ma,t)):t.s=On(t.Ma,t.g,t)),ls(t.b,Is(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(s){ls(t.b,Is(t,"Send error: "+s.message)),Cs(t,s)}}(s,t,n,i,r)};var oa=new vt(St,"https://apis.google.com/js/client.js?onload=%{onload}"),sa="__fcb"+Math.floor(1e6*Math.random()).toString();function aa(t){if("string"!=typeof(t=t.email)||!bi.test(t))throw new T("invalid-email")}function ca(t){"email"in t&&aa(t)}function ua(t){if(!t[Ys]){if(t.mfaPendingCredential)throw new T("multi-factor-auth-required",null,gt(t));throw new T("internal-error")}}function la(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new T("internal-error")}else{if(!t.sessionInfo)throw new T("missing-verification-id");if(!t.code)throw new T("missing-verification-code")}}Ks.prototype.s=function(t,e,n,i,r){var o=this;$s.then(function(){window.gapi.client.setApiKey(o.c);var s=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:i,headers:r,authType:"none",callback:function(t){window.gapi.auth.setToken(s),e&&e(t)}})}).o(function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})})},Ks.prototype.Ab=function(){return Ja(this,qa,{})},Ks.prototype.Cb=function(t,e){return Ja(this,Va,{idToken:t,email:e})},Ks.prototype.Db=function(t,e){return Ja(this,Ua,{idToken:t,password:e})};var ha={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function da(t){if(!t.phoneVerificationInfo)throw new T("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new T("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new T("missing-verification-code")}function fa(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new T("internal-error")}function pa(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&Jn(t=new Yn(t.postBody),"nonce")&&(e.nonce=t.get("nonce"))),e}function ga(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=Go(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=Go(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=Go(t)):t.errorMessage&&(e=tc(t.errorMessage)),e)throw e;ua(t)}function ma(t,e){return e.returnIdpCredential=!0,Ja(t,za,e)}function ba(t,e){return e.returnIdpCredential=!0,Ja(t,Ga,e)}function _a(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,Ja(t,Wa,e)}function va(t){if(!t.oobCode)throw new T("invalid-action-code")}(t=Ks.prototype).Eb=function(t,e){var n={idToken:t},i=[];return ft(ha,function(t,r){var o=e[r];null===o?i.push(t):r in e&&(n[r]=o)}),i.length&&(n.deleteAttribute=i),Ja(this,Va,n)},t.wb=function(t,e){return bt(t={requestType:"PASSWORD_RESET",email:t},e),Ja(this,Ma,t)},t.xb=function(t,e){return bt(t={requestType:"EMAIL_SIGNIN",email:t},e),Ja(this,Ra,t)},t.vb=function(t,e){return bt(t={requestType:"VERIFY_EMAIL",idToken:t},e),Ja(this,Pa,t)},t.Fb=function(t,e,n){return bt(t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},n),Ja(this,Da,t)},t.gb=function(t){return Ja(this,Ya,t)},t.ob=function(t,e){return Ja(this,Fa,{oobCode:t,newPassword:e})},t.Sa=function(t){return Ja(this,wa,{oobCode:t})},t.kb=function(t){return Ja(this,ya,{oobCode:t})};var ya={endpoint:"setAccountInfo",A:va,Z:"email",B:!0},wa={endpoint:"resetPassword",A:va,G:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new T("internal-error")},B:!0},Ca={endpoint:"signupNewUser",A:function(t){if(aa(t),!t.password)throw new T("weak-password")},G:ua,V:!0,B:!0},Sa={endpoint:"createAuthUri",B:!0},ka={endpoint:"deleteAccount",O:["idToken"]},Oa={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(t){if(!Array.isArray(t.deleteProvider))throw new T("internal-error")}},Ta={endpoint:"emailLinkSignin",O:["email","oobCode"],A:aa,G:ua,V:!0,B:!0},xa={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:aa,G:ua,V:!0},Ea={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:da,G:ua,B:!0,Na:!0},Ia={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:da,G:ua,B:!0,Na:!0},Aa={endpoint:"getAccountInfo"},Ra={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new T("internal-error");aa(t)},Z:"email",B:!0},Pa={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new T("internal-error")},Z:"email",B:!0},Da={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new T("internal-error")},Z:"email",B:!0},Ma={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(t){if("PASSWORD_RESET"!=t.requestType)throw new T("internal-error");aa(t)},Z:"email",B:!0},Na={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},ja={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(t){if(!t.recaptchaSiteKey)throw new T("internal-error")}},Fa={endpoint:"resetPassword",A:va,Z:"email",B:!0},La={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},Va={endpoint:"setAccountInfo",O:["idToken"],A:ca,V:!0},Ua={endpoint:"setAccountInfo",O:["idToken"],A:function(t){if(ca(t),!t.password)throw new T("weak-password")},G:ua,V:!0},qa={endpoint:"signupNewUser",G:ua,V:!0,B:!0},Ba={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(t){if(!t.phoneEnrollmentInfo)throw new T("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new T("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new T("missing-app-credential")},G:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new T("internal-error")},B:!0,Na:!0},Ha={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new T("missing-app-credential")},G:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new T("internal-error")},B:!0,Na:!0},za={endpoint:"verifyAssertion",A:fa,Za:pa,G:ga,V:!0,B:!0},Wa={endpoint:"verifyAssertion",A:fa,Za:pa,G:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new T("user-not-found");if(t.errorMessage)throw tc(t.errorMessage);ua(t)},V:!0,B:!0},Ga={endpoint:"verifyAssertion",A:function(t){if(fa(t),!t.idToken)throw new T("internal-error")},Za:pa,G:ga,V:!0},Ka={endpoint:"verifyCustomToken",A:function(t){if(!t.token)throw new T("invalid-custom-token")},G:ua,V:!0,B:!0},$a={endpoint:"verifyPassword",A:function(t){if(aa(t),!t.password)throw new T("wrong-password")},G:ua,V:!0,B:!0},Ya={endpoint:"verifyPhoneNumber",A:la,G:ua,B:!0},Qa={endpoint:"verifyPhoneNumber",A:function(t){if(!t.idToken)throw new T("internal-error");la(t)},G:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",Go(t);ua(t)}},Za={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:la,G:ua,B:!0},Xa={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(t){if(!!t[Ys]^!!t.refreshToken)throw new T("internal-error")},B:!0,Na:!0};function Ja(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var i=t[e[n]];if(null==i||""===i)return!1}return!0}(n,e.O))return Ee(new T("internal-error"));var i,r=!!e.Na,o=e.Vb||"POST";return xe(n).then(e.A).then(function(){return e.V&&(n.returnSecureToken=!0),e.B&&t.b&&void 0===n.tenantId&&(n.tenantId=t.b),function(t,e,n,i,r,o,s){var a=Vn(e+n);Fn(a,"key",t.c),s&&Fn(a,"cb",Date.now().toString());var c="GET"==i;if(c)for(var u in r)r.hasOwnProperty(u)&&Fn(a,u,r[u]);return new ye(function(e,n){ra(t,a.toString(),function(t){t?t.error?n(ec(t,o||{})):e(t):n(new T("network-request-failed"))},i,c?void 0:ii(ji(r)),t.a,t.v.get())})}(t,r?t.i:t.h,e.endpoint,o,n,e.Ib,e.mb||!1)}).then(function(t){return i=t,e.Za?e.Za(n,i):i}).then(e.G).then(function(){if(!e.Z)return i;if(!(e.Z in i))throw new T("internal-error");return i[e.Z]})}function tc(t){return ec({error:{errors:[{message:t}],code:400,message:t}})}function ec(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",i={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=i[n]?new T(i[n]):null)return n;for(var r in n=t.error&&t.error.message||"",bt(i={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,i)if(0===n.indexOf(r))return new T(i[r],e);return!e&&t&&(e=Ni(t)),new T("internal-error",e)}function nc(t){this.b=t,this.a=null,this.sb=function(t){return(sc||(sc=new ye(function(t,e){function n(){Ui(),Ii("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){Ui(),e(Error("Network Error"))},timeout:rc.get()})}if(Ii("gapi.iframes.Iframe"))t();else if(Ii("gapi.load"))n();else{var i="__iframefcb"+Math.floor(1e6*Math.random()).toString();a[i]=function(){Ii("gapi.load")?n():e(Error("Network Error"))},xe(Us(i=xt(ic,{onload:i}))).o(function(){e(Error("Network Error"))})}}).o(function(t){throw sc=null,t}))).then(function(){return new ye(function(e,n){Ii("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:Ii("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(i){function r(){clearTimeout(o),e()}t.a=i,t.a.restyle({setHideOnLeave:!1});var o=setTimeout(function(){n(Error("Network Error"))},oc.get());i.ping(r).then(r,function(){n(Error("Network Error"))})})})})}(this)}var ic=new vt(St,"https://apis.google.com/js/api.js?onload=%{onload}"),rc=new qi(3e4,6e4),oc=new qi(5e3,15e3),sc=null;function ac(t,e,n,i){this.l=t,this.h=e,this.i=n,this.g=i,this.f=null,t=this.g?Un((t=Vn(this.g.url)).c,t.a,t.g,"/emulator/auth/iframe"):Un("https",this.l,null,"/__/auth/iframe"),this.a=t,Fn(this.a,"apiKey",this.h),Fn(this.a,"appName",this.i),this.b=null,this.c=[]}function cc(t,e,n,i,r,o){this.u=t,this.s=e,this.c=n,this.m=i,this.v=o,this.i=this.g=this.l=null,this.a=r,this.h=this.f=null}function uc(t){try{return i.default.app(t).auth().Ga()}catch(e){return[]}}function lc(t,e,n,i,r,o){this.s=t,this.g=e,this.b=n,this.f=o,this.c=i||null,this.i=r||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function hc(t){var e=li();return function(t){return Ja(t,Na,{}).then(function(t){return t.authorizedDomains||[]})}(t).then(function(t){t:{var n=Vn(e),i=n.c;n=n.a;for(var r=0;r<t.length;r++){var o=t[r],s=n,a=i;if(0==o.indexOf("chrome-extension://")?s=Vn(o).a==s&&"chrome-extension"==a:"http"!=a&&"https"!=a?s=!1:mi.test(o)?s=s==o:(o=o.split(".").join("\\."),s=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)),s){t=!0;break t}}t=!1}if(!t)throw new zo(li())})}function dc(t){return t.m||(t.m=_i().then(function(){if(!t.u){var e=t.c,n=t.i,i=uc(t.b),r=new ac(t.s,t.g,t.b,t.f);r.f=e,r.b=n,r.c=X(i||[]),t.u=r.toString()}t.v=new nc(t.u),function(t){if(!t.v)throw Error("IfcHandler must be initialized!");!function(t,e){t.sb.then(function(){t.a.register("authEvent",e,Ii("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}(t.v,function(e){var n={};if(e&&e.authEvent){var i=!1;for(e=Uo(e.authEvent),n=0;n<t.h.length;n++)i=t.h[n](e)||i;return(n={}).status=i?"ACK":"ERROR",xe(n)}return n.status="ERROR",xe(n)})}(t)})),t.m}function fc(t){return t.l||(t.C=t.c?xi(t.c,uc(t.b)):null,t.l=new Ks(t.g,P(t.i),t.C),t.f&&ea(t.l,t.f)),t.l}function pc(t,e,n,i,r,o,s,a,c,u,l,h){return(t=new cc(t,e,n,i,r,h)).l=o,t.g=s,t.i=a,t.b=gt(c||null),t.f=u,t.zb(l).toString()}function gc(t){if(this.a=t||i.default.INTERNAL.reactNative&&i.default.INTERNAL.reactNative.AsyncStorage,!this.a)throw new T("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function mc(t){this.b=t,this.a={},this.f=w(this.c,this)}ac.prototype.toString=function(){return this.f?Fn(this.a,"v",this.f):Xn(this.a.b,"v"),this.b?Fn(this.a,"eid",this.b):Xn(this.a.b,"eid"),this.c.length?Fn(this.a,"fw",this.c.join(",")):Xn(this.a.b,"fw"),this.a.toString()},cc.prototype.zb=function(t){return this.h=t,this},cc.prototype.toString=function(){if(this.v){var t=Vn(this.v.url);t=Un(t.c,t.a,t.g,"/emulator/auth/handler")}else t=Un("https",this.u,null,"/__/auth/handler");if(Fn(t,"apiKey",this.s),Fn(t,"appName",this.c),Fn(t,"authType",this.m),this.a.isOAuthProvider){var e=this.a;try{var n=i.default.app(this.c).auth().la()}catch(c){n=null}for(var r in e.pb=n,Fn(t,"providerId",this.a.providerId),e=ji((n=this.a).Jb))e[r]=e[r].toString();r=n.Qc,e=gt(e);for(var o=0;o<r.length;o++){var s=r[o];s in e&&delete e[s]}n.qb&&n.pb&&!e[n.qb]&&(e[n.qb]=n.pb),pt(e)||Fn(t,"customParameters",Ni(e))}if("function"==typeof this.a.Rb&&(n=this.a.Rb()).length&&Fn(t,"scopes",n.join(",")),this.l?Fn(t,"redirectUrl",this.l):Xn(t.b,"redirectUrl"),this.g?Fn(t,"eventId",this.g):Xn(t.b,"eventId"),this.i?Fn(t,"v",this.i):Xn(t.b,"v"),this.b)for(var a in this.b)this.b.hasOwnProperty(a)&&!Ln(t,a)&&Fn(t,a,this.b[a]);return this.h?Fn(t,"tid",this.h):Xn(t.b,"tid"),this.f?Fn(t,"eid",this.f):Xn(t.b,"eid"),(a=uc(this.c)).length&&Fn(t,"fw",a.join(",")),t.toString()},(t=lc.prototype).Pb=function(t,e,n){var i=new T("popup-closed-by-user"),r=new T("web-storage-unsupported"),o=this,s=!1;return this.ma().then(function(){(function(t){var e={type:"webStorageSupport"};return dc(t).then(function(){return function(t,e){return t.sb.then(function(){return new ye(function(n){t.a.send(e.type,e,n,Ii("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}(t.v,e)}).then(function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()})})(o).then(function(n){n||(t&&pi(t),e(r),s=!0)})}).o(function(){}).then(function(){if(!s)return function(t){return new ye(function(e){return function n(){Tn(2e3).then(function(){if(t&&!t.closed)return n();e()})}()})}(t)}).then(function(){if(!s)return Tn(n).then(function(){e(i)})})},t.Yb=function(){var t=Ei();return!Mi(t)&&!Vi(t)},t.Ub=function(){return!1},t.Nb=function(t,e,n,i,r,o,s,a){if(!t)return Ee(new T("popup-blocked"));if(s&&!Mi())return this.ma().o(function(e){pi(t),r(e)}),i(),xe();this.a||(this.a=hc(fc(this)));var c=this;return this.a.then(function(){var e=c.ma().o(function(e){throw pi(t),r(e),e});return i(),e}).then(function(){Lo(n),s||hi(pc(c.s,c.g,c.b,e,n,null,o,c.c,void 0,c.i,a,c.f),t)}).o(function(t){throw"auth/network-request-failed"==t.code&&(c.a=null),t})},t.Ob=function(t,e,n,i){this.a||(this.a=hc(fc(this)));var r=this;return this.a.then(function(){Lo(e),hi(pc(r.s,r.g,r.b,t,e,li(),n,r.c,void 0,r.i,i,r.f))}).o(function(t){throw"auth/network-request-failed"==t.code&&(r.a=null),t})},t.ma=function(){var t=this;return dc(this).then(function(){return t.v.sb}).o(function(){throw t.a=null,new T("network-request-failed")})},t.ac=function(){return!0},t.Ea=function(t){this.h.push(t)},t.Ta=function(t){Q(this.h,function(e){return e==t})},(t=gc.prototype).get=function(t){return xe(this.a.getItem(t)).then(function(t){return t&&Fi(t)})},t.set=function(t,e){return xe(this.a.setItem(t,Ni(e)))},t.U=function(t){return xe(this.a.removeItem(t))},t.ca=function(){},t.ia=function(){};var bc,_c=[];function vc(t,e,n){pt(t.a)&&t.b.addEventListener("message",t.f),void 0===t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function yc(t){this.a=t}function wc(t){this.c=t,this.b=!1,this.a=[]}function Cc(t,e,n,i){var r,o,s,a,c=n||{},u=null;if(t.b)return Ee(Error("connection_unavailable"));var l=i?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new ye(function(n,i){h?(r=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),s=setTimeout(function(){i(Error("unsupported_event"))},l),t.a.push(u={messageChannel:h,onMessage:o=function(t){t.data.eventId===r&&("ack"===t.data.status?(clearTimeout(s),a=setTimeout(function(){i(Error("timeout"))},3e3)):"done"===t.data.status?(clearTimeout(a),void 0!==t.data.response?n(t.data.response):i(Error("unknown_error"))):(clearTimeout(s),clearTimeout(a),i(Error("invalid_response"))))}}),h.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:r,data:c},[h.port2])):i(Error("connection_unavailable"))}).then(function(e){return Sc(t,u),e}).o(function(e){throw Sc(t,u),e})}function Sc(t,e){if(e){var n=e.messageChannel;n&&(n.port1.removeEventListener("message",e.onMessage),n.port1.close()),Q(t.a,function(t){return t==e})}}function kc(){if(!Ec())throw new T("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=a.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var t=this;wi()&&self?(this.v=function(){var t=wi()?self:null;if(z(_c,function(n){n.b==t&&(e=n)}),!e){var e=new mc(t);_c.push(e)}return e}(),vc(this.v,"keyChanged",function(e,n){return Dc(t).then(function(e){return 0<e.length&&z(t.a,function(t){t(e)}),{keyProcessed:$(e,n.key)}})}),vc(this.v,"ping",function(){return xe(["keyChanged"])})):function(){var t=a.navigator;return t&&t.serviceWorker?xe().then(function(){return t.serviceWorker.ready}).then(function(t){return t.active||null}).o(function(){return null}):xe(null)}().then(function(e){(t.h=e)&&(t.g=new wc(new yc(e)),Cc(t.g,"ping",null,!0).then(function(e){e[0].fulfilled&&$(e[0].value,"keyChanged")&&(t.s=!0)}).o(function(){}))})}function Oc(t){return new ye(function(e,n){var i=t.m.open("firebaseLocalStorageDb",1);i.onerror=function(t){try{t.preventDefault()}catch(e){}n(Error(t.target.error))},i.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){n(e)}},i.onsuccess=function(i){(i=i.target.result).objectStoreNames.contains("firebaseLocalStorage")?e(i):function(t){return new ye(function(e,n){var i=t.m.deleteDatabase("firebaseLocalStorageDb");i.onsuccess=function(){e()},i.onerror=function(t){n(Error(t.target.error))}})}(t).then(function(){return Oc(t)}).then(function(t){e(t)}).o(function(t){n(t)})}})}function Tc(t){return t.i||(t.i=Oc(t)),t.i}function xc(t,e){var n=0;return new ye(function i(r,o){Tc(t).then(e).then(r).o(function(e){if(!(3<++n))return Tc(t).then(function(e){return e.close(),t.i=void 0,i(r,o)}).o(function(t){o(t)});o(e)})})}function Ec(){try{return!!a.indexedDB}catch(Kt){return!1}}function Ic(t){return t.objectStore("firebaseLocalStorage")}function Ac(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function Rc(t){return new ye(function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}})}function Pc(t,e){return t.g&&t.h&&function(){var t=a.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.h?Cc(t.g,"keyChanged",{key:e},t.s).then(function(){}).o(function(){}):xe()}function Dc(t){return Tc(t).then(function(t){var e=Ic(Ac(t,!1));return e.getAll?Rc(e.getAll()):new ye(function(t,n){var i=[],r=e.openCursor();r.onsuccess=function(e){(e=e.target.result)?(i.push(e.value),e.continue()):t(i)},r.onerror=function(t){n(t.target.error)}})}).then(function(e){var n={},i=[];if(0==t.b){for(i=0;i<e.length;i++)n[e[i].fbase_key]=e[i].value;i=di(t.c,n),t.c=n}return i})}function Mc(t){t.l&&t.l.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function Nc(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=xe().then(function(){if(Ec()){var t=Li(),i="__sak"+t;return bc||(bc=new kc),(n=bc).set(i,t).then(function(){return n.get(i)}).then(function(e){if(e!==t)throw Error("indexedDB not supported!");return n.U(i)}).then(function(){return n}).o(function(){return e.c})}return e.c}).then(function(t){return e.type=t.type,t.ca(function(t){z(e.a,function(e){e(t)})}),t})}function jc(){this.a={},this.type="inMemory"}function Fc(){if(!function(){var t="Node"==Ci();if(!(t=Lc()||t&&i.default.INTERNAL.node&&i.default.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==Ci())throw new T("internal-error","The LocalStorage compatibility library was not found.");throw new T("web-storage-unsupported")}this.a=Lc()||i.default.INTERNAL.node.localStorage,this.type="localStorage"}function Lc(){try{var t=a.localStorage,e=Li();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function Vc(){this.type="nullStorage"}function Uc(){if(!function(){var t="Node"==Ci();if(!(t=qc()||t&&i.default.INTERNAL.node&&i.default.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==Ci())throw new T("internal-error","The SessionStorage compatibility library was not found.");throw new T("web-storage-unsupported")}this.a=qc()||i.default.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function qc(){try{var t=a.sessionStorage,e=Li();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function Bc(){var t={};t.Browser=Wc,t.Node=Gc,t.ReactNative=Kc,t.Worker=$c,this.a=t[Ci()]}mc.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,i=this.a[e];if(i&&0<i.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var r=[];z(i,function(e){r.push(xe().then(function(){return e(t.origin,t.data.data)}))}),Ae(r).then(function(i){var r=[];z(i,function(t){r.push({fulfilled:t.Qb,value:t.value,reason:t.reason?t.reason.message:void 0})}),z(r,function(t){for(var e in t)void 0===t[e]&&delete t[e]}),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:r})})}},yc.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},wc.prototype.close=function(){for(;0<this.a.length;)Sc(this,this.a[0]);this.b=!0},(t=kc.prototype).set=function(t,e){var n=this,i=!1;return xc(this,function(e){return Rc((e=Ic(Ac(e,!0))).get(t))}).then(function(r){return xc(n,function(o){if(o=Ic(Ac(o,!0)),r)return r.value=e,Rc(o.put(r));n.b++,i=!0;var s={};return s.fbase_key=t,s.value=e,Rc(o.add(s))})}).then(function(){return n.c[t]=e,Pc(n,t)}).oa(function(){i&&n.b--})},t.get=function(t){return xc(this,function(e){return Rc(Ic(Ac(e,!1)).get(t))}).then(function(t){return t&&t.value})},t.U=function(t){var e=this,n=!1;return xc(this,function(i){return n=!0,e.b++,Rc(Ic(Ac(i,!0)).delete(t))}).then(function(){return delete e.c[t],Pc(e,t)}).oa(function(){n&&e.b--})},t.ca=function(t){0==this.a.length&&function(t){Mc(t),function e(){t.f=setTimeout(function(){t.l=Dc(t).then(function(e){0<e.length&&z(t.a,function(t){t(e)})}).then(function(){e()}).o(function(t){"STOP_EVENT"!=t.message&&e()})},800)}()}(this),this.a.push(t)},t.ia=function(t){Q(this.a,function(e){return e==t}),0==this.a.length&&Mc(this)},(t=Nc.prototype).get=function(t){return this.b.then(function(e){return e.get(t)})},t.set=function(t,e){return this.b.then(function(n){return n.set(t,e)})},t.U=function(t){return this.b.then(function(e){return e.U(t)})},t.ca=function(t){this.a.push(t)},t.ia=function(t){Q(this.a,function(e){return e==t})},(t=jc.prototype).get=function(t){return xe(this.a[t])},t.set=function(t,e){return this.a[t]=e,xe()},t.U=function(t){return delete this.a[t],xe()},t.ca=function(){},t.ia=function(){},(t=Fc.prototype).get=function(t){var e=this;return xe().then(function(){return Fi(e.a.getItem(t))})},t.set=function(t,e){var n=this;return xe().then(function(){var i=Ni(e);null===i?n.U(t):n.a.setItem(t,i)})},t.U=function(t){var e=this;return xe().then(function(){e.a.removeItem(t)})},t.ca=function(t){a.window&&un(a.window,"storage",t)},t.ia=function(t){a.window&&dn(a.window,"storage",t)},(t=Vc.prototype).get=function(){return xe(null)},t.set=function(){return xe()},t.U=function(){return xe()},t.ca=function(){},t.ia=function(){},(t=Uc.prototype).get=function(t){var e=this;return xe().then(function(){return Fi(e.a.getItem(t))})},t.set=function(t,e){var n=this;return xe().then(function(){var i=Ni(e);null===i?n.U(t):n.a.setItem(t,i)})},t.U=function(t){var e=this;return xe().then(function(){e.a.removeItem(t)})},t.ca=function(){},t.ia=function(){};var Hc,zc,Wc={F:Fc,cb:Uc},Gc={F:Fc,cb:Uc},Kc={F:gc,cb:Vc},$c={F:Fc,cb:Vc},Yc={rd:"local",NONE:"none",td:"session"};function Qc(){var t=!(Vi(Ei())||!yi()),e=Mi(),n=Ai();this.m=t,this.h=e,this.l=n,this.a={},Hc||(Hc=new Bc),t=Hc;try{this.g=!ui()&&zi()||!a.indexedDB?new t.a.F:new Nc(wi()?new jc:new t.a.F)}catch(i){this.g=new jc,this.h=!0}try{this.i=new t.a.cb}catch(i){this.i=new jc}this.v=new jc,this.f=w(this.Zb,this),this.b={}}function Zc(){return zc||(zc=new Qc),zc}function Xc(t,e){switch(e){case"session":return t.i;case"none":return t.v;default:return t.g}}function Jc(t,e){return"firebase:"+t.name+(e?":"+e:"")}function tu(t,e,n){return n=Jc(e,n),"local"==e.F&&(t.b[n]=null),Xc(t,e.F).U(n)}function eu(t){t.c&&(clearInterval(t.c),t.c=null)}function nu(t){this.a=t,this.b=Zc()}(t=Qc.prototype).get=function(t,e){return Xc(this,t.F).get(Jc(t,e))},t.set=function(t,e,n){var i=Jc(t,n),r=this,o=Xc(this,t.F);return o.set(i,e).then(function(){return o.get(i)}).then(function(e){"local"==t.F&&(r.b[i]=e)})},t.addListener=function(t,e,n){t=Jc(t,e),this.l&&(this.b[t]=a.localStorage.getItem(t)),pt(this.a)&&(Xc(this,"local").ca(this.f),this.h||(ui()||!zi())&&a.indexedDB||!this.l||function(t){eu(t),t.c=setInterval(function(){for(var e in t.a){var n=a.localStorage.getItem(e),i=t.b[e];n!=i&&(t.b[e]=n,n=new Ze({type:"storage",key:e,target:window,oldValue:i,newValue:n,a:!0}),t.Zb(n))}},1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},t.removeListener=function(t,e,n){t=Jc(t,e),this.a[t]&&(Q(this.a[t],function(t){return t==n}),0==this.a[t].length&&delete this.a[t]),pt(this.a)&&(Xc(this,"local").ia(this.f),eu(this))},t.Zb=function(t){if(t&&t.g){var e=t.a.key;if(null==e)for(var n in this.a){var i=this.b[n];void 0===i&&(i=null);var r=a.localStorage.getItem(n);r!==i&&(this.b[n]=r,this.nb(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?Xc(this,"local").ia(this.f):eu(this),this.m)if(n=a.localStorage.getItem(e),(i=t.a.newValue)!==n)null!==i?a.localStorage.setItem(e,i):a.localStorage.removeItem(e);else if(this.b[e]===i&&void 0===t.a.a)return;var o=this;n=function(){void 0===t.a.a&&o.b[e]===a.localStorage.getItem(e)||(o.b[e]=a.localStorage.getItem(e),o.nb(e))},Yt&&se&&10==se&&a.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else z(t,w(this.nb,this))},t.nb=function(t){this.a[t]&&z(this.a[t],function(t){t()})};var iu,ru={name:"authEvent",F:"local"};function ou(){this.a=Zc()}function su(t,e){this.b=au,this.f=a.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=a.Int32Array?new Int32Array(64):Array(64),void 0===iu&&(iu=a.Int32Array?new Int32Array(pu):pu),this.reset()}k(su,function(){this.b=-1});for(var au=64,cu=au-1,uu=[],lu=0;lu<cu;lu++)uu[lu]=0;var hu=Z(128,uu);function du(t){for(var e=t.f,n=t.l,i=0,r=0;r<e.length;)n[i++]=e[r]<<24|e[r+1]<<16|e[r+2]<<8|e[r+3],r=4*i;for(e=16;64>e;e++){var o=(0|n[e-16])+(((r=0|n[e-15])>>>7|r<<25)^(r>>>18|r<<14)^r>>>3)|0,s=(0|n[e-7])+(((i=0|n[e-2])>>>17|i<<15)^(i>>>19|i<<13)^i>>>10)|0;n[e]=o+s|0}i=0|t.a[0],r=0|t.a[1];var a=0|t.a[2],c=0|t.a[3],u=0|t.a[4],l=0|t.a[5],h=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var d=((i>>>2|i<<30)^(i>>>13|i<<19)^(i>>>22|i<<10))+(i&r^i&a^r&a)|0;s=(o=o+((u>>>6|u<<26)^(u>>>11|u<<21)^(u>>>25|u<<7))|0)+((s=(s=u&l^~u&h)+(0|iu[e])|0)+(0|n[e])|0)|0,o=h,h=l,l=u,u=c+s|0,c=a,a=r,r=i,i=s+d|0}t.a[0]=t.a[0]+i|0,t.a[1]=t.a[1]+r|0,t.a[2]=t.a[2]+a|0,t.a[3]=t.a[3]+c|0,t.a[4]=t.a[4]+u|0,t.a[5]=t.a[5]+l|0,t.a[6]=t.a[6]+h|0,t.a[7]=t.a[7]+o|0}function fu(t,e,n){void 0===n&&(n=e.length);var i=0,r=t.c;if("string"==typeof e)for(;i<n;)t.f[r++]=e.charCodeAt(i++),r==t.b&&(du(t),r=0);else{if(!f(e))throw Error("message must be string or array");for(;i<n;){var o=e[i++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");t.f[r++]=o,r==t.b&&(du(t),r=0)}}t.c=r,t.g+=n}su.prototype.reset=function(){this.g=this.c=0,this.a=a.Int32Array?new Int32Array(this.h):X(this.h)};var pu=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function gu(){su.call(this,8,mu)}k(gu,su);var mu=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function bu(t,e,n,i,r,o){this.v=t,this.i=e,this.l=n,this.m=i||null,this.u=r||null,this.s=o,this.h=e+":"+n,this.C=new ou,this.g=new nu(this.h),this.f=null,this.b=[],this.a=this.c=null}function _u(t){return new T("invalid-cordova-configuration",t)}function vu(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(i){}}function yu(t){return t.f||(t.f=t.ma().then(function(){return new ye(function(e){t.Ea(function n(i){return e(i),t.Ta(n),!1}),function(t){function e(e){i=!0,r&&r.cancel(),wu(t).then(function(i){var r=n;if(i&&e&&e.url){var o=null;-1!=(r=io(e.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=Fi(Ln(o=Vn(r),"firebaseError")||null))?x(o):null)?new Vo(i.c,i.b,null,null,o,null,i.T()):new Vo(i.c,i.b,r,i.f,null,null,i.T())),r=o||n}vu(t,r)})}var n=new Vo("unknown",null,null,null,new T("no-auth-event")),i=!1,r=Tn(500).then(function(){return wu(t).then(function(){i||vu(t,n)})}),o=a.handleOpenURL;a.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(Ii("BuildInfo.packageName",a).toLowerCase()+"://")&&e({url:t}),"function"==typeof o)try{o(t)}catch(n){console.error(n)}},Ho||(Ho=new qo),function(t){var e=Ho;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"==typeof(t=Ii("universalLinks.subscribe",a))&&t(null,e.b))}(e)}(t)})})),t.f}function wu(t){var e=null;return function(t){return t.b.get(ru,t.a).then(function(t){return Uo(t)})}(t.g).then(function(n){return e=n,tu((n=t.g).b,ru,n.a)}).then(function(){return e})}function Cu(t){this.a=t,this.b=Zc()}(t=bu.prototype).ma=function(){return this.Ia?this.Ia:this.Ia=(vi(void 0)?_i().then(function(){return new ye(function(t,e){var n=a.document,i=setTimeout(function(){e(Error("Cordova framework is not ready."))},1e3);n.addEventListener("deviceready",function(){clearTimeout(i),t()},!1)})}):Ee(Error("Cordova must run in an Android or iOS file scheme."))).then(function(){if("function"!=typeof Ii("universalLinks.subscribe",a))throw _u("cordova-universal-links-plugin-fix is not installed");if(void 0===Ii("BuildInfo.packageName",a))throw _u("cordova-plugin-buildinfo is not installed");if("function"!=typeof Ii("cordova.plugins.browsertab.openUrl",a))throw _u("cordova-plugin-browsertab is not installed");if("function"!=typeof Ii("cordova.InAppBrowser.open",a))throw _u("cordova-plugin-inappbrowser is not installed")},function(){throw new T("cordova-not-ready")})},t.Pb=function(t,e){return e(new T("operation-not-supported-in-this-environment")),xe()},t.Nb=function(){return Ee(new T("operation-not-supported-in-this-environment"))},t.ac=function(){return!1},t.Yb=function(){return!0},t.Ub=function(){return!0},t.Ob=function(t,e,n,i){if(this.c)return Ee(new T("redirect-operation-pending"));var r=this,o=a.document,s=null,c=null,u=null,l=null;return this.c=xe().then(function(){return Lo(e),yu(r)}).then(function(){return function(t,e,n,i,r){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),s=new Vo(e,i,null,o,new T("no-auth-event"),null,r),c=Ii("BuildInfo.packageName",a);if("string"!=typeof c)throw new T("invalid-cordova-configuration");var u=Ii("BuildInfo.displayName",a),l={};if(Ei().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=c;else{if(!Ei().toLowerCase().match(/android/))return Ee(new T("operation-not-supported-in-this-environment"));l.apn=c}u&&(l.appDisplayName=u),o=function(t){var e=new gu;fu(e,t),t=[];var n=8*e.g;fu(e,hu,56>e.c?56-e.c:e.b-(e.c-56));for(var i=63;56<=i;i--)e.f[i]=255&n,n/=256;for(du(e),i=n=0;i<e.i;i++)for(var r=24;0<=r;r-=8)t[n++]=e.a[i]>>r&255;return function(t){return G(t,function(t){return 1<(t=t.toString(16)).length?t:"0"+t}).join("")}(t)}(o),l.sessionId=o;var h=pc(t.v,t.i,t.l,e,n,null,i,t.m,l,t.u,r,t.s);return t.ma().then(function(){var e=t.h;return t.C.a.set(ru,s.w(),e)}).then(function(){var e=Ii("cordova.plugins.browsertab.isAvailable",a);if("function"!=typeof e)throw new T("invalid-cordova-configuration");var n=null;e(function(e){if(e){if("function"!=typeof(n=Ii("cordova.plugins.browsertab.openUrl",a)))throw new T("invalid-cordova-configuration");n(h)}else{if("function"!=typeof(n=Ii("cordova.InAppBrowser.open",a)))throw new T("invalid-cordova-configuration");e=Ei(),t.a=n(h,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}(r,t,e,n,i)}).then(function(){return new ye(function(t,e){c=function(){var e=Ii("cordova.plugins.browsertab.close",a);return t(),"function"==typeof e&&e(),r.a&&"function"==typeof r.a.close&&(r.a.close(),r.a=null),!1},r.Ea(c),l=function(){Bi()&&u()},o.addEventListener("resume",u=function(){s||(s=Tn(2e3).then(function(){e(new T("redirect-cancelled-by-user"))}))},!1),Ei().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",l,!1)}).o(function(t){return wu(r).then(function(){throw t})})}).oa(function(){u&&o.removeEventListener("resume",u,!1),l&&o.removeEventListener("visibilitychange",l,!1),s&&s.cancel(),c&&r.Ta(c),r.c=null})},t.Ea=function(t){this.b.push(t),yu(this).o(function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new Vo("unknown",null,null,null,new T("no-auth-event")),t(e))})},t.Ta=function(t){Q(this.b,function(e){return e==t})};var Su={name:"pendingRedirect",F:"session"};function ku(t){return tu(t.b,Su,t.a)}function Ou(t,e,n,i){this.i={},this.u=0,this.D=t,this.v=e,this.m=n,this.J=i,this.h=[],this.f=!1,this.l=w(this.s,this),this.b=new Uu,this.C=new Wu,this.g=new Cu(Lu(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=Tu(this.D,this.v,this.m,E,this.J)}function Tu(t,e,n,r,o){var s=i.default.SDK_VERSION||null;return vi()?new bu(t,e,n,s,r,o):new lc(t,e,n,s,r,o)}function xu(t){t.f||(t.f=!0,t.a.Ea(t.l));var e=t.a;return t.a.ma().o(function(n){throw t.a==e&&t.reset(),n})}function Eu(t){t.a.Yb()&&xu(t).o(function(e){var n=new Vo("unknown",null,null,null,new T("operation-not-supported-in-this-environment"));Mu(e)&&t.s(n)}),t.a.Ub()||qu(t.b)}function Iu(t,e){$(t.h,e)||t.h.push(e),t.f||function(t){return t.b.get(Su,t.a).then(function(t){return"pending"==t})}(t.g).then(function(e){e?ku(t.g).then(function(){xu(t).o(function(e){var n=new Vo("unknown",null,null,null,new T("operation-not-supported-in-this-environment"));Mu(e)&&t.s(n)})}):Eu(t)}).o(function(){Eu(t)})}function Au(t,e){Q(t.h,function(t){return t==e})}Ou.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=Tu(this.D,this.v,this.m,null,this.J),this.i={}},Ou.prototype.s=function(t){if(!t)throw new T("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var i=this.h[n];if(i.Gb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,i),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.u=Date.now())),e=!0;break}}return qu(this.b),e};var Ru=new qi(2e3,1e4),Pu=new qi(3e4,6e4);function Du(t,e,n,i,r,o,s){return t.a.Nb(e,n,i,function(){t.f||(t.f=!0,t.a.Ea(t.l))},function(){t.reset()},r,o,s)}function Mu(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function Nu(t,e,n,i,r){var o;return function(t){return t.b.set(Su,"pending",t.a)}(t.g).then(function(){return t.a.Ob(e,n,i,r).o(function(e){if(Mu(e))throw new T("operation-not-supported-in-this-environment");return o=e,ku(t.g).then(function(){throw o})}).then(function(){return t.a.ac()?new ye(function(){}):ku(t.g).then(function(){return t.ra()}).then(function(){}).o(function(){})})})}function ju(t,e,n,i,r){return t.a.Pb(i,function(t){e.na(n,null,t,r)},Ru.get())}Ou.prototype.ra=function(){return this.b.ra()};var Fu={};function Lu(t,e,n){return t=t+":"+e,n&&(t=t+":"+n.url),t}function Vu(t,e,n,i){var r=Lu(e,n,i);return Fu[r]||(Fu[r]=new Ou(t,e,n,i)),Fu[r]}function Uu(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function qu(t){t.g||(t.g=!0,zu(t,!1,null,null))}function Bu(t){t.g&&!t.i&&zu(t,!1,null,null)}function Hu(t,e){if(t.b=function(){return xe(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function zu(t,e,n,i){e?i?function(t,e){if(t.b=function(){return Ee(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,i):Hu(t,n):Hu(t,{user:null}),t.f=[],t.c=[]}function Wu(){}function Gu(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(t){this.jb=t},enumerable:!1})}function Ku(t,e){this.a=e,Yi(this,"verificationId",t)}function $u(t,e,n,i){return new No(t).gb(e,n).then(function(t){return new Ku(t,i)})}function Yu(t){var e=Hr(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new T("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Qi(this,{token:t,expirationTime:Hi(1e3*e.exp),authTime:Hi(1e3*e.auth_time),issuedAtTime:Hi(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function Qu(t,e,n){var i=e&&e[Xu];if(!i)throw new T("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=gt(e),this.g=n,this.c=new ro(null,i),this.b=[];var r=this;z(e[Zu]||[],function(t){(t=tr(t))&&r.b.push(t)}),Yi(this,"auth",this.a),Yi(this,"session",this.c),Yi(this,"hints",this.b)}Uu.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Uu.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,i=t.b,r=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!r&&!o),"unknown"!=n||r||o?t.a?(zu(this,!0,null,t.a),xe()):e.Fa(n,i)?function(t,e,n){n=n.Fa(e.c,e.b);var i=e.g,r=e.f,o=e.i,s=e.T(),a=!!e.c.match(/Redirect$/);n(i,r,s,o).then(function(e){zu(t,a,e,null)}).o(function(e){zu(t,a,null,e)})}(this,t,e):Ee(new T("invalid-auth-event")):(zu(this,!1,null,null),xe())}else Ee(new T("invalid-auth-event"))},Uu.prototype.ra=function(){var t=this;return new ye(function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new T("timeout");t.a&&t.a.cancel(),t.a=Tn(Pu.get()).then(function(){t.b||(t.g=!0,zu(t,!0,null,e))})}(t))})},Wu.prototype.h=function(t,e){if(t){var n=t.c,i=t.b;t.a?(e.na(t.c,null,t.a,t.b),xe()):e.Fa(n,i)?function(t,e){var n=t.b,i=t.c;e.Fa(i,n)(t.g,t.f,t.T(),t.i).then(function(t){e.na(i,t,null,n)}).o(function(t){e.na(i,null,t,n)})}(t,e):Ee(new T("invalid-auth-event"))}else Ee(new T("invalid-auth-event"))},Ku.prototype.confirm=function(t){return t=jo(this.verificationId,t),this.a(t)};var Zu="mfaInfo",Xu="mfaPendingCredential";function Ju(t,e,n,i){T.call(this,"multi-factor-auth-required",i,e),this.b=new Qu(t,e,n),Yi(this,"resolver",this.b)}function tl(t,e,n){if(t&&g(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new Ju(e,t.serverResponse,n,t.message)}catch(i){}return null}function el(){}function nl(t){Yi(this,"factorId",t.fa),this.a=t}function il(t){if(nl.call(this,t),this.a.fa!=No.PROVIDER_ID)throw new T("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function rl(t,e){for(var n in Qe.call(this,t),e)this[n]=e[n]}function ol(t,e){this.a=t,this.b=[],this.c=w(this.yc,this),un(this.a,"userReloaded",this.c);var n=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&z(e.multiFactor.enrolledFactors,function(t){var e=null,i={};if(t){t.uid&&(i[ir]=t.uid),t.displayName&&(i[er]=t.displayName),t.enrollmentTime&&(i[nr]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(i[rr]=t.phoneNumber);try{e=new or(i)}catch(r){}t=e}else t=null;t&&n.push(t)}),sl(this,n)}function sl(t,e){t.b=e,Yi(t,"enrolledFactors",e)}function al(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function cl(t,e){t.stop(),t.b=Tn(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(t,e)).then(function(){return function(){var t=a.document,e=null;return Bi()||!t?xe():new ye(function(n){e=function(){Bi()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)}).o(function(n){throw t.removeEventListener("visibilitychange",e,!1),n})}()}).then(function(){return t.h()}).then(function(){cl(t,!0)}).o(function(e){t.i(e)&&cl(t,!1)})}function ul(t){this.f=t,this.b=this.a=null,this.c=Date.now()}function ll(t,e){void 0===e&&(e=t.b?(e=t.b).a-e.g:0),t.c=Date.now()+1e3*e}function hl(t,e){t.b=Br(e[Ys]||""),t.a=e.refreshToken,ll(t,void 0!==(e=e.expiresIn)?Number(e):void 0)}function dl(t,e){this.a=t||null,this.b=e||null,Qi(this,{lastSignInTime:Hi(e||null),creationTime:Hi(t||null)})}function fl(t,e,n,i,r,o){Qi(this,{uid:t,displayName:i||null,photoURL:r||null,email:n||null,phoneNumber:o||null,providerId:e})}function pl(t,e,n){this.N=[],this.l=t.apiKey,this.m=t.appName,this.s=t.authDomain||null;var r=i.default.SDK_VERSION?xi(i.default.SDK_VERSION):null;this.a=new Ks(this.l,P(E),r),(this.u=t.emulatorConfig||null)&&ea(this.a,this.u),this.h=new ul(this.a),Sl(this,e[Ys]),hl(this.h,e),Yi(this,"refreshToken",this.h.a),Tl(this,n||{}),wn.call(this),this.P=!1,this.s&&Ri()&&(this.b=Vu(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=function(t){return new al(function(){return t.I(!0)},function(t){return!(!t||"auth/network-request-failed"!=t.code)},function(){var e=t.h.c-Date.now()-3e5;return 0<e?e:0})}(this),this.ba=w(this.ib,this);var o=this;this.za=null,this.Pa=function(t){o.xa(t.h)},this.qa=null,this.Ba=function(t){gl(o,t.c)},this.$=null,this.aa=[],this.Oa=function(t){_l(o,t.f)},this.ja=null,this.S=new ol(this,n),Yi(this,"multiFactor",this.S)}function gl(t,e){t.u=e,ea(t.a,e),t.b&&(e=t.b,t.b=Vu(t.s,t.l,t.m,t.u),t.P&&(Au(e,t),Iu(t.b,t)))}function ml(t,e){t.qa&&dn(t.qa,"languageCodeChanged",t.Pa),(t.qa=e)&&un(e,"languageCodeChanged",t.Pa)}function bl(t,e){t.$&&dn(t.$,"emulatorConfigChanged",t.Ba),(t.$=e)&&un(e,"emulatorConfigChanged",t.Ba)}function _l(t,e){t.aa=e,ia(t.a,i.default.SDK_VERSION?xi(i.default.SDK_VERSION,t.aa):null)}function vl(t,e){t.ja&&dn(t.ja,"frameworkChanged",t.Oa),(t.ja=e)&&un(e,"frameworkChanged",t.Oa)}function yl(t){try{return i.default.app(t.m).auth()}catch(e){throw new T("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function wl(t){t.J||t.D.b||(t.D.start(),dn(t,"tokenChanged",t.ba),un(t,"tokenChanged",t.ba))}function Cl(t){dn(t,"tokenChanged",t.ba),t.D.stop()}function Sl(t,e){t.Aa=e,Yi(t,"_lat",e)}function kl(t){for(var e=[],n=0;n<t.W.length;n++)e.push(t.W[n](t));return Ae(e).then(function(){return t})}function Ol(t){t.b&&!t.P&&(t.P=!0,Iu(t.b,t))}function Tl(t,e){Qi(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new dl(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function xl(){}function El(t){return xe().then(function(){if(t.J)throw new T("app-deleted")})}function Il(t){return G(t.providerData,function(t){return t.providerId})}function Al(t,e){e&&(Rl(t,e.providerId),t.providerData.push(e))}function Rl(t,e){Q(t.providerData,function(t){return t.providerId==e})}function Pl(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Yi(t,e,n)}function Dl(t,e){t!=e&&(Qi(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),Yi(t,"metadata",e.metadata?function(t){return new dl(t.a,t.b)}(e.metadata):new dl),z(e.providerData,function(e){Al(t,e)}),function(t,e){t.b=e.b,t.a=e.a,t.c=e.c}(t.h,e.h),Yi(t,"refreshToken",t.h.a),sl(t.S,e.S.b))}function Ml(t){return t.I().then(function(e){var n=t.isAnonymous;return function(t,e){return Ja(t.a,Aa,{idToken:e}).then(w(t.Kc,t))}(t,e).then(function(){return n||Pl(t,"isAnonymous",!1),e})})}function Nl(t,e){e[Ys]&&t.Aa!=e[Ys]&&(hl(t.h,e),t.dispatchEvent(new rl("tokenChanged")),Sl(t,e[Ys]),Pl(t,"refreshToken",t.h.a))}function jl(t,e){return Ml(t).then(function(){if($(Il(t),e))return kl(t).then(function(){throw new T("provider-already-linked")})})}function Fl(t,e,n){return Zi({user:t,credential:Fo(e),additionalUserInfo:e=$r(e),operationType:n})}function Ll(t,e){return Nl(t,e),t.reload().then(function(){return t})}function Vl(t,e,n,r,o){if(!Ri())return Ee(new T("operation-not-supported-in-this-environment"));if(t.i&&!o)return Ee(t.i);var s=Kr(n.providerId),a=Li(t.uid+":::"),c=null;(!Mi()||yi())&&t.s&&n.isOAuthProvider&&(c=pc(t.s,t.l,t.m,e,n,null,a,i.default.SDK_VERSION||null,null,null,t.tenantId,t.u));var u=gi(c,s&&s.va,s&&s.ua);return r=r().then(function(){if(ql(t),!o)return t.I().then(function(){})}).then(function(){return Du(t.b,u,e,n,a,!!c,t.tenantId)}).then(function(){return new ye(function(n,i){t.na(e,null,new T("cancelled-popup-request"),t.g||null),t.f=n,t.C=i,t.g=a,t.c=ju(t.b,t,e,u,a)})}).then(function(t){return u&&pi(u),t?Zi(t):null}).o(function(t){throw u&&pi(u),t}),Bl(t,r,o)}function Ul(t,e,n,i,r){if(!Ri())return Ee(new T("operation-not-supported-in-this-environment"));if(t.i&&!r)return Ee(t.i);var o=null,s=Li(t.uid+":::");return i=i().then(function(){if(ql(t),!r)return t.I().then(function(){})}).then(function(){return t.ga=s,kl(t)}).then(function(e){return t.ha&&(e=(e=t.ha).b.set(Wl,t.w(),e.a)),e}).then(function(){return Nu(t.b,e,n,s,t.tenantId)}).o(function(e){if(o=e,t.ha)return Gl(t.ha);throw o}).then(function(){if(o)throw o}),Bl(t,i,r)}function ql(t){if(!t.b||!t.P){if(t.b&&!t.P)throw new T("internal-error");throw new T("auth-domain-config-required")}}function Bl(t,e,n){var i=function(t,e,n){return t.i&&!n?(e.cancel(),Ee(t.i)):e.o(function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.i||t.dispatchEvent(new rl("userInvalidated")),t.i=e),e})}(t,e,n);return t.N.push(i),i.oa(function(){Y(t.N,i)}),i.o(function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=tl(e.w(),yl(t),w(t.jc,t))),n||e})}function Hl(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName,emulatorConfig:t.emulatorConfig},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[Ys]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var i=t.stsTokenManager.expirationTime;i&&(n.expiresIn=(i-Date.now())/1e3);var r=new pl(e,n,t);return t.providerData&&z(t.providerData,function(t){t&&Al(r,Zi(t))}),t.redirectEventId&&(r.ga=t.redirectEventId),r}function zl(t){this.a=t,this.b=Zc()}Qu.prototype.Rc=function(t){var e=this;return t.tb(this.a.a,this.c).then(function(t){var n=gt(e.f);return delete n[Zu],delete n[Xu],bt(n,t),e.g(n)})},k(Ju,T),el.prototype.tb=function(t,e,n){return e.type==oo?function(t,e,n,i){return n.Ha().then(function(n){return n={idToken:n},void 0!==i&&(n.displayName=i),bt(n,{phoneVerificationInfo:Mo(t.a)}),Ja(e,Ea,n)})}(this,t,e,n):function(t,e,n){return n.Ha().then(function(n){return bt(n={mfaPendingCredential:n},{phoneVerificationInfo:Mo(t.a)}),Ja(e,Ia,n)})}(this,t,e)},k(nl,el),k(il,nl),k(rl,Qe),(t=ol.prototype).yc=function(t){sl(this,function(t){var e=[];return z(t.mfaInfo||[],function(t){(t=tr(t))&&e.push(t)}),e}(t.hd))},t.Sb=function(){return this.a.I().then(function(t){return new ro(t,null)})},t.fc=function(t,e){var n=this,i=this.a.a;return this.Sb().then(function(n){return t.tb(i,n,e)}).then(function(t){return Nl(n.a,t),n.a.reload()})},t.bd=function(t){var e=this,n="string"==typeof t?t:t.uid,i=this.a.a;return this.a.I().then(function(t){return Ja(i,Xa,{idToken:t,mfaEnrollmentId:n})}).then(function(t){var i=W(e.b,function(t){return t.uid!=n});return sl(e,i),Nl(e.a,t),e.a.reload().o(function(t){if("auth/user-token-expired"!=t.code)throw t})})},t.w=function(){return{multiFactor:{enrolledFactors:G(this.b,function(t){return t.w()})}}},al.prototype.start=function(){this.a=this.c,cl(this,!0)},al.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},ul.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},ul.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?Ee(new T("user-token-expired")):t||!this.b||Date.now()>this.c-3e4?this.a?function(t,e){return function(t,e){return new ye(function(n,i){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?ra(t,t.l+"?key="+encodeURIComponent(t.c),function(t){t?t.error?i(ec(t)):t.access_token&&t.refresh_token?n(t):i(new T("internal-error")):i(new T("network-request-failed"))},"POST",Zn(e).toString(),t.g,t.m.get()):i(new T("internal-error"))})}(t.f,e).then(function(e){return t.b=Br(e.access_token),t.a=e.refresh_token,ll(t,e.expires_in),{accessToken:t.b.toString(),refreshToken:t.a}}).o(function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e})}(this,{grant_type:"refresh_token",refresh_token:this.a}):xe(null):xe({accessToken:this.b.toString(),refreshToken:this.a})},dl.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},k(pl,wn),pl.prototype.xa=function(t){this.za=t,ta(this.a,t)},pl.prototype.la=function(){return this.za},pl.prototype.Ga=function(){return X(this.aa)},pl.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())},Yi(pl.prototype,"providerId","firebase"),(t=pl.prototype).reload=function(){var t=this;return Bl(this,El(this).then(function(){return Ml(t).then(function(){return kl(t)}).then(xl)}))},t.oc=function(t){return this.I(t).then(function(t){return new Yu(t)})},t.I=function(t){var e=this;return Bl(this,El(this).then(function(){return e.h.getToken(t)}).then(function(t){if(!t)throw new T("internal-error");return t.accessToken!=e.Aa&&(Sl(e,t.accessToken),e.dispatchEvent(new rl("tokenChanged"))),Pl(e,"refreshToken",t.refreshToken),t.accessToken}))},t.Kc=function(t){if(!(t=t.users)||!t.length)throw new T("internal-error");Tl(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?G(t,function(t){return new fl(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)}):[]}(t),n=0;n<e.length;n++)Al(this,e[n]);Pl(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new rl("userReloaded",{hd:t}))},t.Lc=function(t){return Ki("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(t)},t.ub=function(t){var e=this,n=null;return Bl(this,t.c(this.a,this.uid).then(function(t){return Nl(e,t),n=Fl(e,t,"reauthenticate"),e.i=null,e.reload()}).then(function(){return n}),!0)},t.Cc=function(t){return Ki("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(t)},t.rb=function(t){var e=this,n=null;return Bl(this,jl(this,t.providerId).then(function(){return e.I()}).then(function(n){return t.b(e.a,n)}).then(function(t){return n=Fl(e,t,"link"),Ll(e,t)}).then(function(){return n}))},t.Dc=function(t,e){var n=this;return Bl(this,jl(this,"phone").then(function(){return $u(yl(n),t,e,w(n.rb,n))}))},t.Mc=function(t,e){var n=this;return Bl(this,xe().then(function(){return $u(yl(n),t,e,w(n.ub,n))}),!0)},t.Cb=function(t){var e=this;return Bl(this,this.I().then(function(n){return e.a.Cb(n,t)}).then(function(t){return Nl(e,t),e.reload()}))},t.ed=function(t){var e=this;return Bl(this,this.I().then(function(n){return t.b(e.a,n)}).then(function(t){return Nl(e,t),e.reload()}))},t.Db=function(t){var e=this;return Bl(this,this.I().then(function(n){return e.a.Db(n,t)}).then(function(t){return Nl(e,t),e.reload()}))},t.Eb=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return El(this);var e=this;return Bl(this,this.I().then(function(n){return e.a.Eb(n,{displayName:t.displayName,photoUrl:t.photoURL})}).then(function(t){return Nl(e,t),Pl(e,"displayName",t.displayName||null),Pl(e,"photoURL",t.photoUrl||null),z(e.providerData,function(t){"password"===t.providerId&&(Yi(t,"displayName",e.displayName),Yi(t,"photoURL",e.photoURL))}),kl(e)}).then(xl))},t.cd=function(t){var e=this;return Bl(this,Ml(this).then(function(n){return $(Il(e),t)?function(t,e,n){return Ja(t,Oa,{idToken:e,deleteProvider:n})}(e.a,n,[t]).then(function(t){var n={};return z(t.providerUserInfo||[],function(t){n[t.providerId]=!0}),z(Il(e),function(t){n[t]||Rl(e,t)}),n[No.PROVIDER_ID]||Yi(e,"phoneNumber",null),kl(e)}):kl(e).then(function(){throw new T("no-such-provider")})}))},t.delete=function(){var t=this;return Bl(this,this.I().then(function(e){return Ja(t.a,ka,{idToken:e})}).then(function(){t.dispatchEvent(new rl("userDeleted"))})).then(function(){for(var e=0;e<t.N.length;e++)t.N[e].cancel("app-deleted");ml(t,null),bl(t,null),vl(t,null),t.N=[],t.J=!0,Cl(t),Yi(t,"refreshToken",null),t.b&&Au(t.b,t)})},t.Gb=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.ga||null)==e||"reauthViaRedirect"==t&&(this.ga||null)==e)},t.na=function(t,e,n,i){"linkViaPopup"!=t&&"reauthViaPopup"!=t||i!=(this.g||null)||(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?w(this.Lb,this):"reauthViaPopup"==t&&e==(this.g||null)?w(this.Mb,this):"linkViaRedirect"==t&&(this.ga||null)==e?w(this.Lb,this):"reauthViaRedirect"==t&&(this.ga||null)==e?w(this.Mb,this):null},t.Ec=function(t){var e=this;return Vl(this,"linkViaPopup",t,function(){return jl(e,t.providerId).then(function(){return kl(e)})},!1)},t.Nc=function(t){return Vl(this,"reauthViaPopup",t,function(){return xe()},!0)},t.Fc=function(t){var e=this;return Ul(this,"linkViaRedirect",t,function(){return jl(e,t.providerId)},!1)},t.Oc=function(t){return Ul(this,"reauthViaRedirect",t,function(){return xe()},!0)},t.Lb=function(t,e,n,i){var r=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Bl(this,this.I().then(function(n){return ba(r.a,{requestUri:t,postBody:i,sessionId:e,idToken:n})}).then(function(t){return o=Fl(r,t,"link"),Ll(r,t)}).then(function(){return o}))},t.Mb=function(t,e,n,i){var r=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Bl(this,xe().then(function(){return co(_a(r.a,{requestUri:t,sessionId:e,postBody:i,tenantId:n}),r.uid)}).then(function(t){return o=Fl(r,t,"reauthenticate"),Nl(r,t),r.i=null,r.reload()}).then(function(){return o}),!0)},t.vb=function(t){var e=this,n=null;return Bl(this,this.I().then(function(e){return n=e,void 0===t||pt(t)?{}:Vr(new Ir(t))}).then(function(t){return e.a.vb(n,t)}).then(function(t){if(e.email!=t)return e.reload()}).then(function(){}))},t.Fb=function(t,e){var n=this,i=null;return Bl(this,this.I().then(function(t){return i=t,void 0===e||pt(e)?{}:Vr(new Ir(e))}).then(function(e){return n.a.Fb(i,t,e)}).then(function(t){if(n.email!=t)return n.reload()}).then(function(){}))},t.jc=function(t){var e=null,n=this;return Bl(this,t=co(xe(t),n.uid).then(function(t){return e=Fl(n,t,"reauthenticate"),Nl(n,t),n.i=null,n.reload()}).then(function(){return e}),!0)},t.toJSON=function(){return this.w()},t.w=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&bt(t,this.metadata.w()),z(this.providerData,function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))}),bt(t,this.S.w()),t};var Wl={name:"redirectUser",F:"session"};function Gl(t){return tu(t.b,Wl,t.a)}function Kl(t){this.a=t,this.b=Zc(),this.c=null,this.f=function(t){var e=Ql("local"),n=Ql("session"),i=Ql("none");return function(t,e,n){var i=Jc(e,n),r=Xc(t,e.F);return t.get(e,n).then(function(o){var s=null;try{s=Fi(a.localStorage.getItem(i))}catch(c){}if(s&&!o)return a.localStorage.removeItem(i),t.set(e,s,n);s&&o&&"localStorage"!=r.type&&a.localStorage.removeItem(i)})}(t.b,e,t.a).then(function(){return t.b.get(n,t.a)}).then(function(r){return r?n:t.b.get(i,t.a).then(function(n){return n?i:t.b.get(e,t.a).then(function(n){return n?e:t.b.get(Yl,t.a).then(function(t){return t?Ql(t):e})})})}).then(function(e){return t.c=e,$l(t,e.F)}).o(function(){t.c||(t.c=e)})}(this),this.b.addListener(Ql("local"),this.a,w(this.g,this))}function $l(t,e){var n,i=[];for(n in Yc)Yc[n]!==e&&i.push(tu(t.b,Ql(Yc[n]),t.a));return i.push(tu(t.b,Yl,t.a)),function(t){return new ye(function(e,n){var i=t.length,r=[];if(i)for(var o=function(t,n){i--,r[t]=n,0==i&&e(r)},s=function(t){n(t)},a=0;a<t.length;a++)Ie(t[a],C(o,a),s);else e(r)})}(i)}Kl.prototype.g=function(){var t=this,e=Ql("local");th(this,function(){return xe().then(function(){return t.c&&"local"!=t.c.F?t.b.get(e,t.a):null}).then(function(n){if(n)return $l(t,"local").then(function(){t.c=e})})})};var Yl={name:"persistence",F:"session"};function Ql(t){return{name:"authUser",F:t}}function Zl(t,e){return th(t,function(){return t.b.set(t.c,e.w(),t.a)})}function Xl(t){return th(t,function(){return tu(t.b,t.c,t.a)})}function Jl(t,e,n){return th(t,function(){return t.b.get(t.c,t.a).then(function(t){return t&&e&&(t.authDomain=e),t&&n&&(t.emulatorConfig=n),Hl(t||{})})})}function th(t,e){return t.f=t.f.then(e,e),t.f}function eh(t){if(this.l=!1,Yi(this,"settings",new Gu),Yi(this,"app",t),!uh(this).options||!uh(this).options.apiKey)throw new T("invalid-api-key");t=i.default.SDK_VERSION?xi(i.default.SDK_VERSION):null,this.a=new Ks(uh(this).options&&uh(this).options.apiKey,P(E),t),this.P=[],this.s=[],this.N=[],this.Pa=i.default.INTERNAL.createSubscribe(w(this.zc,this)),this.W=void 0,this.ib=i.default.INTERNAL.createSubscribe(w(this.Ac,this)),ah(this,null),this.i=new Kl(uh(this).options.apiKey+":"+uh(this).name),this.D=new zl(uh(this).options.apiKey+":"+uh(this).name),this.$=fh(this,function(t){var e=uh(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(Wl,t.a).then(function(t){return t&&e&&(t.authDomain=e),Hl(t||{})})}(t.D,uh(t).options.authDomain).then(function(e){return(t.m=e)&&(e.ha=t.D),Gl(t.D)});return fh(t,e)}(t).then(function(){return Jl(t.i,e,t.R)}).then(function(e){return e?(e.ha=t.D,t.m&&(t.m.ga||null)==(e.ga||null)?e:e.reload().then(function(){return Zl(t.i,e).then(function(){return e})}).o(function(n){return"auth/network-request-failed"==n.code?e:Xl(t.i)})):null}).then(function(e){ah(t,e||null)});return fh(t,n)}(this)),this.h=fh(this,function(t){return t.$.then(function(){return sh(t)}).o(function(){}).then(function(){if(!t.l)return t.ja()}).o(function(){}).then(function(){if(!t.l){t.ba=!0;var e=t.i;e.b.addListener(Ql("local"),e.a,t.ja)}})}(this)),this.ba=!1,this.ja=w(this.Zc,this),this.Ba=w(this.da,this),this.qa=w(this.mc,this),this.za=w(this.wc,this),this.Aa=w(this.xc,this),this.b=null,function(t){var e=uh(t).options.authDomain,n=uh(t).options.apiKey;e&&Ri()&&(t.Oa=t.$.then(function(){if(!t.l){if(t.b=Vu(e,n,uh(t).name,t.R),Iu(t.b,t),lh(t)&&Ol(lh(t)),t.m){Ol(t.m);var i=t.m;i.xa(t.la()),ml(i,t),_l(i=t.m,t.J),vl(i,t),gl(i=t.m,t.R),bl(i,t),t.m=null}return t.b}}))}(this),this.INTERNAL={},this.INTERNAL.delete=w(this.delete,this),this.INTERNAL.logFramework=w(this.Gc,this),this.u=0,wn.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.la()},set:function(t){this.xa(t)},enumerable:!1}),t.aa=null,Object.defineProperty(t,"ti",{get:function(){return this.T()},set:function(t){this.zb(t)},enumerable:!1}),t.S=null,Object.defineProperty(t,"emulatorConfig",{get:function(){if(this.R){var t=Vn(this.R.url);t=Zi({protocol:t.c,host:t.a,port:t.g,options:Zi({disableWarnings:this.R.ec})})}else t=null;return t},enumerable:!1})}(this),this.J=[],this.R=null}function nh(t){Qe.call(this,"languageCodeChanged"),this.h=t}function ih(t){Qe.call(this,"emulatorConfigChanged"),this.c=t}function rh(t){Qe.call(this,"frameworkChanged"),this.f=t}function oh(t){return t.Oa||Ee(new T("auth-domain-config-required"))}function sh(t){if(!Ri())return Ee(new T("operation-not-supported-in-this-environment"));var e=oh(t).then(function(){return t.b.ra()}).then(function(t){return t?Zi(t):null});return fh(t,e)}function ah(t,e){lh(t)&&(function(t,e){Q(t.W,function(t){return t==e})}(lh(t),t.Ba),dn(lh(t),"tokenChanged",t.qa),dn(lh(t),"userDeleted",t.za),dn(lh(t),"userInvalidated",t.Aa),Cl(lh(t))),e&&(e.W.push(t.Ba),un(e,"tokenChanged",t.qa),un(e,"userDeleted",t.za),un(e,"userInvalidated",t.Aa),0<t.u&&wl(e)),Yi(t,"currentUser",e),e&&(e.xa(t.la()),ml(e,t),_l(e,t.J),vl(e,t),gl(e,t.R),bl(e,t))}function ch(t,e){var n=null,i=null;return fh(t,e.then(function(e){return n=Fo(e),i=$r(e),function(t,e){var n={};return n.apiKey=uh(t).options.apiKey,n.authDomain=uh(t).options.authDomain,n.appName=uh(t).name,t.R&&(n.emulatorConfig=t.R),t.$.then(function(){return function(t,e,n,i){var r=new pl(t,e);return n&&(r.ha=n),i&&_l(r,i),r.reload().then(function(){return r})}(n,e,t.D,t.Ga())}).then(function(e){return lh(t)&&e.uid==lh(t).uid?(Dl(lh(t),e),t.da(e)):(ah(t,e),Ol(e),t.da(e))}).then(function(){dh(t)})}(t,e)},function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=tl(e.w(),t,w(t.kc,t))),n||e}).then(function(){return Zi({user:lh(t),credential:n,additionalUserInfo:i,operationType:"signIn"})}))}function uh(t){return t.app}function lh(t){return t.currentUser}function hh(t){return lh(t)&&lh(t)._lat||null}function dh(t){if(t.ba){for(var e=0;e<t.s.length;e++)t.s[e]&&t.s[e](hh(t));if(t.W!==t.getUid()&&t.N.length)for(t.W=t.getUid(),e=0;e<t.N.length;e++)t.N[e]&&t.N[e](hh(t))}}function fh(t,e){return t.P.push(e),e.oa(function(){Y(t.P,e)}),e}function ph(){}function gh(){this.a={},this.b=1e12}Kl.prototype.yb=function(t){var e=null,n=this;return function(t){var e=new T("invalid-persistence-type"),n=new T("unsupported-persistence-type");t:{for(i in Yc)if(Yc[i]==t){var i=!0;break t}i=!1}if(!i||"string"!=typeof t)throw e;switch(Ci()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;case"Worker":if("session"===t||!Ec()&&"none"!==t)throw n;break;default:if(!Ai()&&"none"!==t)throw n}}(t),th(this,function(){return t!=n.c.F?n.b.get(n.c,n.a).then(function(i){return e=i,$l(n,t)}).then(function(){if(n.c=Ql(t),e)return n.b.set(n.c,e,n.a)}):xe()})},k(eh,wn),k(nh,Qe),k(ih,Qe),k(rh,Qe),(t=eh.prototype).yb=function(t){return fh(this,t=this.i.yb(t))},t.xa=function(t){this.aa===t||this.l||(this.aa=t,ta(this.a,this.aa),this.dispatchEvent(new nh(this.la())))},t.la=function(){return this.aa},t.fd=function(){var t=a.navigator;this.xa(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.gd=function(t,e){if(!this.R){if(!/^https?:\/\//.test(t))throw new T("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");(function(t){"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),a.document&&!t&&_i().then(function(){var t=a.document.createElement("div");t.innerText="Running in emulator mode. Do not use with production credentials.",t.style.position="fixed",t.style.width="100%",t.style.backgroundColor="#ffffff",t.style.border=".1em solid #000000",t.style.color="#b50000",t.style.bottom="0px",t.style.left="0px",t.style.margin="0px",t.style.zIndex=1e4,t.style.textAlign="center",t.classList.add("firebase-emulator-warning"),a.document.body.appendChild(t)})})(e=!!e&&!!e.disableWarnings),this.R={url:t,ec:e},this.settings.jb=!0,ea(this.a,this.R),this.dispatchEvent(new ih(this.R))}},t.Gc=function(t){this.J.push(t),ia(this.a,i.default.SDK_VERSION?xi(i.default.SDK_VERSION,this.J):null),this.dispatchEvent(new rh(this.J))},t.Ga=function(){return X(this.J)},t.zb=function(t){this.S===t||this.l||(this.S=t,this.a.b=this.S)},t.T=function(){return this.S},t.toJSON=function(){return{apiKey:uh(this).options.apiKey,authDomain:uh(this).options.authDomain,appName:uh(this).name,currentUser:lh(this)&&lh(this).w()}},t.Gb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},t.na=function(t,e,n,i){"signInViaPopup"==t&&this.g==i&&(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?w(this.ic,this):null},t.ic=function(t,e,n,i){var r=this,o={requestUri:t,postBody:i,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),r.$.then(function(){return ch(r,ma(r.a,o))})},t.Xc=function(t){if(!Ri())return Ee(new T("operation-not-supported-in-this-environment"));var e=this,n=Kr(t.providerId),r=Li(),o=null;(!Mi()||yi())&&uh(this).options.authDomain&&t.isOAuthProvider&&(o=pc(uh(this).options.authDomain,uh(this).options.apiKey,uh(this).name,"signInViaPopup",t,null,r,i.default.SDK_VERSION||null,null,null,this.T(),this.R));var s=gi(o,n&&n.va,n&&n.ua);return fh(this,n=oh(this).then(function(n){return Du(n,s,"signInViaPopup",t,r,!!o,e.T())}).then(function(){return new ye(function(t,n){e.na("signInViaPopup",null,new T("cancelled-popup-request"),e.g),e.f=t,e.C=n,e.g=r,e.c=ju(e.b,e,"signInViaPopup",s,r)})}).then(function(t){return s&&pi(s),t?Zi(t):null}).o(function(t){throw s&&pi(s),t}))},t.Yc=function(t){if(!Ri())return Ee(new T("operation-not-supported-in-this-environment"));var e=this;return fh(this,oh(this).then(function(){return function(t){return th(t,function(){return t.b.set(Yl,t.c.F,t.a)})}(e.i)}).then(function(){return Nu(e.b,"signInViaRedirect",t,void 0,e.T())}))},t.ra=function(){var t=this;return sh(this).then(function(e){return t.b&&Bu(t.b.b),e}).o(function(e){throw t.b&&Bu(t.b.b),e})},t.dd=function(t){if(!t)return Ee(new T("null-user"));if(this.S!=t.tenantId)return Ee(new T("tenant-id-mismatch"));var e=this,n={};n.apiKey=uh(this).options.apiKey,n.authDomain=uh(this).options.authDomain,n.appName=uh(this).name;var i=function(t,e,n,i){var r=t.h,o={};return o[Ys]=r.b&&r.b.toString(),o.refreshToken=r.a,e=new pl(e||{apiKey:t.l,authDomain:t.s,appName:t.m},o),n&&(e.ha=n),i&&_l(e,i),Dl(e,t),e}(t,n,e.D,e.Ga());return fh(this,this.h.then(function(){if(uh(e).options.apiKey!=t.l)return i.reload()}).then(function(){return lh(e)&&t.uid==lh(e).uid?(Dl(lh(e),t),e.da(t)):(ah(e,i),Ol(i),e.da(i))}).then(function(){dh(e)}))},t.Bb=function(){var t=this;return fh(this,this.h.then(function(){return t.b&&Bu(t.b.b),lh(t)?(ah(t,null),Xl(t.i).then(function(){dh(t)})):xe()}))},t.Zc=function(){var t=this;return Jl(this.i,uh(this).options.authDomain).then(function(e){if(!t.l){var n;if(n=lh(t)&&e){n=lh(t).uid;var i=e.uid;n=null!=n&&""!==n&&null!=i&&""!==i&&n==i}if(n)return Dl(lh(t),e),lh(t).I();(lh(t)||e)&&(ah(t,e),e&&(Ol(e),e.ha=t.D),t.b&&Iu(t.b,t),dh(t))}})},t.da=function(t){return Zl(this.i,t)},t.mc=function(){dh(this),this.da(lh(this))},t.wc=function(){this.Bb()},t.xc=function(){this.Bb()},t.kc=function(t){var e=this;return this.h.then(function(){return ch(e,xe(t))})},t.zc=function(t){var e=this;this.addAuthTokenListener(function(){t.next(lh(e))})},t.Ac=function(t){var e=this;!function(t,e){t.N.push(e),fh(t,t.h.then(function(){!t.l&&$(t.N,e)&&t.W!==t.getUid()&&(t.W=t.getUid(),e(hh(t)))}))}(this,function(){t.next(lh(e))})},t.Ic=function(t,e,n){var i=this;return this.ba&&Promise.resolve().then(function(){"function"==typeof t?t(lh(i)):"function"==typeof t.next&&t.next(lh(i))}),this.Pa(t,e,n)},t.Hc=function(t,e,n){var i=this;return this.ba&&Promise.resolve().then(function(){i.W=i.getUid(),"function"==typeof t?t(lh(i)):"function"==typeof t.next&&t.next(lh(i))}),this.ib(t,e,n)},t.nc=function(t){var e=this;return fh(this,this.h.then(function(){return lh(e)?lh(e).I(t).then(function(t){return{accessToken:t}}):null}))},t.Tc=function(t){var e=this;return this.h.then(function(){return ch(e,Ja(e.a,Ka,{token:t}))}).then(function(t){var n=t.user;return Pl(n,"isAnonymous",!1),e.da(n),t})},t.Uc=function(t,e){var n=this;return this.h.then(function(){return ch(n,Ja(n.a,$a,{email:t,password:e}))})},t.dc=function(t,e){var n=this;return this.h.then(function(){return ch(n,Ja(n.a,Ca,{email:t,password:e}))})},t.ab=function(t){var e=this;return this.h.then(function(){return ch(e,t.ka(e.a))})},t.Sc=function(t){return Ki("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(t)},t.Ab=function(){var t=this;return this.h.then(function(){var e=lh(t);if(e&&e.isAnonymous){var n=Zi({providerId:null,isNewUser:!1});return Zi({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return ch(t,t.a.Ab()).then(function(e){var n=e.user;return Pl(n,"isAnonymous",!0),t.da(n),e})})},t.getUid=function(){return lh(this)&&lh(this).uid||null},t.cc=function(t){this.addAuthTokenListener(t),this.u++,0<this.u&&lh(this)&&wl(lh(this))},t.Pc=function(t){var e=this;z(this.s,function(n){n==t&&e.u--}),0>this.u&&(this.u=0),0==this.u&&lh(this)&&Cl(lh(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.s.push(t),fh(this,this.h.then(function(){e.l||$(e.s,t)&&t(hh(e))}))},t.removeAuthTokenListener=function(t){Q(this.s,function(e){return e==t})},t.delete=function(){this.l=!0;for(var t=0;t<this.P.length;t++)this.P[t].cancel("app-deleted");return this.P=[],this.i&&(t=this.i).b.removeListener(Ql("local"),t.a,this.ja),this.b&&(Au(this.b,this),Bu(this.b.b)),Promise.resolve()},t.hc=function(t){return fh(this,function(t,e){return Ja(t,Sa,{identifier:e,continueUri:Pi()?li():"http://localhost"}).then(function(t){return t.signinMethods||[]})}(this.a,t))},t.Bc=function(t){return!!Ro(t)},t.xb=function(t,e){var n=this;return fh(this,xe().then(function(){var t=new Ir(e);if(!t.c)throw new T("argument-error",Pr+" must be true when sending sign in link to email");return Vr(t)}).then(function(e){return n.a.xb(t,e)}).then(function(){}))},t.jd=function(t){return this.Sa(t).then(function(t){return t.data.email})},t.ob=function(t,e){return fh(this,this.a.ob(t,e).then(function(){}))},t.Sa=function(t){return fh(this,this.a.Sa(t).then(function(t){return new sr(t)}))},t.kb=function(t){return fh(this,this.a.kb(t).then(function(){}))},t.wb=function(t,e){var n=this;return fh(this,xe().then(function(){return void 0===e||pt(e)?{}:Vr(new Ir(e))}).then(function(e){return n.a.wb(t,e)}).then(function(){}))},t.Wc=function(t,e){return fh(this,$u(this,t,e,w(this.ab,this)))},t.Vc=function(t,e){var n=this;return fh(this,xe().then(function(){var i=e||li(),r=Ao(t,i);if(!(i=Ro(i)))throw new T("argument-error","Invalid email link!");if(i.tenantId!==n.T())throw new T("tenant-id-mismatch");return n.ab(r)}))},ph.prototype.render=function(){},ph.prototype.reset=function(){},ph.prototype.getResponse=function(){},ph.prototype.execute=function(){};var mh=null;function bh(t,e){return(e=_h(e))&&t.a[e]||null}function _h(t){return(t=void 0===t?1e12:t)?t.toString():null}function vh(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=ce(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():un(this.f,"click",this.i)}function yh(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function wh(){}function Ch(){}gh.prototype.render=function(t,e){return this.a[this.b.toString()]=new vh(t,e),this.b++},gh.prototype.reset=function(t){var e=bh(this,t);t=_h(t),e&&t&&(e.delete(),delete this.a[t])},gh.prototype.getResponse=function(t){return(t=bh(this,t))?t.getResponse():null},gh.prototype.execute=function(t){(t=bh(this,t))&&t.execute()},vh.prototype.getResponse=function(){return yh(this),this.b},vh.prototype.execute=function(){yh(this);var t=this;this.a||(this.a=setTimeout(function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(i){}t.a=setTimeout(function(){if(t.a=null,t.b=null,n)try{n()}catch(i){}t.h&&t.execute()},6e4)},500))},vh.prototype.delete=function(){yh(this),this.g=!0,clearTimeout(this.a),this.a=null,dn(this.f,"click",this.i)},Yi(wh,"FACTOR_ID","phone"),Ch.prototype.g=function(){return mh||(mh=new gh),xe(mh)},Ch.prototype.c=function(){};var Sh=null;function kh(){this.b=a.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Oh=new vt(St,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Th=new qi(3e4,6e4);kh.prototype.g=function(t){var e=this;return new ye(function(n,i){var r=setTimeout(function(){i(new T("network-request-failed"))},Th.get());!a.grecaptcha||t!==e.f&&!e.b?(a[e.a]=function(){if(a.grecaptcha){e.f=t;var o=a.grecaptcha.render;a.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(r),n(a.grecaptcha)}else clearTimeout(r),i(new T("internal-error"));delete a[e.a]},xe(Us(xt(Oh,{onload:e.a,hl:t||""}))).o(function(){clearTimeout(r),i(new T("internal-error","Unable to load external reCAPTCHA dependencies!"))})):(clearTimeout(r),n(a.grecaptcha))})},kh.prototype.c=function(){this.b--};var xh=null;function Eh(t,e,n,i,r,o,s){if(Yi(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=e,this.g=null,s?(Sh||(Sh=new Ch),s=Sh):(xh||(xh=new kh),s=xh),this.m=s,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Rh])throw new T("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Ph],!a.document)throw new T("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!ce(e)||!this.i&&ce(e).hasChildNodes())throw new T("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Ks(t,o||null,r||null),this.u=i||function(){return null};var c=this;this.l=[];var u=this.a[Ih];this.a[Ih]=function(t){if(Dh(c,t),"function"==typeof u)u(t);else if("string"==typeof u){var e=Ii(u,a);"function"==typeof e&&e(t)}};var l=this.a[Ah];this.a[Ah]=function(){if(Dh(c,null),"function"==typeof l)l();else if("string"==typeof l){var t=Ii(l,a);"function"==typeof t&&t()}}}var Ih="callback",Ah="expired-callback",Rh="sitekey",Ph="size";function Dh(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(i){}}function Mh(t,e){return t.h.push(e),e.oa(function(){Y(t.h,e)}),e}function Nh(t){if(t.J)throw new T("internal-error","RecaptchaVerifier instance has been destroyed.")}function jh(t,e,n){var r=!1;try{this.b=n||i.default.app()}catch(a){throw new T("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new T("invalid-api-key");n=this.b.options.apiKey;var o=this,s=null;try{s=this.b.auth().Ga()}catch(a){}try{r=this.b.auth().settings.appVerificationDisabledForTesting}catch(a){}s=i.default.SDK_VERSION?xi(i.default.SDK_VERSION,s):null,Eh.call(this,n,t,e,function(){try{var t=o.b.auth().la()}catch(e){t=null}return t},s,P(E),r)}function Fh(t,e,n,i){t:{n=Array.prototype.slice.call(n);for(var r=0,o=!1,s=0;s<e.length;s++)if(e[s].optional)o=!0;else{if(o)throw new T("internal-error","Argument validator encountered a required argument after an optional argument.");r++}if(o=e.length,n.length<r||o<n.length)i="Expected "+(r==o?1==r?"1 argument":r+" arguments":r+"-"+o+" arguments")+" but got "+n.length+".";else{for(r=0;r<n.length;r++)if(o=e[r].optional&&void 0===n[r],!e[r].M(n[r])&&!o){if(e=e[r],0>r||r>=Lh.length)throw new T("internal-error","Argument validator received an unsupported number of arguments.");n=Lh[r],i=(i?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.K+".";break t}i=null}}if(i)throw new T("argument-error",t+" failed: "+i)}(t=Eh.prototype).Ia=function(){var t=this;return this.f?this.f:this.f=Mh(this,xe().then(function(){if(Pi()&&!wi())return _i();throw new T("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return t.m.g(t.u())}).then(function(e){return t.g=e,Ja(t.s,ja,{})}).then(function(e){t.a[Rh]=e.recaptchaSiteKey}).o(function(e){throw t.f=null,e}))},t.render=function(){Nh(this);var t=this;return Mh(this,this.Ia().then(function(){if(null===t.c){var e=t.v;if(!t.i){var n=ce(e);e=function(t,e,n){var i=arguments,r=document,o=String(i[0]),s=i[1];if(!ae&&s&&(s.name||s.type)){if(o=["<",o],s.name&&o.push(' name="',zt(s.name),'"'),s.type){o.push(' type="',zt(s.type),'"');var a={};bt(a,s),delete a.type,s=a}o.push(">"),o=o.join("")}return o=pe(r,o),s&&("string"==typeof s?o.className=s:Array.isArray(s)?o.className=s.join(" "):ue(o,s)),2<i.length&&fe(r,o,i),o}("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c}))},t.verify=function(){Nh(this);var t=this;return Mh(this,this.render().then(function(e){return new ye(function(n){var i=t.g.getResponse(e);if(i)n(i);else{var r=function(e){e&&(function(t,e){Q(t.l,function(t){return t==e})}(t,r),n(e))};t.l.push(r),t.i&&t.g.execute(t.c)}})}))},t.reset=function(){Nh(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){Nh(this),this.J=!0,this.m.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=ce(this.v);for(var e;e=t.firstChild;)t.removeChild(e)}},k(jh,Eh);var Lh="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Vh(t,e){return{name:t||"",K:"a valid string",optional:!!e,M:function(t){return"string"==typeof t}}}function Uh(t,e){return{name:t||"",K:"a boolean",optional:!!e,M:function(t){return"boolean"==typeof t}}}function qh(t,e){return{name:t||"",K:"a valid object",optional:!!e,M:g}}function Bh(t,e){return{name:t||"",K:"a function",optional:!!e,M:function(t){return"function"==typeof t}}}function Hh(t,e){return{name:t||"",K:"null",optional:!!e,M:function(t){return null===t}}}function zh(t){return{name:t?t+"Credential":"credential",K:t?"a valid "+t+" credential":"a valid credential",optional:!1,M:function(e){return!!e&&!(!e.ka||t&&e.providerId!==t)}}}function Wh(t,e){return g(t)&&"string"==typeof t.type&&t.type===e&&"function"==typeof t.Ha}function Gh(t){return g(t)&&"string"==typeof t.uid}function Kh(t,e,n,i){return{name:n||"",K:t.K+" or "+e.K,optional:!!i,M:function(n){return t.M(n)||e.M(n)}}}function $h(t,e){for(var n in e){var i=e[n].name;t[i]=Zh(i,t[n],e[n].j)}}function Yh(t,e){for(var n in e){var i=e[n].name;i!==n&&Object.defineProperty(t,i,{get:C(function(t){return this[t]},n),set:C(function(t,e,n,i){Fh(t,[n],[i],!0),this[e]=i},i,n,e[n].lb),enumerable:!0})}}function Qh(t,e,n,i){t[e]=Zh(e,n,i)}function Zh(t,e,n){function i(){var t=Array.prototype.slice.call(arguments);return Fh(o,n,t),e.apply(this,t)}if(!n)return e;var r,o=function(t){return(t=t.split("."))[t.length-1]}(t);for(r in e)i[r]=e[r];for(r in e.prototype)i.prototype[r]=e.prototype[r];return i}$h(eh.prototype,{kb:{name:"applyActionCode",j:[Vh("code")]},Sa:{name:"checkActionCode",j:[Vh("code")]},ob:{name:"confirmPasswordReset",j:[Vh("code"),Vh("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Vh("email"),Vh("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[Vh("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[Vh("emailLink")]},Hc:{name:"onAuthStateChanged",j:[Kh(qh(),Bh(),"nextOrObserver"),Bh("opt_error",!0),Bh("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[Kh(qh(),Bh(),"nextOrObserver"),Bh("opt_error",!0),Bh("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[Vh("email"),Kh(qh("opt_actionCodeSettings",!0),Hh(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[Vh("email"),qh("actionCodeSettings")]},yb:{name:"setPersistence",j:[Vh("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[zh()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[zh()]},Tc:{name:"signInWithCustomToken",j:[Vh("token")]},Uc:{name:"signInWithEmailAndPassword",j:[Vh("email"),Vh("password")]},Vc:{name:"signInWithEmailLink",j:[Vh("email"),Vh("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[Vh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Xc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Yc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},dd:{name:"updateCurrentUser",j:[Kh({name:"user",K:"an instance of Firebase User",optional:!1,M:function(t){return!!(t&&t instanceof pl)}},Hh(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Vh(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[Vh("url"),qh("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[Vh("code")]}}),Yh(eh.prototype,{lc:{name:"languageCode",lb:Kh(Vh(),Hh(),"languageCode")},ti:{name:"tenantId",lb:Kh(Vh(),Hh(),"tenantId")}}),(eh.Persistence=Yc).LOCAL="local",eh.Persistence.SESSION="session",eh.Persistence.NONE="none",$h(pl.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Uh("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Uh("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[zh()]},rb:{name:"linkWithCredential",j:[zh()]},Dc:{name:"linkWithPhoneNumber",j:[Vh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Ec:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Fc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[zh()]},ub:{name:"reauthenticateWithCredential",j:[zh()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[Vh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Nc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[Kh(qh("opt_actionCodeSettings",!0),Hh(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Vh(null,!0)]},cd:{name:"unlink",j:[Vh("provider")]},Cb:{name:"updateEmail",j:[Vh("email")]},Db:{name:"updatePassword",j:[Vh("password")]},ed:{name:"updatePhoneNumber",j:[zh("phone")]},Eb:{name:"updateProfile",j:[qh("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[Vh("email"),Kh(qh("opt_actionCodeSettings",!0),Hh(null,!0),"opt_actionCodeSettings",!0)]}}),$h(gh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),$h(ph.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),$h(ye.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),Yh(Gu.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:Uh("appVerificationDisabledForTesting")}}),$h(Ku.prototype,{confirm:{name:"confirm",j:[Vh("verificationCode")]}}),Qh(ao,"fromJSON",function(t){t="string"==typeof t?JSON.parse(t):t;for(var e,n=[go,Eo,Do,ho],i=0;i<n.length;i++)if(e=n[i](t))return e;return null},[Kh(Vh(),qh(),"json")]),Qh(Io,"credential",function(t,e){return new xo(t,e)},[Vh("email"),Vh("password")]),$h(xo.prototype,{w:{name:"toJSON",j:[Vh(null,!0)]}}),$h(vo.prototype,{Ca:{name:"addScope",j:[Vh("scope")]},Ka:{name:"setCustomParameters",j:[qh("customOAuthParameters")]}}),Qh(vo,"credential",yo,[Kh(Vh(),qh(),"token")]),Qh(Io,"credentialWithLink",Ao,[Vh("email"),Vh("emailLink")]),$h(wo.prototype,{Ca:{name:"addScope",j:[Vh("scope")]},Ka:{name:"setCustomParameters",j:[qh("customOAuthParameters")]}}),Qh(wo,"credential",Co,[Kh(Vh(),qh(),"token")]),$h(So.prototype,{Ca:{name:"addScope",j:[Vh("scope")]},Ka:{name:"setCustomParameters",j:[qh("customOAuthParameters")]}}),Qh(So,"credential",ko,[Kh(Vh(),Kh(qh(),Hh()),"idToken"),Kh(Vh(),Hh(),"accessToken",!0)]),$h(Oo.prototype,{Ka:{name:"setCustomParameters",j:[qh("customOAuthParameters")]}}),Qh(Oo,"credential",To,[Kh(Vh(),qh(),"token"),Vh("secret",!0)]),$h(_o.prototype,{Ca:{name:"addScope",j:[Vh("scope")]},credential:{name:"credential",j:[Kh(Vh(),Kh(qh(),Hh()),"optionsOrIdToken"),Kh(Vh(),Hh(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[qh("customOAuthParameters")]}}),$h(fo.prototype,{w:{name:"toJSON",j:[Vh(null,!0)]}}),$h(uo.prototype,{w:{name:"toJSON",j:[Vh(null,!0)]}}),Qh(No,"credential",jo,[Vh("verificationId"),Vh("verificationCode")]),$h(No.prototype,{gb:{name:"verifyPhoneNumber",j:[Kh(Vh(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(t){return!!t&&(t.session&&t.phoneNumber?Wh(t.session,oo)&&"string"==typeof t.phoneNumber:t.session&&t.multiFactorHint?Wh(t.session,so)&&Gh(t.multiFactorHint):t.session&&t.multiFactorUid?Wh(t.session,so)&&"string"==typeof t.multiFactorUid:!!t.phoneNumber&&"string"==typeof t.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]}}),$h(Po.prototype,{w:{name:"toJSON",j:[Vh(null,!0)]}}),$h(T.prototype,{toJSON:{name:"toJSON",j:[Vh(null,!0)]}}),$h(Wo.prototype,{toJSON:{name:"toJSON",j:[Vh(null,!0)]}}),$h(zo.prototype,{toJSON:{name:"toJSON",j:[Vh(null,!0)]}}),$h(Ju.prototype,{toJSON:{name:"toJSON",j:[Vh(null,!0)]}}),$h(Qu.prototype,{Rc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.tb}}]}}),$h(ol.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.tb}},Vh("displayName",!0)]},bd:{name:"unenroll",j:[Kh({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:Gh},Vh(),"multiFactorInfoIdentifier")]}}),$h(jh.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Qh(yr,"parseLink",Er,[Vh("link")]),Qh(wh,"assertion",function(t){return new il(t)},[zh("phone")]),function(){if(void 0===i.default||!i.default.INTERNAL||!i.default.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:cr,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:ar,VERIFY_AND_CHANGE_EMAIL:ur,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:eh,AuthCredential:ao,Error:T};Qh(t,"EmailAuthProvider",Io,[]),Qh(t,"FacebookAuthProvider",vo,[]),Qh(t,"GithubAuthProvider",wo,[]),Qh(t,"GoogleAuthProvider",So,[]),Qh(t,"TwitterAuthProvider",Oo,[]),Qh(t,"OAuthProvider",_o,[Vh("providerId")]),Qh(t,"SAMLAuthProvider",bo,[Vh("providerId")]),Qh(t,"PhoneAuthProvider",No,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(t){return!!(t&&t instanceof eh)}}]),Qh(t,"RecaptchaVerifier",jh,[Kh(Vh(),{name:"",K:"an HTML element",optional:!1,M:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),qh("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(t){return!!(t&&t instanceof i.default.app.App)}}]),Qh(t,"ActionCodeURL",yr,[]),Qh(t,"PhoneMultiFactorGenerator",wh,[]),i.default.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return new eh(t=t.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(t){t.getProvider("auth-internal").initialize()}}),i.default.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return{getUid:w((t=t.getProvider("auth").getImmediate()).getUid,t),getToken:w(t.nc,t),addAuthTokenListener:w(t.cc,t),removeAuthTokenListener:w(t.Pc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),i.default.registerVersion("@firebase/auth","0.16.8"),i.default.INTERNAL.extendNamespace({User:pl})}()}).apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},Jgta:function(t,e,n){"use strict";var i=n("d+ix");n.d(e,"a",function(){return i.default}),i.default.registerVersion("firebase","8.10.1","app"),i.default.SDK_VERSION="8.10.1"},LRne:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("z+Ro"),r=n("yCtX"),o=n("jZKg");function s(...t){let e=t[t.length-1];return Object(i.a)(e)?(t.pop(),Object(o.a)(t,e)):Object(r.a)(t)}},Lhse:function(t,e,n){"use strict";function i(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",function(){return r});const r=i()},NJ4a:function(t,e,n){"use strict";function i(t){setTimeout(()=>{throw t},0)}n.d(e,"a",function(){return i})},SeVD:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var i=n("ngJS"),r=n("NJ4a"),o=n("Lhse"),s=n("kJWO"),a=n("I55L"),c=n("c2HN"),u=n("XoHu");const l=t=>{if(t&&"function"==typeof t[s.a])return l=t,t=>{const e=l[s.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(a.a)(t))return Object(i.a)(t);if(Object(c.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,r.a),t);if(t&&"function"==typeof t[o.a])return e=t,t=>{const n=e[o.a]();for(;;){let e;try{e=n.next()}catch(i){return t.error(i),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(u.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},SpAZ:function(t,e,n){"use strict";function i(t){return t}n.d(e,"a",function(){return i})},VRyK:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("HDdC"),r=n("z+Ro"),o=n("bHdf"),s=n("yCtX");function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return Object(r.a)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof i.a?t[0]:Object(o.a)(e)(Object(s.a)(t,n))}},WMd4:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("EY2u"),r=n("LRne"),o=n("HDdC");let s=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(r.a)(this.value);case"E":return t=this.error,new o.a(e=>e.error(t));case"C":return Object(i.b)()}var t;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})()},XNiG:function(t,e,n){"use strict";n.d(e,"b",function(){return u}),n.d(e,"a",function(){return l});var i=n("HDdC"),r=n("7o/Q"),o=n("quSY"),s=n("9ppp"),a=n("Ylt2"),c=n("2QA8");class u extends r.a{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends i.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[c.a](){return new u(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new s.a;if(!this.isStopped){const{observers:e}=this,n=e.length,i=e.slice();for(let r=0;r<n;r++)i[r].next(t)}}error(t){if(this.closed)throw new s.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,i=e.slice();for(let r=0;r<n;r++)i[r].error(t);this.observers.length=0}complete(){if(this.closed)throw new s.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let i=0;i<e;i++)n[i].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new s.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new s.a;return this.hasError?(t.error(this.thrownError),o.a.EMPTY):this.isStopped?(t.complete(),o.a.EMPTY):(this.observers.push(t),new a.a(this,t))}asObservable(){const t=new i.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):o.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function i(t){return null!==t&&"object"==typeof t}n.d(e,"a",function(){return i})},Y7HM:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("DH7j");function r(t){return!Object(i.a)(t)&&t-parseFloat(t)+1>=0}},Ylt2:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("quSY");class r extends i.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},bHdf:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("5+tZ"),r=n("SpAZ");function o(t=Number.POSITIVE_INFINITY){return Object(i.a)(r.a,t)}},c2HN:function(t,e,n){"use strict";function i(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",function(){return i})},crnd:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="crnd"},"d+ix":function(t,e,n){"use strict";n.r(e),n.d(e,"firebase",function(){return _});var i,r,o=n("jebL"),s=n("gS2T"),a=n("5ENO"),c=n("2D0q"),u=((i={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",i["bad-app-name"]="Illegal App name: '{$appName}",i["duplicate-app"]="Firebase App named '{$appName}' already exists",i["app-deleted"]="Firebase App named '{$appName}' already deleted",i["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",i["invalid-log-argument"]="First argument to `onLog` must be null or a function.",i),l=new s.ErrorFactory("app","Firebase",u),h=((r={})["@firebase/app"]="fire-core",r["@firebase/analytics"]="fire-analytics",r["@firebase/app-check"]="fire-app-check",r["@firebase/auth"]="fire-auth",r["@firebase/database"]="fire-rtdb",r["@firebase/functions"]="fire-fn",r["@firebase/installations"]="fire-iid",r["@firebase/messaging"]="fire-fcm",r["@firebase/performance"]="fire-perf",r["@firebase/remote-config"]="fire-rc",r["@firebase/storage"]="fire-gcs",r["@firebase/firestore"]="fire-fst",r["fire-js"]="fire-js",r["firebase-wrapper"]="fire-js-all",r),d=new c.Logger("@firebase/app"),f=function(){function t(t,e,n){var i=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(s.deepCopy)(t),this.container=new a.ComponentContainer(e.name),this._addComponent(new a.Component("app",function(){return i},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(t){return i._addComponent(t)})}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){var n;void 0===e&&(e="[DEFAULT]"),this.checkDestroyed_();var i=this.container.getProvider(t);return i.isInitialized()||"EXPLICIT"!==(null===(n=i.getComponent())||void 0===n?void 0:n.instantiationMode)||i.initialize(),i.getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e="[DEFAULT]"),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){d.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();f.prototype.name&&f.prototype.options||f.prototype.delete||console.log("dc");var p=function t(){var e=function(t){var e={},n=new Map,i={__esModule:!0,initializeApp:function(n,r){void 0===r&&(r={}),"object"==typeof r&&null!==r||(r={name:r});var o=r;void 0===o.name&&(o.name="[DEFAULT]");var a=o.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(Object(s.contains)(e,a))throw l.create("duplicate-app",{appName:a});var c=new t(n,o,i);return e[a]=c,c},app:r,registerVersion:function(t,e,n){var i,r=null!==(i=h[t])&&void 0!==i?i:t;n&&(r+="-"+n);var s=r.match(/\s|\//),c=e.match(/\s|\//);if(s||c){var u=['Unable to register library "'+r+'" with version "'+e+'":'];return s&&u.push('library name "'+r+'" contains illegal characters (whitespace or "/")'),s&&c&&u.push("and"),c&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void d.warn(u.join(" "))}o(new a.Component(r+"-version",function(){return{library:r,version:e}},"VERSION"))},setLogLevel:c.setLogLevel,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument");Object(c.setUserLogHandler)(t,e)},apps:null,SDK_VERSION:"8.10.0",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function r(t){if(t=t||"[DEFAULT]",!Object(s.contains)(e,t))throw l.create("no-app",{appName:t});return e[t]}function o(o){var a=o.name;if(n.has(a))return d.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===o.type?i[a]:null;if(n.set(a,o),"PUBLIC"===o.type){var c=function(t){if(void 0===t&&(t=r()),"function"!=typeof t[a])throw l.create("invalid-app-argument",{appName:a});return t[a]()};void 0!==o.serviceProps&&Object(s.deepExtend)(c,o.serviceProps),i[a]=c,t.prototype[a]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,a).apply(this,o.multipleInstances?t:[])}}for(var u=0,h=Object.keys(e);u<h.length;u++)e[h[u]]._addComponent(o);return"PUBLIC"===o.type?i[a]:null}return i.default=i,Object.defineProperty(i,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),r.App=t,i}(f);return e.INTERNAL=Object(o.__assign)(Object(o.__assign)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(s.deepExtend)(e,t)},createSubscribe:s.createSubscribe,ErrorFactory:s.ErrorFactory,deepExtend:s.deepExtend}),e}(),g=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if(Object(s.isBrowser)()&&void 0!==self.firebase){d.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var m=self.firebase.SDK_VERSION;m&&m.indexOf("LITE")>=0&&d.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var b=p.initializeApp;p.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(s.isNode)()&&d.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),b.apply(void 0,t)};var _=p;!function(t,e){t.INTERNAL.registerComponent(new a.Component("platform-logger",function(t){return new g(t)},"PRIVATE")),t.registerVersion("@firebase/app","0.6.30",void 0),t.registerVersion("fire-js","")}(_),e.default=_},fXoL:function(t,e,n){"use strict";n.d(e,"a",function(){return ln}),n.d(e,"b",function(){return uu}),n.d(e,"c",function(){return ru}),n.d(e,"d",function(){return nu}),n.d(e,"e",function(){return iu}),n.d(e,"f",function(){return nl}),n.d(e,"g",function(){return Gu}),n.d(e,"h",function(){return Ka}),n.d(e,"i",function(){return yu}),n.d(e,"j",function(){return ya}),n.d(e,"k",function(){return du}),n.d(e,"l",function(){return ka}),n.d(e,"m",function(){return Oi}),n.d(e,"n",function(){return Rc}),n.d(e,"o",function(){return ho}),n.d(e,"p",function(){return yn}),n.d(e,"q",function(){return un}),n.d(e,"r",function(){return Eo}),n.d(e,"s",function(){return qa}),n.d(e,"t",function(){return Ba}),n.d(e,"u",function(){return hu}),n.d(e,"v",function(){return rc}),n.d(e,"w",function(){return $u}),n.d(e,"x",function(){return ic}),n.d(e,"y",function(){return qu}),n.d(e,"z",function(){return Su}),n.d(e,"A",function(){return wn}),n.d(e,"B",function(){return cu}),n.d(e,"C",function(){return au}),n.d(e,"D",function(){return Dc}),n.d(e,"E",function(){return Ta}),n.d(e,"F",function(){return Oa}),n.d(e,"G",function(){return Ai}),n.d(e,"H",function(){return Ea}),n.d(e,"I",function(){return _i}),n.d(e,"J",function(){return Sn}),n.d(e,"K",function(){return Zu}),n.d(e,"L",function(){return Ja}),n.d(e,"M",function(){return Au}),n.d(e,"N",function(){return hn}),n.d(e,"O",function(){return Aa}),n.d(e,"P",function(){return Ia}),n.d(e,"Q",function(){return sc}),n.d(e,"R",function(){return L}),n.d(e,"S",function(){return Bu}),n.d(e,"T",function(){return Vu}),n.d(e,"U",function(){return y}),n.d(e,"V",function(){return Rn}),n.d(e,"W",function(){return Lu}),n.d(e,"X",function(){return tl}),n.d(e,"Y",function(){return Du}),n.d(e,"Z",function(){return lu}),n.d(e,"ab",function(){return po}),n.d(e,"bb",function(){return aa}),n.d(e,"cb",function(){return mi}),n.d(e,"db",function(){return Jn}),n.d(e,"eb",function(){return Bn}),n.d(e,"fb",function(){return zn}),n.d(e,"gb",function(){return $n}),n.d(e,"hb",function(){return Gn}),n.d(e,"ib",function(){return Wn}),n.d(e,"jb",function(){return Kn}),n.d(e,"kb",function(){return ia}),n.d(e,"lb",function(){return Ju}),n.d(e,"mb",function(){return ra}),n.d(e,"nb",function(){return oa}),n.d(e,"ob",function(){return Hn}),n.d(e,"pb",function(){return H}),n.d(e,"qb",function(){return Lo}),n.d(e,"rb",function(){return ss}),n.d(e,"sb",function(){return os}),n.d(e,"tb",function(){return na}),n.d(e,"ub",function(){return It}),n.d(e,"vb",function(){return b}),n.d(e,"wb",function(){return qn}),n.d(e,"xb",function(){return Ao}),n.d(e,"yb",function(){return St}),n.d(e,"zb",function(){return ba}),n.d(e,"Ab",function(){return gr}),n.d(e,"Bb",function(){return Wo}),n.d(e,"Cb",function(){return Ms}),n.d(e,"Db",function(){return Qs}),n.d(e,"Eb",function(){return Rs}),n.d(e,"Fb",function(){return Kc}),n.d(e,"Gb",function(){return tt}),n.d(e,"Hb",function(){return at}),n.d(e,"Ib",function(){return S}),n.d(e,"Jb",function(){return k}),n.d(e,"Kb",function(){return rt}),n.d(e,"Lb",function(){return ct}),n.d(e,"Mb",function(){return Yo}),n.d(e,"Nb",function(){return ts}),n.d(e,"Ob",function(){return is}),n.d(e,"Pb",function(){return ns}),n.d(e,"Qb",function(){return es}),n.d(e,"Rb",function(){return Jo}),n.d(e,"Sb",function(){return Xo}),n.d(e,"Tb",function(){return rs}),n.d(e,"Ub",function(){return sn}),n.d(e,"Vb",function(){return Zs}),n.d(e,"Wb",function(){return An}),n.d(e,"Xb",function(){return an}),n.d(e,"Yb",function(){return eu}),n.d(e,"Zb",function(){return as}),n.d(e,"ac",function(){return Qc}),n.d(e,"bc",function(){return Se}),n.d(e,"cc",function(){return Ce}),n.d(e,"dc",function(){return ds}),n.d(e,"ec",function(){return Ic}),n.d(e,"fc",function(){return Ac}),n.d(e,"gc",function(){return gs}),n.d(e,"hc",function(){return ps}),n.d(e,"ic",function(){return Qo}),n.d(e,"jc",function(){return ms}),n.d(e,"kc",function(){return wc}),n.d(e,"lc",function(){return Cc}),n.d(e,"mc",function(){return Sc}),n.d(e,"nc",function(){return kc}),n.d(e,"oc",function(){return Oc}),n.d(e,"pc",function(){return Tc}),n.d(e,"qc",function(){return Hc}),n.d(e,"rc",function(){return $o}),n.d(e,"sc",function(){return Ei}),n.d(e,"tc",function(){return Yt}),n.d(e,"uc",function(){return vi}),n.d(e,"vc",function(){return yi}),n.d(e,"wc",function(){return ot}),n.d(e,"xc",function(){return $c}),n.d(e,"yc",function(){return zc}),n.d(e,"zc",function(){return Ps}),n.d(e,"Ac",function(){return As}),n.d(e,"Bc",function(){return cs}),n.d(e,"Cc",function(){return Xs}),n.d(e,"Dc",function(){return Ko}),n.d(e,"Ec",function(){return tu}),n.d(e,"Fc",function(){return Ks}),n.d(e,"Gc",function(){return $s}),n.d(e,"Hc",function(){return Ys}),n.d(e,"Ic",function(){return Wc});var i=n("XNiG"),r=n("quSY"),o=n("HDdC"),s=n("VRyK"),a=n("7o/Q");function c(){return function(t){return t.lift(new u(t))}}class u{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const i=new l(t,n),r=e.subscribe(i);return i.closed||(i.connection=n.connect()),r}}class l extends a.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,i=t._connection;this.connection=null,!i||n&&i!==n||i.unsubscribe()}}class h extends o.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new r.a,t.add(this.source.subscribe(new f(this.getSubject(),this))),t.closed&&(this._connection=null,t=r.a.EMPTY)),t}refCount(){return c()(this)}}const d=(()=>{const t=h.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class f extends i.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function p(){return new i.a}function g(t){for(let e in t)if(t[e]===g)return e;throw Error("Could not find renamed property on target object.")}function m(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function b(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(b).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function _(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const v=g({__forward_ref__:g});function y(t){return t.__forward_ref__=y,t.toString=function(){return b(this())},t}function w(t){return C(t)?t():t}function C(t){return"function"==typeof t&&t.hasOwnProperty(v)&&t.__forward_ref__===y}function S(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function k(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function O(t){return T(t,E)||T(t,A)}function T(t,e){return t.hasOwnProperty(e)?t[e]:null}function x(t){return t&&(t.hasOwnProperty(I)||t.hasOwnProperty(R))?t[I]:null}const E=g({\u0275prov:g}),I=g({\u0275inj:g}),A=g({ngInjectableDef:g}),R=g({ngInjectorDef:g});var P=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});let D;function M(t){const e=D;return D=t,e}function N(t,e,n){const i=O(t);if(i&&"root"==i.providedIn)return void 0===i.value?i.value=i.factory():i.value;if(n&P.Optional)return null;if(void 0!==e)return e;throw new Error(`Injector: NOT_FOUND [${b(t)}]`)}function j(t){return{toString:t}.toString()}var F=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),L=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const V="undefined"!=typeof globalThis&&globalThis,U="undefined"!=typeof window&&window,q="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,B="undefined"!=typeof global&&global,H=V||B||U||q,z={},W=[],G=g({\u0275cmp:g}),K=g({\u0275dir:g}),$=g({\u0275pipe:g}),Y=g({\u0275mod:g}),Q=g({\u0275loc:g}),Z=g({\u0275fac:g}),X=g({__NG_ELEMENT_ID__:g});let J=0;function tt(t){return j(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===F.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||W,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||L.Emulated,id:"c",styles:t.styles||W,_:null,setInput:null,schemas:t.schemas||null,tView:null},i=t.directives,r=t.features,o=t.pipes;return n.id+=J++,n.inputs=st(t.inputs,e),n.outputs=st(t.outputs),r&&r.forEach(t=>t(n)),n.directiveDefs=i?()=>("function"==typeof i?i():i).map(et):null,n.pipeDefs=o?()=>("function"==typeof o?o():o).map(nt):null,n})}function et(t){return ut(t)||function(t){return t[K]||null}(t)}function nt(t){return function(t){return t[$]||null}(t)}const it={};function rt(t){const e={type:t.type,bootstrap:t.bootstrap||W,declarations:t.declarations||W,imports:t.imports||W,exports:t.exports||W,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&j(()=>{it[t.id]=t.type}),e}function ot(t,e){return j(()=>{const n=lt(t,!0);n.declarations=e.declarations||W,n.imports=e.imports||W,n.exports=e.exports||W})}function st(t,e){if(null==t)return z;const n={};for(const i in t)if(t.hasOwnProperty(i)){let r=t[i],o=r;Array.isArray(r)&&(o=r[1],r=r[0]),n[r]=i,e&&(e[r]=o)}return n}const at=tt;function ct(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function ut(t){return t[G]||null}function lt(t,e){const n=t[Y]||null;if(!n&&!0===e)throw new Error(`Type ${b(t)} does not have '\u0275mod' property.`);return n}function ht(t){return Array.isArray(t)&&"object"==typeof t[1]}function dt(t){return Array.isArray(t)&&!0===t[1]}function ft(t){return 0!=(8&t.flags)}function pt(t){return 2==(2&t.flags)}function gt(t){return 1==(1&t.flags)}function mt(t){return null!==t.template}function bt(t,e){return t.hasOwnProperty(Z)?t[Z]:null}class _t extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function vt(t){return"string"==typeof t?t:null==t?"":String(t)}function yt(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():vt(t)}function wt(t,e){const n=e?" in "+e:"";throw new _t("201",`No provider for ${yt(t)} found${n}`)}class Ct{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function St(){return kt}function kt(t){return t.type.prototype.ngOnChanges&&(t.setInput=Tt),Ot}function Ot(){const t=xt(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===z)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function Tt(t,e,n,i){const r=xt(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:z,current:null}),o=r.current||(r.current={}),s=r.previous,a=this.declaredInputs[n],c=s[a];o[a]=new Ct(c&&c.currentValue,e,s===z),t[i]=e}function xt(t){return t.__ngSimpleChanges__||null}St.ngInherit=!0;let Et=void 0;function It(t){Et=t}function At(){return void 0!==Et?Et:"undefined"!=typeof document?document:void 0}function Rt(t){return!!t.listen}const Pt={createRenderer:(t,e)=>At()};function Dt(t){for(;Array.isArray(t);)t=t[0];return t}function Mt(t,e){return Dt(e[t])}function Nt(t,e){return Dt(e[t.index])}function jt(t,e){return t.data[e]}function Ft(t,e){return t[e]}function Lt(t,e){const n=e[t];return ht(n)?n:n[0]}function Vt(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Ut(t){return 4==(4&t[2])}function qt(t){return 128==(128&t[2])}function Bt(t,e){return null==e?null:t[e]}function Ht(t){t[18]=0}function zt(t,e){t[5]+=e;let n=t,i=t[3];for(;null!==i&&(1===e&&1===n[5]||-1===e&&0===n[5]);)i[5]+=e,n=i,i=i[3]}const Wt={lFrame:ge(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Gt(){return Wt.bindingsEnabled}function Kt(){return Wt.lFrame.lView}function $t(){return Wt.lFrame.tView}function Yt(t){Wt.lFrame.contextLView=t}function Qt(){let t=Zt();for(;null!==t&&64===t.type;)t=t.parent;return t}function Zt(){return Wt.lFrame.currentTNode}function Xt(t,e){const n=Wt.lFrame;n.currentTNode=t,n.isParent=e}function Jt(){return Wt.lFrame.isParent}function te(){Wt.lFrame.isParent=!1}function ee(){return Wt.isInCheckNoChangesMode}function ne(t){Wt.isInCheckNoChangesMode=t}function ie(){const t=Wt.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function re(){return Wt.lFrame.bindingIndex++}function oe(t){const e=Wt.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function se(t,e){const n=Wt.lFrame;n.bindingIndex=n.bindingRootIndex=t,ae(e)}function ae(t){Wt.lFrame.currentDirectiveIndex=t}function ce(t){const e=Wt.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}function ue(){return Wt.lFrame.currentQueryIndex}function le(t){Wt.lFrame.currentQueryIndex=t}function he(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function de(t,e,n){if(n&P.SkipSelf){let i=e,r=t;for(;i=i.parent,!(null!==i||n&P.Host||(i=he(r),null===i)||(r=r[15],10&i.type)););if(null===i)return!1;e=i,t=r}const i=Wt.lFrame=pe();return i.currentTNode=e,i.lView=t,!0}function fe(t){const e=pe(),n=t[1];Wt.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function pe(){const t=Wt.lFrame,e=null===t?null:t.child;return null===e?ge(t):e}function ge(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function me(){const t=Wt.lFrame;return Wt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const be=me;function _e(){const t=me();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function ve(){return Wt.lFrame.selectedIndex}function ye(t){Wt.lFrame.selectedIndex=t}function we(){const t=Wt.lFrame;return jt(t.tView,t.selectedIndex)}function Ce(){Wt.lFrame.currentNamespace="http://www.w3.org/2000/svg"}function Se(){Wt.lFrame.currentNamespace=null}function ke(t,e){for(let n=e.directiveStart,i=e.directiveEnd;n<i;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:i,ngAfterContentChecked:r,ngAfterViewInit:o,ngAfterViewChecked:s,ngOnDestroy:a}=e;i&&(t.contentHooks||(t.contentHooks=[])).push(-n,i),r&&((t.contentHooks||(t.contentHooks=[])).push(n,r),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,r)),o&&(t.viewHooks||(t.viewHooks=[])).push(-n,o),s&&((t.viewHooks||(t.viewHooks=[])).push(n,s),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,s)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function Oe(t,e,n){Ee(t,e,3,n)}function Te(t,e,n,i){(3&t[2])===n&&Ee(t,e,n,i)}function xe(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function Ee(t,e,n,i){const r=null!=i?i:-1;let o=0;for(let s=void 0!==i?65535&t[18]:0;s<e.length;s++)if("number"==typeof e[s+1]){if(o=e[s],null!=i&&o>=i)break}else e[s]<0&&(t[18]+=65536),(o<r||-1==r)&&(Ie(t,n,e,s),t[18]=(4294901760&t[18])+s+2),s++}function Ie(t,e,n,i){const r=n[i]<0,o=n[i+1],s=t[r?-n[i]:n[i]];r?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,o.call(s)):o.call(s)}class Ae{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function Re(t,e,n){const i=Rt(t);let r=0;for(;r<n.length;){const o=n[r];if("number"==typeof o){if(0!==o)break;r++;const s=n[r++],a=n[r++],c=n[r++];i?t.setAttribute(e,a,c,s):e.setAttributeNS(s,a,c)}else{const s=o,a=n[++r];De(s)?i&&t.setProperty(e,s,a):i?t.setAttribute(e,s,a):e.setAttribute(s,a),r++}}return r}function Pe(t){return 3===t||4===t||6===t}function De(t){return 64===t.charCodeAt(0)}function Me(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let i=0;i<e.length;i++){const r=e[i];"number"==typeof r?n=r:0===n||Ne(t,n,r,null,-1===n||2===n?e[++i]:null)}}return t}function Ne(t,e,n,i,r){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const n=t[o++];if("number"==typeof n){if(n===e){s=-1;break}if(n>e){s=o-1;break}}}for(;o<t.length;){const e=t[o];if("number"==typeof e)break;if(e===n){if(null===i)return void(null!==r&&(t[o+1]=r));if(i===t[o+1])return void(t[o+2]=r)}o++,null!==i&&o++,null!==r&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==i&&t.splice(o++,0,i),null!==r&&t.splice(o++,0,r)}function je(t){return-1!==t}function Fe(t){return 32767&t}function Le(t,e){let n=t>>16,i=e;for(;n>0;)i=i[15],n--;return i}let Ve=!0;function Ue(t){const e=Ve;return Ve=t,e}let qe=0;function Be(t,e){const n=ze(t,e);if(-1!==n)return n;const i=e[1];i.firstCreatePass&&(t.injectorIndex=e.length,He(i.data,t),He(e,null),He(i.blueprint,null));const r=We(t,e),o=t.injectorIndex;if(je(r)){const t=Fe(r),n=Le(r,e),i=n[1].data;for(let r=0;r<8;r++)e[o+r]=n[t+r]|i[t+r]}return e[o+8]=r,o}function He(t,e){t.push(0,0,0,0,0,0,0,0,e)}function ze(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function We(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,i=null,r=e;for(;null!==r;){const t=r[1],e=t.type;if(i=2===e?t.declTNode:1===e?r[6]:null,null===i)return-1;if(n++,r=r[15],-1!==i.injectorIndex)return i.injectorIndex|n<<16}return-1}function Ge(t,e,n){!function(t,e,n){let i;"string"==typeof n?i=n.charCodeAt(0)||0:n.hasOwnProperty(X)&&(i=n[X]),null==i&&(i=n[X]=qe++);const r=255&i,o=1<<r,s=64&r,a=32&r,c=e.data;128&r?s?a?c[t+7]|=o:c[t+6]|=o:a?c[t+5]|=o:c[t+4]|=o:s?a?c[t+3]|=o:c[t+2]|=o:a?c[t+1]|=o:c[t]|=o}(t,e,n)}function Ke(t,e,n){if(n&P.Optional)return t;wt(e,"NodeInjector")}function $e(t,e,n,i){if(n&P.Optional&&void 0===i&&(i=null),0==(n&(P.Self|P.Host))){const r=t[9],o=M(void 0);try{return r?r.get(e,i,n&P.Optional):N(e,i,n&P.Optional)}finally{M(o)}}return Ke(i,e,n)}function Ye(t,e,n,i=P.Default,r){if(null!==t){const o=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(X)?t[X]:void 0;return"number"==typeof e?e>=0?255&e:Ze:e}(n);if("function"==typeof o){if(!de(e,t,i))return i&P.Host?Ke(r,n,i):$e(e,n,i,r);try{const t=o();if(null!=t||i&P.Optional)return t;wt(n)}finally{be()}}else if("number"==typeof o){let r=null,s=ze(t,e),a=-1,c=i&P.Host?e[16][6]:null;for((-1===s||i&P.SkipSelf)&&(a=-1===s?We(t,e):e[s+8],-1!==a&&nn(i,!1)?(r=e[1],s=Fe(a),e=Le(a,e)):s=-1);-1!==s;){const t=e[1];if(en(o,s,t.data)){const t=Xe(s,e,n,r,i,c);if(t!==Qe)return t}a=e[s+8],-1!==a&&nn(i,e[1].data[s+8]===c)&&en(o,s,e)?(r=t,s=Fe(a),e=Le(a,e)):s=-1}}}return $e(e,n,i,r)}const Qe={};function Ze(){return new rn(Qt(),Kt())}function Xe(t,e,n,i,r,o){const s=e[1],a=s.data[t+8],c=Je(a,s,n,null==i?pt(a)&&Ve:i!=s&&0!=(3&a.type),r&P.Host&&o===a);return null!==c?tn(e,s,c,a):Qe}function Je(t,e,n,i,r){const o=t.providerIndexes,s=e.data,a=1048575&o,c=t.directiveStart,u=o>>20,l=r?a+u:t.directiveEnd;for(let h=i?a:a+u;h<l;h++){const t=s[h];if(h<c&&n===t||h>=c&&t.type===n)return h}if(r){const t=s[c];if(t&&mt(t)&&t.type===n)return c}return null}function tn(t,e,n,i){let r=t[n];const o=e.data;if(r instanceof Ae){const s=r;s.resolving&&function(t,e){throw new _t("200","Circular dependency in DI detected for "+t)}(yt(o[n]));const a=Ue(s.canSeeViewProviders);s.resolving=!0;const c=s.injectImpl?M(s.injectImpl):null;de(t,i,P.Default);try{r=t[n]=s.factory(void 0,o,t,i),e.firstCreatePass&&n>=i.directiveStart&&function(t,e,n){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=e.type.prototype;if(i){const i=kt(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,i),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,i)}r&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,r),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{null!==c&&M(c),Ue(a),s.resolving=!1,be()}}return r}function en(t,e,n){const i=64&t,r=32&t;let o;return o=128&t?i?r?n[e+7]:n[e+6]:r?n[e+5]:n[e+4]:i?r?n[e+3]:n[e+2]:r?n[e+1]:n[e],!!(o&1<<t)}function nn(t,e){return!(t&P.Self||t&P.Host&&e)}class rn{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return Ye(this._tNode,this._lView,t,void 0,e)}}function on(t){const e=t;if(C(t))return()=>{const t=on(w(e));return t?t():null};let n=bt(e);if(null===n){const t=x(e);n=t&&t.factory}return n||null}function sn(t){return j(()=>{const e=t.prototype.constructor,n=e[Z]||on(e),i=Object.prototype;let r=Object.getPrototypeOf(t.prototype).constructor;for(;r&&r!==i;){const t=r[Z]||on(r);if(t&&t!==n)return t;r=Object.getPrototypeOf(r)}return t=>new t})}function an(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let i=0;for(;i<t;){const r=n[i];if(Pe(r))break;if(0===r)i+=2;else if("number"==typeof r)for(i++;i<t&&"string"==typeof n[i];)i++;else{if(r===e)return n[i+1];i+=2}}}return null}(Qt(),t)}function cn(t,e,n){return j(()=>{const i=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function r(...t){if(this instanceof r)return i.apply(this,t),this;const e=new r(...t);return n.annotation=e,n;function n(t,n,i){const r=t.hasOwnProperty("__parameters__")?t.__parameters__:Object.defineProperty(t,"__parameters__",{value:[]}).__parameters__;for(;r.length<=i;)r.push(null);return(r[i]=r[i]||[]).push(e),t}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=t,r.annotationCls=r,r})}class un{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=S({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return"InjectionToken "+this._desc}}const ln=new un("AnalyzeForEntryComponents"),hn=Function;function dn(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let i=t[n];Array.isArray(i)?(e===t&&(e=t.slice(0,n)),dn(i,e)):e!==t&&e.push(i)}return e}function fn(t,e){t.forEach(t=>Array.isArray(t)?fn(t,e):e(t))}function pn(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function gn(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function mn(t,e){const n=[];for(let i=0;i<t;i++)n.push(e);return n}function bn(t,e,n){let i=vn(t,e);return i>=0?t[1|i]=n:(i=~i,function(t,e,n,i){let r=t.length;if(r==e)t.push(n,i);else if(1===r)t.push(i,t[0]),t[0]=n;else{for(r--,t.push(t[r-1],t[r]);r>e;)t[r]=t[r-2],r--;t[e]=n,t[e+1]=i}}(t,i,e,n)),i}function _n(t,e){const n=vn(t,e);if(n>=0)return t[1|n]}function vn(t,e){return function(t,e,n){let i=0,r=t.length>>1;for(;r!==i;){const n=i+(r-i>>1),o=t[n<<1];if(e===o)return n<<1;o>e?r=n:i=n+1}return~(r<<1)}(t,e)}const yn=cn("Inject",t=>({token:t})),wn=cn("Optional"),Cn=cn("Self"),Sn=cn("SkipSelf"),kn={},On=/\n/gm,Tn=g({provide:String,useValue:g});let xn=void 0;function En(t){const e=xn;return xn=t,e}function In(t,e=P.Default){if(void 0===xn)throw new Error("inject() must be called from an injection context");return null===xn?N(t,void 0,e):xn.get(t,e&P.Optional?null:void 0,e)}function An(t,e=P.Default){return(D||In)(w(t),e)}const Rn=An;function Pn(t){const e=[];for(let n=0;n<t.length;n++){const i=w(t[n]);if(Array.isArray(i)){if(0===i.length)throw new Error("Arguments array must have arguments.");let t=void 0,n=P.Default;for(let e=0;e<i.length;e++){const r=i[e];r instanceof wn||"Optional"===r.ngMetadataName||r===wn?n|=P.Optional:r instanceof Sn||"SkipSelf"===r.ngMetadataName||r===Sn?n|=P.SkipSelf:r instanceof Cn||"Self"===r.ngMetadataName||r===Cn?n|=P.Self:t=r instanceof yn||r===yn?r.token:r}e.push(An(t,n))}else e.push(An(i))}return e}let Dn;function Mn(t){var e;return(null===(e=function(){if(void 0===Dn&&(Dn=null,H.trustedTypes))try{Dn=H.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return Dn}())||void 0===e?void 0:e.createHTML(t))||t}class Nn{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see https://g.co/ng/security#xss)"}}class jn extends Nn{getTypeName(){return"HTML"}}class Fn extends Nn{getTypeName(){return"Style"}}class Ln extends Nn{getTypeName(){return"Script"}}class Vn extends Nn{getTypeName(){return"URL"}}class Un extends Nn{getTypeName(){return"ResourceURL"}}function qn(t){return t instanceof Nn?t.changingThisBreaksApplicationSecurity:t}function Bn(t,e){const n=Hn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}function Hn(t){return t instanceof Nn&&t.getTypeName()||null}function zn(t){return new jn(t)}function Wn(t){return new Fn(t)}function Gn(t){return new Ln(t)}function Kn(t){return new Vn(t)}function $n(t){return new Un(t)}class Yn{getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(Mn(t),"text/html").body;return e.removeChild(e.firstChild),e}catch(e){return null}}}class Qn{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=Mn(t),e;const n=this.inertDocument.createElement("body");return n.innerHTML=Mn(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let i=e.length-1;0<i;i--){const n=e.item(i).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Zn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Xn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Jn(t){return(t=String(t)).match(Zn)||t.match(Xn)?t:"unsafe:"+t}function ti(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function ei(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const ni=ti("area,br,col,hr,img,wbr"),ii=ti("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ri=ti("rp,rt"),oi=ei(ri,ii),si=ei(ni,ei(ii,ti("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ei(ri,ti("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),oi),ai=ti("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ci=ti("srcset"),ui=ei(ai,ci,ti("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ti("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),li=ti("script,style,template");class hi{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!si.hasOwnProperty(e))return this.sanitizedSomething=!0,!li.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let r=0;r<n.length;r++){const t=n.item(r),e=t.name,o=e.toLowerCase();if(!ui.hasOwnProperty(o)){this.sanitizedSomething=!0;continue}let s=t.value;ai[o]&&(s=Jn(s)),ci[o]&&(i=s,s=(i=String(i)).split(",").map(t=>Jn(t.trim())).join(", ")),this.buf.push(" ",e,'="',pi(s),'"')}var i;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();si.hasOwnProperty(e)&&!ni.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(pi(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e}}const di=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,fi=/([^\#-~ |!])/g;function pi(t){return t.replace(/&/g,"&amp;").replace(di,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(fi,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let gi;function mi(t,e){let n=null;try{gi=gi||function(t){return function(){try{return!!(new window.DOMParser).parseFromString(Mn(""),"text/html")}catch(t){return!1}}()?new Yn:new Qn(t)}(t);let i=e?String(e):"";n=gi.getInertBodyElement(i);let r=5,o=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=n.innerHTML,n=gi.getInertBodyElement(i)}while(i!==o);return(new hi).sanitizeChildren(bi(n)||n)}finally{if(n){const t=bi(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function bi(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var _i=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function vi(t){const e=wi();return e?e.sanitize(_i.HTML,t)||"":Bn(t,"HTML")?qn(t):mi(At(),vt(t))}function yi(t){const e=wi();return e?e.sanitize(_i.URL,t)||"":Bn(t,"URL")?qn(t):Jn(vt(t))}function wi(){const t=Kt();return t&&t[12]}function Ci(t){return t.ngDebugContext}function Si(t){return t.ngOriginalError}function ki(t,...e){t.error(...e)}class Oi{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),i=function(t){return t.ngErrorLogger||ki}(t);i(this._console,"ERROR",t),e&&i(this._console,"ORIGINAL ERROR",e),n&&i(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?Ci(t)?Ci(t):this._findContext(Si(t)):null}_findOriginalError(t){let e=Si(t);for(;e&&Si(e);)e=Si(e);return e}}function Ti(t,e){t.__ngContext__=e}const xi=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(H))();function Ei(t){return{name:"window",target:t.ownerDocument.defaultView}}function Ii(t){return t instanceof Function?t():t}var Ai=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});function Ri(t,e){return(void 0)(t,e)}function Pi(t){const e=t[3];return dt(e)?e[3]:e}function Di(t){return Ni(t[13])}function Mi(t){return Ni(t[4])}function Ni(t){for(;null!==t&&!dt(t);)t=t[4];return t}function ji(t,e,n,i,r){if(null!=i){let o,s=!1;dt(i)?o=i:ht(i)&&(s=!0,i=i[0]);const a=Dt(i);0===t&&null!==n?null==r?zi(e,n,a):Hi(e,n,a,r||null,!0):1===t&&null!==n?Hi(e,n,a,r||null,!0):2===t?function(t,e,n){const i=Gi(t,e);i&&function(t,e,n,i){Rt(t)?t.removeChild(e,n,i):e.removeChild(n)}(t,i,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function(t,e,n,i,r){const o=n[7];o!==Dt(n)&&ji(e,t,i,o,r);for(let s=10;s<n.length;s++){const r=n[s];Ji(r[1],r,t,e,i,o)}}(e,t,o,n,r)}}function Fi(t,e,n){return Rt(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Li(t,e){const n=t[9],i=n.indexOf(e),r=e[3];1024&e[2]&&(e[2]&=-1025,zt(r,-1)),n.splice(i,1)}function Vi(t,e){if(t.length<=10)return;const n=10+e,i=t[n];if(i){const o=i[17];null!==o&&o!==t&&Li(o,i),e>0&&(t[n-1][4]=i[4]);const s=gn(t,10+e);Ji(i[1],r=i,r[11],2,null,null),r[0]=null,r[6]=null;const a=s[19];null!==a&&a.detachView(s[1]),i[3]=null,i[4]=null,i[2]&=-129}var r;return i}function Ui(t,e){if(!(256&e[2])){const n=e[11];Rt(n)&&n.destroyNode&&Ji(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return qi(t[1],t);for(;e;){let n=null;if(ht(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)ht(e)&&qi(e[1],e),e=e[3];null===e&&(e=t),ht(e)&&qi(e[1],e),n=e&&e[4]}e=n}}(e)}}function qi(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let i=0;i<n.length;i+=2){const t=e[n[i]];if(!(t instanceof Ae)){const e=n[i+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup,i=e[7];let r=-1;if(null!==n){for(let t=0;t<n.length-1;t+=2)if("string"==typeof n[t]){const o=n[t+1],s="function"==typeof o?o(e):Dt(e[o]),a=i[r=n[t+2]],c=n[t+3];"boolean"==typeof c?s.removeEventListener(n[t],a,c):c>=0?i[r=c]():i[r=-c].unsubscribe(),t+=2}else{const e=i[r=n[t+1]];n[t].call(e)}if(null!==i)for(let t=r+1;t<i.length;t++)(0,i[t])();e[7]=null}}(t,e),1===e[1].type&&Rt(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&dt(e[3])){n!==e[3]&&Li(n,e);const i=e[19];null!==i&&i.detachView(t)}}}function Bi(t,e,n){return function(t,e,n){let i=e;for(;null!==i&&40&i.type;)i=(e=i).parent;if(null===i)return n[0];if(2&i.flags){const e=t.data[i.directiveStart].encapsulation;if(e===L.None||e===L.Emulated)return null}return Nt(i,n)}(t,e.parent,n)}function Hi(t,e,n,i,r){Rt(t)?t.insertBefore(e,n,i,r):e.insertBefore(n,i,r)}function zi(t,e,n){Rt(t)?t.appendChild(e,n):e.appendChild(n)}function Wi(t,e,n,i,r){null!==i?Hi(t,e,n,i,r):zi(t,e,n)}function Gi(t,e){return Rt(t)?t.parentNode(e):e.parentNode}function Ki(t,e,n){return $i(t,e,n)}let $i=function(t,e,n){return 40&t.type?Nt(t,n):null};function Yi(t,e,n,i){const r=Bi(t,i,e),o=e[11],s=Ki(i.parent||e[6],i,e);if(null!=r)if(Array.isArray(n))for(let a=0;a<n.length;a++)Wi(o,r,n[a],s,!1);else Wi(o,r,n,s,!1)}function Qi(t,e){if(null!==e){const n=e.type;if(3&n)return Nt(e,t);if(4&n)return Zi(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return Qi(t,n);{const n=t[e.index];return dt(n)?Zi(-1,n):Dt(n)}}if(32&n)return Ri(e,t)()||Dt(t[e.index]);{const n=t[16],i=n[6],r=Pi(n),o=i.projection[e.projection];return null!=o?Qi(r,o):Qi(t,e.next)}}return null}function Zi(t,e){const n=10+t+1;if(n<e.length){const t=e[n],i=t[1].firstChild;if(null!==i)return Qi(t,i)}return e[7]}function Xi(t,e,n,i,r,o,s){for(;null!=n;){const a=i[n.index],c=n.type;if(s&&0===e&&(a&&Ti(Dt(a),i),n.flags|=4),64!=(64&n.flags))if(8&c)Xi(t,e,n.child,i,r,o,!1),ji(e,t,r,a,o);else if(32&c){const s=Ri(n,i);let c;for(;c=s();)ji(e,t,r,c,o);ji(e,t,r,a,o)}else 16&c?tr(t,e,i,n,r,o):ji(e,t,r,a,o);n=s?n.projectionNext:n.next}}function Ji(t,e,n,i,r,o){Xi(n,i,t.firstChild,e,r,o,!1)}function tr(t,e,n,i,r,o){const s=n[16],a=s[6].projection[i.projection];if(Array.isArray(a))for(let c=0;c<a.length;c++)ji(e,t,r,a[c],o);else Xi(t,e,a,s[3],r,o,!0)}function er(t,e,n){Rt(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function nr(t,e,n){Rt(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function ir(t,e,n){let i=t.length;for(;;){const r=t.indexOf(e,n);if(-1===r)return r;if(0===r||t.charCodeAt(r-1)<=32){const n=e.length;if(r+n===i||t.charCodeAt(r+n)<=32)return r}n=r+1}}function rr(t,e,n){let i=0;for(;i<t.length;){let r=t[i++];if(n&&"class"===r){if(r=t[i],-1!==ir(r.toLowerCase(),e,0))return!0}else if(1===r){for(;i<t.length&&"string"==typeof(r=t[i++]);)if(r.toLowerCase()===e)return!0;return!1}}return!1}function or(t){return 4===t.type&&"ng-template"!==t.value}function sr(t,e,n){return e===(4!==t.type||n?t.value:"ng-template")}function ar(t,e,n){let i=4;const r=t.attrs||[],o=function(t){for(let e=0;e<t.length;e++)if(Pe(t[e]))return e;return t.length}(r);let s=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!s)if(4&i){if(i=2|1&i,""!==c&&!sr(t,c,n)||""===c&&1===e.length){if(cr(i))return!1;s=!0}}else{const u=8&i?c:e[++a];if(8&i&&null!==t.attrs){if(!rr(t.attrs,u,n)){if(cr(i))return!1;s=!0}continue}const l=ur(8&i?"class":c,r,or(t),n);if(-1===l){if(cr(i))return!1;s=!0;continue}if(""!==u){let t;t=l>o?"":r[l+1].toLowerCase();const e=8&i?t:null;if(e&&-1!==ir(e,u,0)||2&i&&u!==t){if(cr(i))return!1;s=!0}}}}else{if(!s&&!cr(i)&&!cr(c))return!1;if(s&&cr(c))continue;s=!1,i=c|1&i}}return cr(i)||s}function cr(t){return 0==(1&t)}function ur(t,e,n,i){if(null===e)return-1;let r=0;if(i||!n){let n=!1;for(;r<e.length;){const i=e[r];if(i===t)return r;if(3===i||6===i)n=!0;else{if(1===i||2===i){let t=e[++r];for(;"string"==typeof t;)t=e[++r];continue}if(4===i)break;if(0===i){r+=4;continue}}r+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const i=t[n];if("number"==typeof i)return-1;if(i===e)return n;n++}return-1}(e,t)}function lr(t,e,n=!1){for(let i=0;i<e.length;i++)if(ar(t,e[i],n))return!0;return!1}function hr(t,e){t:for(let n=0;n<e.length;n++){const i=e[n];if(t.length===i.length){for(let e=0;e<t.length;e++)if(t[e]!==i[e])continue t;return!0}}return!1}function dr(t,e){return t?":not("+e.trim()+")":e}function fr(t){let e=t[0],n=1,i=2,r="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&i){const e=t[++n];r+="["+s+(e.length>0?'="'+e+'"':"")+"]"}else 8&i?r+="."+s:4&i&&(r+=" "+s);else""===r||cr(s)||(e+=dr(o,r),r=""),i=s,o=o||!cr(i);n++}return""!==r&&(e+=dr(o,r)),e}const pr={};function gr(t){mr($t(),Kt(),ve()+t,ee())}function mr(t,e,n,i){if(!i)if(3==(3&e[2])){const i=t.preOrderCheckHooks;null!==i&&Oe(e,i,n)}else{const i=t.preOrderHooks;null!==i&&Te(e,i,0,n)}ye(n)}function br(t,e){return t<<17|e<<2}function _r(t){return t>>17&32767}function vr(t){return 2|t}function yr(t){return(131068&t)>>2}function wr(t,e){return-131069&t|e<<2}function Cr(t){return 1|t}function Sr(t,e){const n=t.contentQueries;if(null!==n)for(let i=0;i<n.length;i+=2){const r=n[i],o=n[i+1];if(-1!==o){const n=t.data[o];le(r),n.contentQueries(2,e[o],o)}}}function kr(t,e,n,i,r,o,s,a,c,u){const l=e.blueprint.slice();return l[0]=r,l[2]=140|i,Ht(l),l[3]=l[15]=t,l[8]=n,l[10]=s||t&&t[10],l[11]=a||t&&t[11],l[12]=c||t&&t[12]||null,l[9]=u||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function Or(t,e,n,i,r){let o=t.data[e];if(null===o)o=function(t,e,n,i,r){const o=Zt(),s=Jt(),a=t.data[e]=function(t,e,n,i,r,o){return{type:n,index:i,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,i,r);return null===t.firstChild&&(t.firstChild=a),null!==o&&(s?null==o.child&&null!==a.parent&&(o.child=a):null===o.next&&(o.next=a)),a}(t,e,n,i,r),Wt.lFrame.inI18n&&(o.flags|=64);else if(64&o.type){o.type=n,o.value=i,o.attrs=r;const t=function(){const t=Wt.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===t?-1:t.injectorIndex}return Xt(o,!0),o}function Tr(t,e,n,i){if(0===n)return-1;const r=e.length;for(let o=0;o<n;o++)e.push(i),t.blueprint.push(i),t.data.push(null);return r}function xr(t,e,n){fe(e);try{const i=t.viewQuery;null!==i&&io(1,i,n);const r=t.template;null!==r&&Ar(t,e,r,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Sr(t,e),t.staticViewQueries&&io(2,t.viewQuery,n);const o=t.components;null!==o&&function(t,e){for(let n=0;n<e.length;n++)Xr(t,e[n])}(e,o)}catch(i){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),i}finally{e[2]&=-5,_e()}}function Er(t,e,n,i){const r=e[2];if(256==(256&r))return;fe(e);const o=ee();try{Ht(e),Wt.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Ar(t,e,n,2,i);const s=3==(3&r);if(!o)if(s){const n=t.preOrderCheckHooks;null!==n&&Oe(e,n,null)}else{const n=t.preOrderHooks;null!==n&&Te(e,n,0,null),xe(e,0)}if(function(t){for(let e=Di(t);null!==e;e=Mi(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],i=n[3];0==(1024&n[2])&&zt(i,1),n[2]|=1024}}}(e),function(t){for(let e=Di(t);null!==e;e=Mi(e))for(let t=10;t<e.length;t++){const n=e[t],i=n[1];qt(n)&&Er(i,n,i.template,n[8])}}(e),null!==t.contentQueries&&Sr(t,e),!o)if(s){const n=t.contentCheckHooks;null!==n&&Oe(e,n)}else{const n=t.contentHooks;null!==n&&Te(e,n,1),xe(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const i=n[t];if(i<0)ye(~i);else{const r=i,o=n[++t],s=n[++t];se(o,r),s(2,e[r])}}}finally{ye(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)Qr(t,e[n])}(e,a);const c=t.viewQuery;if(null!==c&&io(2,c,i),!o)if(s){const n=t.viewCheckHooks;null!==n&&Oe(e,n)}else{const n=t.viewHooks;null!==n&&Te(e,n,2),xe(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,zt(e[3],-1))}finally{_e()}}function Ir(t,e,n,i){const r=e[10],o=!ee(),s=Ut(e);try{o&&!s&&r.begin&&r.begin(),s&&xr(t,e,i),Er(t,e,n,i)}finally{o&&!s&&r.end&&r.end()}}function Ar(t,e,n,i,r){const o=ve();try{ye(-1),2&i&&e.length>20&&mr(t,e,20,ee()),n(i,r)}finally{ye(o)}}function Rr(t,e,n){if(ft(e)){const i=e.directiveEnd;for(let r=e.directiveStart;r<i;r++){const e=t.data[r];e.contentQueries&&e.contentQueries(1,n[r],r)}}}function Pr(t,e,n){Gt()&&(function(t,e,n,i){const r=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||Be(n,e),Ti(i,e);const s=n.initialInputs;for(let a=r;a<o;a++){const i=t.data[a],o=mt(i);o&&Gr(e,n,i);const c=tn(e,t,a,n);Ti(c,e),null!==s&&Kr(0,a-r,c,i,0,s),o&&(Lt(n.index,e)[8]=c)}}(t,e,n,Nt(n,e)),128==(128&n.flags)&&function(t,e,n){const i=n.directiveStart,r=n.directiveEnd,o=n.index,s=Wt.lFrame.currentDirectiveIndex;try{ye(o);for(let n=i;n<r;n++){const i=t.data[n],r=e[n];ae(n),null===i.hostBindings&&0===i.hostVars&&null===i.hostAttrs||qr(i,r)}}finally{ye(-1),ae(s)}}(t,e,n))}function Dr(t,e,n=Nt){const i=e.localNames;if(null!==i){let r=e.index+1;for(let o=0;o<i.length;o+=2){const s=i[o+1],a=-1===s?n(e,t):t[s];t[r++]=a}}}function Mr(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Nr(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Nr(t,e,n,i,r,o,s,a,c,u){const l=20+i,h=l+r,d=function(t,e){const n=[];for(let i=0;i<e;i++)n.push(i<t?null:pr);return n}(l,h),f="function"==typeof u?u():u;return d[1]={type:t,blueprint:d,template:n,queries:null,viewQuery:a,declTNode:e,data:d.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:c,consts:f,incompleteFirstPass:!1}}function jr(t,e,n,i){const r=oo(e);null===n?r.push(i):(r.push(n),t.firstCreatePass&&so(t).push(i,r.length-1))}function Fr(t,e,n){for(let i in t)if(t.hasOwnProperty(i)){const r=t[i];(n=null===n?{}:n).hasOwnProperty(i)?n[i].push(e,r):n[i]=[e,r]}return n}function Lr(t,e,n,i,r,o,s,a){const c=Nt(e,n);let u,l=e.inputs;var h;!a&&null!=l&&(u=l[i])?(uo(t,n,u,i,r),pt(e)&&function(t,e){const n=Lt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(i="class"===(h=i)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,r=null!=s?s(r,e.value||"",i):r,Rt(o)?o.setProperty(c,i,r):De(i)||(c.setProperty?c.setProperty(i,r):c[i]=r))}function Vr(t,e,n,i){let r=!1;if(Gt()){const o=function(t,e,n){const i=t.directiveRegistry;let r=null;if(i)for(let o=0;o<i.length;o++){const s=i[o];lr(n,s.selectors,!1)&&(r||(r=[]),Ge(Be(n,e),t,s.type),mt(s)?(Br(t,n),r.unshift(s)):r.push(s))}return r}(t,e,n),s=null===i?null:{"":-1};if(null!==o){r=!0,zr(n,t.data.length,o.length);for(let t=0;t<o.length;t++){const e=o[t];e.providersResolver&&e.providersResolver(e)}let i=!1,a=!1,c=Tr(t,e,o.length,null);for(let r=0;r<o.length;r++){const u=o[r];n.mergedAttrs=Me(n.mergedAttrs,u.hostAttrs),Wr(t,n,e,c,u),Hr(c,u,s),null!==u.contentQueries&&(n.flags|=8),null===u.hostBindings&&null===u.hostAttrs&&0===u.hostVars||(n.flags|=128);const l=u.type.prototype;!i&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),i=!0),a||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),c++}!function(t,e){const n=e.directiveEnd,i=t.data,r=e.attrs,o=[];let s=null,a=null;for(let c=e.directiveStart;c<n;c++){const t=i[c],n=t.inputs,u=null===r||or(e)?null:$r(n,r);o.push(u),s=Fr(n,c,s),a=Fr(t.outputs,c,a)}null!==s&&(s.hasOwnProperty("class")&&(e.flags|=16),s.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=s,e.outputs=a}(t,n)}s&&function(t,e,n){if(e){const i=t.localNames=[];for(let t=0;t<e.length;t+=2){const r=n[e[t+1]];if(null==r)throw new _t("301",`Export of name '${e[t+1]}' not found!`);i.push(e[t],r)}}}(n,i,s)}return n.mergedAttrs=Me(n.mergedAttrs,n.attrs),r}function Ur(t,e,n,i,r,o){const s=o.hostBindings;if(s){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const o=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=o&&n.push(o),n.push(i,r,s)}}function qr(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Br(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Hr(t,e,n){if(n){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)n[e.exportAs[i]]=t;mt(e)&&(n[""]=t)}}function zr(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Wr(t,e,n,i,r){t.data[i]=r;const o=r.factory||(r.factory=bt(r.type)),s=new Ae(o,mt(r),null);t.blueprint[i]=s,n[i]=s,Ur(t,e,0,i,Tr(t,n,r.hostVars,pr),r)}function Gr(t,e,n){const i=Nt(e,t),r=Mr(n),o=t[10],s=Jr(t,kr(t,r,null,n.onPush?64:16,i,e,o,o.createRenderer(i,n),null,null));t[e.index]=s}function Kr(t,e,n,i,r,o){const s=o[e];if(null!==s){const t=i.setInput;for(let e=0;e<s.length;){const r=s[e++],o=s[e++],a=s[e++];null!==t?i.setInput(n,a,r,o):n[o]=a}}}function $r(t,e){let n=null,i=0;for(;i<e.length;){const r=e[i];if(0!==r)if(5!==r){if("number"==typeof r)break;t.hasOwnProperty(r)&&(null===n&&(n=[]),n.push(r,t[r],e[i+1])),i+=2}else i+=2;else i+=4}return n}function Yr(t,e,n,i){return new Array(t,!0,!1,e,null,0,i,n,null,null)}function Qr(t,e){const n=Lt(e,t);if(qt(n)){const t=n[1];80&n[2]?Er(t,n,t.template,n[8]):n[5]>0&&Zr(n)}}function Zr(t){for(let n=Di(t);null!==n;n=Mi(n))for(let t=10;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];Er(t,e,t.template,e[8])}else e[5]>0&&Zr(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const i=Lt(e[n],t);qt(i)&&i[5]>0&&Zr(i)}}function Xr(t,e){const n=Lt(e,t),i=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(i,n),xr(i,n,n[8])}function Jr(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function to(t){for(;t;){t[2]|=64;const e=Pi(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function eo(t,e,n){const i=e[10];i.begin&&i.begin();try{Er(t,e,t.template,n)}catch(r){throw co(e,r),r}finally{i.end&&i.end()}}function no(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],i=Vt(n),r=i[1];Ir(r,i,r.template,n)}}(t[8])}function io(t,e,n){le(0),e(t,n)}const ro=(()=>Promise.resolve(null))();function oo(t){return t[7]||(t[7]=[])}function so(t){return t.cleanup||(t.cleanup=[])}function ao(t,e,n){return(null===t||mt(t))&&(n=function(t){for(;Array.isArray(t);){if("object"==typeof t[1])return t;t=t[0]}return null}(n[e.index])),n[11]}function co(t,e){const n=t[9],i=n?n.get(Oi,null):null;i&&i.handleError(e)}function uo(t,e,n,i,r){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],c=e[s],u=t.data[s];null!==u.setInput?u.setInput(c,r,i,a):c[a]=r}}function lo(t,e,n){let i=n?t.styles:null,r=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const t=e[s];"number"==typeof t?o=t:1==o?r=_(r,t):2==o&&(i=_(i,t+": "+e[++s]+";"))}n?t.styles=i:t.stylesWithoutHost=i,n?t.classes=r:t.classesWithoutHost=r}const ho=new un("INJECTOR",-1);class fo{get(t,e=kn){if(e===kn){const e=new Error(`NullInjectorError: No provider for ${b(t)}!`);throw e.name="NullInjectorError",e}return e}}const po=new un("Set Injector scope."),go={},mo={},bo=[];let _o=void 0;function vo(){return void 0===_o&&(_o=new fo),_o}function yo(t,e=null,n=null,i){return new wo(t,n,e||vo(),i)}class wo{constructor(t,e,n,i=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const r=[];e&&fn(e,n=>this.processProvider(n,t,e)),fn([t],t=>this.processInjectorType(t,[],r)),this.records.set(ho,ko(void 0,this));const o=this.records.get(po);this.scope=null!=o?o.value:null,this.source=i||("object"==typeof t?null:b(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=kn,n=P.Default){this.assertNotDestroyed();const i=En(this);try{if(!(n&P.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(r=t)||"object"==typeof r&&r instanceof un)&&O(t);e=n&&this.injectableDefInScope(n)?ko(Co(t),go):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&P.Self?vo():this.parent).get(t,e=n&P.Optional&&e===kn?null:e)}catch(o){if("NullInjectorError"===o.name){if((o.ngTempTokenPath=o.ngTempTokenPath||[]).unshift(b(t)),i)throw o;return function(t,e,n,i){const r=t.ngTempTokenPath;throw e.__source&&r.unshift(e.__source),t.message=function(t,e,n,i=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let r=b(e);if(Array.isArray(e))r=e.map(b).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let i=e[n];t.push(n+":"+("string"==typeof i?JSON.stringify(i):b(i)))}r=`{${t.join(", ")}}`}return`${n}${i?"("+i+")":""}[${r}]: ${t.replace(On,"\n  ")}`}("\n"+t.message,r,n,i),t.ngTokenPath=r,t.ngTempTokenPath=null,t}(o,t,"R3InjectorError",this.source)}throw o}finally{En(i)}var r}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(b(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=w(t)))return!1;let i=x(t);const r=null==i&&t.ngModule||void 0,o=void 0===r?t:r,s=-1!==n.indexOf(o);if(void 0!==r&&(i=x(r)),null==i)return!1;if(null!=i.imports&&!s){let t;n.push(o);try{fn(i.imports,i=>{this.processInjectorType(i,e,n)&&(void 0===t&&(t=[]),t.push(i))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:i}=t[e];fn(i,t=>this.processProvider(t,n,i||bo))}}this.injectorDefTypes.add(o),this.records.set(o,ko(i.factory,go));const a=i.providers;if(null!=a&&!s){const e=t;fn(a,t=>this.processProvider(t,e,a))}return void 0!==r&&void 0!==t.providers}processProvider(t,e,n){let i=To(t=w(t))?t:w(t&&t.provide);const r=function(t,e,n){return Oo(t)?ko(void 0,t.useValue):ko(So(t),go)}(t);if(To(t)||!0!==t.multi)this.records.get(i);else{let e=this.records.get(i);e||(e=ko(void 0,go,!0),e.factory=()=>Pn(e.multi),this.records.set(i,e)),i=t,e.multi.push(t)}this.records.set(i,r)}hydrate(t,e){var n;return e.value===go&&(e.value=mo,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function Co(t){const e=O(t),n=null!==e?e.factory:bt(t);if(null!==n)return n;const i=x(t);if(null!==i)return i.factory;if(t instanceof un)throw new Error(`Token ${b(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=mn(e,"?");throw new Error(`Can't resolve all parameters for ${b(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[E]||t[A]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function So(t,e,n){let i=void 0;if(To(t)){const e=w(t);return bt(e)||Co(e)}if(Oo(t))i=()=>w(t.useValue);else if((r=t)&&r.useFactory)i=()=>t.useFactory(...Pn(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))i=()=>An(w(t.useExisting));else{const e=w(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return bt(e)||Co(e);i=()=>new e(...Pn(t.deps))}var r;return i}function ko(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Oo(t){return null!==t&&"object"==typeof t&&Tn in t}function To(t){return"function"==typeof t}const xo=function(t,e,n){return function(t,e=null,n=null,i){const r=yo(t,e,n,i);return r._resolveInjectorDefTypes(),r}({name:n},e,t,n)};let Eo=(()=>{class t{static create(t,e){return Array.isArray(t)?xo(t,e,""):xo(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=kn,t.NULL=new fo,t.\u0275prov=S({token:t,providedIn:"any",factory:()=>An(ho)}),t.__NG_ELEMENT_ID__=-1,t})();function Io(t,e){ke(Vt(t)[1],Qt())}function Ao(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const i=[t];for(;e;){let r=void 0;if(mt(t))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");r=e.\u0275dir}if(r){if(n){i.push(r);const e=t;e.inputs=Ro(t.inputs),e.declaredInputs=Ro(t.declaredInputs),e.outputs=Ro(t.outputs);const n=r.hostBindings;n&&Mo(t,n);const o=r.viewQuery,s=r.contentQueries;if(o&&Po(t,o),s&&Do(t,s),m(t.inputs,r.inputs),m(t.declaredInputs,r.declaredInputs),m(t.outputs,r.outputs),mt(r)&&r.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(r.data.animation)}}const e=r.features;if(e)for(let i=0;i<e.length;i++){const r=e[i];r&&r.ngInherit&&r(t),r===Ao&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let i=t.length-1;i>=0;i--){const r=t[i];r.hostVars=e+=r.hostVars,r.hostAttrs=Me(r.hostAttrs,n=Me(n,r.hostAttrs))}}(i)}function Ro(t){return t===z?{}:t===W?[]:t}function Po(t,e){const n=t.viewQuery;t.viewQuery=n?(t,i)=>{e(t,i),n(t,i)}:e}function Do(t,e){const n=t.contentQueries;t.contentQueries=n?(t,i,r)=>{e(t,i,r),n(t,i,r)}:e}function Mo(t,e){const n=t.hostBindings;t.hostBindings=n?(t,i)=>{e(t,i),n(t,i)}:e}let No=null;function jo(){if(!No){const t=H.Symbol;if(t&&t.iterator)No=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(No=n)}}}return No}class Fo{constructor(t){this.wrapped=t}static wrap(t){return new Fo(t)}static unwrap(t){return Fo.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof Fo}}function Lo(t){return!!Vo(t)&&(Array.isArray(t)||!(t instanceof Map)&&jo()in t)}function Vo(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Uo(t,e,n){return t[e]=n}function qo(t,e){return t[e]}function Bo(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Ho(t,e,n,i){const r=Bo(t,e,n);return Bo(t,e+1,i)||r}function zo(t,e,n,i,r,o){const s=Ho(t,e,n,i);return Ho(t,e+2,r,o)||s}function Wo(t,e,n,i){const r=Kt();return Bo(r,re(),e)&&($t(),function(t,e,n,i,r,o){const s=Nt(t,e);!function(t,e,n,i,r,o,s){if(null==o)Rt(t)?t.removeAttribute(e,r,n):e.removeAttribute(r);else{const a=null==s?vt(o):s(o,i||"",r);Rt(t)?t.setAttribute(e,r,a,n):n?e.setAttributeNS(n,r,a):e.setAttribute(r,a)}}(e[11],s,o,t.value,n,i,r)}(we(),r,t,e,n,i)),Wo}function Go(t,e,n,i){return Bo(t,re(),n)?e+vt(n)+i:pr}function Ko(t,e,n,i,r,o,s,a){const c=Kt(),u=$t(),l=t+20,h=u.firstCreatePass?function(t,e,n,i,r,o,s,a,c){const u=e.consts,l=Or(e,t,4,s||null,Bt(u,a));Vr(e,n,l,Bt(u,c)),ke(e,l);const h=l.tViews=Nr(2,l,i,r,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(l,u,c,e,n,i,r,o,s):u.data[l];Xt(h,!1);const d=c[11].createComment("");Yi(u,c,d,h),Ti(d,c),Jr(c,c[l]=Yr(d,c,d,h)),gt(h)&&Pr(u,c,h),null!=s&&Dr(c,h,a)}function $o(t){return Ft(Wt.lFrame.contextLView,20+t)}function Yo(t,e=P.Default){const n=Kt();return null===n?An(t,e):Ye(Qt(),n,w(t),e)}function Qo(t,e,n){const i=Kt();return Bo(i,re(),e)&&Lr($t(),we(),i,t,e,i[11],n,!1),Qo}function Zo(t,e,n,i,r){const o=r?"class":"style";uo(t,n,e.inputs[o],o,i)}function Xo(t,e,n,i){const r=Kt(),o=$t(),s=20+t,a=r[11],c=r[s]=Fi(a,e,Wt.lFrame.currentNamespace),u=o.firstCreatePass?function(t,e,n,i,r,o,s){const a=e.consts,c=Or(e,t,2,r,Bt(a,o));return Vr(e,n,c,Bt(a,s)),null!==c.attrs&&lo(c,c.attrs,!1),null!==c.mergedAttrs&&lo(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(s,o,r,0,e,n,i):o.data[s];Xt(u,!0);const l=u.mergedAttrs;null!==l&&Re(a,c,l);const h=u.classes;null!==h&&nr(a,c,h);const d=u.styles;null!==d&&er(a,c,d),64!=(64&u.flags)&&Yi(o,r,c,u),0===Wt.lFrame.elementDepthCount&&Ti(c,r),Wt.lFrame.elementDepthCount++,gt(u)&&(Pr(o,r,u),Rr(o,u,r)),null!==i&&Dr(r,u)}function Jo(){let t=Qt();Jt()?te():(t=t.parent,Xt(t,!1));const e=t;Wt.lFrame.elementDepthCount--;const n=$t();n.firstCreatePass&&(ke(n,t),ft(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Zo(n,e,Kt(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Zo(n,e,Kt(),e.stylesWithoutHost,!1)}function ts(t,e,n,i){Xo(t,e,n,i),Jo()}function es(t,e,n){const i=Kt(),r=$t(),o=t+20,s=r.firstCreatePass?function(t,e,n,i,r){const o=e.consts,s=Bt(o,i),a=Or(e,t,8,"ng-container",s);return null!==s&&lo(a,s,!0),Vr(e,n,a,Bt(o,r)),null!==e.queries&&e.queries.elementStart(e,a),a}(o,r,i,e,n):r.data[o];Xt(s,!0);const a=i[o]=i[11].createComment("");Yi(r,i,a,s),Ti(a,i),gt(s)&&(Pr(r,i,s),Rr(r,s,i)),null!=n&&Dr(i,s)}function ns(){let t=Qt();const e=$t();Jt()?te():(t=t.parent,Xt(t,!1)),e.firstCreatePass&&(ke(e,t),ft(t)&&e.queries.elementEnd(t))}function is(t,e,n){es(t,e,n),ns()}function rs(){return Kt()}function os(t){return!!t&&"function"==typeof t.then}function ss(t){return!!t&&"function"==typeof t.subscribe}function as(t,e,n=!1,i){const r=Kt(),o=$t(),s=Qt();return us(o,r,r[11],s,t,e,n,i),as}function cs(t,e,n=!1,i){const r=Qt(),o=Kt(),s=$t();return us(s,o,ao(ce(s.data),r,o),r,t,e,n,i),cs}function us(t,e,n,i,r,o,s=!1,a){const c=gt(i),u=t.firstCreatePass&&so(t),l=oo(e);let h=!0;if(3&i.type){const d=Nt(i,e),f=a?a(d):z,p=f.target||d,g=l.length,m=a?t=>a(Dt(t[i.index])).target:i.index;if(Rt(n)){let s=null;if(!a&&c&&(s=function(t,e,n,i){const r=t.cleanup;if(null!=r)for(let o=0;o<r.length-1;o+=2){const t=r[o];if(t===n&&r[o+1]===i){const t=e[7],n=r[o+2];return t.length>n?t[n]:null}"string"==typeof t&&(o+=2)}return null}(t,e,r,i.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=o,s.__ngLastListenerFn__=o,h=!1;else{o=hs(i,e,o,!1);const t=n.listen(f.name||p,r,o);l.push(o,t),u&&u.push(r,m,g,g+1)}}else o=hs(i,e,o,!0),p.addEventListener(r,o,s),l.push(o),u&&u.push(r,m,g,s)}else o=hs(i,e,o,!1);const d=i.outputs;let f;if(h&&null!==d&&(f=d[r])){const t=f.length;if(t)for(let n=0;n<t;n+=2){const t=e[f[n]][f[n+1]].subscribe(o),s=l.length;l.push(o,t),u&&u.push(r,i.index,s,-(s+1))}}}function ls(t,e,n){try{return!1!==e(n)}catch(i){return co(t,i),!1}}function hs(t,e,n,i){return function r(o){if(o===Function)return n;const s=2&t.flags?Lt(t.index,e):e;0==(32&e[2])&&to(s);let a=ls(e,n,o),c=r.__ngNextListenerFn__;for(;c;)a=ls(e,c,o)&&a,c=c.__ngNextListenerFn__;return i&&!1===a&&(o.preventDefault(),o.returnValue=!1),a}}function ds(t=1){return function(t){return(Wt.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Wt.lFrame.contextLView))[8]}(t)}function fs(t,e){let n=null;const i=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let r=0;r<e.length;r++){const o=e[r];if("*"!==o){if(null===i?lr(t,o,!0):hr(i,o))return r}else n=r}return n}function ps(t){const e=Kt()[16][6];if(!e.projection){const n=e.projection=mn(t?t.length:1,null),i=n.slice();let r=e.child;for(;null!==r;){const e=t?fs(r,t):0;null!==e&&(i[e]?i[e].projectionNext=r:n[e]=r,i[e]=r),r=r.next}}}function gs(t,e=0,n){const i=Kt(),r=$t(),o=Or(r,20+t,16,null,n||null);null===o.projection&&(o.projection=e),te(),64!=(64&o.flags)&&function(t,e,n){tr(e[11],0,e,n,Bi(t,n,e),Ki(n.parent||e[6],n,e))}(r,i,o)}function ms(t,e,n){return bs(t,"",e,"",n),ms}function bs(t,e,n,i,r){const o=Kt(),s=Go(o,e,n,i);return s!==pr&&Lr($t(),we(),o,t,s,o[11],r,!1),bs}const _s=[];function vs(t,e,n,i,r){const o=t[n+1],s=null===e;let a=i?_r(o):yr(o),c=!1;for(;0!==a&&(!1===c||s);){const n=t[a+1];ys(t[a],e)&&(c=!0,t[a+1]=i?Cr(n):vr(n)),a=i?_r(n):yr(n)}c&&(t[n+1]=i?vr(o):Cr(o))}function ys(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&vn(t,e)>=0}const ws={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Cs(t){return t.substring(ws.key,ws.keyEnd)}function Ss(t){return t.substring(ws.value,ws.valueEnd)}function ks(t,e){const n=ws.textEnd;return n===e?-1:(e=ws.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,ws.key=e,n),xs(t,e,n))}function Os(t,e){const n=ws.textEnd;let i=ws.key=xs(t,e,n);return n===i?-1:(i=ws.keyEnd=function(t,e,n){let i;for(;e<n&&(45===(i=t.charCodeAt(e))||95===i||(-33&i)>=65&&(-33&i)<=90||i>=48&&i<=57);)e++;return e}(t,i,n),i=Es(t,i,n),i=ws.value=xs(t,i,n),i=ws.valueEnd=function(t,e,n){let i=-1,r=-1,o=-1,s=e,a=s;for(;s<n;){const c=t.charCodeAt(s++);if(59===c)return a;34===c||39===c?a=s=Is(t,c,s,n):e===s-4&&85===o&&82===r&&76===i&&40===c?a=s=Is(t,41,s,n):c>32&&(a=s),o=r,r=i,i=-33&c}return a}(t,i,n),Es(t,i,n))}function Ts(t){ws.key=0,ws.keyEnd=0,ws.value=0,ws.valueEnd=0,ws.textEnd=t.length}function xs(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function Es(t,e,n,i){return(e=xs(t,e,n))<n&&e++,e}function Is(t,e,n,i){let r=-1,o=n;for(;o<i;){const n=t.charCodeAt(o++);if(n==e&&92!==r)return o;r=92==n&&92===r?0:n}throw new Error}function As(t,e,n){return js(t,e,n,!1),As}function Rs(t,e){return js(t,e,null,!0),Rs}function Ps(t){Fs(Bs,Ds,t,!1)}function Ds(t,e){for(let n=function(t){return Ts(t),Os(t,xs(t,0,ws.textEnd))}(e);n>=0;n=Os(e,n))Bs(t,Cs(e),Ss(e))}function Ms(t){Fs(bn,Ns,t,!0)}function Ns(t,e){for(let n=function(t){return Ts(t),ks(t,xs(t,0,ws.textEnd))}(e);n>=0;n=ks(e,n))bn(t,Cs(e),!0)}function js(t,e,n,i){const r=Kt(),o=$t(),s=oe(2);o.firstUpdatePass&&Vs(o,t,s,i),e!==pr&&Bo(r,s,e)&&Hs(o,o.data[ve()],r,r[11],t,r[s+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=b(qn(t)))),t}(e,n),i,s)}function Fs(t,e,n,i){const r=$t(),o=oe(2);r.firstUpdatePass&&Vs(r,null,o,i);const s=Kt();if(n!==pr&&Bo(s,o,n)){const a=r.data[ve()];if(Gs(a,i)&&!Ls(r,o)){let t=i?a.classesWithoutHost:a.stylesWithoutHost;null!==t&&(n=_(t,n||"")),Zo(r,a,s,n,i)}else!function(t,e,n,i,r,o,s,a){r===pr&&(r=_s);let c=0,u=0,l=0<r.length?r[0]:null,h=0<o.length?o[0]:null;for(;null!==l||null!==h;){const d=c<r.length?r[c+1]:void 0,f=u<o.length?o[u+1]:void 0;let p=null,g=void 0;l===h?(c+=2,u+=2,d!==f&&(p=h,g=f)):null===h||null!==l&&l<h?(c+=2,p=l):(u+=2,p=h,g=f),null!==p&&Hs(t,e,n,i,p,g,s,a),l=c<r.length?r[c]:null,h=u<o.length?o[u]:null}}(r,a,s,s[11],s[o+1],s[o+1]=function(t,e,n){if(null==n||""===n)return _s;const i=[],r=qn(n);if(Array.isArray(r))for(let o=0;o<r.length;o++)t(i,r[o],!0);else if("object"==typeof r)for(const o in r)r.hasOwnProperty(o)&&t(i,o,r[o]);else"string"==typeof r&&e(i,r);return i}(t,e,n),i,o)}}function Ls(t,e){return e>=t.expandoStartIndex}function Vs(t,e,n,i){const r=t.data;if(null===r[n+1]){const o=r[ve()],s=Ls(t,n);Gs(o,i)&&null===e&&!s&&(e=!1),e=function(t,e,n,i){const r=ce(t);let o=i?e.residualClasses:e.residualStyles;if(null===r)0===(i?e.classBindings:e.styleBindings)&&(n=qs(n=Us(null,t,e,n,i),e.attrs,i),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==r)if(n=Us(r,t,e,n,i),null===o){let n=function(t,e,n){const i=n?e.classBindings:e.styleBindings;if(0!==yr(i))return t[_r(i)]}(t,e,i);void 0!==n&&Array.isArray(n)&&(n=Us(null,t,e,n[1],i),n=qs(n,e.attrs,i),function(t,e,n,i){t[_r(n?e.classBindings:e.styleBindings)]=i}(t,e,i,n))}else o=function(t,e,n){let i=void 0;const r=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<r;o++)i=qs(i,t[o].hostAttrs,n);return qs(i,e.attrs,n)}(t,e,i)}return void 0!==o&&(i?e.residualClasses=o:e.residualStyles=o),n}(r,o,e,i),function(t,e,n,i,r,o){let s=o?e.classBindings:e.styleBindings,a=_r(s),c=yr(s);t[i]=n;let u,l=!1;if(Array.isArray(n)){const t=n;u=t[1],(null===u||vn(t,u)>0)&&(l=!0)}else u=n;if(r)if(0!==c){const e=_r(t[a+1]);t[i+1]=br(e,a),0!==e&&(t[e+1]=wr(t[e+1],i)),t[a+1]=131071&t[a+1]|i<<17}else t[i+1]=br(a,0),0!==a&&(t[a+1]=wr(t[a+1],i)),a=i;else t[i+1]=br(c,0),0===a?a=i:t[c+1]=wr(t[c+1],i),c=i;l&&(t[i+1]=vr(t[i+1])),vs(t,u,i,!0),vs(t,u,i,!1),function(t,e,n,i,r){const o=r?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&vn(o,e)>=0&&(n[i+1]=Cr(n[i+1]))}(e,u,t,i,o),s=br(a,c),o?e.classBindings=s:e.styleBindings=s}(r,o,e,n,s,i)}}function Us(t,e,n,i,r){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],i=qs(i,o.hostAttrs,r),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),i}function qs(t,e,n){const i=n?1:2;let r=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?r=s:r===i&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),bn(t,s,!!n||e[++o]))}return void 0===t?null:t}function Bs(t,e,n){bn(t,e,qn(n))}function Hs(t,e,n,i,r,o,s,a){if(!(3&e.type))return;const c=t.data,u=c[a+1];Ws(1==(1&u)?zs(c,e,n,r,yr(u),s):void 0)||(Ws(o)||2==(2&u)&&(o=zs(c,null,n,r,a,s)),function(t,e,n,i,r){const o=Rt(t);if(e)r?o?t.addClass(n,i):n.classList.add(i):o?t.removeClass(n,i):n.classList.remove(i);else{let e=-1===i.indexOf("-")?void 0:Ai.DashCase;if(null==r)o?t.removeStyle(n,i,e):n.style.removeProperty(i);else{const s="string"==typeof r&&r.endsWith("!important");s&&(r=r.slice(0,-10),e|=Ai.Important),o?t.setStyle(n,i,r,e):n.style.setProperty(i,r,s?"important":"")}}}(i,s,Mt(ve(),n),r,o))}function zs(t,e,n,i,r,o){const s=null===e;let a=void 0;for(;r>0;){const e=t[r],o=Array.isArray(e),c=o?e[1]:e,u=null===c;let l=n[r+1];l===pr&&(l=u?_s:void 0);let h=u?_n(l,i):c===i?l:void 0;if(o&&!Ws(h)&&(h=_n(e,i)),Ws(h)&&(a=h,s))return a;const d=t[r+1];r=s?_r(d):yr(d)}if(null!==e){let t=o?e.residualClasses:e.residualStyles;null!=t&&(a=_n(t,i))}return a}function Ws(t){return void 0!==t}function Gs(t,e){return 0!=(t.flags&(e?16:32))}function Ks(t,e=""){const n=Kt(),i=$t(),r=t+20,o=i.firstCreatePass?Or(i,r,1,e,null):i.data[r],s=n[r]=function(t,e){return Rt(t)?t.createText(e):t.createTextNode(e)}(n[11],e);Yi(i,n,s,o),Xt(o,!1)}function $s(t){return Ys("",t,""),$s}function Ys(t,e,n){const i=Kt(),r=Go(i,t,e,n);return r!==pr&&function(t,e,n){const i=Mt(e,t);!function(t,e,n){Rt(t)?t.setValue(e,n):e.textContent=n}(t[11],i,n)}(i,ve(),r),Ys}function Qs(t,e,n){Fs(bn,Ns,Go(Kt(),t,e,n),!0)}function Zs(t,e,n){const i=Kt();return Bo(i,re(),e)&&Lr($t(),we(),i,t,e,i[11],n,!0),Zs}function Xs(t,e,n){const i=Kt();if(Bo(i,re(),e)){const r=$t(),o=we();Lr(r,o,i,t,e,ao(ce(r.data),o,i),n,!0)}return Xs}const Js=void 0;var ta=["en",[["a","p"],["AM","PM"],Js],[["AM","PM"],Js,Js],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Js,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Js,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Js,"{1} 'at' {0}",Js],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let ea={};function na(t,e,n){"string"!=typeof e&&(n=e,e=t[aa.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),ea[e]=t,n&&(ea[e][aa.ExtraData]=n)}function ia(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=sa(e);if(n)return n;const i=e.split("-")[0];if(n=sa(i),n)return n;if("en"===i)return ta;throw new Error(`Missing locale data for the locale "${t}".`)}function ra(t){return ia(t)[aa.CurrencyCode]||null}function oa(t){return ia(t)[aa.PluralCase]}function sa(t){return t in ea||(ea[t]=H.ng&&H.ng.common&&H.ng.common.locales&&H.ng.common.locales[t]),ea[t]}var aa=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});let ca="en-US";function ua(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,i){throw new Error("ASSERTION ERROR: "+t+` [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(ca=t.toLowerCase().replace(/_/g,"-"))}function la(t,e,n,i,r){if(t=w(t),Array.isArray(t))for(let o=0;o<t.length;o++)la(t[o],e,n,i,r);else{const o=$t(),s=Kt();let a=To(t)?t:w(t.provide),c=So(t);const u=Qt(),l=1048575&u.providerIndexes,h=u.directiveStart,d=u.providerIndexes>>20;if(To(t)||!t.multi){const i=new Ae(c,r,Yo),f=fa(a,e,r?l:l+d,h);-1===f?(Ge(Be(u,s),o,a),ha(o,t,e.length),e.push(a),u.directiveStart++,u.directiveEnd++,r&&(u.providerIndexes+=1048576),n.push(i),s.push(i)):(n[f]=i,s[f]=i)}else{const f=fa(a,e,l+d,h),p=fa(a,e,l,l+d),g=f>=0&&n[f],m=p>=0&&n[p];if(r&&!m||!r&&!g){Ge(Be(u,s),o,a);const l=function(t,e,n,i,r){const o=new Ae(t,n,Yo);return o.multi=[],o.index=e,o.componentProviders=0,da(o,r,i&&!n),o}(r?ga:pa,n.length,r,i,c);!r&&m&&(n[p].providerFactory=l),ha(o,t,e.length,0),e.push(a),u.directiveStart++,u.directiveEnd++,r&&(u.providerIndexes+=1048576),n.push(l),s.push(l)}else ha(o,t,f>-1?f:p,da(n[r?p:f],c,!r&&i));!r&&i&&m&&n[p].componentProviders++}}}function ha(t,e,n,i){const r=To(e);if(r||e.useClass){const o=(e.useClass||e).prototype.ngOnDestroy;if(o){const s=t.destroyHooks||(t.destroyHooks=[]);if(!r&&e.multi){const t=s.indexOf(n);-1===t?s.push(n,[i,o]):s[t+1].push(i,o)}else s.push(n,o)}}}function da(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function fa(t,e,n,i){for(let r=n;r<i;r++)if(e[r]===t)return r;return-1}function pa(t,e,n,i){return ma(this.multi,[])}function ga(t,e,n,i){const r=this.multi;let o;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=tn(n,n[1],this.providerFactory.index,i);o=e.slice(0,t),ma(r,o);for(let n=t;n<e.length;n++)o.push(e[n])}else o=[],ma(r,o);return o}function ma(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function ba(t,e=[]){return n=>{n.providersResolver=(n,i)=>function(t,e,n){const i=$t();if(i.firstCreatePass){const r=mt(t);la(n,i.data,i.blueprint,r,!0),la(e,i.data,i.blueprint,r,!1)}}(n,i?i(t):t,e)}}class _a{}class va{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${b(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let ya=(()=>{class t{}return t.NULL=new va,t})();function wa(...t){}function Ca(t,e){return new ka(Nt(t,e))}const Sa=function(){return Ca(Qt(),Kt())};let ka=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=Sa,t})();class Oa{}let Ta=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>xa(),t})();const xa=function(){const t=Kt(),e=Lt(Qt().index,t);return function(t){return t[11]}(ht(e)?e:t)};let Ea=(()=>{class t{}return t.\u0275prov=S({token:t,providedIn:"root",factory:()=>null}),t})();class Ia{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Aa=new Ia("11.0.5");class Ra{constructor(){}supports(t){return Lo(t)}create(t){return new Da(t)}}const Pa=(t,e)=>e;class Da{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Pa}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,i=0,r=null;for(;e||n;){const o=!n||e&&e.currentIndex<Fa(n,i,r)?e:n,s=Fa(o,i,r),a=o.currentIndex;if(o===n)i--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)i++;else{r||(r=[]);const t=s-i,e=a-i;if(t!=e){for(let n=0;n<t;n++){const i=n<r.length?r[n]:r[n]=0,o=i+n;e<=o&&o<t&&(r[n]=i+1)}r[o.previousIndex]=e-t}}s!==a&&t(o,s,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Lo(t))throw new Error(`Error trying to diff '${b(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,i,r=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],i=this._trackByFn(e,n),null!==r&&Object.is(r.trackById,i)?(o&&(r=this._verifyReinsertion(r,n,i,e)),Object.is(r.item,n)||this._addIdentityChange(r,n)):(r=this._mismatch(r,n,i,e),o=!0),r=r._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[jo()]();let i;for(;!(i=n.next()).done;)e(i.value)}}(t,t=>{i=this._trackByFn(e,t),null!==r&&Object.is(r.trackById,i)?(o&&(r=this._verifyReinsertion(r,t,i,e)),Object.is(r.item,t)||this._addIdentityChange(r,t)):(r=this._mismatch(r,t,i,e),o=!0),r=r._next,e++}),this.length=e;return this._truncate(r),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,i){let r;return null===t?r=this._itTail:(r=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,i))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,r,i)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,r,i)):t=this._addAfter(new Ma(e,n),r,i),t}_verifyReinsertion(t,e,n,i){let r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==r?t=this._reinsertAfter(r,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const i=t._prevRemoved,r=t._nextRemoved;return null===i?this._removalsHead=r:i._nextRemoved=r,null===r?this._removalsTail=i:r._prevRemoved=i,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const i=null===e?this._itHead:e._next;return t._next=i,t._prev=e,null===i?this._itTail=t:i._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new ja),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ja),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Ma{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Na{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class ja{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new Na,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Fa(t,e,n){const i=t.previousIndex;if(null===i)return i;let r=0;return n&&i<n.length&&(r=n[i]),i+e+r}class La{constructor(){}supports(t){return t instanceof Map||Vo(t)}create(){return new Va}}class Va{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Vo(t)))throw new Error(`Error trying to diff '${b(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const i=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,i)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const i=n._prev,r=n._next;return i&&(i._next=r),r&&(r._prev=i),n._next=null,n._prev=null,n}const n=new Ua(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class Ua{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let qa=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new Sn,new wn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=S({token:t,providedIn:"root",factory:()=>new t([new Ra])}),t})(),Ba=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new Sn,new wn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=S({token:t,providedIn:"root",factory:()=>new t([new La])}),t})();function Ha(t,e,n,i,r=!1){for(;null!==n;){const o=e[n.index];if(null!==o&&i.push(Dt(o)),dt(o))for(let t=10;t<o.length;t++){const e=o[t],n=e[1].firstChild;null!==n&&Ha(e[1],e,n,i)}const s=n.type;if(8&s)Ha(t,e,n.child,i);else if(32&s){const t=Ri(n,e);let r;for(;r=t();)i.push(r)}else if(16&s){const t=e[16],r=t[6].projection[n.projection];if(Array.isArray(r))i.push(...r);else{const e=Pi(t);Ha(e[1],e,r,i,!0)}}n=r?n.projectionNext:n.next}return i}class za{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._viewContainerRef=null}get rootNodes(){const t=this._lView,e=t[1];return Ha(e,t,e.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){const t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}Ui(this._lView[1],this._lView)}onDestroy(t){jr(this._lView[1],this._lView,null,t)}markForCheck(){to(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){eo(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){ne(!0);try{eo(t,e,n)}finally{ne(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}detachFromAppRef(){var t;this._appRef=null,Ji(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class Wa extends za{constructor(t){super(t),this._view=t}detectChanges(){no(this._view)}checkNoChanges(){!function(t){ne(!0);try{no(t)}finally{ne(!1)}}(this._view)}get context(){return null}}const Ga=$a;let Ka=(()=>{class t{}return t.__NG_ELEMENT_ID__=Ga,t.__ChangeDetectorRef__=!0,t})();function $a(t=!1){return function(t,e,n){if(!n&&pt(t)){const n=Lt(t.index,e);return new za(n,n)}return 47&t.type?new za(e[16],e):null}(Qt(),Kt(),t)}const Ya=[new La],Qa=new qa([new Ra]),Za=new Ba(Ya),Xa=function(){return nc(Qt(),Kt())};let Ja=(()=>{class t{}return t.__NG_ELEMENT_ID__=Xa,t})();const tc=Ja,ec=class extends tc{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=kr(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const i=this._declarationLView[19];return null!==i&&(n[19]=i.createEmbeddedView(e)),xr(e,n,t),new za(n)}};function nc(t,e){return 4&t.type?new ec(e,t,Ca(t,e)):null}class ic{}class rc{}const oc=function(){return hc(Qt(),Kt())};let sc=(()=>{class t{}return t.__NG_ELEMENT_ID__=oc,t})();const ac=sc,cc=class extends ac{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return Ca(this._hostTNode,this._hostLView)}get injector(){return new rn(this._hostTNode,this._hostLView)}get parentInjector(){const t=We(this._hostTNode,this._hostLView);if(je(t)){const e=Le(t,this._hostLView),n=Fe(t);return new rn(e[1].data[n+8],e)}return new rn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=uc(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,e,n){const i=t.createEmbeddedView(e||{});return this.insert(i,n),i}createComponent(t,e,n,i,r){const o=n||this.parentInjector;if(!r&&null==t.ngModule&&o){const t=o.get(ic,null);t&&(r=t)}const s=t.create(o,i,void 0,r);return this.insert(s.hostView,e),s}insert(t,e){const n=t._lView,i=n[1];if(dt(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],i=new cc(e,e[6],e[3]);i.detach(i.indexOf(t))}}const r=this._adjustIndex(e),o=this._lContainer;!function(t,e,n,i){const r=10+i,o=n.length;i>0&&(n[r-1][4]=e),i<o-10?(e[4]=n[r],pn(n,10+i,e)):(n.push(e),e[4]=null),e[3]=n;const s=e[17];null!==s&&n!==s&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(i,n,o,r);const s=Zi(r,o),a=n[11],c=Gi(a,o[7]);return null!==c&&function(t,e,n,i,r,o){i[0]=r,i[6]=e,Ji(t,i,n,1,r,o)}(i,o[6],a,n,c,s),t.attachToViewContainerRef(this),pn(lc(o),r,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=uc(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=Vi(this._lContainer,e);n&&(gn(lc(this._lContainer),e),Ui(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=Vi(this._lContainer,e);return n&&null!=gn(lc(this._lContainer),e)?new za(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function uc(t){return t[8]}function lc(t){return t[8]||(t[8]=[])}function hc(t,e){let n;const i=e[t.index];if(dt(i))n=i;else{let r;if(8&t.type)r=Dt(i);else{const n=e[11];r=n.createComment("");const i=Nt(t,e);Hi(n,Gi(n,i),r,function(t,e){return Rt(t)?t.nextSibling(e):e.nextSibling}(n,i),!1)}e[t.index]=n=Yr(i,e,r,t),Jr(e,n)}return new cc(n,t,e)}const dc={};class fc extends ya{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=ut(t);return new mc(e,this.ngModule)}}function pc(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const gc=new un("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>xi});class mc extends _a{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(fr).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return pc(this.componentDef.inputs)}get outputs(){return pc(this.componentDef.outputs)}create(t,e,n,i){const r=(i=i||this.ngModule)?function(t,e){return{get:(n,i,r)=>{const o=t.get(n,dc,r);return o!==dc||i===dc?o:e.get(n,i,r)}}}(t,i.injector):t,o=r.get(Oa,Pt),s=r.get(Ea,null),a=o.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",u=n?function(t,e,n){if(Rt(t))return t.selectRootElement(e,n===L.ShadowDom);let i="string"==typeof e?t.querySelector(e):e;return i.textContent="",i}(a,n,this.componentDef.encapsulation):Fi(o.createRenderer(null,this.componentDef),c,function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(c)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:xi,clean:ro,playerHandler:null,flags:0},d=Nr(0,null,null,1,0,null,null,null,null,null),f=kr(null,d,h,l,null,null,o,a,s,r);let p,g;fe(f);try{const t=function(t,e,n,i,r,o){const s=n[1];n[20]=t;const a=Or(s,20,2,"#host",null),c=a.mergedAttrs=e.hostAttrs;null!==c&&(lo(a,c,!0),null!==t&&(Re(r,t,c),null!==a.classes&&nr(r,t,a.classes),null!==a.styles&&er(r,t,a.styles)));const u=i.createRenderer(t,e),l=kr(n,Mr(e),null,e.onPush?64:16,n[20],a,i,u,null,null);return s.firstCreatePass&&(Ge(Be(a,n),s,e.type),Br(s,a),zr(a,n.length,1)),Jr(n,l),n[20]=l}(u,this.componentDef,f,o,a);if(u)if(n)Re(a,u,["ng-version",Aa.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let i=1,r=2;for(;i<t.length;){let o=t[i];if("string"==typeof o)2===r?""!==o&&e.push(o,t[++i]):8===r&&n.push(o);else{if(!cr(r))break;r=o}i++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&Re(a,u,t),e&&e.length>0&&nr(a,u,e.join(" "))}if(g=jt(d,20),void 0!==e){const t=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const i=e[n];t.push(null!=i?Array.from(i):null)}}p=function(t,e,n,i,r){const o=n[1],s=function(t,e,n){const i=Qt();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Wr(t,i,e,Tr(t,e,1,null),n));const r=tn(e,t,i.directiveStart,i);Ti(r,e);const o=Nt(i,e);return o&&Ti(o,e),r}(o,n,e);if(i.components.push(s),t[8]=s,r&&r.forEach(t=>t(s,e)),e.contentQueries){const t=Qt();e.contentQueries(1,s,t.directiveStart)}const a=Qt();return!o.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(ye(a.index),Ur(n[1],a,0,a.directiveStart,a.directiveEnd,e),qr(e,s)),s}(t,this.componentDef,f,h,[Io]),xr(d,f,null)}finally{_e()}return new bc(this.componentType,p,Ca(g,f),f,g)}}class bc extends class{}{constructor(t,e,n,i,r){super(),this.location=n,this._rootLView=i,this._tNode=r,this.instance=e,this.hostView=this.changeDetectorRef=new Wa(i),this.componentType=t}get injector(){return new rn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const _c=new Map;class vc extends ic{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new fc(this);const n=lt(t),i=t[Q]||null;i&&ua(i),this._bootstrapComponents=Ii(n.bootstrap),this._r3Injector=yo(t,e,[{provide:ic,useValue:this},{provide:ya,useValue:this.componentFactoryResolver}],b(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=Eo.THROW_IF_NOT_FOUND,n=P.Default){return t===Eo||t===ic||t===ho?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class yc extends rc{constructor(t){super(),this.moduleType=t,null!==lt(t)&&function(t){const e=new Set;!function t(n){const i=lt(n,!0),r=i.id;null!==r&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${b(e)} vs ${b(e.name)}`)}(r,_c.get(r),n),_c.set(r,n));const o=Ii(i.imports);for(const s of o)e.has(s)||(e.add(s),t(s))}(t)}(t)}create(t){return new vc(this.moduleType,t)}}function wc(t,e,n){const i=ie()+t,r=Kt();return r[i]===pr?Uo(r,i,n?e.call(n):e()):qo(r,i)}function Cc(t,e,n,i){return Ec(Kt(),ie(),t,e,n,i)}function Sc(t,e,n,i,r){return function(t,e,n,i,r,o,s){const a=e+n;return Ho(t,a,r,o)?Uo(t,a+2,s?i.call(s,r,o):i(r,o)):xc(t,a+2)}(Kt(),ie(),t,e,n,i,r)}function kc(t,e,n,i,r,o){return function(t,e,n,i,r,o,s,a){const c=e+n;return function(t,e,n,i,r){const o=Ho(t,e,n,i);return Bo(t,e+2,r)||o}(t,c,r,o,s)?Uo(t,c+3,a?i.call(a,r,o,s):i(r,o,s)):xc(t,c+3)}(Kt(),ie(),t,e,n,i,r,o)}function Oc(t,e,n,i,r,o,s){return function(t,e,n,i,r,o,s,a,c){const u=e+n;return zo(t,u,r,o,s,a)?Uo(t,u+4,c?i.call(c,r,o,s,a):i(r,o,s,a)):xc(t,u+4)}(Kt(),ie(),t,e,n,i,r,o,s)}function Tc(t,e,n,i,r,o,s,a){const c=ie()+t,u=Kt(),l=zo(u,c,n,i,r,o);return Bo(u,c+4,s)||l?Uo(u,c+5,a?e.call(a,n,i,r,o,s):e(n,i,r,o,s)):qo(u,c+5)}function xc(t,e){const n=t[e];return n===pr?void 0:n}function Ec(t,e,n,i,r,o){const s=e+n;return Bo(t,s,r)?Uo(t,s+1,o?i.call(o,r):i(r)):xc(t,s+1)}function Ic(t,e){const n=$t();let i;const r=t+20;n.firstCreatePass?(i=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const i=e[n];if(t===i.name)return i}throw new _t("302",`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[r]=i,i.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(r,i.onDestroy)):i=n.data[r];const o=i.factory||(i.factory=bt(i.type)),s=M(Yo);try{const t=Ue(!1),e=o();return Ue(t),function(t,e,n,i){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=i}(n,Kt(),r,e),e}finally{M(s)}}function Ac(t,e,n){const i=t+20,r=Kt(),o=Ft(r,i);return function(t,e){return Fo.isWrapped(e)&&(e=Fo.unwrap(e),t[Wt.lFrame.bindingIndex]=pr),e}(r,function(t,e){return t[1].data[e].pure}(r,i)?Ec(r,ie(),e,o.transform,n,o):o.transform(n))}const Rc=class extends i.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let i,o=t=>null,s=()=>null;t&&"object"==typeof t?(i=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(o=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(s=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(i=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(o=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(s=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const a=super.subscribe(i,o,s);return t instanceof r.a&&t.add(a),a}};function Pc(){return this._results[jo()]()}class Dc{constructor(){this.dirty=!0,this._results=[],this.changes=new Rc,this.length=0;const t=jo(),e=Dc.prototype;e[t]||(e[t]=Pc)}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t){this._results=dn(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class Mc{constructor(t){this.queryList=t,this.matches=null}clone(){return new Mc(this.queryList)}setDirty(){this.queryList.setDirty()}}class Nc{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,i=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);i.push(this.queries[n.indexInDeclarationView].clone())}return new Nc(i)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==Jc(t,e).matches&&this.queries[e].setDirty()}}class jc{constructor(t,e,n,i=null){this.predicate=t,this.descendants=e,this.isStatic=n,this.read=i}}class Fc{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const i=null!==e?e.length:0,r=this.getByIndex(n).embeddedTView(t,i);r&&(r.indexInDeclarationView=n,null!==e?e.push(r):e=[r])}return null!==e?new Fc(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Lc{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Lc(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&!1===this.metadata.descendants){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let i=0;i<n.length;i++){const r=n[i];this.matchTNodeWithReadOption(t,e,Vc(e,r)),this.matchTNodeWithReadOption(t,e,Je(e,t,r,!1,!1))}else n===Ja?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Je(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const i=this.metadata.read;if(null!==i)if(i===ka||i===sc||i===Ja&&4&e.type)this.addMatch(e.index,-2);else{const n=Je(e,t,i,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Vc(t,e){const n=t.localNames;if(null!==n)for(let i=0;i<n.length;i+=2)if(n[i]===e)return n[i+1];return null}function Uc(t,e,n,i){return-1===n?function(t,e){return 11&t.type?Ca(t,e):4&t.type?nc(t,e):null}(e,t):-2===n?function(t,e,n){return n===ka?Ca(e,t):n===Ja?nc(e,t):n===sc?hc(e,t):void 0}(t,e,i):tn(t,t[1],n,e)}function qc(t,e,n,i){const r=e[19].queries[i];if(null===r.matches){const i=t.data,o=n.matches,s=[];for(let t=0;t<o.length;t+=2){const r=o[t];s.push(r<0?null:Uc(e,i[r],o[t+1],n.metadata.read))}r.matches=s}return r.matches}function Bc(t,e,n,i){const r=t.queries.getByIndex(n),o=r.matches;if(null!==o){const s=qc(t,e,r,n);for(let t=0;t<o.length;t+=2){const n=o[t];if(n>0)i.push(s[t/2]);else{const r=o[t+1],s=e[-n];for(let t=10;t<s.length;t++){const e=s[t];e[17]===e[3]&&Bc(e[1],e,r,i)}if(null!==s[9]){const t=s[9];for(let e=0;e<t.length;e++){const n=t[e];Bc(n[1],n,r,i)}}}}}return i}function Hc(t){const e=Kt(),n=$t(),i=ue();le(i+1);const r=Jc(n,i);if(t.dirty&&Ut(e)===r.metadata.isStatic){if(null===r.matches)t.reset([]);else{const o=r.crossesNgTemplate?Bc(n,e,i,[]):qc(n,e,r,i);t.reset(o),t.notifyOnChanges()}return!0}return!1}function zc(t,e,n){Gc($t(),Kt(),t,e,n,!0)}function Wc(t,e,n){Gc($t(),Kt(),t,e,n,!1)}function Gc(t,e,n,i,r,o){t.firstCreatePass&&(Xc(t,new jc(n,i,o,r),-1),o&&(t.staticViewQueries=!0)),Zc(t,e)}function Kc(t,e,n,i){Yc($t(),Kt(),e,n,i,!1,Qt(),t)}function $c(t,e,n,i){Yc($t(),Kt(),e,n,i,!0,Qt(),t)}function Yc(t,e,n,i,r,o,s,a){t.firstCreatePass&&(Xc(t,new jc(n,i,o,r),s.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(t,a),o&&(t.staticContentQueries=!0)),Zc(t,e)}function Qc(){return t=Kt(),e=ue(),t[19].queries[e].queryList;var t,e}function Zc(t,e){const n=new Dc;jr(t,e,n,n.destroy),null===e[19]&&(e[19]=new Nc),e[19].queries.push(new Mc(n))}function Xc(t,e,n){null===t.queries&&(t.queries=new Fc),t.queries.track(new Lc(e,n))}function Jc(t,e){return t.queries.getByIndex(e)}function tu(t,e){return nc(t,e)}function eu(t=P.Default){const e=$a(!0);if(null!=e||t&P.Optional)return e;wt("ChangeDetectorRef")}const nu=new un("Application Initializer");let iu=(()=>{class t{constructor(t){this.appInits=t,this.resolve=wa,this.reject=wa,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();os(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(An(nu,8))},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();const ru=new un("AppId"),ou={provide:ru,useFactory:function(){return`${su()}${su()}${su()}`},deps:[]};function su(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const au=new un("Platform Initializer"),cu=new un("Platform ID"),uu=new un("appBootstrapListener");let lu=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();const hu=new un("LocaleId"),du=new un("DefaultCurrencyCode");class fu{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const pu=function(t){return new yc(t)},gu=pu,mu=function(t){return Promise.resolve(pu(t))},bu=function(t){const e=pu(t),n=Ii(lt(t).declarations).reduce((t,e)=>{const n=ut(e);return n&&t.push(new mc(n)),t},[]);return new fu(e,n)},_u=bu,vu=function(t){return Promise.resolve(bu(t))};let yu=(()=>{class t{constructor(){this.compileModuleSync=gu,this.compileModuleAsync=mu,this.compileModuleAndAllComponentsSync=_u,this.compileModuleAndAllComponentsAsync=vu}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();const wu=(()=>Promise.resolve(0))();function Cu(t){"undefined"==typeof Zone?wu.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Su{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Rc(!1),this.onMicrotaskEmpty=new Rc(!1),this.onStable=new Rc(!1),this.onError=new Rc(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=e,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){let t=H.requestAnimationFrame,e=H.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=!!t.shouldCoalesceEventChangeDetection&&t.nativeRequestAnimationFrame&&(()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(H,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Tu(t),Ou(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Tu(t))}(t)});t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:e},onInvokeTask:(n,i,r,o,s,a)=>{try{return xu(t),n.invokeTask(r,o,s,a)}finally{e&&"eventTask"===o.type&&e(),Eu(t)}},onInvoke:(e,n,i,r,o,s,a)=>{try{return xu(t),e.invoke(i,r,o,s,a)}finally{Eu(t)}},onHasTask:(e,n,i,r)=>{e.hasTask(i,r),n===i&&("microTask"==r.change?(t._hasPendingMicrotasks=r.microTask,Tu(t),Ou(t)):"macroTask"==r.change&&(t.hasPendingMacrotasks=r.macroTask))},onHandleError:(e,n,i,r)=>(e.handleError(i,r),t.runOutsideAngular(()=>t.onError.emit(r)),!1)})}(this)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Su.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Su.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,i){const r=this._inner,o=r.scheduleEventTask("NgZoneEvent: "+i,t,ku,wa,wa);try{return r.runTask(o,e,n)}finally{r.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const ku={};function Ou(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Tu(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function xu(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Eu(t){t._nesting--,Ou(t)}class Iu{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Rc,this.onMicrotaskEmpty=new Rc,this.onStable=new Rc,this.onError=new Rc}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,i){return t.apply(e,n)}}let Au=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Su.assertNotInAngularZone(),Cu(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Cu(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let i=-1;e&&e>0&&(i=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==i),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:i,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(An(Su))},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})(),Ru=(()=>{class t{constructor(){this._applications=new Map,Nu.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return Nu.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();class Pu{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function Du(t){Nu=t}let Mu,Nu=new Pu,ju=!0,Fu=!1;function Lu(){return Fu=!0,ju}function Vu(){if(Fu)throw new Error("Cannot enable prod mode after platform setup.");ju=!1}const Uu=new un("AllowMultipleToken");class qu{constructor(t,e){this.name=t,this.token=e}}function Bu(t,e,n=[]){const i="Platform: "+e,r=new un(i);return(e=[])=>{let o=Hu();if(!o||o.injector.get(Uu,!1))if(t)t(n.concat(e).concat({provide:r,useValue:!0}));else{const t=n.concat(e).concat({provide:r,useValue:!0},{provide:po,useValue:"platform"});!function(t){if(Mu&&!Mu.destroyed&&!Mu.injector.get(Uu,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Mu=t.get(zu);const e=t.get(au,null);e&&e.forEach(t=>t())}(Eo.create({providers:t,name:i}))}return function(t){const e=Hu();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(r)}}function Hu(){return Mu&&!Mu.destroyed?Mu:null}let zu=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new Iu:("zone.js"===t?void 0:t)||new Su({enableLongStackTrace:Lu(),shouldCoalesceEventChangeDetection:e}),n}(e?e.ngZone:void 0,e&&e.ngZoneEventCoalescing||!1),i=[{provide:Su,useValue:n}];return n.run(()=>{const e=Eo.create({providers:i,parent:this.injector,name:t.moduleType.name}),r=t.create(e),o=r.injector.get(Oi,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const t=n.onError.subscribe({next:t=>{o.handleError(t)}});r.onDestroy(()=>{Ku(this._modules,r),t.unsubscribe()})}),function(t,e,n){try{const i=n();return os(i)?i.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):i}catch(i){throw e.runOutsideAngular(()=>t.handleError(i)),i}}(o,n,()=>{const t=r.injector.get(iu);return t.runInitializers(),t.donePromise.then(()=>(ua(r.injector.get(hu,"en-US")||"en-US"),this._moduleDoBootstrap(r),r))})})}bootstrapModule(t,e=[]){const n=Wu({},e);return function(t,e,n){const i=new yc(n);return Promise.resolve(i)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(Gu);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${b(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(An(Eo))},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();function Wu(t,e){return Array.isArray(e)?e.reduce(Wu,t):Object.assign(Object.assign({},t),e)}let Gu=(()=>{class t{constructor(t,e,n,i,r,a){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=i,this._componentFactoryResolver=r,this._initStatus=a,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const u=new o.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),l=new o.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{Su.assertNotInAngularZone(),Cu(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Su.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(s.a)(u,l.pipe(t=>{return c()((e=p,function(t){let n;n="function"==typeof e?e:function(){return e};const i=Object.create(t,d);return i.source=t,i.subjectFactory=n,i})(t));var e}))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof _a?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const i=n.isBoundToModule?void 0:this._injector.get(ic),r=n.create(Eo.NULL,[],e||n.selector,i),o=r.location.nativeElement,s=r.injector.get(Au,null),a=s&&r.injector.get(Ru);return s&&a&&a.registerApplication(o,s),r.onDestroy(()=>{this.detachView(r.hostView),Ku(this.components,r),a&&a.unregisterApplication(o)}),this._loadComponent(r),Lu()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),r}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;Ku(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(uu,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(An(Su),An(lu),An(Eo),An(Oi),An(ya),An(iu))},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();function Ku(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class $u{}class Yu{}const Qu={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Zu=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||Qu}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,i]=t.split("#");return void 0===i&&(i="default"),n("crnd")(e).then(t=>t[i]).then(t=>Xu(t,e,i)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,i]=t.split("#"),r="NgFactory";return void 0===i&&(i="default",r=""),n("crnd")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[i+r]).then(t=>Xu(t,e,i))}}return t.\u0275fac=function(e){return new(e||t)(An(yu),An(Yu,8))},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();function Xu(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const Ju=function(t){return null},tl=Bu(null,"core",[{provide:cu,useValue:"unknown"},{provide:zu,deps:[Eo]},{provide:Ru,deps:[]},{provide:lu,deps:[]}]),el=[{provide:Gu,useClass:Gu,deps:[Su,lu,Eo,Oi,ya,iu]},{provide:gc,deps:[Su],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:iu,useClass:iu,deps:[[new wn,nu]]},{provide:yu,useClass:yu,deps:[]},ou,{provide:qa,useFactory:function(){return Qa},deps:[]},{provide:Ba,useFactory:function(){return Za},deps:[]},{provide:hu,useFactory:function(t){return ua(t=t||"undefined"!=typeof $localize&&$localize.locale||"en-US"),t},deps:[[new yn(hu),new wn,new Sn]]},{provide:du,useValue:"USD"}];let nl=(()=>{class t{constructor(t){}}return t.\u0275mod=rt({type:t}),t.\u0275inj=k({factory:function(e){return new(e||t)(An(Gu))},providers:el}),t})()},gRHU:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("2fFW"),r=n("NJ4a");const o={closed:!0,next(t){},error(t){if(i.a.useDeprecatedSynchronousErrorHandling)throw t;Object(r.a)(t)},complete(){}}},gS2T:function(t,e,n){"use strict";n.r(e),n.d(e,"CONSTANTS",function(){return r}),n.d(e,"Deferred",function(){return p}),n.d(e,"ErrorFactory",function(){return P}),n.d(e,"FirebaseError",function(){return R}),n.d(e,"MAX_VALUE_MILLIS",function(){return ut}),n.d(e,"RANDOM_FACTOR",function(){return lt}),n.d(e,"Sha1",function(){return Z}),n.d(e,"areCookiesEnabled",function(){return I}),n.d(e,"assert",function(){return o}),n.d(e,"assertionError",function(){return s}),n.d(e,"async",function(){return tt}),n.d(e,"base64",function(){return c}),n.d(e,"base64Decode",function(){return h}),n.d(e,"base64Encode",function(){return u}),n.d(e,"base64urlEncodeWithoutPadding",function(){return l}),n.d(e,"calculateBackoffMillis",function(){return ht}),n.d(e,"contains",function(){return B}),n.d(e,"createMockUserToken",function(){return g}),n.d(e,"createSubscribe",function(){return X}),n.d(e,"decode",function(){return F}),n.d(e,"deepCopy",function(){return d}),n.d(e,"deepEqual",function(){return G}),n.d(e,"deepExtend",function(){return f}),n.d(e,"errorPrefix",function(){return it}),n.d(e,"extractQuerystring",function(){return Q}),n.d(e,"getGlobal",function(){return A}),n.d(e,"getModularInstance",function(){return ft}),n.d(e,"getUA",function(){return m}),n.d(e,"isAdmin",function(){return q}),n.d(e,"isBrowser",function(){return v}),n.d(e,"isBrowserExtension",function(){return y}),n.d(e,"isElectron",function(){return C}),n.d(e,"isEmpty",function(){return z}),n.d(e,"isIE",function(){return S}),n.d(e,"isIndexedDBAvailable",function(){return x}),n.d(e,"isMobileCordova",function(){return b}),n.d(e,"isNode",function(){return _}),n.d(e,"isNodeSdk",function(){return O}),n.d(e,"isReactNative",function(){return w}),n.d(e,"isSafari",function(){return T}),n.d(e,"isUWP",function(){return k}),n.d(e,"isValidFormat",function(){return U}),n.d(e,"isValidTimestamp",function(){return L}),n.d(e,"issuedAtTime",function(){return V}),n.d(e,"jsonEval",function(){return N}),n.d(e,"map",function(){return W}),n.d(e,"ordinal",function(){return dt}),n.d(e,"querystring",function(){return $}),n.d(e,"querystringDecode",function(){return Y}),n.d(e,"safeGet",function(){return H}),n.d(e,"stringLength",function(){return ct}),n.d(e,"stringToByteArray",function(){return at}),n.d(e,"stringify",function(){return j}),n.d(e,"validateArgCount",function(){return nt}),n.d(e,"validateCallback",function(){return ot}),n.d(e,"validateContextObject",function(){return st}),n.d(e,"validateIndexedDBOpenable",function(){return E}),n.d(e,"validateNamespace",function(){return rt});var i=n("jebL"),r={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},o=function(t,e){if(!t)throw s(e)},s=function(t){return new Error("Firebase Database ("+r.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},a=function(t){for(var e=[],n=0,i=0;i<t.length;i++){var r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=63&r|128):55296==(64512&r)&&i+1<t.length&&56320==(64512&t.charCodeAt(i+1))?(r=65536+((1023&r)<<10)+(1023&t.charCodeAt(++i)),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=63&r|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=63&r|128)}return e},c={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[],r=0;r<t.length;r+=3){var o=t[r],s=r+1<t.length,a=s?t[r+1]:0,c=r+2<t.length,u=c?t[r+2]:0,l=(15&a)<<2|u>>6,h=63&u;c||(h=64,s||(l=64)),i.push(n[o>>2],n[(3&o)<<4|a>>4],n[l],n[h])}return i.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(a(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,i=0;n<t.length;){var r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){var o=t[n++];e[i++]=String.fromCharCode((31&r)<<6|63&o)}else if(r>239&&r<365){var s=((7&r)<<18|(63&(o=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536;e[i++]=String.fromCharCode(55296+(s>>10)),e[i++]=String.fromCharCode(56320+(1023&s))}else{o=t[n++];var a=t[n++];e[i++]=String.fromCharCode((15&r)<<12|(63&o)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[],r=0;r<t.length;){var o=n[t.charAt(r++)],s=r<t.length?n[t.charAt(r)]:0,a=++r<t.length?n[t.charAt(r)]:64,c=++r<t.length?n[t.charAt(r)]:64;if(++r,null==o||null==s||null==a||null==c)throw Error();i.push(o<<2|s>>4),64!==a&&(i.push(s<<4&240|a>>2),64!==c&&i.push(a<<6&192|c))}return i},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},u=function(t){var e=a(t);return c.encodeByteArray(e,!0)},l=function(t){return u(t).replace(/\./g,"")},h=function(t){try{return c.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function d(t){return f(void 0,t)}function f(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=f(t[n],e[n]));return t}var p=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,i){n?e.reject(n):e.resolve(i),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,i))}},t}();function g(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=e||"demo-project",r=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var s=Object(i.__assign)({iss:"https://securetoken.google.com/"+n,aud:n,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[l(JSON.stringify({alg:"none",type:"JWT"})),l(JSON.stringify(s)),""].join(".")}function m(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function b(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(m())}function _(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function v(){return"object"==typeof self&&self.self===self}function y(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function w(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function C(){return m().indexOf("Electron/")>=0}function S(){var t=m();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function k(){return m().indexOf("MSAppHost/")>=0}function O(){return!0===r.NODE_CLIENT||!0===r.NODE_ADMIN}function T(){return!_()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function x(){return"indexedDB"in self&&null!=indexedDB}function E(){return new Promise(function(t,e){try{var n=!0,i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=function(){r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=function(){n=!1},r.onerror=function(){var t;e((null===(t=r.error)||void 0===t?void 0:t.message)||"")}}catch(o){e(o)}})}function I(){return!(!navigator||!navigator.cookieEnabled)}function A(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}var R=function(t){function e(n,i,r){var o=t.call(this,i)||this;return o.code=n,o.customData=r,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,P.prototype.create),o}return Object(i.__extends)(e,t),e}(Error),P=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var i=e[0]||{},r=this.service+"/"+t,o=this.errors[t],s=o?D(o,i):"Error",a=this.serviceName+": "+s+" ("+r+").",c=new R(r,a,i);return c},t}();function D(t,e){return t.replace(M,function(t,n){var i=e[n];return null!=i?String(i):"<"+n+"?>"})}var M=/\{\$([^}]+)}/g;function N(t){return JSON.parse(t)}function j(t){return JSON.stringify(t)}var F=function(t){var e={},n={},i={},r="";try{var o=t.split(".");e=N(h(o[0])||""),n=N(h(o[1])||""),r=o[2],i=n.d||{},delete n.d}catch(s){}return{header:e,claims:n,data:i,signature:r}},L=function(t){var e=F(t).claims,n=Math.floor((new Date).getTime()/1e3),i=0,r=0;return"object"==typeof e&&(e.hasOwnProperty("nbf")?i=e.nbf:e.hasOwnProperty("iat")&&(i=e.iat),r=e.hasOwnProperty("exp")?e.exp:i+86400),!!n&&!!i&&!!r&&n>=i&&n<=r},V=function(t){var e=F(t).claims;return"object"==typeof e&&e.hasOwnProperty("iat")?e.iat:null},U=function(t){var e=F(t).claims;return!!e&&"object"==typeof e&&e.hasOwnProperty("iat")},q=function(t){var e=F(t).claims;return"object"==typeof e&&!0===e.admin};function B(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function H(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0}function z(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function W(t,e,n){var i={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=e.call(n,t[r],r,t));return i}function G(t,e){if(t===e)return!0;for(var n=Object.keys(t),i=Object.keys(e),r=0,o=n;r<o.length;r++){if(!i.includes(l=o[r]))return!1;var s=t[l],a=e[l];if(K(s)&&K(a)){if(!G(s,a))return!1}else if(s!==a)return!1}for(var c=0,u=i;c<u.length;c++){var l;if(!n.includes(l=u[c]))return!1}return!0}function K(t){return null!==t&&"object"==typeof t}function $(t){for(var e=[],n=function(t,n){Array.isArray(n)?n.forEach(function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))},i=0,r=Object.entries(t);i<r.length;i++){var o=r[i];n(o[0],o[1])}return e.length?"&"+e.join("&"):""}function Y(t){var e={};return t.replace(/^\?/,"").split("&").forEach(function(t){if(t){var n=t.split("="),i=n[1];e[decodeURIComponent(n[0])]=decodeURIComponent(i)}}),e}function Q(t){var e=t.indexOf("?");if(!e)return"";var n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}var Z=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var i=0;i<16;i++)n[i]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(i=0;i<16;i++)n[i]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(i=16;i<80;i++)n[i]=4294967295&((h=n[i-3]^n[i-8]^n[i-14]^n[i-16])<<1|h>>>31);var r,o,s=this.chain_[0],a=this.chain_[1],c=this.chain_[2],u=this.chain_[3],l=this.chain_[4];for(i=0;i<80;i++){i<40?i<20?(r=u^a&(c^u),o=1518500249):(r=a^c^u,o=1859775393):i<60?(r=a&c|u&(a|c),o=2400959708):(r=a^c^u,o=3395469782);var h=(s<<5|s>>>27)+r+l+o+n[i]&4294967295;l=u,u=c,c=4294967295&(a<<30|a>>>2),a=s,s=h}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+u&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,i=0,r=this.buf_,o=this.inbuf_;i<e;){if(0===o)for(;i<=n;)this.compress_(t,i),i+=this.blockSize;if("string"==typeof t){for(;i<e;)if(r[o]=t.charCodeAt(i),++i,++o===this.blockSize){this.compress_(r),o=0;break}}else for(;i<e;)if(r[o]=t[i],++i,++o===this.blockSize){this.compress_(r),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var i=0;for(n=0;n<5;n++)for(var r=24;r>=0;r-=8)t[i]=this.chain_[n]>>r&255,++i;return t},t}();function X(t,e){var n=new J(t,e);return n.subscribe.bind(n)}var J=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var i,r=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(i=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,i=["next","error","complete"];n<i.length;n++){var r=i[n];if(r in t&&"function"==typeof t[r])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(i.next=et),void 0===i.error&&(i.error=et),void 0===i.complete&&(i.complete=et);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{r.finalError?i.error(r.finalError):i.complete()}catch(t){}}),this.observers.push(i),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(i){"undefined"!=typeof console&&console.error&&console.error(i)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function tt(t,e){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];Promise.resolve(!0).then(function(){t.apply(void 0,n)}).catch(function(t){e&&e(t)})}}function et(){}var nt=function(t,e,n,i){var r;if(i<e?r="at least "+e:i>n&&(r=0===n?"none":"no more than "+n),r)throw new Error(t+" failed: Was called with "+i+(1===i?" argument.":" arguments.")+" Expects "+r+".")};function it(t,e){return t+" failed: "+e+" argument "}function rt(t,e,n){if((!n||e)&&"string"!=typeof e)throw new Error(it(t,"namespace")+"must be a valid firebase namespace.")}function ot(t,e,n,i){if((!i||n)&&"function"!=typeof n)throw new Error(it(t,e)+"must be a valid function.")}function st(t,e,n,i){if((!i||n)&&("object"!=typeof n||null===n))throw new Error(it(t,e)+"must be a valid context object.")}var at=function(t){for(var e=[],n=0,i=0;i<t.length;i++){var r=t.charCodeAt(i);if(r>=55296&&r<=56319){var s=r-55296;i++,o(i<t.length,"Surrogate pair missing trail surrogate."),r=65536+(s<<10)+(t.charCodeAt(i)-56320)}r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=63&r|128):r<65536?(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=63&r|128):(e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=63&r|128)}return e},ct=function(t){for(var e=0,n=0;n<t.length;n++){var i=t.charCodeAt(n);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,n++):e+=3}return e},ut=144e5,lt=.5;function ht(t,e,n){void 0===e&&(e=1e3),void 0===n&&(n=2);var i=e*Math.pow(n,t),r=Math.round(lt*i*(Math.random()-.5)*2);return Math.min(ut,i+r)}function dt(t){return Number.isFinite(t)?t+function(t){var e=(t=Math.abs(t))%100;if(e>=10&&e<=20)return"th";var n=t%10;return 1===n?"st":2===n?"nd":3===n?"rd":"th"}(t):""+t}function ft(t){return t&&t._delegate?t._delegate:t}},jZKg:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("HDdC"),r=n("quSY");function o(t,e){return new i.a(n=>{const i=new r.a;let o=0;return i.add(e.schedule(function(){o!==t.length?(n.next(t[o++]),n.closed||i.add(this.schedule())):n.complete()})),i})}},jebL:function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",function(){return r}),n.d(e,"__assign",function(){return o}),n.d(e,"__rest",function(){return s}),n.d(e,"__decorate",function(){return a}),n.d(e,"__param",function(){return c}),n.d(e,"__metadata",function(){return u}),n.d(e,"__awaiter",function(){return l}),n.d(e,"__generator",function(){return h}),n.d(e,"__createBinding",function(){return d}),n.d(e,"__exportStar",function(){return f}),n.d(e,"__values",function(){return p}),n.d(e,"__read",function(){return g}),n.d(e,"__spread",function(){return m}),n.d(e,"__spreadArrays",function(){return b}),n.d(e,"__spreadArray",function(){return _}),n.d(e,"__await",function(){return v}),n.d(e,"__asyncGenerator",function(){return y}),n.d(e,"__asyncDelegator",function(){return w}),n.d(e,"__asyncValues",function(){return C}),n.d(e,"__makeTemplateObject",function(){return S}),n.d(e,"__importStar",function(){return O}),n.d(e,"__importDefault",function(){return T}),n.d(e,"__classPrivateFieldGet",function(){return x}),n.d(e,"__classPrivateFieldSet",function(){return E}),n.d(e,"__classPrivateFieldIn",function(){return I});var i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function s(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n}function a(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s}function c(t,e){return function(n,i){e(n,i,t)}}function u(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function l(t,e,n,i){return new(n||(n=Promise))(function(r,o){function s(t){try{c(i.next(t))}catch(e){o(e)}}function a(t){try{c(i.throw(t))}catch(e){o(e)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((i=i.apply(t,e||[])).next())})}function h(t,e){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}var d=Object.create?function(t,e,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(e,n);r&&!("get"in r?!e.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,i,r)}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]};function f(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||d(e,t,n)}function p(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)s.push(i.value)}catch(a){r={error:a}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return s}function m(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(g(arguments[e]));return t}function b(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,r++)i[r]=o[s];return i}function _(t,e,n){if(n||2===arguments.length)for(var i,r=0,o=e.length;r<o;r++)!i&&r in e||(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function v(t){return this instanceof v?(this.v=t,this):new v(t)}function y(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(t){r[t]&&(i[t]=function(e){return new Promise(function(n,i){o.push([t,e,n,i])>1||a(t,e)})})}function a(t,e){try{(n=r[t](e)).value instanceof v?Promise.resolve(n.value.v).then(c,u):l(o[0][2],n)}catch(i){l(o[0][3],i)}var n}function c(t){a("next",t)}function u(t){a("throw",t)}function l(t,e){t(e),o.shift(),o.length&&a(o[0][0],o[0][1])}}function w(t){var e,n;return e={},i("next"),i("throw",function(t){throw t}),i("return"),e[Symbol.iterator]=function(){return this},e;function i(i,r){e[i]=t[i]?function(e){return(n=!n)?{value:v(t[i](e)),done:"return"===i}:r?r(e):e}:r}}function C(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=p(t),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(n){e[n]=t[n]&&function(e){return new Promise(function(i,r){!function(t,e,n,i){Promise.resolve(i).then(function(e){t({value:e,done:n})},e)}(i,r,(e=t[n](e)).done,e.value)})}}}function S(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var k=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e};function O(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&d(e,t,n);return k(e,t),e}function T(t){return t&&t.__esModule?t:{default:t}}function x(t,e,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(t):i?i.value:e.get(t)}function E(t,e,n,i,r){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!r:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?r.call(t,n):r?r.value=n:e.set(t,n),n}function I(t,e){if(null===e||"object"!=typeof e&&"function"!=typeof e)throw new TypeError("Cannot use 'in' operator on non-object");return"function"==typeof t?e===t:t.has(e)}},kJWO:function(t,e,n){"use strict";n.d(e,"a",function(){return i});const i=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},lJxs:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("7o/Q");function r(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(t,e))}}class o{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new s(t,this.project,this.thisArg))}}class s extends i.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},n6bG:function(t,e,n){"use strict";function i(t){return"function"==typeof t}n.d(e,"a",function(){return i})},ngJS:function(t,e,n){"use strict";n.d(e,"a",function(){return i});const i=t=>e=>{for(let n=0,i=t.length;n<i&&!e.closed;n++)e.next(t[n]);e.complete()}},oMAr:function(t,e,n){!function(t){"use strict";function e(t){return Array.prototype.slice.call(t)}function n(t){return new Promise(function(e,n){t.onsuccess=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function i(t,e,i){var r,o=new Promise(function(o,s){n(r=t[e].apply(t,i)).then(o,s)});return o.request=r,o}function r(t,e,n){var r=i(t,e,n);return r.then(function(t){if(t)return new l(t,r.request)})}function o(t,e,n){n.forEach(function(n){Object.defineProperty(t.prototype,n,{get:function(){return this[e][n]},set:function(t){this[e][n]=t}})})}function s(t,e,n,r){r.forEach(function(r){r in n.prototype&&(t.prototype[r]=function(){return i(this[e],r,arguments)})})}function a(t,e,n,i){i.forEach(function(i){i in n.prototype&&(t.prototype[i]=function(){return this[e][i].apply(this[e],arguments)})})}function c(t,e,n,i){i.forEach(function(i){i in n.prototype&&(t.prototype[i]=function(){return r(this[e],i,arguments)})})}function u(t){this._index=t}function l(t,e){this._cursor=t,this._request=e}function h(t){this._store=t}function d(t){this._tx=t,this.complete=new Promise(function(e,n){t.oncomplete=function(){e()},t.onerror=function(){n(t.error)},t.onabort=function(){n(t.error)}})}function f(t,e,n){this._db=t,this.oldVersion=e,this.transaction=new d(n)}function p(t){this._db=t}o(u,"_index",["name","keyPath","multiEntry","unique"]),s(u,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),c(u,"_index",IDBIndex,["openCursor","openKeyCursor"]),o(l,"_cursor",["direction","key","primaryKey","value"]),s(l,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(t){t in IDBCursor.prototype&&(l.prototype[t]=function(){var e=this,i=arguments;return Promise.resolve().then(function(){return e._cursor[t].apply(e._cursor,i),n(e._request).then(function(t){if(t)return new l(t,e._request)})})})}),h.prototype.createIndex=function(){return new u(this._store.createIndex.apply(this._store,arguments))},h.prototype.index=function(){return new u(this._store.index.apply(this._store,arguments))},o(h,"_store",["name","keyPath","indexNames","autoIncrement"]),s(h,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),c(h,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),a(h,"_store",IDBObjectStore,["deleteIndex"]),d.prototype.objectStore=function(){return new h(this._tx.objectStore.apply(this._tx,arguments))},o(d,"_tx",["objectStoreNames","mode"]),a(d,"_tx",IDBTransaction,["abort"]),f.prototype.createObjectStore=function(){return new h(this._db.createObjectStore.apply(this._db,arguments))},o(f,"_db",["name","version","objectStoreNames"]),a(f,"_db",IDBDatabase,["deleteObjectStore","close"]),p.prototype.transaction=function(){return new d(this._db.transaction.apply(this._db,arguments))},o(p,"_db",["name","version","objectStoreNames"]),a(p,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(t){[h,u].forEach(function(n){t in n.prototype&&(n.prototype[t.replace("open","iterate")]=function(){var n=e(arguments),i=n[n.length-1],r=this._store||this._index,o=r[t].apply(r,n.slice(0,-1));o.onsuccess=function(){i(o.result)}})})}),[u,h].forEach(function(t){t.prototype.getAll||(t.prototype.getAll=function(t,e){var n=this,i=[];return new Promise(function(r){n.iterateCursor(t,function(t){t?(i.push(t.value),void 0===e||i.length!=e?t.continue():r(i)):r(i)})})})}),t.openDb=function(t,e,n){var r=i(indexedDB,"open",[t,e]),o=r.request;return o&&(o.onupgradeneeded=function(t){n&&n(new f(o.result,t.oldVersion,o.transaction))}),r.then(function(t){return new p(t)})},t.deleteDb=function(t){return i(indexedDB,"deleteDatabase",[t])},Object.defineProperty(t,"__esModule",{value:!0})}(e)},pxpQ:function(t,e,n){"use strict";n.d(e,"b",function(){return o}),n.d(e,"a",function(){return a});var i=n("7o/Q"),r=n("WMd4");function o(t,e=0){return function(n){return n.lift(new s(t,e))}}class s{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new a(t,this.scheduler,this.delay))}}class a extends i.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(a.dispatch,this.delay,new c(t,this.destination)))}_next(t){this.scheduleMessage(r.a.createNext(t))}_error(t){this.scheduleMessage(r.a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(r.a.createComplete()),this.unsubscribe()}}class c{constructor(t,e){this.notification=t,this.destination=e}}},qgXg:function(t,e,n){"use strict";n.d(e,"b",function(){return a}),n.d(e,"a",function(){return c});var i=n("3N8a");class r extends i.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var o=n("IjjT");class s extends o.a{}const a=new s(r),c=a},quSY:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("DH7j"),r=n("XoHu"),o=n("n6bG");const s=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:a,_unsubscribe:u,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(o.a)(u)){a&&(this._unsubscribe=void 0);try{u.call(this)}catch(h){e=h instanceof s?c(h.errors):[h]}}if(Object(i.a)(l)){let t=-1,n=l.length;for(;++t<n;){const n=l[t];if(Object(r.a)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof s?e=e.concat(c(h.errors)):e.push(h)}}}if(e)throw new s(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:i}=n;if(null===i)n._parentOrParents=this;else if(i instanceof t){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}const r=this._subscriptions;return null===r?this._subscriptions=[n]:r.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function c(t){return t.reduce((t,e)=>t.concat(e instanceof s?e.errors:e),[])}},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return O}),n.d(e,"b",function(){return v}),n.d(e,"c",function(){return _}),n.d(e,"d",function(){return f}),n.d(e,"e",function(){return b}),n.d(e,"f",function(){return S}),n.d(e,"g",function(){return w}),n.d(e,"h",function(){return p}),n.d(e,"i",function(){return m});var i=n("qgXg"),r=n("D0XW"),o=n("vkgz"),s=n("tf+s"),a=n("pxpQ"),c=n("fXoL"),u=n("Jgta");function l(){}class h{constructor(t,e=i.b){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const i=this.zone;return this.delegate.schedule(function(e){i.runGuarded(()=>{t.apply(this,[e])})},e,n)}}class d{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),e.pipe(Object(o.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class f{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,r.b))}}function p(t){return function(e){return(e=e.lift(new d(t.ngZone))).pipe(Object(s.a)(t.outsideAngular),Object(a.b)(t.insideAngular))}}const g=["ngOnDestroy"],m=(t,e,n,i={})=>new Proxy(t,{get:(r,o)=>n.runOutsideAngular(()=>{var r;if(t[o])return(null===(r=null==i?void 0:i.spy)||void 0===r?void 0:r.get)&&i.spy.get(o,t[o]),t[o];if(g.indexOf(o)>-1)return()=>{};const s=e.toPromise().then(t=>{const e=t&&t[o];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>s[e],apply:(t,e,n)=>s.then(t=>{var e;const r=t&&t(...n);return(null===(e=null==i?void 0:i.spy)||void 0===e?void 0:e.apply)&&i.spy.apply(o,n,r),r})})})}),b=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},_=new c.q("angularfire2.app.options"),v=new c.q("angularfire2.app.nameOrConfig"),y=new c.P("6.1.5");function w(e,n,i){const r="object"==typeof i&&i||{};r.name=r.name||"string"==typeof i&&i||"[DEFAULT]";const o=u.a.apps.filter(t=>t&&t.name===r.name)[0]||n.runOutsideAngular(()=>u.a.initializeApp(e,r));try{JSON.stringify(e)!==JSON.stringify(o.options)&&C("error",`${o.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(s){}return o}const C=(t,...e)=>{Object(c.W)()&&"undefined"!=typeof console&&console[t](...e)};function S(e,n,i,r,o){const[s,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(s){try{o.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&C("error",`${n} was already initialized on the ${i.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(c){}return s}{const t=r();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...o]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const k={provide:class{},useFactory:w,deps:[_,c.z,[new c.A,v]]};let O=(()=>{class t{constructor(t){u.a.registerVersion("angularfire",y.full,t.toString()),u.a.registerVersion("angular",c.O.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:_,useValue:e},{provide:v,useValue:n}]}}}return t.\u0275mod=c.Kb({type:t}),t.\u0275inj=c.Jb({factory:function(e){return new(e||t)(c.Wb(c.B))},providers:[k]}),t})()}).call(this,n("3UD+")(t))},ssf6:function(t,e,n){"use strict";var i=n("d+ix"),r=n("5ENO"),o=n("jebL"),s=n("gS2T"),a=n("2D0q");function c(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var u,l=c(i),h=((u={})["already-activated"]="You are trying to activate AppCheck for FirebaseApp {$appName}, while it is already activated. AppCheck can only be activated once.",u["use-before-activation"]="AppCheck is being used before activate() is called for FirebaseApp {$appName}. Please make sure you call activate() before instantiating other Firebase services.",u["fetch-network-error"]="Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",u["fetch-parse-error"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",u["fetch-status-error"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",u["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",u["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",u["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",u["recaptcha-error"]="ReCAPTCHA error.",u),d=new s.ErrorFactory("appCheck","AppCheck",h),f=new Map,p={activated:!1,tokenObservers:[]},g={enabled:!1};function m(t){return f.get(t)||p}function b(t,e){f.set(t,e)}function _(){return g}var v="https://content-firebaseappcheck.googleapis.com/v1beta",y=function(){function t(t,e,n,i,r){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=n,this.lowerBound=i,this.upperBound=r,this.pending=null,this.nextErrorWaitInterval=i,i>r)throw new Error("Proactive refresh lower bound greater than upper bound!")}return t.prototype.start=function(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(function(){})},t.prototype.stop=function(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)},t.prototype.isRunning=function(){return!!this.pending},t.prototype.process=function(t){return o.__awaiter(this,void 0,void 0,function(){var e;return o.__generator(this,function(n){switch(n.label){case 0:this.stop(),n.label=1;case 1:return n.trys.push([1,6,,7]),this.pending=new s.Deferred,[4,(i=this.getNextRun(t),new Promise(function(t){setTimeout(t,i)}))];case 2:return n.sent(),this.pending.resolve(),[4,this.pending.promise];case 3:return n.sent(),this.pending=new s.Deferred,[4,this.operation()];case 4:return n.sent(),this.pending.resolve(),[4,this.pending.promise];case 5:return n.sent(),this.process(!0).catch(function(){}),[3,7];case 6:return e=n.sent(),this.retryPolicy(e)?this.process(!1).catch(function(){}):this.stop(),[3,7];case 7:return[2]}var i})})},t.prototype.getNextRun=function(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();var e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e},t}();function w(){return self.grecaptcha}function C(t){if(!m(t).activated)throw d.create("use-before-activation",{appName:t.name})}function S(t,e){var n=t.url,i=t.body;return o.__awaiter(this,void 0,void 0,function(){var t,r,s,a,c,u,l,h,f,p;return o.__generator(this,function(o){switch(o.label){case 0:t={"Content-Type":"application/json"},(r=e.getImmediate({optional:!0}))&&(t["X-Firebase-Client"]=r.getPlatformInfoString()),s={method:"POST",body:JSON.stringify(i),headers:t},o.label=1;case 1:return o.trys.push([1,3,,4]),[4,fetch(n,s)];case 2:return a=o.sent(),[3,4];case 3:throw c=o.sent(),d.create("fetch-network-error",{originalErrorMessage:c.message});case 4:if(200!==a.status)throw d.create("fetch-status-error",{httpStatus:a.status});o.label=5;case 5:return o.trys.push([5,7,,8]),[4,a.json()];case 6:return u=o.sent(),[3,8];case 7:throw l=o.sent(),d.create("fetch-parse-error",{originalErrorMessage:l.message});case 8:if(!(h=u.ttl.match(/^([\d.]+)(s)$/))||!h[2]||isNaN(Number(h[1])))throw d.create("fetch-parse-error",{originalErrorMessage:"ttl field (timeToLive) is not in standard Protobuf Duration format: "+u.ttl});return f=1e3*Number(h[1]),p=Date.now(),[2,{token:u.attestationToken,expireTimeMillis:p+f,issuedAtTimeMillis:p}]}})})}function k(t,e){var n=t.options;return{url:v+"/projects/"+n.projectId+"/apps/"+n.appId+":exchangeRecaptchaToken?key="+n.apiKey,body:{recaptcha_token:e}}}function O(t,e){var n=t.options;return{url:v+"/projects/"+n.projectId+"/apps/"+n.appId+":exchangeDebugToken?key="+n.apiKey,body:{debug_token:e}}}var T="firebase-app-check-store",x=null;function E(){return x||(x=new Promise(function(t,e){try{var n=indexedDB.open("firebase-app-check-database",1);n.onsuccess=function(e){t(e.target.result)},n.onerror=function(t){var n;e(d.create("storage-open",{originalErrorMessage:null===(n=t.target.error)||void 0===n?void 0:n.message}))},n.onupgradeneeded=function(t){var e=t.target.result;switch(t.oldVersion){case 0:e.createObjectStore(T,{keyPath:"compositeKey"})}}}catch(i){e(d.create("storage-open",{originalErrorMessage:i.message}))}}))}function I(t){return R(P(t))}function A(t,e){return o.__awaiter(this,void 0,void 0,function(){var n,i,r,s;return o.__generator(this,function(o){switch(o.label){case 0:return[4,E()];case 1:return n=o.sent(),i=n.transaction(T,"readwrite"),r=i.objectStore(T),s=r.put({compositeKey:t,value:e}),[2,new Promise(function(t,e){s.onsuccess=function(e){t()},i.onerror=function(t){var n;e(d.create("storage-set",{originalErrorMessage:null===(n=t.target.error)||void 0===n?void 0:n.message}))}})]}})})}function R(t){return o.__awaiter(this,void 0,void 0,function(){var e,n,i,r;return o.__generator(this,function(o){switch(o.label){case 0:return[4,E()];case 1:return e=o.sent(),n=e.transaction(T,"readonly"),i=n.objectStore(T),r=i.get(t),[2,new Promise(function(t,e){r.onsuccess=function(e){var n=e.target.result;t(n?n.value:void 0)},n.onerror=function(t){var n;e(d.create("storage-get",{originalErrorMessage:null===(n=t.target.error)||void 0===n?void 0:n.message}))}})]}})})}function P(t){return t.options.appId+"-"+t.name}var D=new a.Logger("@firebase/app-check");function M(t,e){return s.isIndexedDBAvailable()?function(t,e){return A(P(t),e)}(t,e).catch(function(t){D.warn("Failed to write token to indexeddb. Error: "+t)}):Promise.resolve()}function N(){return o.__awaiter(this,void 0,void 0,function(){var t;return o.__generator(this,function(e){if((t=_()).enabled&&t.token)return[2,t.token.promise];throw Error("\n            Can't get debug token in production mode.\n        ")})})}var j={error:"UNKNOWN_ERROR"};function F(t,e,n){return void 0===n&&(n=!1),o.__awaiter(this,void 0,void 0,function(){var i,r,a,c,u,l,h,d,f,p;return o.__generator(this,function(g){switch(g.label){case 0:return C(t),i=m(t),a=void 0,(r=i.token)?[3,2]:[4,i.cachedTokenPromise];case 1:(c=g.sent())&&q(c)&&(r=c,b(t,o.__assign(o.__assign({},i),{token:r})),U(t,{token:r.token})),g.label=2;case 2:return!n&&r&&q(r)?[2,{token:r.token}]:_().enabled?(l=S,h=O,d=[t],[4,N()]):[3,6];case 3:return[4,l.apply(void 0,[h.apply(void 0,d.concat([g.sent()])),e])];case 4:return u=g.sent(),[4,M(t,u)];case 5:return g.sent(),b(t,o.__assign(o.__assign({},i),{token:u})),[2,{token:u.token}];case 6:return g.trys.push([6,8,,9]),[4,i.provider.getToken()];case 7:return r=g.sent(),[3,9];case 8:return f=g.sent(),D.error(f),a=f,[3,9];case 9:return r?[3,10]:(p=function(t){return{token:(e=j,s.base64.encodeString(JSON.stringify(e),!1)),error:t};var e}(a),[3,12]);case 10:return p={token:r.token},b(t,o.__assign(o.__assign({},i),{token:r})),[4,M(t,r)];case 11:g.sent(),g.label=12;case 12:return U(t,p),[2,p]}})})}function L(t,e,n,i,r){var s=m(t),a={next:i,error:r,type:n},c=o.__assign(o.__assign({},s),{tokenObservers:o.__spreadArray(o.__spreadArray([],s.tokenObservers),[a])});if(!c.tokenRefresher){var u=function(t,e){var n=this;return new y(function(){return o.__awaiter(n,void 0,void 0,function(){var n;return o.__generator(this,function(i){switch(i.label){case 0:return m(t).token?[3,2]:[4,F(t,e)];case 1:return n=i.sent(),[3,4];case 2:return[4,F(t,e,!0)];case 3:n=i.sent(),i.label=4;case 4:if(n.error)throw n.error;return[2]}})})},function(){return!0},function(){var e=m(t);if(e.token){var n=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return n=Math.min(n,e.token.expireTimeMillis-3e5),Math.max(0,n-Date.now())}return 0},3e4,96e4)}(t,e);c.tokenRefresher=u}if(!c.tokenRefresher.isRunning()&&s.isTokenAutoRefreshEnabled&&c.tokenRefresher.start(),s.token&&q(s.token)){var l=s.token;Promise.resolve().then(function(){return i({token:l.token})}).catch(function(){})}else null==s.token&&s.cachedTokenPromise.then(function(t){t&&q(t)&&i({token:t.token})}).catch(function(){});b(t,c)}function V(t,e){var n=m(t),i=n.tokenObservers.filter(function(t){return t.next!==e});0===i.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),b(t,o.__assign(o.__assign({},n),{tokenObservers:i}))}function U(t,e){for(var n=0,i=m(t).tokenObservers;n<i.length;n++){var r=i[n];try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(o){}}}function q(t){return t.expireTimeMillis-Date.now()>0}function B(t){return o.__awaiter(this,void 0,void 0,function(){var e;return o.__generator(this,function(n){switch(n.label){case 0:return C(t),[4,m(t).reCAPTCHAState.initialized.promise];case 1:return e=n.sent(),[2,new Promise(function(n,i){var r=m(t).reCAPTCHAState;e.ready(function(){n(e.execute(r.widgetId,{action:"fire_app_check"}))})})]}})})}function H(t,e,n,i){var r=n.render(i,{sitekey:e,size:"invisible"}),s=m(t);b(t,o.__assign(o.__assign({},s),{reCAPTCHAState:o.__assign(o.__assign({},s.reCAPTCHAState),{widgetId:r})}))}var z=function(){function t(t){this._siteKey=t}return t.prototype.getToken=function(){return o.__awaiter(this,void 0,void 0,function(){var t;return o.__generator(this,function(e){switch(e.label){case 0:if(!this._app||!this._platformLoggerProvider)throw d.create("use-before-activation",{appName:""});e.label=1;case 1:return e.trys.push([1,3,,4]),[4,B(this._app)];case 2:return t=e.sent(),[3,4];case 3:throw e.sent(),d.create("recaptcha-error");case 4:return[2,S(k(this._app,t),this._platformLoggerProvider)]}})})},t.prototype.initialize=function(t,e){this._app=t,this._platformLoggerProvider=e,function(t,e){var n=m(t),i=new s.Deferred;b(t,o.__assign(o.__assign({},n),{reCAPTCHAState:{initialized:i}}));var r="fire_app_check_"+t.name,a=document.createElement("div");a.id=r,a.style.display="none",document.body.appendChild(a);var c,u,l=w();return l?l.ready(function(){H(t,e,l,r),i.resolve(l)}):(c=function(){var n=w();if(!n)throw new Error("no recaptcha");n.ready(function(){H(t,e,n,r),i.resolve(n)})},(u=document.createElement("script")).src="https://www.google.com/recaptcha/api.js",u.onload=c,document.head.appendChild(u)),i.promise}(t,this._siteKey).catch(function(){})},t}(),W=function(){function t(t){this._customProviderOptions=t}return t.prototype.getToken=function(){return o.__awaiter(this,void 0,void 0,function(){var t,e,n;return o.__generator(this,function(i){switch(i.label){case 0:if(!this._app)throw d.create("use-before-activation",{appName:""});return[4,this._customProviderOptions.getToken()];case 1:return t=i.sent(),e=s.issuedAtTime(t.token),n=null!==e&&e<Date.now()&&e>0?1e3*e:Date.now(),[2,o.__assign(o.__assign({},t),{issuedAtTimeMillis:n})]}})})},t.prototype.initialize=function(t){this._app=t},t}();!function(t){t.INTERNAL.registerComponent(new r.Component("appCheck",function(t){return e=t.getProvider("app").getImmediate(),n=t.getProvider("platform-logger"),{app:e,activate:function(t,i){return function(t,e,n,i){var r=m(t);if(r.activated)throw d.create("already-activated",{appName:t.name});var a=o.__assign(o.__assign({},r),{activated:!0});a.cachedTokenPromise=function(t){return o.__awaiter(this,void 0,void 0,function(){var e,n;return o.__generator(this,function(i){switch(i.label){case 0:if(!s.isIndexedDBAvailable())return[3,5];e=void 0,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,I(t)];case 2:return e=i.sent(),[3,4];case 3:return n=i.sent(),D.warn("Failed to read token from indexeddb. Error: "+n),[3,4];case 4:return[2,e];case 5:return[2,void 0]}})})}(t).then(function(e){return e&&q(e)&&b(t,o.__assign(o.__assign({},m(t)),{token:e})),e}),a.provider="string"==typeof e?new z(e):e instanceof z||e instanceof W?e:new W({getToken:e.getToken}),a.isTokenAutoRefreshEnabled=void 0===i?t.automaticDataCollectionEnabled:i,b(t,a),a.provider.initialize(t,n)}(e,t,n,i)},setTokenAutoRefreshEnabled:function(t){return function(t,e){var n=m(t);n.tokenRefresher&&(!0===e?n.tokenRefresher.start():n.tokenRefresher.stop()),b(t,o.__assign(o.__assign({},n),{isTokenAutoRefreshEnabled:e}))}(e,t)},getToken:function(t){return function(t,e,n){return o.__awaiter(this,void 0,void 0,function(){var i;return o.__generator(this,function(r){switch(r.label){case 0:return[4,F(t,e,n)];case 1:if((i=r.sent()).error)throw i.error;return[2,{token:i.token}]}})})}(e,n,t)},onTokenChanged:function(t,i,r){return function(t,e,n,i,r){var o,s=function(){};return o=null!=n.next?n.next.bind(n):n,null!=n.error?s=n.error.bind(n):i&&(s=i),L(t,e,"EXTERNAL",o,s),function(){return V(t,o)}}(e,n,t,i)},INTERNAL:{delete:function(){for(var t=0,n=m(e).tokenObservers;t<n.length;t++)V(e,n[t].next);return Promise.resolve()}}};var e,n},"PUBLIC").setServiceProps({ReCaptchaV3Provider:z,CustomProvider:W}).setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(function(t,e,n){t.getProvider("app-check-internal").initialize()})),t.INTERNAL.registerComponent(new r.Component("app-check-internal",function(t){return e=t.getProvider("app").getImmediate(),n=t.getProvider("platform-logger"),{getToken:function(t){return F(e,n,t)},addTokenListener:function(t){return L(e,n,"INTERNAL",t)},removeTokenListener:function(t){return V(e,t)}};var e,n},"PUBLIC").setInstantiationMode("EXPLICIT")),t.registerVersion("@firebase/app-check","0.3.2")}(l.default),function(){var t=s.getGlobal();if("string"==typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN||!0===t.FIREBASE_APPCHECK_DEBUG_TOKEN){var e=_();e.enabled=!0;var n=new s.Deferred;e.token=n,n.resolve("string"==typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN?t.FIREBASE_APPCHECK_DEBUG_TOKEN:function(){return o.__awaiter(this,void 0,void 0,function(){var t,e;return o.__generator(this,function(n){switch(n.label){case 0:t=void 0,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,R("debug-token")];case 2:return t=n.sent(),[3,4];case 3:return n.sent(),[3,4];case 4:return t?[2,t]:((i=e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)}),A("debug-token",i)).catch(function(t){return D.warn("Failed to persist debug token to indexeddb. Error: "+t)}),console.log("AppCheck debug token: "+e+". You will need to whitelist it in the Firebase console for it to work"),[2,e])}var i})})}())}}()},"tf+s":function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("HDdC"),r=n("7Hc7"),o=n("Y7HM");class s extends i.a{constructor(t,e=0,n=r.a){super(),this.source=t,this.delayTime=e,this.scheduler=n,(!Object(o.a)(e)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=r.a)}static create(t,e=0,n=r.a){return new s(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(s.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function a(t,e=0){return function(n){return n.lift(new c(t,e))}}class c{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new s(e,this.delay,this.scheduler).subscribe(t)}}},vkgz:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("7o/Q");function r(){}var o=n("n6bG");function s(t,e,n){return function(i){return i.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new c(t,this.nextOrObserver,this.error,this.complete))}}class c extends i.a{constructor(t,e,n,i){super(t),this._tapNext=r,this._tapError=r,this._tapComplete=r,this._tapError=n||r,this._tapComplete=i||r,Object(o.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||r,this._tapError=e.error||r,this._tapComplete=e.complete||r)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},yCtX:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("HDdC"),r=n("ngJS"),o=n("jZKg");function s(t,e){return e?Object(o.a)(t,e):new i.a(Object(r.a)(t))}},"z+Ro":function(t,e,n){"use strict";function i(t){return t&&"function"==typeof t.schedule}n.d(e,"a",function(){return i})},zUnb:function(t,e,n){"use strict";n.r(e);var i=n("fXoL");let r=null;function o(){return r}const s=new i.q("DocumentToken");let a=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(i.Ib)({factory:c,token:t,providedIn:"platform"}),t})();function c(){return Object(i.Wb)(l)}const u=new i.q("Location Initialized");let l=(()=>{class t extends a{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=o().getLocation(),this._history=o().getHistory()}getBaseHrefFromDOM(){return o().getBaseHref(this._doc)}onPopState(t){o().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){o().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){h()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){h()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(s))},t.\u0275prov=Object(i.Ib)({factory:d,token:t,providedIn:"platform"}),t})();function h(){return!!window.history.pushState}function d(){return new l(Object(i.Wb)(s))}function f(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function p(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function g(t){return t&&"?"!==t[0]?"?"+t:t}let m=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(i.Ib)({factory:b,token:t,providedIn:"root"}),t})();function b(t){const e=Object(i.Wb)(s).location;return new v(Object(i.Wb)(a),e&&e.origin||"")}const _=new i.q("appBaseHref");let v=(()=>{class t extends m{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return f(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+g(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,i){const r=this.prepareExternalUrl(n+g(i));this._platformLocation.pushState(t,e,r)}replaceState(t,e,n,i){const r=this.prepareExternalUrl(n+g(i));this._platformLocation.replaceState(t,e,r)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(a),i.Wb(_,8))},t.\u0275prov=i.Ib({token:t,factory:t.\u0275fac}),t})(),y=(()=>{class t extends m{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=f(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,i){let r=this.prepareExternalUrl(n+g(i));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.pushState(t,e,r)}replaceState(t,e,n,i){let r=this.prepareExternalUrl(n+g(i));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,r)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(a),i.Wb(_,8))},t.\u0275prov=i.Ib({token:t,factory:t.\u0275fac}),t})(),w=(()=>{class t{constructor(t,e){this._subject=new i.n,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=p(S(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+g(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,S(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+g(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+g(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(m),i.Wb(a))},t.normalizeQueryParams=g,t.joinWithSlash=f,t.stripTrailingSlash=p,t.\u0275prov=Object(i.Ib)({factory:C,token:t,providedIn:"root"}),t})();function C(){return new w(Object(i.Wb)(m),Object(i.Wb)(a))}function S(t){return t.replace(/\/index.html$/,"")}var k=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({});const O=i.nb;class T{}let x=(()=>{class t extends T{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(O(e||this.locale)(t)){case k.Zero:return"zero";case k.One:return"one";case k.Two:return"two";case k.Few:return"few";case k.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(i.u))},t.\u0275prov=i.Ib({token:t,factory:t.\u0275fac}),t})();function E(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[i,r]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(i.trim()===e)return decodeURIComponent(r)}return null}let I=(()=>{class t{constructor(t,e,n,i){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=i,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Object(i.qb)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachChangedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachRemovedItem(t=>{t.previousValue&&this._toggleClass(t.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(t=>{if("string"!=typeof t.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got "+Object(i.vb)(t.item));this._toggleClass(t.item,!0)}),t.forEachRemovedItem(t=>this._toggleClass(t.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!0)):Object.keys(t).forEach(e=>this._toggleClass(e,!!t[e])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!1)):Object.keys(t).forEach(t=>this._toggleClass(t,!1)))}_toggleClass(t,e){(t=t.trim())&&t.split(/\s+/g).forEach(t=>{e?this._renderer.addClass(this._ngEl.nativeElement,t):this._renderer.removeClass(this._ngEl.nativeElement,t)})}}return t.\u0275fac=function(e){return new(e||t)(i.Mb(i.s),i.Mb(i.t),i.Mb(i.l),i.Mb(i.E))},t.\u0275dir=i.Hb({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),t})();class A{constructor(t,e,n,i){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let R=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,i)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new A(null,this._ngForOf,-1,-1),null===i?void 0:i),r=new P(t,n);e.push(r)}else if(null==i)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const r=this._viewContainer.get(n);this._viewContainer.move(r,i);const o=new P(t,r);e.push(o)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,i=this._viewContainer.length;n<i;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=i,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(i.Mb(i.Q),i.Mb(i.L),i.Mb(i.s))},t.\u0275dir=i.Hb({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class P{constructor(t,e){this.record=t,this.view=e}}let D=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new M,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){N("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){N("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(i.Mb(i.Q),i.Mb(i.L))},t.\u0275dir=i.Hb({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class M{constructor(){this.$implicit=null,this.ngIf=null}}function N(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Object(i.vb)(e)}'.`)}class j{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let F=(()=>{class t{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const e=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||e,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),e}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let e=0;e<this._defaultViews.length;e++)this._defaultViews[e].enforceState(t)}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.Hb({type:t,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),t})(),L=(()=>{class t{constructor(t,e,n){this.ngSwitch=n,n._addCase(),this._view=new j(t,e)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return t.\u0275fac=function(e){return new(e||t)(i.Mb(i.Q),i.Mb(i.L),i.Mb(F,1))},t.\u0275dir=i.Hb({type:t,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),t})(),V=(()=>{class t{constructor(t,e,n){n._addDefault(new j(t,e))}}return t.\u0275fac=function(e){return new(e||t)(i.Mb(i.Q),i.Mb(i.L),i.Mb(F,1))},t.\u0275dir=i.Hb({type:t,selectors:[["","ngSwitchDefault",""]]}),t})(),U=(()=>{class t{constructor(t,e,n){this._ngEl=t,this._differs=e,this._renderer=n,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,e){const[n,i]=t.split(".");null!=(e=null!=e&&i?`${e}${i}`:e)?this._renderer.setStyle(this._ngEl.nativeElement,n,e):this._renderer.removeStyle(this._ngEl.nativeElement,n)}_applyChanges(t){t.forEachRemovedItem(t=>this._setStyle(t.key,null)),t.forEachAddedItem(t=>this._setStyle(t.key,t.currentValue)),t.forEachChangedItem(t=>this._setStyle(t.key,t.currentValue))}}return t.\u0275fac=function(e){return new(e||t)(i.Mb(i.l),i.Mb(i.t),i.Mb(i.E))},t.\u0275dir=i.Hb({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),t})(),q=(()=>{class t{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(t){if(this._shouldRecreateView(t)){const t=this._viewContainerRef;this._viewRef&&t.remove(t.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?t.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&this.ngTemplateOutletContext&&this._updateExistingContext(this.ngTemplateOutletContext)}_shouldRecreateView(t){const e=t.ngTemplateOutletContext;return!!t.ngTemplateOutlet||e&&this._hasContextShapeChanged(e)}_hasContextShapeChanged(t){const e=Object.keys(t.previousValue||{}),n=Object.keys(t.currentValue||{});if(e.length===n.length){for(let t of n)if(-1===e.indexOf(t))return!0;return!1}return!0}_updateExistingContext(t){for(let e of Object.keys(t))this._viewRef.context[e]=this.ngTemplateOutletContext[e]}}return t.\u0275fac=function(e){return new(e||t)(i.Mb(i.Q))},t.\u0275dir=i.Hb({type:t,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[i.yb]}),t})();class B{createSubscription(t,e){return t.subscribe({next:e,error:t=>{throw t}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class H{createSubscription(t,e){return t.then(e,t=>{throw t})}dispose(t){}onDestroy(t){}}const z=new H,W=new B;let G=(()=>{class t{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,e=>this._updateLatestValue(t,e))}_selectStrategy(e){if(Object(i.sb)(e))return z;if(Object(i.rb)(e))return W;throw n=t,Error(`InvalidPipeArgument: '${e}' for pipe '${Object(i.vb)(n)}'`);var n}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())}}return t.\u0275fac=function(e){return new(e||t)(i.Yb())},t.\u0275pipe=i.Lb({name:"async",type:t,pure:!1}),t})(),K=(()=>{class t{}return t.\u0275mod=i.Kb({type:t}),t.\u0275inj=i.Jb({factory:function(e){return new(e||t)},providers:[{provide:T,useClass:x}]}),t})();function $(t){return"browser"===t}let Y=(()=>{class t{}return t.\u0275prov=Object(i.Ib)({token:t,providedIn:"root",factory:()=>new Q(Object(i.Wb)(s),window,Object(i.Wb)(i.m))}),t})();class Q{constructor(t,e,n){this.document=t,this.window=e,this.errorHandler=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(this.supportsScrolling()){const e=this.document.getElementById(t)||this.document.getElementsByName(t)[0];e&&this.scrollToElement(e)}}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,i=e.top+this.window.pageYOffset,r=this.offset();this.window.scrollTo(n-r[0],i-r[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=Z(this.window.history)||Z(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function Z(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class X extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new X,r||(r=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=tt||(tt=document.querySelector("base"),tt)?tt.getAttribute("href"):null;return null==e?null:(n=e,J||(J=document.createElement("a")),J.setAttribute("href",n),"/"===J.pathname.charAt(0)?J.pathname:"/"+J.pathname);var n}resetBaseElement(){tt=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return E(document.cookie,t)}}let J,tt=null;const et=new i.q("TRANSITION_ID"),nt=[{provide:i.d,useFactory:function(t,e,n){return()=>{n.get(i.e).donePromise.then(()=>{const n=o();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[et,s,i.r],multi:!0}];class it{static init(){Object(i.Y)(new it)}addToWindow(t){i.pb.getAngularTestability=(e,n=!0)=>{const i=t.findTestabilityInTree(e,n);if(null==i)throw new Error("Could not find testability for element.");return i},i.pb.getAllAngularTestabilities=()=>t.getAllTestabilities(),i.pb.getAllAngularRootElements=()=>t.getAllRootElements(),i.pb.frameworkStabilizers||(i.pb.frameworkStabilizers=[]),i.pb.frameworkStabilizers.push(t=>{const e=i.pb.getAllAngularTestabilities();let n=e.length,r=!1;const o=function(e){r=r||e,n--,0==n&&t(r)};e.forEach(function(t){t.whenStable(o)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const i=t.getTestability(e);return null!=i?i:n?o().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const rt=new i.q("EventManagerPlugins");let ot=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let i=0;i<n.length;i++){const e=n[i];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error("No event manager plugin found for event "+t)}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(rt),i.Wb(i.z))},t.\u0275prov=i.Ib({token:t,factory:t.\u0275fac}),t})();class st{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const i=o().getGlobalEventTarget(this._doc,t);if(!i)throw new Error(`Unsupported event target ${i} for event ${e}`);return this.addEventListener(i,e,n)}}let at=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Ib({token:t,factory:t.\u0275fac}),t})(),ct=(()=>{class t extends at{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>o().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(s))},t.\u0275prov=i.Ib({token:t,factory:t.\u0275fac}),t})();const ut={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},lt=/%COMP%/g;function ht(t,e,n){for(let i=0;i<e.length;i++){let r=e[i];Array.isArray(r)?ht(t,r,n):(r=r.replace(lt,t),n.push(r))}return n}function dt(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let ft=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new pt(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case i.R.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new gt(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case i.R.ShadowDom:return new mt(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=ht(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(ot),i.Wb(ct),i.Wb(i.c))},t.\u0275prov=i.Ib({token:t,factory:t.\u0275fac}),t})();class pt{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(ut[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,i){if(i){e=i+":"+e;const r=ut[i];r?t.setAttributeNS(r,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const i=ut[n];i?t.removeAttributeNS(i,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,r){r&(i.G.DashCase|i.G.Important)?t.style.setProperty(e,n,r&i.G.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&i.G.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,dt(n)):this.eventManager.addEventListener(t,e,dt(n))}}class gt extends pt{constructor(t,e,n,i){super(t),this.component=n;const r=ht(i+"-"+n.id,n.styles,[]);e.addStyles(r),this.contentAttr="_ngcontent-%COMP%".replace(lt,i+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(lt,i+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class mt extends pt{constructor(t,e,n,i){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const r=ht(i.id,i.styles,[]);for(let o=0;o<r.length;o++){const t=document.createElement("style");t.textContent=r[o],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let bt=(()=>{class t extends st{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(s))},t.\u0275prov=i.Ib({token:t,factory:t.\u0275fac}),t})();const _t=["alt","control","meta","shift"],vt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},yt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},wt={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let Ct=(()=>{class t extends st{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,i){const r=t.parseEventName(n),s=t.eventCallback(r.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>o().onAndCancel(e,r.domEventName,s))}static parseEventName(e){const n=e.toLowerCase().split("."),i=n.shift();if(0===n.length||"keydown"!==i&&"keyup"!==i)return null;const r=t._normalizeKey(n.pop());let o="";if(_t.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=r,0!=n.length||0===r.length)return null;const s={};return s.domEventName=i,s.fullKey=o,s}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&yt.hasOwnProperty(e)&&(e=yt[e]))}return vt[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),_t.forEach(i=>{i!=n&&(0,wt[i])(t)&&(e+=i+".")}),e+=n,e}static eventCallback(e,n,i){return r=>{t.getEventFullKey(r)===e&&i.runGuarded(()=>n(r))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(s))},t.\u0275prov=i.Ib({token:t,factory:t.\u0275fac}),t})();const St=[{provide:i.B,useValue:"browser"},{provide:i.C,useValue:function(){X.makeCurrent(),it.init()},multi:!0},{provide:s,useFactory:function(){return Object(i.ub)(document),document},deps:[]}],kt=Object(i.S)(i.X,"browser",St),Ot=[[],{provide:i.ab,useValue:"root"},{provide:i.m,useFactory:function(){return new i.m},deps:[]},{provide:rt,useClass:bt,multi:!0,deps:[s,i.z,i.B]},{provide:rt,useClass:Ct,multi:!0,deps:[s]},[],{provide:ft,useClass:ft,deps:[ot,ct,i.c]},{provide:i.F,useExisting:ft},{provide:at,useExisting:ct},{provide:ct,useClass:ct,deps:[s]},{provide:i.M,useClass:i.M,deps:[i.z]},{provide:ot,useClass:ot,deps:[rt,i.z]},[]];let Tt=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:i.c,useValue:e.appId},{provide:et,useExisting:i.c},nt]}}}return t.\u0275mod=i.Kb({type:t}),t.\u0275inj=i.Jb({factory:function(e){return new(e||t)(i.Wb(t,12))},providers:Ot,imports:[K,i.f]}),t})();"undefined"!=typeof window&&window;class xt{}function Et(t,e){return{type:7,name:t,definitions:e,options:{}}}function It(t,e=null){return{type:4,styles:e,timings:t}}function At(t,e=null){return{type:2,steps:t,options:e}}function Rt(t){return{type:6,styles:t,offset:null}}function Pt(t,e,n){return{type:0,name:t,styles:e,options:n}}function Dt(t,e,n=null){return{type:1,expr:t,animation:e,options:n}}function Mt(t=null){return{type:9,options:t}}function Nt(t,e,n=null){return{type:11,selector:t,animation:e,options:n}}function jt(t){Promise.resolve(null).then(t)}class Ft{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){jt(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class Lt{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,i=0;const r=this.players.length;0==r?jt(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==r&&this._onFinish()}),t.onDestroy(()=>{++n==r&&this._onDestroy()}),t.onStart(()=>{++i==r&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){const t=this.players.reduce((t,e)=>null===t||e.totalTime>t.totalTime?e:t,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}function Vt(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Ut(t){switch(t.length){case 0:return new Ft;case 1:return t[0];default:return new Lt(t)}}function qt(t,e,n,i,r={},o={}){const s=[],a=[];let c=-1,u=null;if(i.forEach(t=>{const n=t.offset,i=n==c,l=i&&u||{};Object.keys(t).forEach(n=>{let i=n,a=t[n];if("offset"!==n)switch(i=e.normalizePropertyName(i,s),a){case"!":a=r[n];break;case"*":a=o[n];break;default:a=e.normalizeStyleValue(n,i,a,s)}l[i]=a}),i||a.push(l),u=l,c=n}),s.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${s.join(t)}`)}return a}function Bt(t,e,n,i){switch(e){case"start":t.onStart(()=>i(n&&Ht(n,"start",t)));break;case"done":t.onDone(()=>i(n&&Ht(n,"done",t)));break;case"destroy":t.onDestroy(()=>i(n&&Ht(n,"destroy",t)))}}function Ht(t,e,n){const i=n.totalTime,r=zt(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==i?t.totalTime:i,!!n.disabled),o=t._data;return null!=o&&(r._data=o),r}function zt(t,e,n,i,r="",o=0,s){return{element:t,triggerName:e,fromState:n,toState:i,phaseName:r,totalTime:o,disabled:!!s}}function Wt(t,e,n){let i;return t instanceof Map?(i=t.get(e),i||t.set(e,i=n)):(i=t[e],i||(i=t[e]=n)),i}function Gt(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let Kt=(t,e)=>!1,$t=(t,e)=>!1,Yt=(t,e,n)=>[];const Qt=Vt();(Qt||"undefined"!=typeof Element)&&(Kt=(t,e)=>t.contains(e),$t=(()=>{if(Qt||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):$t}})(),Yt=(t,e,n)=>{let i=[];if(n){const n=t.querySelectorAll(e);for(let t=0;t<n.length;t++)i.push(n[t])}else{const n=t.querySelector(e);n&&i.push(n)}return i});let Zt=null,Xt=!1;function Jt(t){Zt||(Zt=("undefined"!=typeof document?document.body:null)||{},Xt=!!Zt.style&&"WebkitAppearance"in Zt.style);let e=!0;return Zt.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in Zt.style,!e&&Xt)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in Zt.style),e}const te=$t,ee=Kt,ne=Yt;function ie(t){const e={};return Object.keys(t).forEach(n=>{const i=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[i]=t[n]}),e}let re=(()=>{class t{validateStyleProperty(t){return Jt(t)}matchesElement(t,e){return te(t,e)}containsElement(t,e){return ee(t,e)}query(t,e,n){return ne(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,i,r,o=[],s){return new Ft(n,i)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Ib({token:t,factory:t.\u0275fac}),t})(),oe=(()=>{class t{}return t.NOOP=new re,t})();function se(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:ae(parseFloat(e[1]),e[2])}function ae(t,e){switch(e){case"s":return 1e3*t;default:return t}}function ce(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let i,r=0,o="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};i=ae(parseFloat(n[1]),n[2]);const s=n[3];null!=s&&(r=ae(parseFloat(s),n[4]));const a=n[5];a&&(o=a)}else i=t;if(!n){let n=!1,o=e.length;i<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),r<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(o,0,`The provided timing value "${t}" is invalid.`)}return{duration:i,delay:r,easing:o}}(t,e,n)}function ue(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function le(t,e,n={}){if(e)for(let i in t)n[i]=t[i];else ue(t,n);return n}function he(t,e,n){return n?e+":"+n+";":""}function de(t){let e="";for(let n=0;n<t.style.length;n++){const i=t.style.item(n);e+=he(0,i,t.style.getPropertyValue(i))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=he(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function fe(t,e,n){t.style&&(Object.keys(e).forEach(i=>{const r=we(i);n&&!n.hasOwnProperty(i)&&(n[i]=t.style[r]),t.style[r]=e[i]}),Vt()&&de(t))}function pe(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=we(e);t.style[n]=""}),Vt()&&de(t))}function ge(t){return Array.isArray(t)?1==t.length?t[0]:At(t):t}const me=new RegExp("{{\\s*(.+?)\\s*}}","g");function be(t){let e=[];if("string"==typeof t){let n;for(;n=me.exec(t);)e.push(n[1]);me.lastIndex=0}return e}function _e(t,e,n){const i=t.toString(),r=i.replace(me,(t,i)=>{let r=e[i];return e.hasOwnProperty(i)||(n.push("Please provide a value for the animation param "+i),r=""),r.toString()});return r==i?t:r}function ve(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const ye=/-+([a-z0-9])/g;function we(t){return t.replace(ye,(...t)=>t[1].toUpperCase())}function Ce(t,e){return 0===t||0===e}function Se(t,e,n){const i=Object.keys(n);if(i.length&&e.length){let o=e[0],s=[];if(i.forEach(t=>{o.hasOwnProperty(t)||s.push(t),o[t]=n[t]}),s.length)for(var r=1;r<e.length;r++){let n=e[r];s.forEach(function(e){n[e]=Oe(t,e)})}}return e}function ke(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error("Unable to resolve animation metadata node #"+e.type)}}function Oe(t,e){return window.getComputedStyle(t)[e]}function Te(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>function(t,e,n){if(":"==t[0]){const i=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof i)return void e.push(i);t=i}const i=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const r=i[1],o=i[2],s=i[3];e.push(Ie(r,s)),"<"!=o[0]||"*"==r&&"*"==s||e.push(Ie(s,r))}(t,n,e)):n.push(t),n}const xe=new Set(["true","1"]),Ee=new Set(["false","0"]);function Ie(t,e){const n=xe.has(t)||Ee.has(t),i=xe.has(e)||Ee.has(e);return(r,o)=>{let s="*"==t||t==r,a="*"==e||e==o;return!s&&n&&"boolean"==typeof r&&(s=r?xe.has(t):Ee.has(t)),!a&&i&&"boolean"==typeof o&&(a=o?xe.has(e):Ee.has(e)),s&&a}}const Ae=new RegExp("s*:selfs*,?","g");function Re(t,e,n){return new Pe(t).build(e,n)}class Pe{constructor(t){this._driver=t}build(t,e){const n=new De(e);return this._resetContextStyleTimingState(n),ke(this,ge(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,i=e.depCount=0;const r=[],o=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,i=n.name;i.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,r.push(this.visitState(n,e))}),n.name=i}else if(1==t.type){const r=this.visitTransition(t,e);n+=r.queryCount,i+=r.depCount,o.push(r)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:r,transitions:o,queryCount:n,depCount:i,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),i=t.options&&t.options.params||null;if(n.containsDynamicStyles){const r=new Set,o=i||{};if(n.styles.forEach(t=>{if(Me(t)){const e=t;Object.keys(e).forEach(t=>{be(e[t]).forEach(t=>{o.hasOwnProperty(t)||r.add(t)})})}}),r.size){const n=ve(r.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:i?{params:i}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=ke(this,ge(t.animation),e);return{type:1,matchers:Te(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:Ne(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>ke(this,t,e)),options:Ne(t.options)}}visitGroup(t,e){const n=e.currentTime;let i=0;const r=t.steps.map(t=>{e.currentTime=n;const r=ke(this,t,e);return i=Math.max(i,e.currentTime),r});return e.currentTime=i,{type:3,steps:r,options:Ne(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return je(ce(t,e).duration,0,"");const i=t;if(i.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=je(0,0,"");return t.dynamic=!0,t.strValue=i,t}return n=n||ce(i,e),je(n.duration,n.delay,n.easing)}(t.timings,e.errors);let i;e.currentAnimateTimings=n;let r=t.styles?t.styles:Rt({});if(5==r.type)i=this.visitKeyframes(r,e);else{let r=t.styles,o=!1;if(!r){o=!0;const t={};n.easing&&(t.easing=n.easing),r=Rt(t)}e.currentTime+=n.duration+n.delay;const s=this.visitStyle(r,e);s.isEmptyStep=o,i=s}return e.currentAnimateTimings=null,{type:4,timings:n,style:i,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?"*"==t?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let i=!1,r=null;return n.forEach(t=>{if(Me(t)){const e=t,n=e.easing;if(n&&(r=n,delete e.easing),!i)for(let t in e)if(e[t].toString().indexOf("{{")>=0){i=!0;break}}}),{type:6,styles:n,easing:r,offset:t.offset,containsDynamicStyles:i,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let i=e.currentTime,r=e.currentTime;n&&r>0&&(r-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const o=e.collectedStyles[e.currentQuerySelector],s=o[n];let a=!0;s&&(r!=i&&r>=s.startTime&&i<=s.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${s.startTime}ms" and "${s.endTime}ms" is also being animated in a parallel animation between the times of "${r}ms" and "${i}ms"`),a=!1),r=s.startTime),a&&(o[n]={startTime:r,endTime:i}),e.options&&function(t,e,n){const i=e.params||{},r=be(t);r.length&&r.forEach(t=>{i.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let i=0;const r=[];let o=!1,s=!1,a=0;const c=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let c=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(Me(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(Me(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),u=0;return null!=c&&(i++,u=n.offset=c),s=s||u<0||u>1,o=o||u<a,a=u,r.push(u),n});s&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),o&&e.errors.push("Please ensure that all keyframe offsets are in order");const u=t.steps.length;let l=0;i>0&&i<u?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==i&&(l=1/(u-1));const h=u-1,d=e.currentTime,f=e.currentAnimateTimings,p=f.duration;return c.forEach((t,i)=>{const o=l>0?i==h?1:l*i:r[i],s=o*p;e.currentTime=d+f.delay+s,f.duration=s,this._validateStyleAst(t,e),t.offset=o,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:ke(this,ge(t.animation),e),options:Ne(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Ne(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Ne(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,i=t.options||{};e.queryCount++,e.currentQuery=t;const[r,o]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>":self"==t);return e&&(t=t.replace(Ae,"")),[t=t.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,t=>".ng-trigger-"+t.substr(1)).replace(/:animating/g,".ng-animating"),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+r:r,Wt(e.collectedStyles,e.currentQuerySelector,{});const s=ke(this,ge(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:r,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:s,originalSelector:t.selector,options:Ne(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:ce(t.timings,e.errors,!0);return{type:12,animation:ke(this,ge(t.animation),e),timings:n,options:null}}}class De{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function Me(t){return!Array.isArray(t)&&"object"==typeof t}function Ne(t){var e;return t?(t=ue(t)).params&&(t.params=(e=t.params)?ue(e):null):t={},t}function je(t,e,n){return{duration:t,delay:e,easing:n}}function Fe(t,e,n,i,r,o,s=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:s,subTimeline:a}}class Le{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const Ve=new RegExp(":enter","g"),Ue=new RegExp(":leave","g");function qe(t,e,n,i,r,o={},s={},a,c,u=[]){return(new Be).buildKeyframes(t,e,n,i,r,o,s,a,c,u)}class Be{buildKeyframes(t,e,n,i,r,o,s,a,c,u=[]){c=c||new Le;const l=new ze(t,e,c,i,r,u,[]);l.options=a,l.currentTimeline.setStyles([o],null,l.errors,a),ke(this,n,l);const h=l.timelines.filter(t=>t.containsAnimation());if(h.length&&Object.keys(s).length){const t=h[h.length-1];t.allowOnlyTimelineStyles()||t.setStyles([s],null,l.errors,a)}return h.length?h.map(t=>t.buildKeyframes()):[Fe(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const i=e.createSubContext(t.options),r=e.currentTimeline.currentTime,o=this._visitSubInstructions(n,i,i.options);r!=o&&e.transformIntoNewTimeline(o)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let i=e.currentTimeline.currentTime;const r=null!=n.duration?se(n.duration):null,o=null!=n.delay?se(n.delay):null;return 0!==r&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,r,o);i=Math.max(i,n.duration+n.delay)}),i}visitReference(t,e){e.updateOptions(t.options,!0),ke(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let i=e;const r=t.options;if(r&&(r.params||r.delay)&&(i=e.createSubContext(r),i.transformIntoNewTimeline(),null!=r.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=He);const t=se(r.delay);i.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>ke(this,t,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>n&&i.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let i=e.currentTimeline.currentTime;const r=t.options&&t.options.delay?se(t.options.delay):0;t.steps.forEach(o=>{const s=e.createSubContext(t.options);r&&s.delayNextStep(r),ke(this,o,s),i=Math.max(i,s.currentTimeline.currentTime),n.push(s.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(i),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return ce(e.params?_e(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),i=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),i.snapshotCurrentStyles());const r=t.style;5==r.type?this.visitKeyframes(r,e):(e.incrementTime(n.duration),this.visitStyle(r,e),i.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,i=e.currentAnimateTimings;!i&&n.getCurrentStyleProperties().length&&n.forwardFrame();const r=i&&i.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(r):n.setStyles(t.styles,r,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,i=e.currentTimeline.duration,r=n.duration,o=e.createSubContext().currentTimeline;o.easing=n.easing,t.styles.forEach(t=>{o.forwardTime((t.offset||0)*r),o.setStyles(t.styles,t.easing,e.errors,e.options),o.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(o),e.transformIntoNewTimeline(i+r),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,i=t.options||{},r=i.delay?se(i.delay):0;r&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=He);let o=n;const s=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!i.optional,e.errors);e.currentQueryTotal=s.length;let a=null;s.forEach((n,i)=>{e.currentQueryIndex=i;const s=e.createSubContext(t.options,n);r&&s.delayNextStep(r),n===e.element&&(a=s.currentTimeline),ke(this,t.animation,s),s.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,s.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(o),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,i=e.currentTimeline,r=t.timings,o=Math.abs(r.duration),s=o*(e.currentQueryTotal-1);let a=o*e.currentQueryIndex;switch(r.duration<0?"reverse":r.easing){case"reverse":a=s-a;break;case"full":a=n.currentStaggerTime}const c=e.currentTimeline;a&&c.delayNextStep(a);const u=c.currentTime;ke(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=i.currentTime-u+(i.startTime-n.currentTimeline.startTime)}}const He={};class ze{constructor(t,e,n,i,r,o,s,a){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=i,this._leaveClassName=r,this.errors=o,this.timelines=s,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=He,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new We(this._driver,e,0),s.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let i=this.options;null!=n.duration&&(i.duration=se(n.duration)),null!=n.delay&&(i.delay=se(n.delay));const r=n.params;if(r){let t=i.params;t||(t=this.options.params={}),Object.keys(r).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=_e(r[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const i=e||this.element,r=new ze(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,n||0));return r.previousNode=this.previousNode,r.currentAnimateTimings=this.currentAnimateTimings,r.options=this._copyOptions(),r.updateOptions(t),r.currentQueryIndex=this.currentQueryIndex,r.currentQueryTotal=this.currentQueryTotal,r.parentContext=this,this.subContextCount++,r}transformIntoNewTimeline(t){return this.previousNode=He,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const i={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},r=new Ge(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,i,t.stretchStartingKeyframe);return this.timelines.push(r),i}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,i,r,o){let s=[];if(i&&s.push(this.element),t.length>0){t=(t=t.replace(Ve,"."+this._enterClassName)).replace(Ue,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),s.push(...e)}return r||0!=s.length||o.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),s}}class We{constructor(t,e,n,i){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new We(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||"*",this._currentKeyframe[t]="*"}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,i){e&&(this._previousKeyframe.easing=e);const r=i&&i.params||{},o=function(t,e){const n={};let i;return t.forEach(t=>{"*"===t?(i=i||Object.keys(e),i.forEach(t=>{n[t]="*"})):le(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(o).forEach(t=>{const e=_e(o[t],r,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:"*"),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],i=t._styleSummary[e];(!n||i.time>n.time)&&this._updateStyle(e,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((r,o)=>{const s=le(r,!0);Object.keys(s).forEach(n=>{const i=s[n];"!"==i?t.add(n):"*"==i&&e.add(n)}),n||(s.offset=o/this.duration),i.push(s)});const r=t.size?ve(t.values()):[],o=e.size?ve(e.values()):[];if(n){const t=i[0],e=ue(t);t.offset=0,e.offset=1,i=[t,e]}return Fe(this.element,i,r,o,this.duration,this.startTime,this.easing,!1)}}class Ge extends We{constructor(t,e,n,i,r,o,s=!1){super(t,e,o.delay),this.element=e,this.keyframes=n,this.preStyleProps=i,this.postStyleProps=r,this._stretchStartingKeyframe=s,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:i}=this.timings;if(this._stretchStartingKeyframe&&e){const r=[],o=n+e,s=e/o,a=le(t[0],!1);a.offset=0,r.push(a);const c=le(t[0],!1);c.offset=Ke(s),r.push(c);const u=t.length-1;for(let i=1;i<=u;i++){let s=le(t[i],!1);s.offset=Ke((e+s.offset*n)/o),r.push(s)}n=o,e=0,i="",t=r}return Fe(this.element,t,this.preStyleProps,this.postStyleProps,n,e,i,!0)}}function Ke(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class $e{}class Ye extends $e{normalizePropertyName(t,e){return we(t)}normalizeStyleValue(t,e,n,i){let r="";const o=n.toString().trim();if(Qe[e]&&0!==n&&"0"!==n)if("number"==typeof n)r="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&i.push(`Please provide a CSS unit value for ${t}:${n}`)}return o+r}}const Qe=(()=>function(t){const e={};return t.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function Ze(t,e,n,i,r,o,s,a,c,u,l,h,d){return{type:0,element:t,triggerName:e,isRemovalTransition:r,fromState:n,fromStyles:o,toState:i,toStyles:s,timelines:a,queriedElements:c,preStyleProps:u,postStyleProps:l,totalTime:h,errors:d}}const Xe={};class Je{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,i){return function(t,e,n,i,r){return t.some(t=>t(e,n,i,r))}(this.ast.matchers,t,e,n,i)}buildStyles(t,e,n){const i=this._stateStyles["*"],r=this._stateStyles[t],o=i?i.buildStyles(e,n):{};return r?r.buildStyles(e,n):o}build(t,e,n,i,r,o,s,a,c,u){const l=[],h=this.ast.options&&this.ast.options.params||Xe,d=this.buildStyles(n,s&&s.params||Xe,l),f=a&&a.params||Xe,p=this.buildStyles(i,f,l),g=new Set,m=new Map,b=new Map,_="void"===i,v={params:Object.assign(Object.assign({},h),f)},y=u?[]:qe(t,e,this.ast.animation,r,o,d,p,v,c,l);let w=0;if(y.forEach(t=>{w=Math.max(t.duration+t.delay,w)}),l.length)return Ze(e,this._triggerName,n,i,_,d,p,[],[],m,b,w,l);y.forEach(t=>{const n=t.element,i=Wt(m,n,{});t.preStyleProps.forEach(t=>i[t]=!0);const r=Wt(b,n,{});t.postStyleProps.forEach(t=>r[t]=!0),n!==e&&g.add(n)});const C=ve(g.values());return Ze(e,this._triggerName,n,i,_,d,p,y,C,m,b,w)}}class tn{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},i=ue(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(i[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const r=t;Object.keys(r).forEach(t=>{let o=r[t];o.length>1&&(o=_e(o,i,e)),n[t]=o})}}),n}}class en{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new tn(t.style,t.options&&t.options.params||{})}),nn(this.states,"true","1"),nn(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new Je(t,e,this.states))}),this.fallbackTransition=new Je(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,i){return this.transitionFactories.find(r=>r.match(t,e,n,i))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function nn(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const rn=new Le;class on{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],i=Re(this._driver,e,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: "+n.join("\n"));this._animations[t]=i}_buildPlayer(t,e,n){const i=t.element,r=qt(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(i,r,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const i=[],r=this._animations[t];let o;const s=new Map;if(r?(o=qe(this._driver,e,r,"ng-enter","ng-leave",{},{},n,rn,i),o.forEach(t=>{const e=Wt(s,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)})):(i.push("The requested animation doesn't exist or has already been destroyed"),o=[]),i.length)throw new Error("Unable to create the animation due to the following errors: "+i.join("\n"));s.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,"*")})});const a=Ut(o.map(t=>{const e=s.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=a,a.onDestroy(()=>this.destroy(t)),this.players.push(a),a}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error("Unable to find the timeline player referenced by "+t);return e}listen(t,e,n,i){const r=zt(e,"","","");return Bt(this._getPlayer(t),n,r,i),()=>{}}command(t,e,n,i){if("register"==n)return void this.register(t,i[0]);if("create"==n)return void this.create(t,e,i[0]||{});const r=this._getPlayer(t);switch(n){case"play":r.play();break;case"pause":r.pause();break;case"reset":r.reset();break;case"restart":r.restart();break;case"finish":r.finish();break;case"init":r.init();break;case"setPosition":r.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(t)}}}const sn=[],an={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},cn={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class un{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=null!=(i=n?t.value:t)?i:null,n){const e=ue(t);delete e.value,this.options=e}else this.options={};var i;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const ln=new un("void");class hn{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,_n(e,this._hostClassName)}listen(t,e,n,i){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(r=n)&&"done"!=r)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var r;const o=Wt(this._elementListeners,t,[]),s={name:e,phase:n,callback:i};o.push(s);const a=Wt(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(_n(t,"ng-trigger"),_n(t,"ng-trigger-"+e),a[e]=ln),()=>{this._engine.afterFlush(()=>{const t=o.indexOf(s);t>=0&&o.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,i=!0){const r=this._getTrigger(e),o=new fn(this.id,e,t);let s=this._engine.statesByElement.get(t);s||(_n(t,"ng-trigger"),_n(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,s={}));let a=s[e];const c=new un(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&c.absorbOptions(a.options),s[e]=c,a||(a=ln),"void"!==c.value&&a.value===c.value){if(!function(t,e){const n=Object.keys(t),i=Object.keys(e);if(n.length!=i.length)return!1;for(let r=0;r<n.length;r++){const i=n[r];if(!e.hasOwnProperty(i)||t[i]!==e[i])return!1}return!0}(a.params,c.params)){const e=[],n=r.matchStyles(a.value,a.params,e),i=r.matchStyles(c.value,c.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{pe(t,n),fe(t,i)})}return}const u=Wt(this._engine.playersByElement,t,[]);u.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let l=r.matchTransition(a.value,c.value,t,c.params),h=!1;if(!l){if(!i)return;l=r.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:l,fromState:a,toState:c,player:o,isFallbackTransition:h}),h||(_n(t,"ng-animate-queued"),o.onStart(()=>{vn(t,"ng-animate-queued")})),o.onDone(()=>{let e=this.players.indexOf(o);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(o);t>=0&&n.splice(t,1)}}),this.players.push(o),u.push(o),o}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,".ng-trigger",!0);n.forEach(t=>{if(t.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(t=>this.clearElementCache(t)))}triggerLeaveAnimation(t,e,n,i){const r=this._engine.statesByElement.get(t);if(r){const o=[];if(Object.keys(r).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,"void",i);n&&o.push(n)}}),o.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&Ut(o).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t);if(e){const n=new Set;e.forEach(e=>{const i=e.name;if(n.has(i))return;n.add(i);const r=this._triggers[i].fallbackTransition,o=this._engine.statesByElement.get(t)[i]||ln,s=new un("void"),a=new fn(this.id,i,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:i,transition:r,fromState:o,toState:s,player:a,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let i=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)i=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(t),i)n.markElementAsRemoved(this.id,t,!1,e);else{const i=t.__ng_removed;i&&i!==an||(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){_n(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const i=n.player;if(i.destroyed)return;const r=n.element,o=this._elementListeners.get(r);o&&o.forEach(e=>{if(e.name==n.triggerName){const i=zt(r,n.triggerName,n.fromState.value,n.toState.value);i._data=t,Bt(n.player,e.phase,i,e.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,i=e.transition.ast.depCount;return 0==n||0==i?n-i:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e,e}}class dn{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new hn(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let i=!1;for(let r=n;r>=0;r--)if(this.driver.containsElement(this._namespaceList[r].hostElement,e)){this._namespaceList.splice(r+1,0,t),i=!0;break}i||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let i=this._namespaceLookup[t];i&&i.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let i=0;i<t.length;i++){const r=n[t[i]].namespaceId;if(r){const t=this._fetchNamespace(r);t&&e.add(t)}}}return e}trigger(t,e,n,i){if(pn(e)){const r=this._fetchNamespace(t);if(r)return r.trigger(e,n,i),!0}return!1}insertNode(t,e,n,i){if(!pn(e))return;const r=e.__ng_removed;if(r&&r.setForRemoval){r.setForRemoval=!1,r.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const i=this._fetchNamespace(t);i&&i.insertNode(e,n)}i&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),_n(t,"ng-animate-disabled")):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),vn(t,"ng-animate-disabled"))}removeNode(t,e,n,i){if(pn(e)){const r=t?this._fetchNamespace(t):null;if(r?r.removeNode(e,i):this.markElementAsRemoved(t,e,!1,i),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,i)}}else this._onRemovalComplete(e,i)}markElementAsRemoved(t,e,n,i){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:i,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,i,r){return pn(e)?this._fetchNamespace(t).listen(e,n,i,r):()=>{}}_buildInstruction(t,e,n,i,r){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,i,t.fromState.options,t.toState.options,e,r)}destroyInnerAnimations(t){let e=this.driver.query(t,".ng-trigger",!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,".ng-animating",!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Ut(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t.__ng_removed;if(e&&e.setForRemoval){if(t.__ng_removed=an,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,".ng-animate-disabled")&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)_n(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?Ut(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error("Unable to process animations due to the following failed trigger transitions\n "+t.join("\n"))}_flushAnimations(t,e){const n=new Le,i=[],r=new Map,o=[],s=new Map,a=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(t=>{u.add(t);const e=this.driver.query(t,".ng-animate-queued",!0);for(let n=0;n<e.length;n++)u.add(e[n])});const l=this.bodyNode,h=Array.from(this.statesByElement.keys()),d=bn(h,this.collectedEnterElements),f=new Map;let p=0;d.forEach((t,e)=>{const n="ng-enter"+p++;f.set(e,n),t.forEach(t=>_n(t,n))});const g=[],m=new Set,b=new Set;for(let A=0;A<this.collectedLeaveElements.length;A++){const t=this.collectedLeaveElements[A],e=t.__ng_removed;e&&e.setForRemoval&&(g.push(t),m.add(t),e.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach(t=>m.add(t)):b.add(t))}const _=new Map,v=bn(h,Array.from(m));v.forEach((t,e)=>{const n="ng-leave"+p++;_.set(e,n),t.forEach(t=>_n(t,n))}),t.push(()=>{d.forEach((t,e)=>{const n=f.get(e);t.forEach(t=>vn(t,n))}),v.forEach((t,e)=>{const n=_.get(e);t.forEach(t=>vn(t,n))}),g.forEach(t=>{this.processLeaveNode(t)})});const y=[],w=[];for(let A=this._namespaceList.length-1;A>=0;A--)this._namespaceList[A].drainQueuedTransitions(e).forEach(t=>{const e=t.player,r=t.element;if(y.push(e),this.collectedEnterElements.length){const t=r.__ng_removed;if(t&&t.setForMove)return void e.destroy()}const u=!l||!this.driver.containsElement(l,r),h=_.get(r),d=f.get(r),p=this._buildInstruction(t,n,d,h,u);if(p.errors&&p.errors.length)w.push(p);else{if(u)return e.onStart(()=>pe(r,p.fromStyles)),e.onDestroy(()=>fe(r,p.toStyles)),void i.push(e);if(t.isFallbackTransition)return e.onStart(()=>pe(r,p.fromStyles)),e.onDestroy(()=>fe(r,p.toStyles)),void i.push(e);p.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(r,p.timelines),o.push({instruction:p,player:e,element:r}),p.queriedElements.forEach(t=>Wt(s,t,[]).push(e)),p.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=a.get(e);t||a.set(e,t=new Set),n.forEach(e=>t.add(e))}}),p.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let i=c.get(e);i||c.set(e,i=new Set),n.forEach(t=>i.add(t))})}});if(w.length){const t=[];w.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),y.forEach(t=>t.destroy()),this.reportError(t)}const C=new Map,S=new Map;o.forEach(t=>{const e=t.element;n.has(e)&&(S.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,C))}),i.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{Wt(C,e,[]).push(t),t.destroy()})});const k=g.filter(t=>Cn(t,a,c)),O=new Map;mn(O,this.driver,b,c,"*").forEach(t=>{Cn(t,a,c)&&k.push(t)});const T=new Map;d.forEach((t,e)=>{mn(T,this.driver,new Set(t),a,"!")}),k.forEach(t=>{const e=O.get(t),n=T.get(t);O.set(t,Object.assign(Object.assign({},e),n))});const x=[],E=[],I={};o.forEach(t=>{const{element:e,player:o,instruction:s}=t;if(n.has(e)){if(u.has(e))return o.onDestroy(()=>fe(e,s.toStyles)),o.disabled=!0,o.overrideTotalTime(s.totalTime),void i.push(o);let t=I;if(S.size>1){let n=e;const i=[];for(;n=n.parentNode;){const e=S.get(n);if(e){t=e;break}i.push(n)}i.forEach(e=>S.set(e,t))}const n=this._buildAnimation(o.namespaceId,s,C,r,T,O);if(o.setRealPlayer(n),t===I)x.push(o);else{const e=this.playersByElement.get(t);e&&e.length&&(o.parentPlayer=Ut(e)),i.push(o)}}else pe(e,s.fromStyles),o.onDestroy(()=>fe(e,s.toStyles)),E.push(o),u.has(e)&&i.push(o)}),E.forEach(t=>{const e=r.get(t.element);if(e&&e.length){const n=Ut(e);t.setRealPlayer(n)}}),i.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let A=0;A<g.length;A++){const t=g[A],e=t.__ng_removed;if(vn(t,"ng-leave"),e&&e.hasAnimation)continue;let n=[];if(s.size){let e=s.get(t);e&&e.length&&n.push(...e);let i=this.driver.query(t,".ng-animating",!0);for(let t=0;t<i.length;t++){let e=s.get(i[t]);e&&e.length&&n.push(...e)}}const i=n.filter(t=>!t.destroyed);i.length?yn(this,t,i):this.processLeaveNode(t)}return g.length=0,x.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),x}elementContainsData(t,e){let n=!1;const i=e.__ng_removed;return i&&i.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,i,r){let o=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(o=e)}else{const e=this.playersByElement.get(t);if(e){const t=!r||"void"==r;e.forEach(e=>{e.queued||(t||e.triggerName==i)&&o.push(e)})}}return(n||i)&&(o=o.filter(t=>!(n&&n!=t.namespaceId||i&&i!=t.triggerName))),o}_beforeAnimationBuild(t,e,n){const i=e.element,r=e.isRemovalTransition?void 0:t,o=e.isRemovalTransition?void 0:e.triggerName;for(const s of e.timelines){const t=s.element,a=t!==i,c=Wt(n,t,[]);this._getPreviousPlayers(t,a,r,o,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),c.push(t)})}pe(i,e.fromStyles)}_buildAnimation(t,e,n,i,r,o){const s=e.triggerName,a=e.element,c=[],u=new Set,l=new Set,h=e.timelines.map(e=>{const h=e.element;u.add(h);const d=h.__ng_removed;if(d&&d.removedBeforeQueried)return new Ft(e.duration,e.delay);const f=h!==a,p=function(t){const e=[];return wn(t,e),e}((n.get(h)||sn).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===h),g=r.get(h),m=o.get(h),b=qt(0,this._normalizer,0,e.keyframes,g,m),_=this._buildPlayer(e,b,p);if(e.subTimeline&&i&&l.add(h),f){const e=new fn(t,s,h);e.setRealPlayer(_),c.push(e)}return _});c.forEach(t=>{Wt(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>function(t,e,n){let i;if(t instanceof Map){if(i=t.get(e),i){if(i.length){const t=i.indexOf(n);i.splice(t,1)}0==i.length&&t.delete(e)}}else if(i=t[e],i){if(i.length){const t=i.indexOf(n);i.splice(t,1)}0==i.length&&delete t[e]}return i}(this.playersByQueriedElement,t.element,t))}),u.forEach(t=>_n(t,"ng-animating"));const d=Ut(h);return d.onDestroy(()=>{u.forEach(t=>vn(t,"ng-animating")),fe(a,e.toStyles)}),l.forEach(t=>{Wt(i,t,[]).push(d)}),d}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new Ft(t.duration,t.delay)}}class fn{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new Ft,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>Bt(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Wt(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function pn(t){return t&&1===t.nodeType}function gn(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function mn(t,e,n,i,r){const o=[];n.forEach(t=>o.push(gn(t)));const s=[];i.forEach((n,i)=>{const o={};n.forEach(t=>{const n=o[t]=e.computeStyle(i,t,r);n&&0!=n.length||(i.__ng_removed=cn,s.push(i))}),t.set(i,o)});let a=0;return n.forEach(t=>gn(t,o[a++])),s}function bn(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const i=new Set(e),r=new Map;function o(t){if(!t)return 1;let e=r.get(t);if(e)return e;const s=t.parentNode;return e=n.has(s)?s:i.has(s)?1:o(s),r.set(t,e),e}return e.forEach(t=>{const e=o(t);1!==e&&n.get(e).push(t)}),n}function _n(t,e){if(t.classList)t.classList.add(e);else{let n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function vn(t,e){if(t.classList)t.classList.remove(e);else{let n=t.$$classes;n&&delete n[e]}}function yn(t,e,n){Ut(n).onDone(()=>t.processLeaveNode(e))}function wn(t,e){for(let n=0;n<t.length;n++){const i=t[n];i instanceof Lt?wn(i.players,e):e.push(i)}}function Cn(t,e,n){const i=n.get(t);if(!i)return!1;let r=e.get(t);return r?i.forEach(t=>r.add(t)):e.set(t,i),n.delete(t),!0}class Sn{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new dn(t,e,n),this._timelineEngine=new on(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,i,r){const o=t+"-"+i;let s=this._triggerCache[o];if(!s){const t=[],e=Re(this._driver,r,t);if(t.length)throw new Error(`The animation trigger "${i}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);s=function(t,e){return new en(t,e)}(i,e),this._triggerCache[o]=s}this._transitionEngine.registerTrigger(e,i,s)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,i){this._transitionEngine.insertNode(t,e,n,i)}onRemove(t,e,n,i){this._transitionEngine.removeNode(t,e,i||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,i){if("@"==n.charAt(0)){const[t,r]=Gt(n);this._timelineEngine.command(t,e,r,i)}else this._transitionEngine.trigger(t,e,n,i)}listen(t,e,n,i,r){if("@"==n.charAt(0)){const[t,i]=Gt(n);return this._timelineEngine.listen(t,e,i,r)}return this._transitionEngine.listen(t,e,n,i,r)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function kn(t,e){let n=null,i=null;return Array.isArray(e)&&e.length?(n=Tn(e[0]),e.length>1&&(i=Tn(e[e.length-1]))):e&&(n=Tn(e)),n||i?new On(t,n,i):null}let On=(()=>{class t{constructor(e,n,i){this._element=e,this._startStyles=n,this._endStyles=i,this._state=0;let r=t.initialStylesByElement.get(e);r||t.initialStylesByElement.set(e,r={}),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&fe(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(fe(this._element,this._initialStyles),this._endStyles&&(fe(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(pe(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(pe(this._element,this._endStyles),this._endStyles=null),fe(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function Tn(t){let e=null;const n=Object.keys(t);for(let i=0;i<n.length;i++){const r=n[i];xn(r)&&(e=e||{},e[r]=t[r])}return e}function xn(t){return"display"===t||"position"===t}class En{constructor(t,e,n,i,r,o,s){this._element=t,this._name=e,this._duration=n,this._delay=i,this._easing=r,this._fillMode=o,this._onDoneFn=s,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const n=Mn(t,"").trim();n.length&&(function(t,e){let n=0;for(let i=0;i<t.length;i++)","===t.charAt(i)&&n++}(n),e=`${n}, ${e}`),Dn(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),Pn(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){In(this._element,this._name,"paused")}resume(){In(this._element,this._name,"running")}setPosition(t){const e=An(this._element,this._name);this._position=t*this._duration,Dn(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),Pn(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=Mn(t,"").split(","),i=Rn(n,e);i>=0&&(n.splice(i,1),Dn(t,"",n.join(",")))}(this._element,this._name))}}function In(t,e,n){Dn(t,"PlayState",n,An(t,e))}function An(t,e){const n=Mn(t,"");return n.indexOf(",")>0?Rn(n.split(","),e):Rn([n],e)}function Rn(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function Pn(t,e,n){n?t.removeEventListener("animationend",e):t.addEventListener("animationend",e)}function Dn(t,e,n,i){const r="animation"+e;if(null!=i){const e=t.style[r];if(e.length){const t=e.split(",");t[i]=n,n=t.join(",")}}t.style[r]=n}function Mn(t,e){return t.style["animation"+e]||""}class Nn{constructor(t,e,n,i,r,o,s,a){this.element=t,this.keyframes=e,this.animationName=n,this._duration=i,this._delay=r,this._finalStyles=s,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=o||"linear",this.totalTime=i+r,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new En(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:Oe(this.element,n))})}this.currentSnapshot=t}}class jn extends Ft{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=ie(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class Fn{constructor(){this._count=0,this._head=document.querySelector("head")}validateStyleProperty(t){return Jt(t)}matchesElement(t,e){return te(t,e)}containsElement(t,e){return ee(t,e)}query(t,e,n){return ne(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>ie(t));let i=`@keyframes ${e} {\n`,r="";n.forEach(t=>{r=" ";const e=parseFloat(t.offset);i+=`${r}${100*e}% {\n`,r+=" ",Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(i+=`${r}animation-timing-function: ${n};\n`));default:return void(i+=`${r}${e}: ${n};\n`)}}),i+=r+"}\n"}),i+="}\n";const o=document.createElement("style");return o.textContent=i,o}animate(t,e,n,i,r,o=[],s){const a=o.filter(t=>t instanceof Nn),c={};Ce(n,i)&&a.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>c[t]=e[t])});const u=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=Se(t,e,c));if(0==n)return new jn(t,u);const l="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(t,l,e);document.querySelector("head").appendChild(h);const d=kn(t,e),f=new Nn(t,e,l,n,i,r,u,d);return f.onDestroy(()=>{var t;(t=h).parentNode.removeChild(t)}),f}}class Ln{constructor(t,e,n,i){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:Oe(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class Vn{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(Un().toString()),this._cssKeyframesDriver=new Fn}validateStyleProperty(t){return Jt(t)}matchesElement(t,e){return te(t,e)}containsElement(t,e){return ee(t,e)}query(t,e,n){return ne(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,i,r,o=[],s){if(!s&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,i,r,o);const a={duration:n,delay:i,fill:0==i?"both":"forwards"};r&&(a.easing=r);const c={},u=o.filter(t=>t instanceof Ln);Ce(n,i)&&u.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>c[t]=e[t])});const l=kn(t,e=Se(t,e=e.map(t=>le(t,!1)),c));return new Ln(t,e,a,l)}}function Un(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}let qn=(()=>{class t extends xt{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:i.R.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?At(t):t;return zn(this._renderer,null,e,"register",[n]),new Bn(e,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(i.F),i.Wb(s))},t.\u0275prov=i.Ib({token:t,factory:t.\u0275fac}),t})();class Bn extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new Hn(this._id,t,e||{},this._renderer)}}class Hn{constructor(t,e,n,i){this.id=t,this.element=e,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return zn(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function zn(t,e,n,i,r){return t.setProperty(e,`@@${n}:${i}`,r)}let Wn=(()=>{class t{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new Gn("",n,this.engine),this._rendererCache.set(n,t)),t}const i=e.id,r=e.id+"-"+this._currentId;this._currentId++,this.engine.register(r,t);const o=e=>{Array.isArray(e)?e.forEach(o):this.engine.registerTrigger(i,r,t,e.name,e)};return e.data.animation.forEach(o),new Kn(this,r,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(i.F),i.Wb(Sn),i.Wb(i.z))},t.\u0275prov=i.Ib({token:t,factory:t.\u0275fac}),t})();class Gn{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n,i=!0){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,i)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,i){this.delegate.setAttribute(t,e,n,i)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,i){this.delegate.setStyle(t,e,n,i)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){"@"==e.charAt(0)&&"@.disabled"==e?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class Kn extends Gn{constructor(t,e,n,i){super(e,n,i),this.factory=t,this.namespaceId=e}setProperty(t,e,n){"@"==e.charAt(0)?"."==e.charAt(1)&&"@.disabled"==e?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if("@"==e.charAt(0)){const i=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let r=e.substr(1),o="";return"@"!=r.charAt(0)&&([r,o]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(r)),this.engine.listen(this.namespaceId,i,r,o,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}let $n=(()=>{class t extends Sn{constructor(t,e,n){super(t.body,e,n)}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(s),i.Wb(oe),i.Wb($e))},t.\u0275prov=i.Ib({token:t,factory:t.\u0275fac}),t})();const Yn=new i.q("AnimationModuleType"),Qn=[{provide:oe,useFactory:function(){return"function"==typeof Un()?new Vn:new Fn}},{provide:Yn,useValue:"BrowserAnimations"},{provide:xt,useClass:qn},{provide:$e,useFactory:function(){return new Ye}},{provide:Sn,useClass:$n},{provide:i.F,useFactory:function(t,e,n){return new Wn(t,e,n)},deps:[ft,Sn,i.z]}];let Zn=(()=>{class t{}return t.\u0275mod=i.Kb({type:t}),t.\u0275inj=i.Jb({factory:function(e){return new(e||t)},providers:Qn,imports:[Tt]}),t})();var Xn=n("HDdC"),Jn=n("DH7j"),ti=n("lJxs"),ei=n("XoHu"),ni=n("Cfvw");function ii(t,e){return new Xn.a(n=>{const i=t.length;if(0===i)return void n.complete();const r=new Array(i);let o=0,s=0;for(let a=0;a<i;a++){const c=Object(ni.a)(t[a]);let u=!1;n.add(c.subscribe({next:t=>{u||(u=!0,s++),r[a]=t},error:t=>n.error(t),complete:()=>{o++,o!==i&&u||(s===i&&n.next(e?e.reduce((t,e,n)=>(t[e]=r[n],t),{}):r),n.complete())}}))}})}const ri=new i.q("NgValueAccessor"),oi={provide:ri,useExisting:Object(i.U)(()=>si),multi:!0};let si=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(i.Mb(i.E),i.Mb(i.l))},t.\u0275dir=i.Hb({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&i.Zb("change",function(t){return e.onChange(t.target.checked)})("blur",function(){return e.onTouched()})},features:[i.zb([oi])]}),t})();const ai={provide:ri,useExisting:Object(i.U)(()=>ui),multi:!0},ci=new i.q("CompositionEventMode");let ui=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=o()?o().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(i.Mb(i.E),i.Mb(i.l),i.Mb(ci,8))},t.\u0275dir=i.Hb({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&i.Zb("input",function(t){return e._handleInput(t.target.value)})("blur",function(){return e.onTouched()})("compositionstart",function(){return e._compositionStart()})("compositionend",function(t){return e._compositionEnd(t.target.value)})},features:[i.zb([ai])]}),t})();function li(t){return null==t||0===t.length}function hi(t){return null!=t&&"number"==typeof t.length}const di=new i.q("NgValidators"),fi=new i.q("NgAsyncValidators"),pi=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class gi{static min(t){return e=>{if(li(e.value)||li(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(li(e.value)||li(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return li(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return li(t.value)||pi.test(t.value)?null:{email:!0}}static minLength(t){return e=>li(e.value)||!hi(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}static maxLength(t){return e=>hi(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}static pattern(t){if(!t)return gi.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(li(t.value))return null;const i=t.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(mi);return 0==e.length?null:function(t){return _i(vi(t,e))}}static composeAsync(t){if(!t)return null;const e=t.filter(mi);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if(Object(Jn.a)(e))return ii(e,null);if(Object(ei.a)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return ii(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return ii(t=1===t.length&&Object(Jn.a)(t[0])?t[0]:t,null).pipe(Object(ti.a)(t=>e(...t)))}return ii(t,null)}(vi(t,e).map(bi)).pipe(Object(ti.a)(_i))}}}function mi(t){return null!=t}function bi(t){const e=Object(i.sb)(t)?Object(ni.a)(t):t;return Object(i.rb)(e),e}function _i(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function vi(t,e){return e.map(e=>e(t))}function yi(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}function wi(t){return null!=t?gi.compose(yi(t)):null}function Ci(t){return null!=t?gi.composeAsync(yi(t)):null}function Si(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function ki(t){return t._rawValidators}function Oi(t){return t._rawAsyncValidators}let Ti=(()=>{class t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=wi(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Ci(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.Hb({type:t}),t})(),xi=(()=>{class t extends Ti{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return Ei(e||t)},t.\u0275dir=i.Hb({type:t,features:[i.xb]}),t})();const Ei=i.Ub(xi);class Ii extends Ti{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Ai{constructor(t){this._cd=t}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}let Ri=(()=>{class t extends Ai{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(i.Mb(Ii,2))},t.\u0275dir=i.Hb({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&i.Eb("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[i.xb]}),t})(),Pi=(()=>{class t extends Ai{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(i.Mb(xi,2))},t.\u0275dir=i.Hb({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&i.Eb("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[i.xb]}),t})();const Di={provide:ri,useExisting:Object(i.U)(()=>Mi),multi:!0};let Mi=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(i.Mb(i.E),i.Mb(i.l))},t.\u0275dir=i.Hb({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&i.Zb("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[i.zb([Di])]}),t})();const Ni={provide:ri,useExisting:Object(i.U)(()=>Fi),multi:!0};let ji=(()=>{class t{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Ib({token:t,factory:t.\u0275fac}),t})(),Fi=(()=>{class t{constructor(t,e,n,i){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=i,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(Ii),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return t.\u0275fac=function(e){return new(e||t)(i.Mb(i.E),i.Mb(i.l),i.Mb(ji),i.Mb(i.r))},t.\u0275dir=i.Hb({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&i.Zb("change",function(){return e.onChange()})("blur",function(){return e.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[i.zb([Ni])]}),t})();const Li={provide:ri,useExisting:Object(i.U)(()=>Vi),multi:!0};let Vi=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(i.Mb(i.E),i.Mb(i.l))},t.\u0275dir=i.Hb({type:t,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&i.Zb("change",function(t){return e.onChange(t.target.value)})("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[i.zb([Li])]}),t})();const Ui={provide:ri,useExisting:Object(i.U)(()=>Bi),multi:!0};function qi(t,e){return null==t?""+e:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let Bi=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=qi(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}return t.\u0275fac=function(e){return new(e||t)(i.Mb(i.E),i.Mb(i.l))},t.\u0275dir=i.Hb({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&i.Zb("change",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[i.zb([Ui])]}),t})(),Hi=(()=>{class t{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(qi(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(i.Mb(i.l),i.Mb(i.E),i.Mb(Bi,9))},t.\u0275dir=i.Hb({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();const zi={provide:ri,useExisting:Object(i.U)(()=>Gi),multi:!0};function Wi(t,e){return null==t?""+e:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let Gi=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(void 0!==e.selectedOptions){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const i=t.item(e),r=this._getOptionValue(i.value);n.push(r)}}else{const t=e.options;for(let e=0;e<t.length;e++){const i=t.item(e);if(i.selected){const t=this._getOptionValue(i.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}return t.\u0275fac=function(e){return new(e||t)(i.Mb(i.E),i.Mb(i.l))},t.\u0275dir=i.Hb({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&i.Zb("change",function(t){return e.onChange(t.target)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[i.zb([zi])]}),t})(),Ki=(()=>{class t{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(Wi(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(Wi(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(i.Mb(i.l),i.Mb(i.E),i.Mb(Gi,9))},t.\u0275dir=i.Hb({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();function $i(t,e){return[...e.path,t]}function Yi(t,e){Zi(t,e,!0),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&Ji(t,e)})}(t,e),function(t,e){const n=(t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&Ji(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){const n=t=>{e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function Qi(t,e){t.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Zi(t,e,n){const i=ki(t);null!==e.validator?t.setValidators(Si(i,e.validator)):"function"==typeof i&&t.setValidators([i]);const r=Oi(t);if(null!==e.asyncValidator?t.setAsyncValidators(Si(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]),n){const n=()=>t.updateValueAndValidity();Qi(e._rawValidators,n),Qi(e._rawAsyncValidators,n)}}function Xi(t,e,n){if(null!==t){if(null!==e.validator){const n=ki(t);Array.isArray(n)&&n.length>0&&t.setValidators(n.filter(t=>t!==e.validator))}if(null!==e.asyncValidator){const n=Oi(t);Array.isArray(n)&&n.length>0&&t.setAsyncValidators(n.filter(t=>t!==e.asyncValidator))}}if(n){const t=()=>{};Qi(e._rawValidators,t),Qi(e._rawAsyncValidators,t)}}function Ji(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function tr(t,e){Zi(t,e,!1)}function er(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}const nr=[si,Vi,Mi,Bi,Gi,Fi];function ir(t,e){t._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)})}function rr(t,e){if(!e)return null;Array.isArray(e);let n=void 0,i=void 0,r=void 0;return e.forEach(t=>{var e;t.constructor===ui?n=t:(e=t,nr.some(t=>e.constructor===t)?i=t:r=t)}),r||i||n||null}function or(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function sr(t){return(lr(t)?t.validators:t)||null}function ar(t){return Array.isArray(t)?wi(t):t||null}function cr(t,e){return(lr(e)?e.asyncValidators:t)||null}function ur(t){return Array.isArray(t)?Ci(t):t||null}function lr(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class hr{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=ar(this._rawValidators),this._composedAsyncValidatorFn=ur(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return"VALID"===this.status}get invalid(){return"INVALID"===this.status}get pending(){return"PENDING"==this.status}get disabled(){return"DISABLED"===this.status}get enabled(){return"DISABLED"!==this.status}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=ar(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=ur(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status="PENDING",!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status="VALID",this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status="PENDING",this._hasOwnPendingAsyncValidator=!0;const e=bi(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let i=t;return e.forEach(t=>{i=i instanceof fr?i.controls.hasOwnProperty(t)?i.controls[t]:null:i instanceof pr&&i.at(t)||null}),i}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new i.n,this.statusChanges=new i.n}_calculateStatus(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){lr(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class dr extends hr{constructor(t=null,e,n){super(sr(e),cr(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){or(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){or(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class fr extends hr{constructor(t,e,n){super(sr(e),cr(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t={},e={}){this._forEachChild((n,i)=>{n.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof dr?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>t(this.controls[e],e))}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,i)=>{n=e(n,t,i)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class pr extends hr{constructor(t,e,n){super(sr(e),cr(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t=[],e={}){this._forEachChild((n,i)=>{n.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof dr?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const gr={provide:xi,useExisting:Object(i.U)(()=>br)},mr=(()=>Promise.resolve(null))();let br=(()=>{class t extends xi{constructor(t,e){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new i.n,this.form=new fr({},wi(t),Ci(e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){mr.then(()=>{const e=this._findContainer(t.path);t.control=e.registerControl(t.name,t.control),Yi(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){mr.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name),or(this._directives,t)})}addFormGroup(t){mr.then(()=>{const e=this._findContainer(t.path),n=new fr({});tr(n,t),e.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){mr.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,e){mr.then(()=>{this.form.get(t.path).setValue(e)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,ir(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return t.\u0275fac=function(e){return new(e||t)(i.Mb(di,10),i.Mb(fi,10))},t.\u0275dir=i.Hb({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&i.Zb("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[i.zb([gr]),i.xb]}),t})();const _r={provide:Ii,useExisting:Object(i.U)(()=>yr)},vr=(()=>Promise.resolve(null))();let yr=(()=>{class t extends Ii{constructor(t,e,n,r){super(),this.control=new dr,this._registered=!1,this.update=new i.n,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=rr(0,r)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),er(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?$i(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Yi(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){vr.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;vr.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return t.\u0275fac=function(e){return new(e||t)(i.Mb(xi,9),i.Mb(di,10),i.Mb(fi,10),i.Mb(ri,10))},t.\u0275dir=i.Hb({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[i.zb([_r]),i.xb,i.yb]}),t})(),wr=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.Hb({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})();const Cr=new i.q("NgModelWithFormControlWarning"),Sr={provide:Ii,useExisting:Object(i.U)(()=>kr)};let kr=(()=>{class t extends Ii{constructor(t,e,n,r){super(),this._ngModelWarningConfig=r,this.update=new i.n,this._ngModelWarningSent=!1,this._setValidators(t),this._setAsyncValidators(e),this.valueAccessor=rr(0,n)}set isDisabled(t){}ngOnChanges(t){this._isControlChanged(t)&&(Yi(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})),er(t,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}get path(){return[]}get control(){return this.form}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_isControlChanged(t){return t.hasOwnProperty("form")}}return t.\u0275fac=function(e){return new(e||t)(i.Mb(di,10),i.Mb(fi,10),i.Mb(ri,10),i.Mb(Cr,8))},t.\u0275dir=i.Hb({type:t,selectors:[["","formControl",""]],inputs:{isDisabled:["disabled","isDisabled"],form:["formControl","form"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[i.zb([Sr]),i.xb,i.yb]}),t._ngModelWarningSentOnce=!1,t})();const Or={provide:xi,useExisting:Object(i.U)(()=>Tr)};let Tr=(()=>{class t extends xi{constructor(t,e){super(),this.validators=t,this.asyncValidators=e,this.submitted=!1,this.directives=[],this.form=null,this.ngSubmit=new i.n,this._setValidators(t),this._setAsyncValidators(e)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return Yi(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){or(this.directives,t)}addFormGroup(t){const e=this.form.get(t.path);tr(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormGroup(t){}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){const e=this.form.get(t.path);tr(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormArray(t){}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,ir(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=this.form.get(t.path);t.control!==e&&(function(t,e){const n=()=>{};e.valueAccessor.registerOnChange(n),e.valueAccessor.registerOnTouched(n),Xi(t,e,!0),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}(t.control||null,t),e&&Yi(e,t),t.control=e)}),this.form._updateTreeValidity({emitEvent:!1})}_updateRegistrations(){this.form._registerOnCollectionChange(()=>this._updateDomValue()),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Zi(this.form,this,!1),this._oldForm&&Xi(this._oldForm,this,!1)}_checkFormPresent(){}}return t.\u0275fac=function(e){return new(e||t)(i.Mb(di,10),i.Mb(fi,10))},t.\u0275dir=i.Hb({type:t,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&i.Zb("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[i.zb([Or]),i.xb,i.yb]}),t})();const xr={provide:Ii,useExisting:Object(i.U)(()=>Er)};let Er=(()=>{class t extends Ii{constructor(t,e,n,r,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.update=new i.n,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=rr(0,r)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),er(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return $i(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return t.\u0275fac=function(e){return new(e||t)(i.Mb(xi,13),i.Mb(di,10),i.Mb(fi,10),i.Mb(ri,10),i.Mb(Cr,8))},t.\u0275dir=i.Hb({type:t,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[i.zb([xr]),i.xb,i.yb]}),t._ngModelWarningSentOnce=!1,t})(),Ir=(()=>{class t{}return t.\u0275mod=i.Kb({type:t}),t.\u0275inj=i.Jb({factory:function(e){return new(e||t)}}),t})(),Ar=(()=>{class t{group(t,e=null){const n=this._reduceControls(t);let i=null,r=null,o=void 0;return null!=e&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(i=null!=e.validators?e.validators:null,r=null!=e.asyncValidators?e.asyncValidators:null,o=null!=e.updateOn?e.updateOn:void 0):(i=null!=e.validator?e.validator:null,r=null!=e.asyncValidator?e.asyncValidator:null)),new fr(n,{asyncValidators:r,updateOn:o,validators:i})}control(t,e,n){return new dr(t,e,n)}array(t,e,n){const i=t.map(t=>this._createControl(t));return new pr(i,e,n)}_reduceControls(t){const e={};return Object.keys(t).forEach(n=>{e[n]=this._createControl(t[n])}),e}_createControl(t){return t instanceof dr||t instanceof fr||t instanceof pr?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Ib({token:t,factory:t.\u0275fac}),t})(),Rr=(()=>{class t{}return t.\u0275mod=i.Kb({type:t}),t.\u0275inj=i.Jb({factory:function(e){return new(e||t)},providers:[ji],imports:[Ir]}),t})(),Pr=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:Cr,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275mod=i.Kb({type:t}),t.\u0275inj=i.Jb({factory:function(e){return new(e||t)},providers:[Ar,ji],imports:[Ir]}),t})();var Dr=n("LRne"),Mr=n("XNiG"),Nr=n("9ppp");class jr extends Mr.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Nr.a;return this._value}next(t){super.next(this._value=t)}}var Fr=n("z+Ro"),Lr=n("7o/Q");class Vr extends Lr.a{notifyNext(t,e,n,i,r){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class Ur extends Lr.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var qr=n("SeVD");function Br(t,e,n,i,r=new Ur(t,n,i)){if(!r.closed)return e instanceof Xn.a?e.subscribe(r):Object(qr.a)(e)(r)}var Hr=n("yCtX");const zr={};class Wr{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new Gr(t,this.resultSelector))}}class Gr extends Vr{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(zr),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(Br(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const i=this.values,r=this.toRespond?i[n]===zr?--this.toRespond:this.toRespond:0;i[n]=e,0===r&&(this.resultSelector?this._tryResultSelector(i):this.destination.next(i.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const Kr=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();var $r=n("EY2u");function Yr(t){return new Xn.a(e=>{let n;try{n=t()}catch(i){return void e.error(i)}return(n?Object(ni.a)(n):Object($r.b)()).subscribe(e)})}var Qr=n("bHdf");function Zr(){return Object(Qr.a)(1)}function Xr(t,e){return function(n){return n.lift(new Jr(t,e))}}class Jr{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new to(t,this.predicate,this.thisArg))}}class to extends Lr.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}const eo=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function no(t){return function(e){return 0===t?Object($r.b)():e.lift(new io(t))}}class io{constructor(t){if(this.total=t,this.total<0)throw new eo}call(t,e){return e.subscribe(new ro(t,this.total))}}class ro extends Lr.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,i=this.count++;e.length<n?e.push(t):e[i%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,i=this.ring;for(let r=0;r<n;r++){const r=e++%n;t.next(i[r])}}t.complete()}}function oo(t=co){return e=>e.lift(new so(t))}class so{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new ao(t,this.errorFactory))}}class ao extends Lr.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(cx){t=cx}this.destination.error(t)}}}function co(){return new Kr}function uo(t=null){return e=>e.lift(new lo(t))}class lo{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new ho(t,this.defaultValue))}}class ho extends Lr.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var fo=n("SpAZ"),po=n("zx2A");function go(t,e){return"function"==typeof e?n=>n.pipe(go((n,i)=>Object(ni.a)(t(n,i)).pipe(Object(ti.a)((t,r)=>e(n,t,i,r))))):e=>e.lift(new mo(t))}class mo{constructor(t){this.project=t}call(t,e){return e.subscribe(new bo(t,this.project))}}class bo extends po.b{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(i){return void this.destination.error(i)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new po.a(this),i=this.destination;i.add(n),this.innerSubscription=Object(po.c)(t,n),this.innerSubscription!==n&&i.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}function _o(t){return e=>0===t?Object($r.b)():e.lift(new vo(t))}class vo{constructor(t){if(this.total=t,this.total<0)throw new eo}call(t,e){return e.subscribe(new yo(t,this.total))}}class yo extends Lr.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function wo(...t){return Zr()(Object(Dr.a)(...t))}function Co(...t){const e=t[t.length-1];return Object(Fr.a)(e)?(t.pop(),n=>wo(t,n,e)):e=>wo(t,e)}function So(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(i){return i.lift(new ko(t,e,n))}}class ko{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new Oo(t,this.accumulator,this.seed,this.hasSeed))}}class Oo extends Lr.a{constructor(t,e,n,i){super(t),this.accumulator=e,this._seed=n,this.hasSeed=i,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(i){this.destination.error(i)}this.seed=n,this.destination.next(n)}}function To(t){return function(e){const n=new xo(t),i=e.lift(n);return n.caught=i}}class xo{constructor(t){this.selector=t}call(t,e){return e.subscribe(new Eo(t,this.selector,this.caught))}}class Eo extends po.b{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const i=new po.a(this);this.add(i);const r=Object(po.c)(n,i);r!==i&&this.add(r)}}}var Io=n("5+tZ");function Ao(t,e){return Object(Io.a)(t,e,1)}function Ro(t,e){const n=arguments.length>=2;return i=>i.pipe(t?Xr((e,n)=>t(e,n,i)):fo.a,_o(1),n?uo(e):oo(()=>new Kr))}var Po=n("vkgz"),Do=n("quSY");class Mo{constructor(t){this.callback=t}call(t,e){return e.subscribe(new No(t,this.callback))}}class No extends Lr.a{constructor(t,e){super(t),this.add(new Do.a(e))}}class jo{constructor(t,e){this.id=t,this.url=e}}class Fo extends jo{constructor(t,e,n="imperative",i=null){super(t,e),this.navigationTrigger=n,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Lo extends jo{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Vo extends jo{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Uo extends jo{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class qo extends jo{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Bo extends jo{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ho extends jo{constructor(t,e,n,i,r){super(t,e),this.urlAfterRedirects=n,this.state=i,this.shouldActivate=r}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class zo extends jo{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Wo extends jo{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Go{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ko{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class $o{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Yo{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Qo{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Zo{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xo{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Jo{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function ts(t){return new Jo(t)}function es(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function ns(t,e,n){const i=n.path.split("/");if(i.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||i.length<t.length))return null;const r={};for(let o=0;o<i.length;o++){const e=i[o],n=t[o];if(e.startsWith(":"))r[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,i.length),posParams:r}}function is(t,e){const n=Object.keys(t),i=Object.keys(e);if(!n||!i||n.length!=i.length)return!1;let r;for(let o=0;o<n.length;o++)if(r=n[o],!rs(t[r],e[r]))return!1;return!0}function rs(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),i=[...e].sort();return n.every((t,e)=>i[e]===t)}return t===e}function os(t){return Array.prototype.concat.apply([],t)}function ss(t){return t.length>0?t[t.length-1]:null}function as(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function cs(t){return Object(i.rb)(t)?t:Object(i.sb)(t)?Object(ni.a)(Promise.resolve(t)):Object(Dr.a)(t)}function us(t,e,n){return n?function(t,e){return is(t,e)}(t.queryParams,e.queryParams)&&ls(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>rs(t[n],e[n]))}(t.queryParams,e.queryParams)&&hs(t.root,e.root)}function ls(t,e){if(!ms(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(const n in e.children){if(!t.children[n])return!1;if(!ls(t.children[n],e.children[n]))return!1}return!0}function hs(t,e){return ds(t,e,e.segments)}function ds(t,e,n){if(t.segments.length>n.length)return!!ms(t.segments.slice(0,n.length),n)&&!e.hasChildren();if(t.segments.length===n.length){if(!ms(t.segments,n))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!hs(t.children[n],e.children[n]))return!1}return!0}{const i=n.slice(0,t.segments.length),r=n.slice(t.segments.length);return!!ms(t.segments,i)&&!!t.children.primary&&ds(t.children.primary,e,r)}}class fs{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ts(this.queryParams)),this._queryParamMap}toString(){return ys.serialize(this)}}class ps{constructor(t,e){this.segments=t,this.children=e,this.parent=null,as(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ws(this)}}class gs{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=ts(this.parameters)),this._parameterMap}toString(){return Es(this)}}function ms(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}function bs(t,e){let n=[];return as(t.children,(t,i)=>{"primary"===i&&(n=n.concat(e(t,i)))}),as(t.children,(t,i)=>{"primary"!==i&&(n=n.concat(e(t,i)))}),n}class _s{}class vs{parse(t){const e=new Ds(t);return new fs(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){return`${"/"+Cs(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${ks(e)}=${ks(t)}`).join("&"):`${ks(e)}=${ks(n)}`});return e.length?"?"+e.join("&"):""}(t.queryParams)}${"string"==typeof t.fragment?"#"+encodeURI(t.fragment):""}`}}const ys=new vs;function ws(t){return t.segments.map(t=>Es(t)).join("/")}function Cs(t,e){if(!t.hasChildren())return ws(t);if(e){const e=t.children.primary?Cs(t.children.primary,!1):"",n=[];return as(t.children,(t,e)=>{"primary"!==e&&n.push(`${e}:${Cs(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=bs(t,(e,n)=>"primary"===n?[Cs(t.children.primary,!1)]:[`${n}:${Cs(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${ws(t)}/${e[0]}`:`${ws(t)}/(${e.join("//")})`}}function Ss(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ks(t){return Ss(t).replace(/%3B/gi,";")}function Os(t){return Ss(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ts(t){return decodeURIComponent(t)}function xs(t){return Ts(t.replace(/\+/g,"%20"))}function Es(t){return`${Os(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${Os(t)}=${Os(e[t])}`).join("")}`;var e}const Is=/^[^\/()?;=#]+/;function As(t){const e=t.match(Is);return e?e[0]:""}const Rs=/^[^=?&#]+/,Ps=/^[^?&#]+/;class Ds{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ps([],{}):new ps([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new ps(t,e)),n}parseSegment(){const t=As(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new gs(Ts(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=As(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=As(this.remaining);t&&(n=t,this.capture(n))}t[Ts(e)]=Ts(n)}parseQueryParam(t){const e=function(t){const e=t.match(Rs);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(Ps);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const i=xs(e),r=xs(n);if(t.hasOwnProperty(i)){let e=t[i];Array.isArray(e)||(e=[e],t[i]=e),e.push(r)}else t[i]=r}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=As(this.remaining),i=this.remaining[n.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let r=void 0;n.indexOf(":")>-1?(r=n.substr(0,n.indexOf(":")),this.capture(r),this.capture(":")):t&&(r="primary");const o=this.parseChildren();e[r]=1===Object.keys(o).length?o.primary:new ps([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Ms{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Ns(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=Ns(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=js(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return js(t,this._root).map(t=>t.value)}}function Ns(t,e){if(t===e.value)return e;for(const n of e.children){const e=Ns(t,n);if(e)return e}return null}function js(t,e){if(t===e.value)return[e];for(const n of e.children){const i=js(t,n);if(i.length)return i.unshift(e),i}return[]}class Fs{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Ls(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class Vs extends Ms{constructor(t,e){super(t),this.snapshot=e,Ws(this,t)}toString(){return this.snapshot.toString()}}function Us(t,e){const n=function(t,e){const n=new Hs([],{},{},"",{},"primary",e,null,t.root,-1,{});return new zs("",new Fs(n,[]))}(t,e),i=new jr([new gs("",{})]),r=new jr({}),o=new jr({}),s=new jr({}),a=new jr(""),c=new qs(i,r,s,a,o,"primary",e,n.root);return c.snapshot=n.root,new Vs(new Fs(c,[]),n)}class qs{constructor(t,e,n,i,r,o,s,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=i,this.data=r,this.outlet=o,this.component=s,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(ti.a)(t=>ts(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(ti.a)(t=>ts(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Bs(t,e="emptyOnly"){const n=t.pathFromRoot;let i=0;if("always"!==e)for(i=n.length-1;i>=1;){const t=n[i],e=n[i-1];if(t.routeConfig&&""===t.routeConfig.path)i--;else{if(e.component)break;i--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(i))}class Hs{constructor(t,e,n,i,r,o,s,a,c,u,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=i,this.data=r,this.outlet=o,this.component=s,this.routeConfig=a,this._urlSegment=c,this._lastPathIndex=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ts(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ts(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class zs extends Ms{constructor(t,e){super(e),this.url=t,Ws(this,e)}toString(){return Gs(this._root)}}function Ws(t,e){e.value._routerState=t,e.children.forEach(e=>Ws(t,e))}function Gs(t){const e=t.children.length>0?` { ${t.children.map(Gs).join(", ")} } `:"";return`${t.value}${e}`}function Ks(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,is(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),is(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!is(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),is(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function $s(t,e){return is(t.params,e.params)&&function(t,e){return ms(t,e)&&t.every((t,n)=>is(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||$s(t.parent,e.parent))}function Ys(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const i=n.value;i._futureSnapshot=e.value;const r=function(t,e,n){return e.children.map(e=>{for(const i of n.children)if(t.shouldReuseRoute(e.value,i.value.snapshot))return Ys(t,e,i);return Ys(t,e)})}(t,e,n);return new Fs(i,r)}{const n=t.retrieve(e.value);if(n){const t=n.route;return Qs(e,t),t}{const n=new qs(new jr((i=e.value).url),new jr(i.params),new jr(i.queryParams),new jr(i.fragment),new jr(i.data),i.outlet,i.component,i),r=e.children.map(e=>Ys(t,e));return new Fs(n,r)}}var i}function Qs(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)Qs(t.children[n],e.children[n])}function Zs(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Xs(t){return"object"==typeof t&&null!=t&&t.outlets}function Js(t,e,n,i,r){let o={};return i&&as(i,(t,e)=>{o[e]=Array.isArray(t)?t.map(t=>""+t):""+t}),new fs(n.root===t?e:ta(n.root,t,e),o,r)}function ta(t,e,n){const i={};return as(t.children,(t,r)=>{i[r]=t===e?n:ta(t,e,n)}),new ps(t.segments,i)}class ea{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&Zs(n[0]))throw new Error("Root segment cannot have matrix parameters");const i=n.find(Xs);if(i&&i!==ss(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class na{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function ia(t,e,n){if(t||(t=new ps([],{})),0===t.segments.length&&t.hasChildren())return ra(t,e,n);const i=function(t,e,n){let i=0,r=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<t.segments.length;){if(i>=n.length)return o;const e=t.segments[r],s=n[i];if(Xs(s))break;const a=""+s,c=i<n.length-1?n[i+1]:null;if(r>0&&void 0===a)break;if(a&&c&&"object"==typeof c&&void 0===c.outlets){if(!ca(a,c,e))return o;i+=2}else{if(!ca(a,{},e))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(t,e,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){const e=new ps(t.segments.slice(0,i.pathIndex),{});return e.children.primary=new ps(t.segments.slice(i.pathIndex),t.children),ra(e,0,r)}return i.match&&0===r.length?new ps(t.segments,{}):i.match&&!t.hasChildren()?oa(t,e,n):i.match?ra(t,0,r):oa(t,e,n)}function ra(t,e,n){if(0===n.length)return new ps(t.segments,{});{const i=function(t){return Xs(t[0])?t[0].outlets:{primary:t}}(n),r={};return as(i,(n,i)=>{"string"==typeof n&&(n=[n]),null!==n&&(r[i]=ia(t.children[i],e,n))}),as(t.children,(t,e)=>{void 0===i[e]&&(r[e]=t)}),new ps(t.segments,r)}}function oa(t,e,n){const i=t.segments.slice(0,e);let r=0;for(;r<n.length;){const o=n[r];if(Xs(o)){const t=sa(o.outlets);return new ps(i,t)}if(0===r&&Zs(n[0])){i.push(new gs(t.segments[e].path,n[0])),r++;continue}const s=Xs(o)?o.outlets.primary:""+o,a=r<n.length-1?n[r+1]:null;s&&a&&Zs(a)?(i.push(new gs(s,aa(a))),r+=2):(i.push(new gs(s,{})),r++)}return new ps(i,{})}function sa(t){const e={};return as(t,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=oa(new ps([],{}),0,t))}),e}function aa(t){const e={};return as(t,(t,n)=>e[n]=""+t),e}function ca(t,e,n){return t==n.path&&is(e,n.parameters)}class ua{constructor(t,e,n,i){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=i}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Ks(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const i=Ls(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,i[e],n),delete i[e]}),as(i,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const i=t.value,r=e?e.value:null;if(i===r)if(i.component){const r=n.getContext(i.outlet);r&&this.deactivateChildRoutes(t,e,r.children)}else this.deactivateChildRoutes(t,e,n);else r&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),i=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:i})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet);if(n){const i=Ls(t),r=t.value.component?n.children:e;as(i,(t,e)=>this.deactivateRouteAndItsChildren(t,r)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(t,e,n){const i=Ls(e);t.children.forEach(t=>{this.activateRoutes(t,i[t.value.outlet],n),this.forwardEvent(new Zo(t.value.snapshot))}),t.children.length&&this.forwardEvent(new Yo(t.value.snapshot))}activateRoutes(t,e,n){const i=t.value,r=e?e.value:null;if(Ks(i),i===r)if(i.component){const r=n.getOrCreateContext(i.outlet);this.activateChildRoutes(t,e,r.children)}else this.activateChildRoutes(t,e,n);else if(i.component){const e=n.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const t=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),la(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(i.snapshot),r=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=i,e.resolver=r,e.outlet&&e.outlet.activateWith(i,r),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function la(t){Ks(t.value),t.children.forEach(la)}class ha{constructor(t,e){this.routes=t,this.module=e}}function da(t){return"function"==typeof t}function fa(t){return t instanceof fs}const pa=Symbol("INITIAL_VALUE");function ga(){return go(t=>function(...t){let e=void 0,n=void 0;return Object(Fr.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(Jn.a)(t[0])&&(t=t[0]),Object(Hr.a)(t,n).lift(new Wr(e))}(...t.map(t=>t.pipe(_o(1),Co(pa)))).pipe(So((t,e)=>{let n=!1;return e.reduce((t,i,r)=>{if(t!==pa)return t;if(i===pa&&(n=!0),!n){if(!1===i)return i;if(r===e.length-1||fa(i))return i}return t},t)},pa),Xr(t=>t!==pa),Object(ti.a)(t=>fa(t)?t:!0===t),_o(1)))}let ma=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Gb({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&i.Nb(0,"router-outlet")},directives:function(){return[cc]},encapsulation:2}),t})();function ba(t,e=""){for(let n=0;n<t.length;n++){const i=t[n];_a(i,va(e,i))}}function _a(t,e){t.children&&ba(t.children,e)}function va(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:`${t}/${e.path}`:"":t}function ya(t){const e=t.children&&t.children.map(ya),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=ma),n}function wa(t){return t.outlet||"primary"}class Ca{constructor(t){this.segmentGroup=t||null}}class Sa{constructor(t){this.urlTree=t}}function ka(t){return new Xn.a(e=>e.error(new Ca(t)))}function Oa(t){return new Xn.a(e=>e.error(new Sa(t)))}function Ta(t){return new Xn.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class xa{constructor(t,e,n,r,o){this.configLoader=e,this.urlSerializer=n,this.urlTree=r,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(i.x)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,"primary").pipe(Object(ti.a)(t=>this.createUrlTree(t,this.urlTree.queryParams,this.urlTree.fragment))).pipe(To(t=>{if(t instanceof Sa)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof Ca)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,"primary").pipe(Object(ti.a)(e=>this.createUrlTree(e,t.queryParams,t.fragment))).pipe(To(t=>{if(t instanceof Ca)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const i=t.segments.length>0?new ps([],{primary:t}):t;return new fs(i,e,n)}expandSegmentGroup(t,e,n,i){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(ti.a)(t=>new ps([],t))):this.expandSegment(t,n,e,n.segments,i,!0)}expandChildren(t,e,n){return function(t,e){if(0===Object.keys(t).length)return Object(Dr.a)({});const n=[],i=[],r={};return as(t,(t,o)=>{const s=e(o,t).pipe(Object(ti.a)(t=>r[o]=t));"primary"===o?n.push(s):i.push(s)}),Dr.a.apply(null,n.concat(i)).pipe(Zr(),function(t,e){const n=arguments.length>=2;return i=>i.pipe(t?Xr((e,n)=>t(e,n,i)):fo.a,no(1),n?uo(e):oo(()=>new Kr))}(),Object(ti.a)(()=>r))}(n.children,(n,i)=>this.expandSegmentGroup(t,e,i,n))}expandSegment(t,e,n,i,r,o){const s=function(t){return t.reduce((t,e)=>{const n=wa(e);return t.has(n)?t.get(n).push(e):t.set(n,[e]),t},new Map)}(n);s.has(r)||s.set(r,[]);const a=n=>Object(ni.a)(n).pipe(Ao(s=>this.expandSegmentAgainstRoute(t,e,n,s,i,r,o).pipe(To(t=>{if(t instanceof Ca)return Object(Dr.a)(null);throw t}))),Ro(t=>null!==t),To(t=>{if(t instanceof Kr||"EmptyError"===t.name){if(this.noLeftoversInUrl(e,i,r))return Object(Dr.a)(new ps([],{}));throw new Ca(e)}throw t})),c=Array.from(s.entries()).map(([t,e])=>{const n=a(e);return t===r?n:n.pipe(Object(ti.a)(()=>null),To(()=>Object(Dr.a)(null)))});return Object(ni.a)(c).pipe(t=>t.lift(new Wr(void 0)),Ro(),Object(ti.a)(t=>t.find(t=>null!==t)))}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}expandSegmentAgainstRoute(t,e,n,i,r,o,s){return wa(i)!==o&&""!==i.path?ka(e):void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,e,i,r):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,i,r,o):ka(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,i,r,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,i,r,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,i){const r=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Oa(r):this.lineralizeSegments(n,r).pipe(Object(Io.a)(n=>{const r=new ps(n,{});return this.expandSegment(t,r,e,n,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,i,r,o){const{matched:s,consumedSegments:a,lastChild:c,positionalParamSegments:u}=Ea(e,i,r);if(!s)return ka(e);const l=this.applyRedirectCommands(a,i.redirectTo,u);return i.redirectTo.startsWith("/")?Oa(l):this.lineralizeSegments(i,l).pipe(Object(Io.a)(i=>this.expandSegment(t,e,n,i.concat(r.slice(c)),o,!1)))}matchSegmentAgainstRoute(t,e,n,i){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(Object(ti.a)(t=>(n._loadedConfig=t,new ps(i,{})))):Object(Dr.a)(new ps(i,{}));const{matched:r,consumedSegments:o,lastChild:s}=Ea(e,n,i);if(!r)return ka(e);const a=i.slice(s);return this.getChildConfig(t,n,i).pipe(Object(Io.a)(t=>{const n=t.module,i=t.routes,{segmentGroup:r,slicedSegments:s}=function(t,e,n,i){return n.length>0&&function(t,e,n){return n.some(n=>Aa(t,e,n)&&"primary"!==wa(n))}(t,n,i)?{segmentGroup:Ia(new ps(e,function(t,e){const n={};n.primary=e;for(const i of t)""===i.path&&"primary"!==wa(i)&&(n[wa(i)]=new ps([],{}));return n}(i,new ps(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return n.some(n=>Aa(t,e,n))}(t,n,i)?{segmentGroup:Ia(new ps(t.segments,function(t,e,n,i){const r={};for(const o of n)Aa(t,e,o)&&!i[wa(o)]&&(r[wa(o)]=new ps([],{}));return Object.assign(Object.assign({},i),r)}(t,n,i,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,o,a,i);return 0===s.length&&r.hasChildren()?this.expandChildren(n,i,r).pipe(Object(ti.a)(t=>new ps(o,t))):0===i.length&&0===s.length?Object(Dr.a)(new ps(o,{})):this.expandSegment(n,r,i,s,"primary",!0).pipe(Object(ti.a)(t=>new ps(o.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(Dr.a)(new ha(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(Dr.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(Io.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(ti.a)(t=>(e._loadedConfig=t,t))):function(t){return new Xn.a(e=>e.error(es(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(Dr.a)(new ha([],t))}runCanLoadGuards(t,e,n){const i=e.canLoad;if(!i||0===i.length)return Object(Dr.a)(!0);const r=i.map(i=>{const r=t.get(i);let o;if(function(t){return t&&da(t.canLoad)}(r))o=r.canLoad(e,n);else{if(!da(r))throw new Error("Invalid CanLoad guard");o=r(e,n)}return cs(o)});return Object(Dr.a)(r).pipe(ga(),Object(Po.a)(t=>{if(!fa(t))return;const e=es(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),Object(ti.a)(t=>!0===t))}lineralizeSegments(t,e){let n=[],i=e.root;for(;;){if(n=n.concat(i.segments),0===i.numberOfChildren)return Object(Dr.a)(n);if(i.numberOfChildren>1||!i.children.primary)return Ta(t.redirectTo);i=i.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,i){const r=this.createSegmentGroup(t,e.root,n,i);return new fs(r,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return as(t,(t,i)=>{if("string"==typeof t&&t.startsWith(":")){const r=t.substring(1);n[i]=e[r]}else n[i]=t}),n}createSegmentGroup(t,e,n,i){const r=this.createSegments(t,e.segments,n,i);let o={};return as(e.children,(e,r)=>{o[r]=this.createSegmentGroup(t,e,n,i)}),new ps(r,o)}createSegments(t,e,n,i){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,i):this.findOrReturn(e,n))}findPosParam(t,e,n){const i=n[e.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return i}findOrReturn(t,e){let n=0;for(const i of e){if(i.path===t.path)return e.splice(n),i;n++}return t}}function Ea(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const i=(e.matcher||ns)(n,t,e);return i?{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,positionalParamSegments:i.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function Ia(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new ps(t.segments.concat(e.segments),e.children)}return t}function Aa(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}class Ra{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Pa{constructor(t,e){this.component=t,this.route=e}}function Da(t,e,n){const i=t._root;return Na(i,e?e._root:null,n,[i.value])}function Ma(t,e,n){const i=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(i?i.module.injector:n).get(t)}function Na(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=Ls(e);return t.children.forEach(t=>{!function(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const c=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!ms(t.url,e.url);case"pathParamsOrQueryParamsChange":return!ms(t.url,e.url)||!is(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!$s(t,e)||!is(t.queryParams,e.queryParams);case"paramsChange":default:return!$s(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);c?r.canActivateChecks.push(new Ra(i)):(o.data=s.data,o._resolvedData=s._resolvedData),Na(t,e,o.component?a?a.children:null:n,i,r),c&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new Pa(a.outlet.component,s))}else s&&ja(e,a,r),r.canActivateChecks.push(new Ra(i)),Na(t,null,o.component?a?a.children:null:n,i,r)}(t,o[t.value.outlet],n,i.concat([t.value]),r),delete o[t.value.outlet]}),as(o,(t,e)=>ja(t,n.getContext(e),r)),r}function ja(t,e,n){const i=Ls(t),r=t.value;as(i,(t,i)=>{ja(t,r.component?e?e.children.getContext(i):null:e,n)}),n.canDeactivateChecks.push(new Pa(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}function Fa(t,e){return null!==t&&e&&e(new Qo(t)),Object(Dr.a)(!0)}function La(t,e){return null!==t&&e&&e(new $o(t)),Object(Dr.a)(!0)}function Va(t,e,n){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return Object(Dr.a)(!0);const r=i.map(i=>Yr(()=>{const r=Ma(i,e,n);let o;if(function(t){return t&&da(t.canActivate)}(r))o=cs(r.canActivate(e,t));else{if(!da(r))throw new Error("Invalid CanActivate guard");o=cs(r(e,t))}return o.pipe(Ro())}));return Object(Dr.a)(r).pipe(ga())}function Ua(t,e,n){const i=e[e.length-1],r=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>Yr(()=>{const r=e.guards.map(r=>{const o=Ma(r,e.node,n);let s;if(function(t){return t&&da(t.canActivateChild)}(o))s=cs(o.canActivateChild(i,t));else{if(!da(o))throw new Error("Invalid CanActivateChild guard");s=cs(o(i,t))}return s.pipe(Ro())});return Object(Dr.a)(r).pipe(ga())}));return Object(Dr.a)(r).pipe(ga())}class qa{}class Ba{constructor(t,e,n,i,r,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=i,this.paramsInheritanceStrategy=r,this.relativeLinkResolution=o}recognize(){try{const t=Wa(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,"primary"),n=new Hs([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Fs(n,e),r=new zs(this.url,i);return this.inheritParamsAndData(r._root),Object(Dr.a)(r)}catch(cx){return new Xn.a(e=>e.error(cx))}}inheritParamsAndData(t){const e=t.value,n=Bs(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=bs(e,(e,n)=>this.processSegmentGroup(t,e,n));return function(t){const e={};t.forEach(t=>{const n=e[t.value.outlet];if(n){const e=n.url.map(t=>t.toString()).join("/"),i=t.value.url.map(t=>t.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${e}' and '${i}'.`)}e[t.value.outlet]=t.value})}(n),n.sort((t,e)=>"primary"===t.value.outlet?-1:"primary"===e.value.outlet?1:t.value.outlet.localeCompare(e.value.outlet)),n}processSegment(t,e,n,i){for(const r of t)try{return this.processSegmentAgainstRoute(r,e,n,i)}catch(cx){if(!(cx instanceof qa))throw cx}if(this.noLeftoversInUrl(e,n,i))return[];throw new qa}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}processSegmentAgainstRoute(t,e,n,i){if(t.redirectTo)throw new qa;if((t.outlet||"primary")!==i)throw new qa;let r,o=[],s=[];if("**"===t.path){const o=n.length>0?ss(n).parameters:{};r=new Hs(n,o,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Ka(t),i,t.component,t,Ha(e),za(e)+n.length,$a(t))}else{const a=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new qa;return{consumedSegments:[],lastChild:0,parameters:{}}}const i=(e.matcher||ns)(n,t,e);if(!i)throw new qa;const r={};as(i.posParams,(t,e)=>{r[e]=t.path});const o=i.consumed.length>0?Object.assign(Object.assign({},r),i.consumed[i.consumed.length-1].parameters):r;return{consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:o}}(e,t,n);o=a.consumedSegments,s=n.slice(a.lastChild),r=new Hs(o,a.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Ka(t),i,t.component,t,Ha(e),za(e)+o.length,$a(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:c,slicedSegments:u}=Wa(e,o,s,a,this.relativeLinkResolution);if(0===u.length&&c.hasChildren()){const t=this.processChildren(a,c);return[new Fs(r,t)]}if(0===a.length&&0===u.length)return[new Fs(r,[])];const l=this.processSegment(a,c,u,"primary");return[new Fs(r,l)]}}function Ha(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function za(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Wa(t,e,n,i,r){if(n.length>0&&function(t,e,n){return n.some(n=>Ga(t,e,n)&&"primary"!==wa(n))}(t,n,i)){const r=new ps(e,function(t,e,n,i){const r={};r.primary=i,i._sourceSegment=t,i._segmentIndexShift=e.length;for(const o of n)if(""===o.path&&"primary"!==wa(o)){const n=new ps([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,r[wa(o)]=n}return r}(t,e,i,new ps(n,t.children)));return r._sourceSegment=t,r._segmentIndexShift=e.length,{segmentGroup:r,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>Ga(t,e,n))}(t,n,i)){const o=new ps(t.segments,function(t,e,n,i,r,o){const s={};for(const a of i)if(Ga(t,n,a)&&!r[wa(a)]){const n=new ps([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[wa(a)]=n}return Object.assign(Object.assign({},r),s)}(t,e,n,i,t.children,r));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const o=new ps(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}function Ga(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function Ka(t){return t.data||{}}function $a(t){return t.resolve||{}}function Ya(t){return function(e){return e.pipe(go(e=>{const n=t(e);return n?Object(ni.a)(n).pipe(Object(ti.a)(()=>e)):Object(ni.a)([e])}))}}class Qa extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Za=new i.q("ROUTES");class Xa{constructor(t,e,n,i){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=i}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(Object(ti.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const i=n.create(t);return new ha(os(i.injector.get(Za)).map(ya),i)}))}loadModuleFactory(t){return"string"==typeof t?Object(ni.a)(this.loader.load(t)):cs(t()).pipe(Object(Io.a)(t=>t instanceof i.v?Object(Dr.a)(t):Object(ni.a)(this.compiler.compileModuleAsync(t))))}}class Ja{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new tc,this.attachRef=null}}class tc{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new Ja,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class ec{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function nc(t){throw t}function ic(t,e,n){return e.parse("/")}function rc(t,e){return Object(Dr.a)(null)}let oc=(()=>{class t{constructor(t,e,n,r,o,s,a,c){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=r,this.config=c,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new Mr.a,this.errorHandler=nc,this.malformedUriErrorHandler=ic,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:rc,afterPreactivation:rc},this.urlHandlingStrategy=new ec,this.routeReuseStrategy=new Qa,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=o.get(i.x),this.console=o.get(i.Z);const u=o.get(i.z);this.isNgZoneEnabled=u instanceof i.z,this.resetConfig(c),this.currentUrlTree=new fs(new ps([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Xa(s,a,t=>this.triggerEvent(new Go(t)),t=>this.triggerEvent(new Ko(t))),this.routerState=Us(this.currentUrlTree,this.rootComponentType),this.transitions=new jr({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(Xr(t=>0!==t.id),Object(ti.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),go(t=>{let n=!1,i=!1;return Object(Dr.a)(t).pipe(Object(Po.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),go(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(Dr.a)(t).pipe(go(t=>{const n=this.transitions.getValue();return e.next(new Fo(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?$r.a:[t]}),go(t=>Promise.resolve(t)),(i=this.ngModule.injector,r=this.configLoader,o=this.urlSerializer,s=this.config,function(t){return t.pipe(go(t=>function(t,e,n,i,r){return new xa(t,e,n,i,r).apply()}(i,r,o,t.extractedUrl,s).pipe(Object(ti.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e})))))}),Object(Po.a)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,i,r){return function(o){return o.pipe(Object(Io.a)(o=>function(t,e,n,i,r="emptyOnly",o="legacy"){return new Ba(t,e,n,i,r,o).recognize()}(t,e,o.urlAfterRedirects,n(o.urlAfterRedirects),i,r).pipe(Object(ti.a)(t=>Object.assign(Object.assign({},o),{targetSnapshot:t})))))}}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(Po.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),Object(Po.a)(t=>{const n=new qo(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var i,r,o,s;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:i,source:r,restoredState:o,extras:s}=t,a=new Fo(n,this.serializeUrl(i),r,o);e.next(a);const c=Us(i,this.rootComponentType).snapshot;return Object(Dr.a)(Object.assign(Object.assign({},t),{targetSnapshot:c,urlAfterRedirects:i,extras:Object.assign(Object.assign({},s),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),$r.a}),Ya(t=>{const{targetSnapshot:e,id:n,extractedUrl:i,rawUrl:r,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:i,rawUrlTree:r,skipLocationChange:!!o,replaceUrl:!!s})}),Object(Po.a)(t=>{const e=new Bo(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(ti.a)(t=>Object.assign(Object.assign({},t),{guards:Da(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return function(n){return n.pipe(Object(Io.a)(n=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?Object(Dr.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,i){return Object(ni.a)(t).pipe(Object(Io.a)(t=>function(t,e,n,i,r){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||0===o.length)return Object(Dr.a)(!0);const s=o.map(o=>{const s=Ma(o,e,r);let a;if(function(t){return t&&da(t.canDeactivate)}(s))a=cs(s.canDeactivate(t,e,n,i));else{if(!da(s))throw new Error("Invalid CanDeactivate guard");a=cs(s(t,e,n,i))}return a.pipe(Ro())});return Object(Dr.a)(s).pipe(ga())}(t.component,t.route,n,e,i)),Ro(t=>!0!==t,!0))}(s,i,r,t).pipe(Object(Io.a)(n=>n&&"boolean"==typeof n?function(t,e,n,i){return Object(ni.a)(e).pipe(Ao(e=>Object(ni.a)([La(e.route.parent,i),Fa(e.route,i),Ua(t,e.path,n),Va(t,e.route,n)]).pipe(Zr(),Ro(t=>!0!==t,!0))),Ro(t=>!0!==t,!0))}(i,o,t,e):Object(Dr.a)(n)),Object(ti.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))}))}}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(Po.a)(t=>{if(fa(t.guardsResult)){const e=es(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}}),Object(Po.a)(t=>{const e=new Ho(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),Xr(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new Vo(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),Ya(t=>{if(t.guards.canActivateChecks.length)return Object(Dr.a)(t).pipe(Object(Po.a)(t=>{const e=new zo(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),go(t=>{let n=!1;return Object(Dr.a)(t).pipe((i=this.paramsInheritanceStrategy,r=this.ngModule.injector,function(t){return t.pipe(Object(Io.a)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return Object(Dr.a)(t);let o=0;return Object(ni.a)(n).pipe(Ao(t=>function(t,e,n,i){return function(t,e,n,i){const r=Object.keys(t);if(0===r.length)return Object(Dr.a)({});const o={};return Object(ni.a)(r).pipe(Object(Io.a)(r=>function(t,e,n,i){const r=Ma(t,e,i);return cs(r.resolve?r.resolve(e,n):r(e,n))}(t[r],e,n,i).pipe(Object(Po.a)(t=>{o[r]=t}))),no(1),Object(Io.a)(()=>Object.keys(o).length===r.length?Object(Dr.a)(o):$r.a))}(t._resolve,t,e,i).pipe(Object(ti.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),Bs(t,n).resolve),null)))}(t.route,e,i,r)),Object(Po.a)(()=>o++),no(1),Object(Io.a)(e=>o===n.length?Object(Dr.a)(t):$r.a))}))}),Object(Po.a)({next:()=>n=!0,complete:()=>{if(!n){const n=new Vo(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var i,r}),Object(Po.a)(t=>{const e=new Wo(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),Ya(t=>{const{targetSnapshot:e,id:n,extractedUrl:i,rawUrl:r,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:i,rawUrlTree:r,skipLocationChange:!!o,replaceUrl:!!s})}),Object(ti.a)(t=>{const e=function(t,e,n){const i=Ys(t,e._root,n?n._root:void 0);return new Vs(i,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Object(Po.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(o=this.rootContexts,s=this.routeReuseStrategy,a=t=>this.triggerEvent(t),Object(ti.a)(t=>(new ua(s,t.targetRouterState,t.currentRouterState,a).activate(o),t))),Object(Po.a)({next(){n=!0},complete(){n=!0}}),(r=()=>{if(!n&&!i){this.resetUrlToCurrentUrlTree();const n=new Vo(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new Mo(r))),To(n=>{if(i=!0,(r=n)&&r.ngNavigationCancelingError){const i=fa(n.url);i||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const r=new Vo(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(r),i?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);return this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const i=new Uo(t.id,this.serializeUrl(t.extractedUrl),n);e.next(i);try{t.resolve(this.errorHandler(n))}catch(O_){t.reject(O_)}}var r;return $r.a}));var r,o,s,a}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:i}=e,r={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(r.state=t)}this.scheduleNavigation(i,t,n,r)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){ba(t),this.config=t.map(ya),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:i,fragment:r,queryParamsHandling:o,preserveFragment:s}=e,a=n||this.routerState.root,c=s?this.currentUrlTree.fragment:r;let u=null;switch(o){case"merge":u=Object.assign(Object.assign({},this.currentUrlTree.queryParams),i);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=i||null}return null!==u&&(u=this.removeEmptyProps(u)),function(t,e,n,i,r){if(0===n.length)return Js(e.root,e.root,e,i,r);const o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new ea(!0,0,t);let e=0,n=!1;const i=t.reduce((t,i,r)=>{if("object"==typeof i&&null!=i){if(i.outlets){const e={};return as(i.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(i.segmentPath)return[...t,i.segmentPath]}return"string"!=typeof i?[...t,i]:0===r?(i.split("/").forEach((i,r)=>{0==r&&"."===i||(0==r&&""===i?n=!0:".."===i?e++:""!=i&&t.push(i))}),t):[...t,i]},[]);return new ea(n,e,i)}(n);if(o.toRoot())return Js(e.root,new ps([],{}),e,i,r);const s=function(t,e,n){if(t.isAbsolute)return new na(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new na(t,t===e.root,0)}const i=Zs(t.commands[0])?0:1;return function(t,e,n){let i=t,r=e,o=n;for(;o>r;){if(o-=r,i=i.parent,!i)throw new Error("Invalid number of '../'");r=i.segments.length}return new na(i,!1,r-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+i,t.numberOfDoubleDots)}(o,e,t),a=s.processChildren?ra(s.segmentGroup,s.index,o.commands):ia(s.segmentGroup,s.index,o.commands);return Js(s.segmentGroup,a,e,i,r)}(a,this.currentUrlTree,t,u,c)}navigateByUrl(t,e={skipLocationChange:!1}){const n=fa(t)?t:this.parseUrl(t),i=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(cx){e=this.malformedUriErrorHandler(cx,this.urlSerializer,t)}return e}isActive(t,e){if(fa(t))return us(this.currentUrlTree,t,e);const n=this.parseUrl(t);return us(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const i=t[n];return null!=i&&(e[n]=i),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new Lo(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,i,r){const o=this.getTransition(),s="imperative"!==e&&"imperative"===(null==o?void 0:o.source),a=(this.lastSuccessfulId===o.id||this.currentNavigation?o.rawUrl:o.urlAfterRedirects).toString()===t.toString();if(s&&a)return Promise.resolve(!0);let c,u,l;r?(c=r.resolve,u=r.reject,l=r.promise):l=new Promise((t,e)=>{c=t,u=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:i,resolve:c,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,i){const r=this.urlSerializer.serialize(t);i=i||{},this.location.isCurrentPathEqualTo(r)||e?this.location.replaceState(r,"",Object.assign(Object.assign({},i),{navigationId:n})):this.location.go(r,"",Object.assign(Object.assign({},i),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(i.N),i.Wb(_s),i.Wb(tc),i.Wb(w),i.Wb(i.r),i.Wb(i.w),i.Wb(i.i),i.Wb(void 0))},t.\u0275prov=i.Ib({token:t,factory:t.\u0275fac}),t})(),sc=(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.onChanges=new Mr.a,this.subscription=t.events.subscribe(t=>{t instanceof Lo&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,i,r){if(0!==t||e||n||i||r)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const o={skipLocationChange:ac(this.skipLocationChange),replaceUrl:ac(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,o),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:ac(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(i.Mb(oc),i.Mb(qs),i.Mb(m))},t.\u0275dir=i.Hb({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&i.Zb("click",function(t){return e.onClick(t.button,t.ctrlKey,t.shiftKey,t.altKey,t.metaKey)}),2&t&&(i.Vb("href",e.href,i.vc),i.Bb("target",e.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[i.yb]}),t})();function ac(t){return""===t||!!t}let cc=(()=>{class t{constructor(t,e,n,r,o){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new i.n,this.deactivateEvents=new i.n,this.name=r||"primary",t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),i=this.parentContexts.getOrCreateContext(this.name).children,r=new uc(t,i,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,r),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(i.Mb(tc),i.Mb(i.Q),i.Mb(i.j),i.Xb("name"),i.Mb(i.h))},t.\u0275dir=i.Hb({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class uc{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===qs?this.route:t===tc?this.childContexts:this.parent.get(t,e)}}class lc{}class hc{preload(t,e){return Object(Dr.a)(null)}}let dc=(()=>{class t{constructor(t,e,n,i,r){this.router=t,this.injector=i,this.preloadingStrategy=r,this.loader=new Xa(e,n,e=>t.triggerEvent(new Go(e)),e=>t.triggerEvent(new Ko(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(Xr(t=>t instanceof Lo),Ao(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(i.x);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const i of e)if(i.loadChildren&&!i.canLoad&&i._loadedConfig){const t=i._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else i.loadChildren&&!i.canLoad?n.push(this.preloadConfig(t,i)):i.children&&n.push(this.processRoutes(t,i.children));return Object(ni.a)(n).pipe(Object(Qr.a)(),Object(ti.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(Object(Io.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(oc),i.Wb(i.w),i.Wb(i.i),i.Wb(i.r),i.Wb(lc))},t.\u0275prov=i.Ib({token:t,factory:t.\u0275fac}),t})(),fc=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Fo?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Lo&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Xo&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new Xo(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(oc),i.Wb(Y),i.Wb(void 0))},t.\u0275prov=i.Ib({token:t,factory:t.\u0275fac}),t})();const pc=new i.q("ROUTER_CONFIGURATION"),gc=new i.q("ROUTER_FORROOT_GUARD"),mc=[w,{provide:_s,useClass:vs},{provide:oc,useFactory:function(t,e,n,i,r,s,a,c={},u,l){const h=new oc(null,t,e,n,i,r,s,os(a));if(u&&(h.urlHandlingStrategy=u),l&&(h.routeReuseStrategy=l),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(c,h),c.enableTracing){const t=o();h.events.subscribe(e=>{t.logGroup("Router Event: "+e.constructor.name),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return h},deps:[_s,tc,w,i.r,i.w,i.i,Za,pc,[class{},new i.A],[class{},new i.A]]},tc,{provide:qs,useFactory:function(t){return t.routerState.root},deps:[oc]},{provide:i.w,useClass:i.K},dc,hc,class{preload(t,e){return e().pipe(To(()=>Object(Dr.a)(null)))}},{provide:pc,useValue:{enableTracing:!1}}];function bc(){return new i.y("Router",oc)}let _c=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[mc,Cc(e),{provide:gc,useFactory:wc,deps:[[oc,new i.A,new i.J]]},{provide:pc,useValue:n||{}},{provide:m,useFactory:yc,deps:[a,[new i.p(_),new i.A],pc]},{provide:fc,useFactory:vc,deps:[oc,Y,pc]},{provide:lc,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:hc},{provide:i.y,multi:!0,useFactory:bc},[Sc,{provide:i.d,multi:!0,useFactory:kc,deps:[Sc]},{provide:Tc,useFactory:Oc,deps:[Sc]},{provide:i.b,multi:!0,useExisting:Tc}]]}}static forChild(e){return{ngModule:t,providers:[Cc(e)]}}}return t.\u0275mod=i.Kb({type:t}),t.\u0275inj=i.Jb({factory:function(e){return new(e||t)(i.Wb(gc,8),i.Wb(oc,8))}}),t})();function vc(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new fc(t,e,n)}function yc(t,e,n={}){return n.useHash?new y(t,e):new v(t,e)}function wc(t){return"guarded"}function Cc(t){return[{provide:i.a,multi:!0,useValue:t},{provide:Za,multi:!0,useValue:t}]}let Sc=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new Mr.a}appInitializer(){return this.injector.get(u,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(oc),i=this.injector.get(pc);return"disabled"===i.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===i.initialNavigation||"enabledBlocking"===i.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?Object(Dr.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(pc),n=this.injector.get(dc),r=this.injector.get(fc),o=this.injector.get(oc),s=this.injector.get(i.g);t===s.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||o.initialNavigation(),n.setUpPreloading(),r.init(),o.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(i.r))},t.\u0275prov=i.Ib({token:t,factory:t.\u0275fac}),t})();function kc(t){return t.appInitializer.bind(t)}function Oc(t){return t.bootstrapListener.bind(t)}const Tc=new i.q("Router Initializer");class xc{constructor(t,e,n=!1,i=!1){this.img=t,this.answer=n,this.userChoice=i,this.name=e}}var Ec=function(t){return t.GIVE_THE_CUE="GIVE_THE_CUE",t.GUESS_THE_ASSOCIATIONS_TASK="GUESS_THE_ASSOCIATIONS_TASK",t}({});class Ic{constructor(t,e=[""],n=0,i=""){this.id="",this.type=Ec.GUESS_THE_ASSOCIATIONS_TASK,this.id=i,this.candidates=t,this.cue=e,this.associations=n}static clone(t){return new Ic(JSON.parse(JSON.stringify(t.candidates)),t.cue,t.associations,t.id)}static jaccard_similarity(t,e){const n=t.filter(t=>e.includes(t));return Number((n.length/new Set([...t,...e]).size*100).toFixed(0))}init(){this.clearCandidates()}isTaskSolved(t=!1){return t?this.numberOfChosenCandidates()===this.associations:!this.candidates.map(t=>t.userChoice===t.answer).includes(!1)}getHint(t=!1){return this.isTaskSolved()?"":this.numberOfChosenCandidates()!==this.associations?"Please choose "+this.associations+" candidates":t?void 0:"Candidates should be associated with the word "+this.cue[0]}clearCandidates(){this.candidates.forEach(t=>t.userChoice=!1)}numberOfChosenCandidates(){return this.candidates.map(t=>t.userChoice).filter(t=>t).length}getUUID(){return this.candidates.map(t=>t.img).sort().join("-")+this.cue.join("-")}getJSON(){return Object.assign({},this)}getUserChoices(){return this.candidates.filter(t=>t.userChoice).map(t=>t.name)}getLabels(){return this.candidates.filter(t=>t.answer).map(t=>t.name)}getSolveFormat(){const t=this.getUserChoices(),e=this.getLabels();return{association_id:this.id,associations:this.candidates.map(t=>t.name),candidates:this.candidates.map(t=>t.name),user_predictions:t,labels:e,jaccard:Ic.jaccard_similarity(t,e),cue:this.cue[0],type:"solve_game"}}}const Ac=new Map,Rc=new Map;Rc.set(1,"ablation_1"),Rc.set(2,"ablation_2"),Rc.set(3,"ablation_3"),Rc.set(4,"ablation_4"),Rc.set(5,"ablation_5"),Rc.set(6,"ablation_6"),Rc.set(7,"ablation_7"),Rc.set(8,"ablation_8"),Rc.set(9,"ablation_9"),Rc.set(10,"ablation_10");const Pc=new Map;Pc.set(1,"16"),Pc.set(2,"11"),Pc.set(3,"18"),Pc.set(4,"8"),Pc.set(5,"1"),Pc.set(6,"24"),Pc.set(7,"25"),Pc.set(8,"30"),Pc.set(9,"37"),Pc.set(10,"39");const Dc=new Map,Mc=new Map;Ac.set("example-1",new Ic([new xc("/assets/img/drugs.png","drugs"),new xc("/assets/img/film.jpg","film"),new xc("/assets/img/puppy.jpg","puppy",!0),new xc("/assets/img/needle.jpeg","needle"),new xc("/assets/img/venus.png","venus",!0)],["werewolf"],2));const Nc=[Rt({height:0,visibility:"hidden"}),It("400ms cubic-bezier(0.4,0.0,0.2,1)",Rt({height:"*",visibility:"visible"}))],jc=[Rt({height:"*",visibility:"visible"}),It("400ms cubic-bezier(0.4,0.0,0.2,1)",Rt({height:0,visibility:"hidden"}))];let Fc=(()=>{class t{constructor(t,e,n){this._el=t,this._renderer=e,this.collapsed=new i.n,this.collapses=new i.n,this.expanded=new i.n,this.expands=new i.n,this.isExpanded=!0,this.collapseNewValue=!0,this.isCollapsed=!1,this.isCollapse=!0,this.isCollapsing=!1,this.isAnimated=!1,this._display="block",this._stylesLoaded=!1,this._COLLAPSE_ACTION_NAME="collapse",this._EXPAND_ACTION_NAME="expand",this._factoryCollapseAnimation=n.build(jc),this._factoryExpandAnimation=n.build(Nc)}set display(t){this.isAnimated?(this._display=t,"none"!==t?this.show():this.hide()):this._renderer.setStyle(this._el.nativeElement,"display",t)}set collapse(t){this.collapseNewValue=t,this._player&&!this._isAnimationDone||(this.isExpanded=t,this.toggle())}get collapse(){return this.isExpanded}ngAfterViewChecked(){this._stylesLoaded=!0,this._player&&this._isAnimationDone&&(this._player.reset(),this._renderer.setStyle(this._el.nativeElement,"height","*"))}toggle(){this.isExpanded?this.hide():this.show()}hide(){this.isCollapsing=!0,this.isExpanded=!1,this.isCollapsed=!0,this.isCollapsing=!1,this.collapses.emit(this),this._isAnimationDone=!1,this.animationRun(this.isAnimated,this._COLLAPSE_ACTION_NAME)(()=>{this._isAnimationDone=!0,this.collapseNewValue!==this.isCollapsed&&this.isAnimated?this.show():(this.collapsed.emit(this),this._renderer.setStyle(this._el.nativeElement,"display","none"))})}show(){this._renderer.setStyle(this._el.nativeElement,"display",this._display),this.isCollapsing=!0,this.isExpanded=!0,this.isCollapsed=!1,this.isCollapsing=!1,this.expands.emit(this),this._isAnimationDone=!1,this.animationRun(this.isAnimated,this._EXPAND_ACTION_NAME)(()=>{this._isAnimationDone=!0,this.collapseNewValue!==this.isCollapsed&&this.isAnimated?this.hide():(this.expanded.emit(this),this._renderer.removeStyle(this._el.nativeElement,"overflow"))})}animationRun(t,e){if(!t||!this._stylesLoaded)return t=>t();this._renderer.setStyle(this._el.nativeElement,"overflow","hidden"),this._renderer.addClass(this._el.nativeElement,"collapse");const n=e===this._EXPAND_ACTION_NAME?this._factoryExpandAnimation:this._factoryCollapseAnimation;return this._player&&this._player.destroy(),this._player=n.create(this._el.nativeElement),this._player.play(),t=>this._player.onDone(t)}}return t.\u0275fac=function(e){return new(e||t)(i.Mb(i.l),i.Mb(i.E),i.Mb(xt))},t.\u0275dir=i.Hb({type:t,selectors:[["","collapse",""]],hostVars:10,hostBindings:function(t,e){2&t&&(i.Bb("aria-expanded",e.isExpanded)("aria-hidden",e.isCollapsed),i.Eb("collapse",e.isCollapse)("in",e.isExpanded)("show",e.isExpanded)("collapsing",e.isCollapsing))},inputs:{isAnimated:"isAnimated",display:"display",collapse:"collapse"},outputs:{collapsed:"collapsed",collapses:"collapses",expanded:"expanded",expands:"expands"},exportAs:["bs-collapse"]}),t})(),Lc=(()=>{class t{static forRoot(){return{ngModule:t,providers:[]}}}return t.\u0275mod=i.Kb({type:t}),t.\u0275inj=i.Jb({factory:function(e){return new(e||t)}}),t})();const Vc=function(){return["/"]},Uc=function(){return["/leaderboard"]},qc=function(t){return{color:t}},Bc=function(){return["/explore"]},Hc=function(){return["/challenge-the-ai"]},zc=function(){return["/download"]};let Wc=(()=>{class t{constructor(){this.click=new i.n,this.selectedTab="beat-the-ai",this.isCollapsed=!0,this.subscription=new Do.a,this.subscription=this.click.subscribe(()=>this.isCollapsed=!0)}ngOnDestroy(){this.subscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Gb({type:t,selectors:[["app-navbar"]],inputs:{selectedTab:"selectedTab",isCollapsed:"isCollapsed"},outputs:{click:"click"},decls:33,vars:24,consts:[["color-on-scroll","100","id","navbar-top",1,"navbar","navbar-expand-lg","fixed-top","navbar-transparent"],[1,"container"],[1,"navbar-translate"],["placement","bottom","target","WinoGAViL",1,"navbar-brand",3,"routerLink","click"],["aria-controls","navigation-index","aria-label","Toggle navigation","type","button",1,"navbar-toggler","navbar-toggler",3,"click"],[1,"navbar-toggler-bar","bar1"],[1,"navbar-toggler-bar","bar2"],[1,"navbar-toggler-bar","bar3"],["id","navigation",1,"navbar-collapse","justify-content-end",3,"collapse"],[1,"navbar-nav"],[1,"nav-item","p-0"],["href","https://github.com/WinoGAViL/WinoGAViL-experiments","placement","bottom","target","_blank",1,"nav-link"],[1,"fab","fa-github"],[1,"d-lg-none","d-xl-none"],[1,"nav-item"],["href","javascript:void(0)",1,"nav-link",3,"routerLink","click"],["href","javascript:void(0)",1,"nav-link"],[1,"tim-icons","icon-cloud-download-93"]],template:function(t,e){1&t&&(i.Sb(0,"nav",0),i.Sb(1,"div",1),i.Sb(2,"div",2),i.Sb(3,"a",3),i.Zb("click",function(){return e.click.emit("menu")}),i.Sb(4,"span"),i.Fc(5," WinoGAViL"),i.Rb(),i.Rb(),i.Sb(6,"button",4),i.Zb("click",function(){return e.isCollapsed=!e.isCollapsed}),i.Nb(7,"span",5),i.Nb(8,"span",6),i.Nb(9,"span",7),i.Rb(),i.Rb(),i.Sb(10,"div",8),i.Sb(11,"ul",9),i.Sb(12,"li",10),i.Sb(13,"a",11),i.Nb(14,"i",12),i.Sb(15,"p",13),i.Fc(16,"Github"),i.Rb(),i.Rb(),i.Rb(),i.Sb(17,"li",14),i.Sb(18,"a",15),i.Zb("click",function(){return e.click.emit("leaderboard")}),i.Fc(19," Leaderboard "),i.Rb(),i.Rb(),i.Sb(20,"li",14),i.Sb(21,"a",16),i.Fc(22," Paper "),i.Rb(),i.Rb(),i.Sb(23,"li",14),i.Sb(24,"a",15),i.Zb("click",function(){return e.click.emit("explore")}),i.Fc(25," Explore "),i.Rb(),i.Rb(),i.Sb(26,"li",14),i.Sb(27,"a",15),i.Zb("click",function(){return e.click.emit("beat-the-ai")}),i.Fc(28," Challenge the AI "),i.Rb(),i.Rb(),i.Sb(29,"li",14),i.Sb(30,"a",15),i.Zb("click",function(){return e.click.emit("download")}),i.Nb(31,"i",17),i.Fc(32," Download "),i.Rb(),i.Rb(),i.Rb(),i.Rb(),i.Rb(),i.Rb()),2&t&&(i.Ab(3),i.ic("routerLink",i.kc(13,Vc)),i.Ab(3),i.Bb("aria-expanded",!e.isCollapsed),i.Ab(4),i.ic("collapse",e.isCollapsed),i.Ab(8),i.ic("routerLink",i.kc(14,Uc)),i.Ab(6),i.zc(i.lc(15,qc,"explore"===e.selectedTab?"#fd969e !important":"")),i.ic("routerLink",i.kc(17,Bc)),i.Ab(3),i.zc(i.lc(18,qc,"beat-the-ai"===e.selectedTab?"#fd969e !important":"")),i.ic("routerLink",i.kc(20,Hc)),i.Ab(3),i.zc(i.lc(21,qc,"download"===e.selectedTab?"#fd969e !important":"")),i.ic("routerLink",i.kc(23,zc)))},directives:[sc,Fc],styles:[".navbar-brand[_ngcontent-%COMP%]{font-size:.85rem}.navbar-toggler[_ngcontent-%COMP%]{background-color:#fda1ab}@media (max-width:750px){.title-description[_ngcontent-%COMP%]{display:none}}"]}),t})();var Gc=function(t){var e={target:"confetti-holder",max:80,size:1,animate:!0,respawn:!0,props:["circle","square","triangle","line"],colors:[[165,104,246],[230,61,135],[0,199,228],[253,214,126]],clock:25,interval:null,rotate:!1,start_from_edge:!1,width:window.innerWidth,height:window.innerHeight};if(t&&(t.target&&(e.target=t.target),t.max&&(e.max=t.max),t.size&&(e.size=t.size),null!=t.animate&&(e.animate=t.animate),null!=t.respawn&&(e.respawn=t.respawn),t.props&&(e.props=t.props),t.colors&&(e.colors=t.colors),t.clock&&(e.clock=t.clock),null!=t.start_from_edge&&(e.start_from_edge=t.start_from_edge),t.width&&(e.width=t.width),t.height&&(e.height=t.height),null!=t.rotate&&(e.rotate=t.rotate)),"object"!=typeof e.target&&"string"!=typeof e.target)throw new TypeError("The target parameter should be a node or string");if("object"==typeof e.target&&(null===e.target||!e.target instanceof HTMLCanvasElement)||"string"==typeof e.target&&(null===document.getElementById(e.target)||!document.getElementById(e.target)instanceof HTMLCanvasElement))throw new ReferenceError("The target element does not exist or is not a canvas element");var n="object"==typeof e.target?e.target:document.getElementById(e.target),i=n.getContext("2d"),r=[];function o(t,e){t||(t=1);var n=Math.random()*t;return e?Math.floor(n):n}var s=e.props.reduce(function(t,e){return t+(e.weight||1)},0);function a(t){if(t)switch(i.fillStyle=i.strokeStyle="rgba("+t.color+", "+(t.radius<=3?.4:.8)+")",i.beginPath(),t.prop){case"circle":i.moveTo(t.x,t.y),i.arc(t.x,t.y,t.radius*e.size,0,2*Math.PI,!0),i.fill();break;case"triangle":i.moveTo(t.x,t.y),i.lineTo(t.x+t.angles[0]*e.size,t.y+t.angles[1]*e.size),i.lineTo(t.x+t.angles[2]*e.size,t.y+t.angles[3]*e.size),i.closePath(),i.fill();break;case"line":i.moveTo(t.x,t.y),i.lineTo(t.x+t.line*e.size,t.y+5*t.radius),i.lineWidth=2*e.size,i.stroke();break;case"square":i.save(),i.translate(t.x+15,t.y+5),i.rotate(t.rotation),i.fillRect(-15*e.size,-5*e.size,15*e.size,5*e.size),i.restore();break;case"svg":i.save();var n=new window.Image;n.src=t.src;var r=t.size||15;i.translate(t.x+r/2,t.y+r/2),t.rotate&&i.rotate(t.rotation),i.drawImage(n,-r/2*e.size,-r/2*e.size,r*e.size,r*e.size),i.restore()}}var c=function(){e.animate=!1,clearInterval(e.interval),requestAnimationFrame(function(){i.clearRect(0,0,n.width,n.height);var t=n.width;n.width=1,n.width=t})};return{render:function(){n.width=e.width,n.height=e.height,r=[];for(var t=0;t<e.max;t++)r.push((void 0,{prop:(u=e.props[function(){for(var t=Math.random()*s,n=0;n<e.props.length;++n){var i=e.props[n].weight||1;if(t<i)return n;t-=i}}()]).type?u.type:u,x:o(e.width),y:e.start_from_edge?e.clock>=0?-10:parseFloat(e.height)+10:o(e.height),src:u.src,radius:o(4)+1,size:u.size,rotate:e.rotate,line:Math.floor(o(65)-30),angles:[o(10,!0)+2,o(10,!0)+2,o(10,!0)+2,o(10,!0)+2],color:e.colors[o(e.colors.length,!0)],rotation:o(360,!0)*Math.PI/180,speed:o(e.clock/7)+e.clock/30}));var u;return requestAnimationFrame(function t(){for(var n in i.clearRect(0,0,e.width,e.height),r)a(r[n]);!function(){for(var t=0;t<e.max;t++){var n=r[t];n&&(e.animate&&(n.y+=n.speed),n.rotate&&(n.rotation+=n.speed/35),(n.speed>=0&&n.y>e.height||n.speed<0&&n.y<0)&&(e.respawn?(r[t]=n,r[t].x=o(e.width,!0),r[t].y=n.speed>=0?-10:parseFloat(e.height)):r[t]=void 0))}r.every(function(t){return void 0===t})&&c()}(),e.animate&&requestAnimationFrame(t)})},clear:c}},Kc=n("D0XW");function $c(t,e=Kc.a){return n=>n.lift(new Yc(t,e))}class Yc{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new Qc(t,this.dueTime,this.scheduler))}}class Qc extends Lr.a{constructor(t,e,n){super(t),this.dueTime=e,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(Zc,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function Zc(t){t.debouncedNext()}function Xc(t,e){return n=>n.lift(new Jc(t,e))}class Jc{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new tu(t,this.compare,this.keySelector))}}class tu extends Lr.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(i){return this.destination.error(i)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(i){return this.destination.error(i)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}class eu{constructor(t,e=["",""],n=""){this._userCue=new jr(["",""]),this.score$=new jr([null,null]),this.receivedAIResponse=[!1,!1],this.id=n,this.candidates=t,this._userCue.next(e)}static clone(t){return new eu(JSON.parse(JSON.stringify(t.candidates)),t._userCue.value,t.id)}static jaccard_similarity(t,e){const n=t.filter(t=>e.includes(t));return Number((n.length/new Set([...t,...e]).size*100).toFixed(0))}setScore(t,e=0){this.score$.next(0===e?[t,this.score$.value[1]]:[this.score$.value[0],t])}init(t=0){this._userCue.next(t?[this._userCue.value[0],""]:["",this._userCue.value[1]]),this.setScore(null,t),this.receivedAIResponse[t]=!1,this.clearCandidates(t)}setUserCue(t,e=0){this._userCue.value[e]=t,this._userCue.next(this._userCue.value)}setAIAnswers(t,e=0){t&&t.length>=2?(this.receivedAIResponse[e]=!0,this.candidates[e].forEach(e=>t.filter(t=>t.toLowerCase()===e.name).length&&(e.answer=!0))):(console.warn("Predictions received are not valid"),console.warn(t))}isTaskSolved(t=0){return this.isUserChooseCandidates(t)&&this.isUserEnteredCue(t)}isUserChooseCandidates(t){const e=this.numberOfChosenCandidates(t);return 2===e||3===e||this.candidates[0].length>5&&4===e||10===this.candidates[0].length&&5===e||12===this.candidates[0].length&&6===e}isUserEnteredCue(t){var e,n;return 1===t?this._userCue.value[t].length>1&&(null===(e=this._userCue.value[t])||void 0===e?void 0:e.toLowerCase())!==(null===(n=this._userCue.value[0])||void 0===n?void 0:n.toLowerCase()):this._userCue.value[t].length>1}getHint(t=0){var e,n;return this.isTaskSolved(t)?"":this.isUserChooseCandidates(t)?1===t&&(null===(e=this._userCue.value[t])||void 0===e?void 0:e.toLowerCase())===(null===(n=this._userCue.value[0])||void 0===n?void 0:n.toLowerCase())?"Please enter another cue, you have already entered this one.":1===this._userCue.value[t].length?"Please enter a longer cue.":"Please enter a cue":this.candidates[0].length>=12?"Please choose 2-6 candidates":this.candidates[0].length>=9?"Please choose 2-5 candidates":this.candidates[0].length>5?"Please choose 2-4 candidates":"Please choose 2-3 candidates"}clearCandidates(t){this.candidates[t].forEach(t=>{t.userChoice=!1,t.answer=!1})}numberOfChosenCandidates(t){return this.candidates[t].map(t=>t.userChoice).filter(t=>t).length}getFilteredScore(t=0){return this.score$.pipe(Object(ti.a)(e=>e[t]),Xr(t=>null!==t),_o(1))}getUserAssociations(){return[this.candidates[0].map(t=>t.userChoice).filter(t=>t).length,this.candidates[1].map(t=>t.userChoice).filter(t=>t).length]}getJSON(){return Object.assign(Object.assign({},this),{score:this.score$.value,associations:this.getUserAssociations(),score$:void 0,userCue:this._userCue.value,receivedAIResponse:void 0,_userCue:void 0})}getPredictionFormat(t){const e=this.candidates[t].map(t=>t.name),n=this.candidates[t].filter(t=>t.userChoice).map(t=>t.name);return{images:e,type:"create_mturk",annotations:[{cue:this._userCue.value[t],num_associations:n.length,labels:n}]}}getGamePredictionFormat(t){const e=this.candidates[t].map(t=>t.name),n=this.candidates[t].filter(t=>t.userChoice).map(t=>t.name);return{images:e,type:"create_game",cue:this._userCue.value[t],num_associations:this.numberOfChosenCandidates(t),labels:n}}}function nu(t){return null!=t&&""+t!="false"}function iu(t,e=0){return function(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}(t)?Number(t):e}function ru(t){return Array.isArray(t)?t:[t]}function ou(t){return null==t?"":"string"==typeof t?t:t+"px"}function su(t){return t instanceof i.l?t.nativeElement:t}let au,cu=(()=>{class t{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(i.Ib)({factory:function(){return new t},token:t,providedIn:"root"}),t})(),uu=(()=>{class t{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,e)=>this._cleanupObserver(e))}observe(t){const e=su(t);return new Xn.a(t=>{const n=this._observeElement(e).subscribe(t);return()=>{n.unsubscribe(),this._unobserveElement(e)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const e=new Mr.a,n=this._mutationObserverFactory.create(t=>e.next(t));n&&n.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:n,stream:e,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:e,stream:n}=this._observedElements.get(t);e&&e.disconnect(),n.complete(),this._observedElements.delete(t)}}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(cu))},t.\u0275prov=Object(i.Ib)({factory:function(){return new t(Object(i.Wb)(cu))},token:t,providedIn:"root"}),t})(),lu=(()=>{class t{constructor(t,e,n){this._contentObserver=t,this._elementRef=e,this._ngZone=n,this.event=new i.n,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=nu(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=iu(t),this._subscribe()}ngAfterContentInit(){this._currentSubscription||this.disabled||this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe($c(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){var t;null===(t=this._currentSubscription)||void 0===t||t.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(i.Mb(uu),i.Mb(i.l),i.Mb(i.z))},t.\u0275dir=i.Hb({type:t,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),t})(),hu=(()=>{class t{}return t.\u0275mod=i.Kb({type:t}),t.\u0275inj=i.Jb({factory:function(e){return new(e||t)},providers:[cu]}),t})();try{au="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(wH){au=!1}let du,fu=(()=>{class t{constructor(t){this._platformId=t,this.isBrowser=this._platformId?$(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!au)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(i.B))},t.\u0275prov=Object(i.Ib)({factory:function(){return new t(Object(i.Wb)(i.B))},token:t,providedIn:"root"}),t})(),pu=(()=>{class t{}return t.\u0275mod=i.Kb({type:t}),t.\u0275inj=i.Jb({factory:function(e){return new(e||t)}}),t})();const gu=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function mu(){if(du)return du;if("object"!=typeof document||!document)return du=new Set(gu),du;let t=document.createElement("input");return du=new Set(gu.filter(e=>(t.setAttribute("type",e),t.type===e))),du}let bu,_u,vu;function yu(t){return function(){if(null==bu&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>bu=!0}))}finally{bu=bu||!1}return bu}()?t:!!t.capture}function wu(){if(null==_u){if("object"!=typeof document||!document)return _u=!1,_u;if("scrollBehavior"in document.documentElement.style)_u=!0;else{const t=Element.prototype.scrollTo;_u=!!t&&!/\{\s*\[native code\]\s*\}/.test(t.toString())}}return _u}function Cu(t,...e){return e.length?e.some(e=>t[e]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}class Su extends class{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new Mr.a,this._typeaheadSubscription=Do.a.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new Mr.a,this.change=new Mr.a,t instanceof i.D&&t.changes.subscribe(t=>{if(this._activeItem){const e=t.toArray().indexOf(this._activeItem);e>-1&&e!==this._activeItemIndex&&(this._activeItemIndex=e)}})}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(Object(Po.a)(t=>this._pressedLetters.push(t)),$c(t),Xr(()=>this._pressedLetters.length>0),Object(ti.a)(()=>this._pressedLetters.join(""))).subscribe(t=>{const e=this._getItemsArray();for(let n=1;n<e.length+1;n++){const i=(this._activeItemIndex+n)%e.length,r=e[i];if(!this._skipPredicateFn(r)&&0===r.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(i);break}}this._pressedLetters=[]}),this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,n=["altKey","ctrlKey","metaKey","shiftKey"].every(e=>!t[e]||this._allowedModifierKeys.indexOf(e)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&n){this.setNextItemActive();break}return;case 38:if(this._vertical&&n){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&n){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&n){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&n){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&n){this.setLastItemActive();break}return;default:return void((n||Cu(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),n="number"==typeof t?t:e.indexOf(t),i=e[n];this._activeItem=null==i?null:i,this._activeItemIndex=n}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let n=1;n<=e.length;n++){const i=(this._activeItemIndex+t*n+e.length)%e.length;if(!this._skipPredicateFn(e[i]))return void this.setActiveItem(i)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const n=this._getItemsArray();if(n[t]){for(;this._skipPredicateFn(n[t]);)if(!n[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof i.D?this._items.toArray():this._items}}{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}}let ku=(()=>{class t{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function(t){return!!(t.offsetWidth||t.offsetHeight||"function"==typeof t.getClientRects&&t.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const e=function(t){try{return t.frameElement}catch(wH){return null}}((n=t).ownerDocument&&n.ownerDocument.defaultView||window);var n;if(e){if(-1===Tu(e))return!1;if(!this.isVisible(e))return!1}let i=t.nodeName.toLowerCase(),r=Tu(t);return t.hasAttribute("contenteditable")?-1!==r:"iframe"!==i&&"object"!==i&&!(this._platform.WEBKIT&&this._platform.IOS&&!function(t){let e=t.nodeName.toLowerCase(),n="input"===e&&t.type;return"text"===n||"password"===n||"select"===e||"textarea"===e}(t))&&("audio"===i?!!t.hasAttribute("controls")&&-1!==r:"video"===i?-1!==r&&(null!==r||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,e){return function(t){return!function(t){return function(t){return"input"==t.nodeName.toLowerCase()}(t)&&"hidden"==t.type}(t)&&(function(t){let e=t.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(t)||function(t){return function(t){return"a"==t.nodeName.toLowerCase()}(t)&&t.hasAttribute("href")}(t)||t.hasAttribute("contenteditable")||Ou(t))}(t)&&!this.isDisabled(t)&&((null==e?void 0:e.ignoreVisibility)||this.isVisible(t))}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(fu))},t.\u0275prov=Object(i.Ib)({factory:function(){return new t(Object(i.Wb)(fu))},token:t,providedIn:"root"}),t})();function Ou(t){if(!t.hasAttribute("tabindex")||void 0===t.tabIndex)return!1;let e=t.getAttribute("tabindex");return"-32768"!=e&&!(!e||isNaN(parseInt(e,10)))}function Tu(t){if(!Ou(t))return null;const e=parseInt(t.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class xu{constructor(t,e,n,i,r=!1){this._element=t,this._checker=e,this._ngZone=n,this._document=i,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,r||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),e&&(e.removeEventListener("focus",this.endAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement()))})}focusFirstTabbableElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement()))})}focusLastTabbableElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement()))})}_getRegionBoundary(t){let e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);for(let n=0;n<e.length;n++)e[n].hasAttribute("cdk-focus-"+t)?console.warn(`Found use of deprecated attribute 'cdk-focus-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[n]):e[n].hasAttribute("cdk-focus-region-"+t)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[n]);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(t.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",t),!this._checker.isFocusable(t)){const e=this._getFirstTabbableElement(t);return null==e||e.focus(),!!e}return t.focus(),!0}return this.focusFirstTabbableElement()}focusFirstTabbableElement(){const t=this._getRegionBoundary("start");return t&&t.focus(),!!t}focusLastTabbableElement(){const t=this._getRegionBoundary("end");return t&&t.focus(),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let n=0;n<e.length;n++){let t=e[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[n]):null;if(t)return t}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let n=e.length-1;n>=0;n--){let t=e[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[n]):null;if(t)return t}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(_o(1)).subscribe(t)}}let Eu=(()=>{class t{constructor(t,e,n){this._checker=t,this._ngZone=e,this._document=n}create(t,e=!1){return new xu(t,this._checker,this._ngZone,this._document,e)}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(ku),i.Wb(i.z),i.Wb(s))},t.\u0275prov=Object(i.Ib)({factory:function(){return new t(Object(i.Wb)(ku),Object(i.Wb)(i.z),Object(i.Wb)(s))},token:t,providedIn:"root"}),t})();"undefined"!=typeof Element&&Element;const Iu=new i.q("liveAnnouncerElement",{providedIn:"root",factory:function(){return null}}),Au=new i.q("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let Ru=(()=>{class t{constructor(t,e,n,i){this._ngZone=e,this._defaultOptions=i,this._document=n,this._liveElement=t||this._createLiveElement()}announce(t,...e){const n=this._defaultOptions;let i,r;return 1===e.length&&"number"==typeof e[0]?r=e[0]:[i,r]=e,this.clear(),clearTimeout(this._previousTimeout),i||(i=n&&n.politeness?n.politeness:"polite"),null==r&&n&&(r=n.duration),this._liveElement.setAttribute("aria-live",i),this._ngZone.runOutsideAngular(()=>new Promise(e=>{clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,e(),"number"==typeof r&&(this._previousTimeout=setTimeout(()=>this.clear(),r))},100)}))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement&&this._liveElement.parentNode&&(this._liveElement.parentNode.removeChild(this._liveElement),this._liveElement=null)}_createLiveElement(){const t=this._document.getElementsByClassName("cdk-live-announcer-element"),e=this._document.createElement("div");for(let n=0;n<t.length;n++)t[n].parentNode.removeChild(t[n]);return e.classList.add("cdk-live-announcer-element"),e.classList.add("cdk-visually-hidden"),e.setAttribute("aria-atomic","true"),e.setAttribute("aria-live","polite"),this._document.body.appendChild(e),e}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(Iu,8),i.Wb(i.z),i.Wb(s),i.Wb(Au,8))},t.\u0275prov=Object(i.Ib)({factory:function(){return new t(Object(i.Wb)(Iu,8),Object(i.Wb)(i.z),Object(i.Wb)(s),Object(i.Wb)(Au,8))},token:t,providedIn:"root"}),t})();function Pu(t){return 0===t.buttons}const Du=new i.q("cdk-focus-monitor-default-options"),Mu=yu({passive:!0,capture:!0});let Nu=(()=>{class t{constructor(t,e,n,i){this._ngZone=t,this._platform=e,this._origin=null,this._windowFocused=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._documentKeydownListener=()=>{this._lastTouchTarget=null,this._setOriginForCurrentEventQueue("keyboard")},this._documentMousedownListener=t=>{if(!this._lastTouchTarget){const e=Pu(t)?"keyboard":"mouse";this._setOriginForCurrentEventQueue(e)}},this._documentTouchstartListener=t=>{null!=this._touchTimeoutId&&clearTimeout(this._touchTimeoutId),this._lastTouchTarget=ju(t),this._touchTimeoutId=setTimeout(()=>this._lastTouchTarget=null,650)},this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._rootNodeFocusAndBlurListener=t=>{const e=ju(t),n="focus"===t.type?this._onFocus:this._onBlur;for(let i=e;i;i=i.parentElement)n.call(this,t,i)},this._document=n,this._detectionMode=(null==i?void 0:i.detectionMode)||0}monitor(t,e=!1){const n=su(t);if(!this._platform.isBrowser||1!==n.nodeType)return Object(Dr.a)(null);const i=function(t){if(function(){if(null==vu){const t="undefined"!=typeof document?document.head:null;vu=!(!t||!t.createShadowRoot&&!t.attachShadow)}return vu}()){const e=t.getRootNode?t.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(n)||this._getDocument(),r=this._elementInfo.get(n);if(r)return e&&(r.checkChildren=!0),r.subject;const o={checkChildren:e,subject:new Mr.a,rootNode:i};return this._elementInfo.set(n,o),this._registerGlobalListeners(o),o.subject}stopMonitoring(t){const e=su(t),n=this._elementInfo.get(e);n&&(n.subject.complete(),this._setClasses(e),this._elementInfo.delete(e),this._removeGlobalListeners(n))}focusVia(t,e,n){const i=su(t);i===this._getDocument().activeElement?this._getClosestElementsInfo(i).forEach(([t,n])=>this._originChanged(t,e,n)):(this._setOriginForCurrentEventQueue(e),"function"==typeof i.focus&&i.focus(n))}ngOnDestroy(){this._elementInfo.forEach((t,e)=>this.stopMonitoring(e))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(t,e,n){n?t.classList.add(e):t.classList.remove(e)}_getFocusOrigin(t){return this._origin?this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:this._wasCausedByTouch(t)?"touch":"program"}_setClasses(t,e){this._toggleClass(t,"cdk-focused",!!e),this._toggleClass(t,"cdk-touch-focused","touch"===e),this._toggleClass(t,"cdk-keyboard-focused","keyboard"===e),this._toggleClass(t,"cdk-mouse-focused","mouse"===e),this._toggleClass(t,"cdk-program-focused","program"===e)}_setOriginForCurrentEventQueue(t){this._ngZone.runOutsideAngular(()=>{this._origin=t,0===this._detectionMode&&(this._originTimeoutId=setTimeout(()=>this._origin=null,1))})}_wasCausedByTouch(t){const e=ju(t);return this._lastTouchTarget instanceof Node&&e instanceof Node&&(e===this._lastTouchTarget||e.contains(this._lastTouchTarget))}_onFocus(t,e){const n=this._elementInfo.get(e);n&&(n.checkChildren||e===ju(t))&&this._originChanged(e,this._getFocusOrigin(t),n)}_onBlur(t,e){const n=this._elementInfo.get(e);!n||n.checkChildren&&t.relatedTarget instanceof Node&&e.contains(t.relatedTarget)||(this._setClasses(e),this._emitOrigin(n.subject,null))}_emitOrigin(t,e){this._ngZone.run(()=>t.next(e))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const e=t.rootNode,n=this._rootNodeFocusListenerCount.get(e)||0;n||this._ngZone.runOutsideAngular(()=>{e.addEventListener("focus",this._rootNodeFocusAndBlurListener,Mu),e.addEventListener("blur",this._rootNodeFocusAndBlurListener,Mu)}),this._rootNodeFocusListenerCount.set(e,n+1),1==++this._monitoredElementCount&&this._ngZone.runOutsideAngular(()=>{const t=this._getDocument(),e=this._getWindow();t.addEventListener("keydown",this._documentKeydownListener,Mu),t.addEventListener("mousedown",this._documentMousedownListener,Mu),t.addEventListener("touchstart",this._documentTouchstartListener,Mu),e.addEventListener("focus",this._windowFocusListener)})}_removeGlobalListeners(t){const e=t.rootNode;if(this._rootNodeFocusListenerCount.has(e)){const t=this._rootNodeFocusListenerCount.get(e);t>1?this._rootNodeFocusListenerCount.set(e,t-1):(e.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Mu),e.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Mu),this._rootNodeFocusListenerCount.delete(e))}if(!--this._monitoredElementCount){const t=this._getDocument(),e=this._getWindow();t.removeEventListener("keydown",this._documentKeydownListener,Mu),t.removeEventListener("mousedown",this._documentMousedownListener,Mu),t.removeEventListener("touchstart",this._documentTouchstartListener,Mu),e.removeEventListener("focus",this._windowFocusListener),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._touchTimeoutId),clearTimeout(this._originTimeoutId)}}_originChanged(t,e,n){this._setClasses(t,e),this._emitOrigin(n.subject,e),this._lastFocusOrigin=e}_getClosestElementsInfo(t){const e=[];return this._elementInfo.forEach((n,i)=>{(i===t||n.checkChildren&&i.contains(t))&&e.push([i,n])}),e}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(i.z),i.Wb(fu),i.Wb(s,8),i.Wb(Du,8))},t.\u0275prov=Object(i.Ib)({factory:function(){return new t(Object(i.Wb)(i.z),Object(i.Wb)(fu),Object(i.Wb)(s,8),Object(i.Wb)(Du,8))},token:t,providedIn:"root"}),t})();function ju(t){return t.composedPath?t.composedPath()[0]:t.target}let Fu=(()=>{class t{constructor(t,e){this._platform=t,this._document=e}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const e=this._document.defaultView||window,n=e&&e.getComputedStyle?e.getComputedStyle(t):null,i=(n&&n.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(t),i){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove("cdk-high-contrast-active"),t.remove("cdk-high-contrast-black-on-white"),t.remove("cdk-high-contrast-white-on-black");const e=this.getHighContrastMode();1===e?(t.add("cdk-high-contrast-active"),t.add("cdk-high-contrast-black-on-white")):2===e&&(t.add("cdk-high-contrast-active"),t.add("cdk-high-contrast-white-on-black"))}}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(fu),i.Wb(s))},t.\u0275prov=Object(i.Ib)({factory:function(){return new t(Object(i.Wb)(fu),Object(i.Wb)(s))},token:t,providedIn:"root"}),t})();const Lu=new i.q("cdk-dir-doc",{providedIn:"root",factory:function(){return Object(i.V)(s)}});let Vu=(()=>{class t{constructor(t){if(this.value="ltr",this.change=new i.n,t){const e=t.documentElement?t.documentElement.dir:null,n=(t.body?t.body.dir:null)||e;this.value="ltr"===n||"rtl"===n?n:"ltr"}}ngOnDestroy(){this.change.complete()}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(Lu,8))},t.\u0275prov=Object(i.Ib)({factory:function(){return new t(Object(i.Wb)(Lu,8))},token:t,providedIn:"root"}),t})(),Uu=(()=>{class t{}return t.\u0275mod=i.Kb({type:t}),t.\u0275inj=i.Jb({factory:function(e){return new(e||t)}}),t})();const qu=new i.P("11.0.4");function Bu(t,e){if(1&t&&i.Nb(0,"mat-pseudo-checkbox",3),2&t){const t=i.dc();i.ic("state",t.selected?"checked":"unchecked")("disabled",t.disabled)}}const Hu=["*"],zu=new i.P("11.0.4"),Wu=new i.q("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let Gu,Ku=(()=>{class t{constructor(t,e,n){this._hasDoneGlobalChecks=!1,this._document=n,t._applyBodyHighContrastModeCssClasses(),this._sanityChecks=e,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_getWindow(){const t=this._document.defaultView||window;return"object"==typeof t&&t?t:null}_checksAreEnabled(){return Object(i.W)()&&!this._isTestEnv()}_isTestEnv(){const t=this._getWindow();return t&&(t.__karma__||t.jasmine)}_checkDoctypeIsDefined(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.doctype)&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checksAreEnabled()||!1===this._sanityChecks||!this._sanityChecks.theme||!this._document.body||"function"!=typeof getComputedStyle)return;const t=this._document.createElement("div");t.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(t);const e=getComputedStyle(t);e&&"none"!==e.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(t)}_checkCdkVersionMatch(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.version)&&zu.full!==qu.full&&console.warn("The Angular Material version ("+zu.full+") does not match the Angular CDK version ("+qu.full+").\nPlease ensure the versions of these two packages exactly match.")}}return t.\u0275mod=i.Kb({type:t}),t.\u0275inj=i.Jb({factory:function(e){return new(e||t)(i.Wb(Fu),i.Wb(Wu,8),i.Wb(s))},imports:[[Uu],Uu]}),t})();function $u(t){return class extends t{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=nu(t)}}}function Yu(t,e){return class extends t{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const e=t||this.defaultColor;e!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove("mat-"+this._color),e&&this._elementRef.nativeElement.classList.add("mat-"+e),this._color=e)}}}function Qu(t){return class extends t{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=nu(t)}}}function Zu(t,e=0){return class extends t{constructor(...t){super(...t),this._tabIndex=e,this.defaultTabIndex=e}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(t){this._tabIndex=null!=t?iu(t):this.defaultTabIndex}}}function Xu(t){return class extends t{constructor(...t){super(...t),this.errorState=!1,this.stateChanges=new Mr.a}updateErrorState(){const t=this.errorState,e=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);e!==t&&(this.errorState=e,this.stateChanges.next())}}}try{Gu="undefined"!=typeof Intl}catch(wH){Gu=!1}let Ju=(()=>{class t{isErrorState(t,e){return!!(t&&t.invalid&&(t.touched||e&&e.submitted))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(i.Ib)({factory:function(){return new t},token:t,providedIn:"root"}),t})();class tl{constructor(t,e,n){this._renderer=t,this.element=e,this.config=n,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const el={enterDuration:450,exitDuration:400},nl=yu({passive:!0}),il=["mousedown","touchstart"],rl=["mouseup","mouseleave","touchend","touchcancel"];class ol{constructor(t,e,n,i){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=su(n))}fadeInRipple(t,e,n={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),r=Object.assign(Object.assign({},el),n.animation);n.centered&&(t=i.left+i.width/2,e=i.top+i.height/2);const o=n.radius||function(t,e,n){const i=Math.max(Math.abs(t-n.left),Math.abs(t-n.right)),r=Math.max(Math.abs(e-n.top),Math.abs(e-n.bottom));return Math.sqrt(i*i+r*r)}(t,e,i),s=t-i.left,a=e-i.top,c=r.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=s-o+"px",u.style.top=a-o+"px",u.style.height=2*o+"px",u.style.width=2*o+"px",null!=n.color&&(u.style.backgroundColor=n.color),u.style.transitionDuration=c+"ms",this._containerElement.appendChild(u),window.getComputedStyle(u).getPropertyValue("opacity"),u.style.transform="scale(1)";const l=new tl(this,u,n);return l.state=0,this._activeRipples.add(l),n.persistent||(this._mostRecentTransientRipple=l),this._runTimeoutOutsideZone(()=>{const t=l===this._mostRecentTransientRipple;l.state=1,n.persistent||t&&this._isPointerDown||l.fadeOut()},c),l}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const n=t.element,i=Object.assign(Object.assign({},el),t.config.animation);n.style.transitionDuration=i.exitDuration+"ms",n.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(()=>{t.state=3,n.parentNode.removeChild(n)},i.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}setupTriggerEvents(t){const e=su(t);e&&e!==this._triggerElement&&(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(il))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(rl),this._pointerUpEventsRegistered=!0)}_onMousedown(t){const e=Pu(t),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;this._target.rippleDisabled||e||n||(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let t=0;t<e.length;t++)this.fadeInRipple(e[t].clientX,e[t].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(t=>{this._triggerElement.addEventListener(t,this,nl)})})}_removeTriggerEvents(){this._triggerElement&&(il.forEach(t=>{this._triggerElement.removeEventListener(t,this,nl)}),this._pointerUpEventsRegistered&&rl.forEach(t=>{this._triggerElement.removeEventListener(t,this,nl)}))}}const sl=new i.q("mat-ripple-global-options");let al=(()=>{class t{constructor(t,e,n,i,r){this._elementRef=t,this._animationMode=r,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=i||{},this._rippleRenderer=new ol(this,e,t,n)}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,e=0,n){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,e,Object.assign(Object.assign({},this.rippleConfig),n)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}}return t.\u0275fac=function(e){return new(e||t)(i.Mb(i.l),i.Mb(i.z),i.Mb(fu),i.Mb(sl,8),i.Mb(Yn,8))},t.\u0275dir=i.Hb({type:t,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,e){2&t&&i.Eb("mat-ripple-unbounded",e.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),t})(),cl=(()=>{class t{}return t.\u0275mod=i.Kb({type:t}),t.\u0275inj=i.Jb({factory:function(e){return new(e||t)},imports:[[Ku,pu],Ku]}),t})(),ul=(()=>{class t{constructor(t){this._animationMode=t,this.state="unchecked",this.disabled=!1}}return t.\u0275fac=function(e){return new(e||t)(i.Mb(Yn,8))},t.\u0275cmp=i.Gb({type:t,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(t,e){2&t&&i.Eb("mat-pseudo-checkbox-indeterminate","indeterminate"===e.state)("mat-pseudo-checkbox-checked","checked"===e.state)("mat-pseudo-checkbox-disabled",e.disabled)("_mat-animation-noopable","NoopAnimations"===e._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(t,e){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),t})(),ll=(()=>{class t{}return t.\u0275mod=i.Kb({type:t}),t.\u0275inj=i.Jb({factory:function(e){return new(e||t)},imports:[[Ku]]}),t})();class hl{}const dl=$u(hl);let fl=0,pl=(()=>{class t extends dl{constructor(){super(...arguments),this._labelId="mat-optgroup-label-"+fl++}}return t.\u0275fac=function(e){return gl(e||t)},t.\u0275dir=i.Hb({type:t,inputs:{label:"label"},features:[i.xb]}),t})();const gl=i.Ub(pl),ml=new i.q("MatOptgroup");let bl=0;class _l{constructor(t,e=!1){this.source=t,this.isUserInput=e}}const vl=new i.q("MAT_OPTION_PARENT_COMPONENT");let yl=(()=>{class t{constructor(t,e,n,r){this._element=t,this._changeDetectorRef=e,this._parent=n,this.group=r,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+bl++,this.onSelectionChange=new i.n,this._stateChanges=new Mr.a}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(t){this._disabled=nu(t)}get disableRipple(){return this._parent&&this._parent.disableRipple}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(t,e){const n=this._getHostElement();"function"==typeof n.focus&&n.focus(e)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(t){13!==t.keyCode&&32!==t.keyCode||Cu(t)||(this._selectViaInteraction(),t.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const t=this.viewValue;t!==this._mostRecentViewValue&&(this._mostRecentViewValue=t,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(t=!1){this.onSelectionChange.emit(new _l(this,t))}}return t.\u0275fac=function(e){return new(e||t)(i.Mb(i.l),i.Mb(i.h),i.Mb(void 0),i.Mb(pl))},t.\u0275dir=i.Hb({type:t,inputs:{id:"id",disabled:"disabled",value:"value"},outputs:{onSelectionChange:"onSelectionChange"}}),t})(),wl=(()=>{class t extends yl{constructor(t,e,n,i){super(t,e,n,i)}}return t.\u0275fac=function(e){return new(e||t)(i.Mb(i.l),i.Mb(i.h),i.Mb(vl,8),i.Mb(ml,8))},t.\u0275cmp=i.Gb({type:t,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(t,e){1&t&&i.Zb("click",function(){return e._selectViaInteraction()})("keydown",function(t){return e._handleKeydown(t)}),2&t&&(i.Vb("id",e.id),i.Bb("tabindex",e._getTabIndex())("aria-selected",e._getAriaSelected())("aria-disabled",e.disabled.toString()),i.Eb("mat-selected",e.selected)("mat-option-multiple",e.multiple)("mat-active",e.active)("mat-option-disabled",e.disabled))},exportAs:["matOption"],features:[i.xb],ngContentSelectors:Hu,decls:4,vars:3,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"]],template:function(t,e){1&t&&(i.hc(),i.Dc(0,Bu,1,2,"mat-pseudo-checkbox",0),i.Sb(1,"span",1),i.gc(2),i.Rb(),i.Nb(3,"div",2)),2&t&&(i.ic("ngIf",e.multiple),i.Ab(3),i.ic("matRippleTrigger",e._getHostElement())("matRippleDisabled",e.disabled||e.disableRipple))},directives:[D,al,ul],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.cdk-high-contrast-active .mat-option .mat-option-ripple{opacity:.5}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),t})();function Cl(t,e,n){if(n.length){let i=e.toArray(),r=n.toArray(),o=0;for(let e=0;e<t+1;e++)i[e].group&&i[e].group===r[o]&&o++;return o}return 0}let Sl=(()=>{class t{}return t.\u0275mod=i.Kb({type:t}),t.\u0275inj=i.Jb({factory:function(e){return new(e||t)},imports:[[cl,K,Ku,ll]]}),t})();var kl=n("VRyK"),Ol=n("n6bG");function Tl(t,e,n,i){return Object(Ol.a)(n)&&(i=n,n=void 0),i?Tl(t,e,n).pipe(Object(ti.a)(t=>Object(Jn.a)(t)?i(...t):i(t))):new Xn.a(i=>{xl(t,e,function(t){i.next(arguments.length>1?Array.prototype.slice.call(arguments):t)},i,n)})}function xl(t,e,n,i,r){let o;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(t)){const i=t;t.addEventListener(e,n,r),o=()=>i.removeEventListener(e,n,r)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(t)){const i=t;t.on(e,n),o=()=>i.off(e,n)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(t)){const i=t;t.addListener(e,n),o=()=>i.removeListener(e,n)}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(let o=0,s=t.length;o<s;o++)xl(t[o],e,n,i,r)}i.add(o)}function El(t){return e=>e.lift(new Il(t))}class Il{constructor(t){this.notifier=t}call(t,e){const n=new Al(t),i=Object(po.c)(this.notifier,new po.a(n));return i&&!n.seenValue?(n.add(i),e.subscribe(n)):n}}class Al extends po.b{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}const Rl=["underline"],Pl=["connectionContainer"],Dl=["inputContainer"],Ml=["label"];function Nl(t,e){1&t&&(i.Qb(0),i.Sb(1,"div",14),i.Nb(2,"div",15),i.Nb(3,"div",16),i.Nb(4,"div",17),i.Rb(),i.Sb(5,"div",18),i.Nb(6,"div",15),i.Nb(7,"div",16),i.Nb(8,"div",17),i.Rb(),i.Pb())}function jl(t,e){1&t&&(i.Sb(0,"div",19),i.gc(1,1),i.Rb())}function Fl(t,e){if(1&t&&(i.Qb(0),i.gc(1,2),i.Sb(2,"span"),i.Fc(3),i.Rb(),i.Pb()),2&t){const t=i.dc(2);i.Ab(3),i.Gc(t._control.placeholder)}}function Ll(t,e){1&t&&i.gc(0,3,["*ngSwitchCase","true"])}function Vl(t,e){1&t&&(i.Sb(0,"span",23),i.Fc(1," *"),i.Rb())}function Ul(t,e){if(1&t){const t=i.Tb();i.Sb(0,"label",20,21),i.Zb("cdkObserveContent",function(){return i.tc(t),i.dc().updateOutlineGap()}),i.Dc(2,Fl,4,1,"ng-container",12),i.Dc(3,Ll,1,0,"ng-content",12),i.Dc(4,Vl,2,0,"span",22),i.Rb()}if(2&t){const t=i.dc();i.Eb("mat-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-form-field-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-accent","accent"==t.color)("mat-warn","warn"==t.color),i.ic("cdkObserveContentDisabled","outline"!=t.appearance)("id",t._labelId)("ngSwitch",t._hasLabel()),i.Bb("for",t._control.id)("aria-owns",t._control.id),i.Ab(2),i.ic("ngSwitchCase",!1),i.Ab(1),i.ic("ngSwitchCase",!0),i.Ab(1),i.ic("ngIf",!t.hideRequiredMarker&&t._control.required&&!t._control.disabled)}}function ql(t,e){1&t&&(i.Sb(0,"div",24),i.gc(1,4),i.Rb())}function Bl(t,e){if(1&t&&(i.Sb(0,"div",25,26),i.Nb(2,"span",27),i.Rb()),2&t){const t=i.dc();i.Ab(2),i.Eb("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)}}function Hl(t,e){if(1&t&&(i.Sb(0,"div"),i.gc(1,5),i.Rb()),2&t){const t=i.dc();i.ic("@transitionMessages",t._subscriptAnimationState)}}function zl(t,e){if(1&t&&(i.Sb(0,"div",31),i.Fc(1),i.Rb()),2&t){const t=i.dc(2);i.ic("id",t._hintLabelId),i.Ab(1),i.Gc(t.hintLabel)}}function Wl(t,e){if(1&t&&(i.Sb(0,"div",28),i.Dc(1,zl,2,2,"div",29),i.gc(2,6),i.Nb(3,"div",30),i.gc(4,7),i.Rb()),2&t){const t=i.dc();i.ic("@transitionMessages",t._subscriptAnimationState),i.Ab(1),i.ic("ngIf",t.hintLabel)}}const Gl=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],Kl=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"];let $l=0;const Yl=new i.q("MatError");let Ql=(()=>{class t{constructor(){this.id="mat-error-"+$l++}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.Hb({type:t,selectors:[["mat-error"]],hostAttrs:["role","alert",1,"mat-error"],hostVars:1,hostBindings:function(t,e){2&t&&i.Bb("id",e.id)},inputs:{id:"id"},features:[i.zb([{provide:Yl,useExisting:t}])]}),t})();const Zl={transitionMessages:Et("transitionMessages",[Pt("enter",Rt({opacity:1,transform:"translateY(0%)"})),Dt("void => enter",[Rt({opacity:0,transform:"translateY(-100%)"}),It("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let Xl=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.Hb({type:t}),t})();const Jl=new i.q("MatHint");let th=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.Hb({type:t,selectors:[["mat-label"]]}),t})(),eh=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.Hb({type:t,selectors:[["mat-placeholder"]]}),t})();const nh=new i.q("MatPrefix"),ih=new i.q("MatSuffix");let rh=0;class oh{constructor(t){this._elementRef=t}}const sh=Yu(oh,"primary"),ah=new i.q("MAT_FORM_FIELD_DEFAULT_OPTIONS"),ch=new i.q("MatFormField");let uh=(()=>{class t extends sh{constructor(t,e,n,i,r,o,s,a){super(t),this._elementRef=t,this._changeDetectorRef=e,this._dir=i,this._defaults=r,this._platform=o,this._ngZone=s,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new Mr.a,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+rh++,this._labelId="mat-form-field-label-"+rh++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==a,this.appearance=r&&r.appearance?r.appearance:"legacy",this._hideRequiredMarker=!(!r||null==r.hideRequiredMarker)&&r.hideRequiredMarker}get appearance(){return this._appearance}set appearance(t){const e=this._appearance;this._appearance=t||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&e!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=nu(t)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add("mat-form-field-type-"+t.controlType),t.stateChanges.pipe(Co(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(El(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(El(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),Object(kl.a)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(Co(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(Co(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(El(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const e=this._control?this._control.ngControl:null;return e&&e[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,Tl(this._label.nativeElement,"transitionend").pipe(_o(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const e=this._hintChildren?this._hintChildren.find(t=>"start"===t.align):null,n=this._hintChildren?this._hintChildren.find(t=>"end"===t.align):null;e?t.push(e.id):this._hintLabel&&t.push(this._hintLabelId),n&&t.push(n.id)}else this._errorChildren&&t.push(...this._errorChildren.map(t=>t.id));this._control.setDescribedByIds(t)}}_validateControlChild(){}updateOutlineGap(){const t=this._label?this._label.nativeElement:null;if("outline"!==this.appearance||!t||!t.children.length||!t.textContent.trim())return;if(!this._platform.isBrowser)return;if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let e=0,n=0;const i=this._connectionContainerRef.nativeElement,r=i.querySelectorAll(".mat-form-field-outline-start"),o=i.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const r=i.getBoundingClientRect();if(0===r.width&&0===r.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const o=this._getStartEnd(r),s=t.children,a=this._getStartEnd(s[0].getBoundingClientRect());let c=0;for(let t=0;t<s.length;t++)c+=s[t].offsetWidth;e=Math.abs(a-o)-5,n=c>0?.75*c+10:0}for(let s=0;s<r.length;s++)r[s].style.width=e+"px";for(let s=0;s<o.length;s++)o[s].style.width=n+"px";this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}_isAttachedToDOM(){const t=this._elementRef.nativeElement;if(t.getRootNode){const e=t.getRootNode();return e&&e!==t}return document.documentElement.contains(t)}}return t.\u0275fac=function(e){return new(e||t)(i.Mb(i.l),i.Mb(i.h),i.Mb(i.l),i.Mb(Vu,8),i.Mb(ah,8),i.Mb(fu),i.Mb(i.z),i.Mb(Yn,8))},t.\u0275cmp=i.Gb({type:t,selectors:[["mat-form-field"]],contentQueries:function(t,e,n){if(1&t&&(i.Fb(n,Xl,!0),i.xc(n,Xl,!0),i.Fb(n,th,!0),i.xc(n,th,!0),i.Fb(n,eh,!0),i.Fb(n,Yl,!0),i.Fb(n,Jl,!0),i.Fb(n,nh,!0),i.Fb(n,ih,!0)),2&t){let t;i.qc(t=i.ac())&&(e._controlNonStatic=t.first),i.qc(t=i.ac())&&(e._controlStatic=t.first),i.qc(t=i.ac())&&(e._labelChildNonStatic=t.first),i.qc(t=i.ac())&&(e._labelChildStatic=t.first),i.qc(t=i.ac())&&(e._placeholderChild=t.first),i.qc(t=i.ac())&&(e._errorChildren=t),i.qc(t=i.ac())&&(e._hintChildren=t),i.qc(t=i.ac())&&(e._prefixChildren=t),i.qc(t=i.ac())&&(e._suffixChildren=t)}},viewQuery:function(t,e){if(1&t&&(i.Ic(Rl,!0),i.yc(Pl,!0),i.Ic(Dl,!0),i.Ic(Ml,!0)),2&t){let t;i.qc(t=i.ac())&&(e.underlineRef=t.first),i.qc(t=i.ac())&&(e._connectionContainerRef=t.first),i.qc(t=i.ac())&&(e._inputContainerRef=t.first),i.qc(t=i.ac())&&(e._label=t.first)}},hostAttrs:[1,"mat-form-field"],hostVars:44,hostBindings:function(t,e){2&t&&i.Eb("mat-form-field-appearance-standard","standard"==e.appearance)("mat-form-field-appearance-fill","fill"==e.appearance)("mat-form-field-appearance-outline","outline"==e.appearance)("mat-form-field-appearance-legacy","legacy"==e.appearance)("mat-form-field-invalid",e._control.errorState)("mat-form-field-can-float",e._canLabelFloat())("mat-form-field-should-float",e._shouldLabelFloat())("mat-form-field-has-label",e._hasFloatingLabel())("mat-form-field-hide-placeholder",e._hideControlPlaceholder())("mat-form-field-disabled",e._control.disabled)("mat-form-field-autofilled",e._control.autofilled)("mat-focused",e._control.focused)("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)("ng-untouched",e._shouldForward("untouched"))("ng-touched",e._shouldForward("touched"))("ng-pristine",e._shouldForward("pristine"))("ng-dirty",e._shouldForward("dirty"))("ng-valid",e._shouldForward("valid"))("ng-invalid",e._shouldForward("invalid"))("ng-pending",e._shouldForward("pending"))("_mat-animation-noopable",!e._animationsEnabled)},inputs:{color:"color",floatLabel:"floatLabel",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[i.zb([{provide:ch,useExisting:t}]),i.xb],ngContentSelectors:Kl,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],["underline",""],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,e){1&t&&(i.hc(Gl),i.Sb(0,"div",0),i.Sb(1,"div",1,2),i.Zb("click",function(t){return e._control.onContainerClick&&e._control.onContainerClick(t)}),i.Dc(3,Nl,9,0,"ng-container",3),i.Dc(4,jl,2,0,"div",4),i.Sb(5,"div",5,6),i.gc(7),i.Sb(8,"span",7),i.Dc(9,Ul,5,16,"label",8),i.Rb(),i.Rb(),i.Dc(10,ql,2,0,"div",9),i.Rb(),i.Dc(11,Bl,3,4,"div",10),i.Sb(12,"div",11),i.Dc(13,Hl,2,1,"div",12),i.Dc(14,Wl,5,2,"div",13),i.Rb(),i.Rb()),2&t&&(i.Ab(3),i.ic("ngIf","outline"==e.appearance),i.Ab(1),i.ic("ngIf",e._prefixChildren.length),i.Ab(5),i.ic("ngIf",e._hasFloatingLabel()),i.Ab(1),i.ic("ngIf",e._suffixChildren.length),i.Ab(1),i.ic("ngIf","outline"!=e.appearance),i.Ab(1),i.ic("ngSwitch",e._getDisplayedMessages()),i.Ab(1),i.ic("ngSwitchCase","error"),i.Ab(1),i.ic("ngSwitchCase","hint"))},directives:[D,F,L,lu],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:scaleX(1);transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element::-ms-clear,.mat-input-element::-ms-reveal{display:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-ms-expand{display:none}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}select.mat-input-element::-ms-value{color:inherit;background:none}.mat-focused .cdk-high-contrast-active select.mat-input-element::-ms-value{color:inherit}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px);-ms-transform:none}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[Zl.transitionMessages]},changeDetection:0}),t})(),lh=(()=>{class t{}return t.\u0275mod=i.Kb({type:t}),t.\u0275inj=i.Jb({factory:function(e){return new(e||t)},imports:[[K,Ku,hu],Ku]}),t})();class hh{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new dh(t,this.durationSelector))}}class dh extends po.b{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let n;try{const{durationSelector:e}=this;n=e(t)}catch(e){return this.destination.error(e)}const i=Object(po.c)(n,new po.a(this));!i||i.closed?this.clearThrottle():this.add(this.throttled=i)}}clearThrottle(){const{value:t,hasValue:e,throttled:n}=this;n&&(this.remove(n),this.throttled=void 0,n.unsubscribe()),e&&(this.value=void 0,this.hasValue=!1,this.destination.next(t))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var fh=n("Y7HM");function ph(t=0,e,n){let i=-1;return Object(fh.a)(e)?i=Number(e)<1?1:Number(e):Object(Fr.a)(e)&&(n=e),Object(Fr.a)(n)||(n=Kc.a),new Xn.a(e=>{const r=Object(fh.a)(t)?t:+t-n.now();return n.schedule(gh,r,{index:0,period:i,subscriber:e})})}function gh(t){const{index:e,period:n,subscriber:i}=t;if(i.next(e),!i.closed){if(-1===n)return i.complete();t.index=e+1,this.schedule(t,n)}}function mh(t,e=Kc.a){return n=()=>ph(t,e),function(t){return t.lift(new hh(n))};var n}const bh=yu({passive:!0});let _h=(()=>{class t{constructor(t,e){this._platform=t,this._ngZone=e,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return $r.a;const e=su(t),n=this._monitoredElements.get(e);if(n)return n.subject;const i=new Mr.a,r="cdk-text-field-autofilled",o=t=>{"cdk-text-field-autofill-start"!==t.animationName||e.classList.contains(r)?"cdk-text-field-autofill-end"===t.animationName&&e.classList.contains(r)&&(e.classList.remove(r),this._ngZone.run(()=>i.next({target:t.target,isAutofilled:!1}))):(e.classList.add(r),this._ngZone.run(()=>i.next({target:t.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{e.addEventListener("animationstart",o,bh),e.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(e,{subject:i,unlisten:()=>{e.removeEventListener("animationstart",o,bh)}}),i}stopMonitoring(t){const e=su(t),n=this._monitoredElements.get(e);n&&(n.unlisten(),n.subject.complete(),e.classList.remove("cdk-text-field-autofill-monitored"),e.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(e))}ngOnDestroy(){this._monitoredElements.forEach((t,e)=>this.stopMonitoring(e))}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(fu),i.Wb(i.z))},t.\u0275prov=Object(i.Ib)({factory:function(){return new t(Object(i.Wb)(fu),Object(i.Wb)(i.z))},token:t,providedIn:"root"}),t})(),vh=(()=>{class t{constructor(t,e,n,i){this._elementRef=t,this._platform=e,this._ngZone=n,this._destroyed=new Mr.a,this._enabled=!0,this._previousMinRows=-1,this._document=i,this._textareaElement=this._elementRef.nativeElement,this._measuringClass=e.FIREFOX?"cdk-textarea-autosize-measuring-firefox":"cdk-textarea-autosize-measuring"}get minRows(){return this._minRows}set minRows(t){this._minRows=iu(t),this._setMinHeight()}get maxRows(){return this._maxRows}set maxRows(t){this._maxRows=iu(t),this._setMaxHeight()}get enabled(){return this._enabled}set enabled(t){t=nu(t),this._enabled!==t&&((this._enabled=t)?this.resizeToFitContent(!0):this.reset())}_setMinHeight(){const t=this.minRows&&this._cachedLineHeight?this.minRows*this._cachedLineHeight+"px":null;t&&(this._textareaElement.style.minHeight=t)}_setMaxHeight(){const t=this.maxRows&&this._cachedLineHeight?this.maxRows*this._cachedLineHeight+"px":null;t&&(this._textareaElement.style.maxHeight=t)}ngAfterViewInit(){this._platform.isBrowser&&(this._initialHeight=this._textareaElement.style.height,this.resizeToFitContent(),this._ngZone.runOutsideAngular(()=>{Tl(this._getWindow(),"resize").pipe(mh(16),El(this._destroyed)).subscribe(()=>this.resizeToFitContent(!0))}))}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_cacheTextareaLineHeight(){if(this._cachedLineHeight)return;let t=this._textareaElement.cloneNode(!1);t.rows=1,t.style.position="absolute",t.style.visibility="hidden",t.style.border="none",t.style.padding="0",t.style.height="",t.style.minHeight="",t.style.maxHeight="",t.style.overflow="hidden",this._textareaElement.parentNode.appendChild(t),this._cachedLineHeight=t.clientHeight,this._textareaElement.parentNode.removeChild(t),this._setMinHeight(),this._setMaxHeight()}ngDoCheck(){this._platform.isBrowser&&this.resizeToFitContent()}resizeToFitContent(t=!1){if(!this._enabled)return;if(this._cacheTextareaLineHeight(),!this._cachedLineHeight)return;const e=this._elementRef.nativeElement,n=e.value;if(!t&&this._minRows===this._previousMinRows&&n===this._previousValue)return;const i=e.placeholder;e.classList.add(this._measuringClass),e.placeholder="",e.style.height=e.scrollHeight-4+"px",e.classList.remove(this._measuringClass),e.placeholder=i,this._ngZone.runOutsideAngular(()=>{"undefined"!=typeof requestAnimationFrame?requestAnimationFrame(()=>this._scrollToCaretPosition(e)):setTimeout(()=>this._scrollToCaretPosition(e))}),this._previousValue=n,this._previousMinRows=this._minRows}reset(){void 0!==this._initialHeight&&(this._textareaElement.style.height=this._initialHeight)}_noopInputHandler(){}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_scrollToCaretPosition(t){const{selectionStart:e,selectionEnd:n}=t,i=this._getDocument();this._destroyed.isStopped||i.activeElement!==t||t.setSelectionRange(e,n)}}return t.\u0275fac=function(e){return new(e||t)(i.Mb(i.l),i.Mb(fu),i.Mb(i.z),i.Mb(s,8))},t.\u0275dir=i.Hb({type:t,selectors:[["textarea","cdkTextareaAutosize",""]],hostAttrs:["rows","1",1,"cdk-textarea-autosize"],hostBindings:function(t,e){1&t&&i.Zb("input",function(){return e._noopInputHandler()})},inputs:{minRows:["cdkAutosizeMinRows","minRows"],maxRows:["cdkAutosizeMaxRows","maxRows"],enabled:["cdkTextareaAutosize","enabled"]},exportAs:["cdkTextareaAutosize"]}),t})(),yh=(()=>{class t{}return t.\u0275mod=i.Kb({type:t}),t.\u0275inj=i.Jb({factory:function(e){return new(e||t)},imports:[[pu]]}),t})(),wh=(()=>{class t extends vh{get matAutosizeMinRows(){return this.minRows}set matAutosizeMinRows(t){this.minRows=t}get matAutosizeMaxRows(){return this.maxRows}set matAutosizeMaxRows(t){this.maxRows=t}get matAutosize(){return this.enabled}set matAutosize(t){this.enabled=t}get matTextareaAutosize(){return this.enabled}set matTextareaAutosize(t){this.enabled=t}}return t.\u0275fac=function(e){return Ch(e||t)},t.\u0275dir=i.Hb({type:t,selectors:[["textarea","mat-autosize",""],["textarea","matTextareaAutosize",""]],hostAttrs:["rows","1",1,"cdk-textarea-autosize","mat-autosize"],inputs:{cdkAutosizeMinRows:"cdkAutosizeMinRows",cdkAutosizeMaxRows:"cdkAutosizeMaxRows",matAutosizeMinRows:"matAutosizeMinRows",matAutosizeMaxRows:"matAutosizeMaxRows",matAutosize:["mat-autosize","matAutosize"],matTextareaAutosize:"matTextareaAutosize"},exportAs:["matTextareaAutosize"],features:[i.xb]}),t})();const Ch=i.Ub(wh),Sh=new i.q("MAT_INPUT_VALUE_ACCESSOR"),kh=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let Oh=0;class Th{constructor(t,e,n,i){this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=n,this.ngControl=i}}const xh=Xu(Th);let Eh=(()=>{class t extends xh{constructor(t,e,n,i,r,o,s,a,c,u){super(o,i,r,n),this._elementRef=t,this._platform=e,this.ngControl=n,this._autofillMonitor=a,this._formField=u,this._uid="mat-input-"+Oh++,this.focused=!1,this.stateChanges=new Mr.a,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._required=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(t=>mu().has(t));const l=this._elementRef.nativeElement,h=l.nodeName.toLowerCase();this._inputValueAccessor=s||l,this._previousNativeValue=this.value,this.id=this.id,e.IOS&&c.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",t=>{let e=t.target;e.value||e.selectionStart||e.selectionEnd||(e.setSelectionRange(1,1),e.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===h,this._isTextarea="textarea"===h,this._isNativeSelect&&(this.controlType=l.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=nu(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required}set required(t){this._required=nu(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&mu().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=nu(t)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t===this.focused||this.readonly&&t||(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var t,e;const n=(null===(e=null===(t=this._formField)||void 0===t?void 0:t._hideControlPlaceholder)||void 0===e?void 0:e.call(t))?null:this.placeholder;if(n!==this._previousPlaceholder){const t=this._elementRef.nativeElement;this._previousPlaceholder=n,n?t.setAttribute("placeholder",n):t.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){kh.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,e=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&e&&e.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}}return t.\u0275fac=function(e){return new(e||t)(i.Mb(i.l),i.Mb(fu),i.Mb(Ii,10),i.Mb(br,8),i.Mb(Tr,8),i.Mb(Ju),i.Mb(Sh,10),i.Mb(_h),i.Mb(i.z),i.Mb(ch,8))},t.\u0275dir=i.Hb({type:t,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:9,hostBindings:function(t,e){1&t&&i.Zb("focus",function(){return e._focusChanged(!0)})("blur",function(){return e._focusChanged(!1)})("input",function(){return e._onInput()}),2&t&&(i.Vb("disabled",e.disabled)("required",e.required),i.Bb("id",e.id)("data-placeholder",e.placeholder)("readonly",e.readonly&&!e._isNativeSelect||null)("aria-invalid",e.errorState)("aria-required",e.required.toString()),i.Eb("mat-input-server",e._isServer))},inputs:{id:"id",disabled:"disabled",required:"required",type:"type",value:"value",readonly:"readonly",placeholder:"placeholder",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"]},exportAs:["matInput"],features:[i.zb([{provide:Xl,useExisting:t}]),i.xb,i.yb]}),t})(),Ih=(()=>{class t{}return t.\u0275mod=i.Kb({type:t}),t.\u0275inj=i.Jb({factory:function(e){return new(e||t)},providers:[Ju],imports:[[yh,lh,Ku],yh,lh]}),t})();function Ah(t,e){if(1&t&&i.Nb(0,"div",22),2&t){const t=i.dc();i.ic("innerHTML",t.info,i.uc)}}function Rh(t,e){if(1&t){const t=i.Tb();i.Sb(0,"i",23),i.Zb("click",function(){return i.tc(t),i.dc().toggleInfo()}),i.Rb()}}function Ph(t,e){if(1&t&&i.Nb(0,"input",24),2&t){const t=i.dc();i.ic("formControl",t.cueFormControl)("readonly",!0)}}function Dh(t,e){if(1&t&&i.Nb(0,"input",24),2&t){const t=i.dc();i.ic("formControl",t.cueFormControl)("readonly",t._submit)}}function Mh(t,e){1&t&&(i.Sb(0,"mat-error"),i.Fc(1," Cue should be one word in english "),i.Rb())}function Nh(t,e){if(1&t&&(i.Sb(0,"div",25),i.Sb(1,"div",8),i.Fc(2," Associations"),i.Rb(),i.Sb(3,"div",26),i.Fc(4),i.Rb(),i.Rb()),2&t){const t=i.dc();i.Ab(4),i.Hc(" ",t._guessAssociationTask.associations," ")}}function jh(t,e){if(1&t&&i.Nb(0,"i",31),2&t){const t=i.dc().$implicit;i.Ac("color",t.userChoice&&t.userChoice!==t.answer?"red":"transparent")}}function Fh(t,e){if(1&t&&i.Nb(0,"i",31),2&t){const t=i.dc().$implicit;i.Ac("color",t.answer&&t.userChoice!==t.answer?"red":"transparent")}}function Lh(t,e){if(1&t&&i.Nb(0,"i",32),2&t){const t=i.dc().$implicit;i.Ac("color",t.userChoice&&t.userChoice===t.answer?"green":"transparent")}}function Vh(t,e){if(1&t&&i.Nb(0,"i",32),2&t){const t=i.dc().$implicit;i.Ac("color",t.answer&&t.userChoice===t.answer?"green":"transparent")}}const Uh=function(t,e,n){return{"analogy-image-container":t,"analogy-image-container-six":e,"analogy-image-container-twelve":n}},qh=function(t,e,n){return{"candidate-selected":t,"AI-selected":e,"alerts-border":n}};function Bh(t,e){if(1&t){const t=i.Tb();i.Sb(0,"div",27),i.Zb("click",function(){i.tc(t);const n=e.$implicit;return i.dc().selectCandidate(n)}),i.Nb(1,"img",28),i.Dc(2,jh,1,2,"i",29),i.Dc(3,Fh,1,2,"i",29),i.Dc(4,Lh,1,2,"i",30),i.Dc(5,Vh,1,2,"i",30),i.Rb()}if(2&t){const t=e.$implicit,n=i.dc();i.ic("ngClass",i.nc(7,Uh,!n.isSixCandidates,n.isSixCandidates,n.isTwelveCandidates)),i.Ab(1),i.jc("src",t.img,i.vc),i.ic("ngClass",i.nc(11,qh,t.userChoice,t.answer&&!n.isGuessAssociationsTask,t.userChoice&&!t.answer&&!n.isGuessAssociationsTask&&n._giveCueTask.receivedAIResponse[n._cueIndex])),i.Ab(1),i.ic("ngIf",!n.disableSolutionIcons&&(!n.testMode||n._submit)&&n.isGuessAssociationsTask&&t.userChoice!==t.answer),i.Ab(1),i.ic("ngIf",!n.disableSolutionIcons&&(!n.testMode||n._submit)&&!n.isGuessAssociationsTask&&n._giveCueTask.receivedAIResponse[n._cueIndex]&&t.userChoice!==t.answer),i.Ab(1),i.ic("ngIf",!n.disableSolutionIcons&&(!n.testMode||n._submit)&&n.isGuessAssociationsTask&&t.userChoice===t.answer),i.Ab(1),i.ic("ngIf",!n.disableSolutionIcons&&(!n.testMode||n._submit)&&!n.isGuessAssociationsTask&&n._giveCueTask.receivedAIResponse[n._cueIndex]&&t.userChoice===t.answer)}}function Hh(t,e){1&t&&(i.Sb(0,"div",33),i.Sb(1,"div",34),i.Sb(2,"span",35),i.Fc(3," \u{1f449} "),i.Rb(),i.Rb(),i.Sb(4,"div",36),i.Fc(5," Choose here! "),i.Rb(),i.Rb())}const zh=function(){return{position:"absolute","pointer-events":"none"}},Wh=function(t){return{"no-underline-mat-field":t}},Gh=function(t){return{visibility:t}};let Kh=(()=>{class t{constructor(t){this.changeDetectionRef=t,this._candidates=[],this._guessAssociationTask=null,this._giveCueTask=null,this.userCue="",this.isGuessAssociationsTask=!0,this.confettiSettings={target:"confetti"},this.confettiShown=!1,this.noSelection=!0,this.showInfo=!1,this.isSixCandidates=!1,this.isTwelveCandidates=!1,this.enableSelection=!0,this.testMode=!1,this.disableSolutionIcons=!1,this._submit=!1,this.title="",this.enablePointer=!1,this.AIRequest=!0,this.info="",this._cueIndex=0,this.selected$=new i.n,this.cueFormControl=new dr(""),this.cueValueChangesSubscription=new Do.a,this.cueValueChangedSubscription=new Do.a}set cueIndex(t){this._cueIndex=t,this.giveCueTask=this._giveCueTask}ngOnInit(){}ngOnDestroy(){this.cueValueChangesSubscription.unsubscribe(),this.cueValueChangesSubscription.unsubscribe()}init(){this.clearConfetti(),this.isGuessAssociationsTask?this.cueFormControl.setValue(this._guessAssociationTask.cue[0]):(this._giveCueTask._userCue.pipe(_o(1)).subscribe(t=>this.cueFormControl.setValue(t[this._cueIndex])),this.cueValueChangesSubscription.unsubscribe(),this.cueValueChangesSubscription=this.cueFormControl.valueChanges.pipe($c(200),Xc(),go(t=>(/^[a-zA-Z]*$/.test(t)&&this._giveCueTask.setUserCue(t,this._cueIndex),this._giveCueTask._userCue))).subscribe(t=>{this.cueFormControl.setValue(t[this._cueIndex])}))}set giveCueTask(t){this._giveCueTask=t,this._candidates=t.candidates[this._cueIndex],this.isGuessAssociationsTask=!1,this.isSixCandidates=!(this._giveCueTask.candidates[0].length%6),this.isTwelveCandidates=12===this._giveCueTask.candidates[0].length,this.init()}set guessTheAssociationsTask(t){this._guessAssociationTask=t,this._candidates=t.candidates,this.isGuessAssociationsTask=!0,this.isSixCandidates=!(this._guessAssociationTask.candidates.length%6),this.isTwelveCandidates=12===this._guessAssociationTask.candidates.length,this.init()}set submit(t){this._submit=t}selectCandidate(t){this.enableSelection&&!this._submit&&(t.userChoice=!t.userChoice,this.noSelection=!1,this.setConfetti(),(this.isGuessAssociationsTask?this._guessAssociationTask.isTaskSolved():this._giveCueTask.isTaskSolved(this._cueIndex))&&(this.testMode||this.renderConfetti()),this.changeDetectionRef.markForCheck(),this.changeDetectionRef.detectChanges())}setConfetti(){this.confetti||(this.confetti=new Gc(this.confettiSettings)),this.clearConfetti()}renderConfetti(){this.confettiShown||(this.confetti.render(),this.confettiShown=!0)}clearConfetti(){this.confettiShown&&(this.confetti.clear(),this.confettiShown=!1,this.confetti=new Gc(this.confettiSettings))}toggleInfo(){this.showInfo=!this.showInfo}}return t.\u0275fac=function(e){return new(e||t)(i.Mb(i.h))},t.\u0275cmp=i.Gb({type:t,selectors:[["app-task-board"]],inputs:{enableSelection:"enableSelection",testMode:"testMode",disableSolutionIcons:"disableSolutionIcons",_submit:"_submit",title:"title",enablePointer:"enablePointer",AIRequest:"AIRequest",info:"info",cueIndex:"cueIndex",giveCueTask:"giveCueTask",guessTheAssociationsTask:"guessTheAssociationsTask",submit:"submit"},outputs:{selected$:"selected$"},decls:26,vars:20,consts:[["id","confetti",3,"ngStyle"],[2,"text-transform","none"],[1,"analogy-container"],[1,"right-board-container"],[1,"board","top-board"],["class","main-description",3,"innerHTML",4,"ngIf"],["class","fas fa-info-circle","aria-hidden","true",3,"click",4,"ngIf"],[1,"cue-board"],[1,"label","board-title"],[1,"example-form"],["appearance","fill",1,"example-full-width",3,"ngClass"],["matInput","","autocomplete","off",3,"formControl","readonly",4,"ngIf"],[4,"ngIf"],["class","associations-board",4,"ngIf"],[1,"AI-response-label-container"],[1,"AI-response-label"],["src","assets/robot-head/robot-head.png"],[1,"left-board-container"],[1,"board","left-board"],[1,"images-board"],[3,"ngClass","click",4,"ngFor","ngForOf"],["class","pointer-container",4,"ngIf"],[1,"main-description",3,"innerHTML"],["aria-hidden","true",1,"fas","fa-info-circle",3,"click"],["matInput","","autocomplete","off",3,"formControl","readonly"],[1,"associations-board"],[1,"bold-text"],[3,"ngClass","click"],[3,"src","ngClass"],["class","fas fa-times",3,"color",4,"ngIf"],["class","fas fa-check",3,"color",4,"ngIf"],[1,"fas","fa-times"],[1,"fas","fa-check"],[1,"pointer-container"],[2,"position","relative","width","110px"],[1,"moving-pointer"],[1,"pointer-label"]],template:function(t,e){1&t&&(i.Nb(0,"canvas",0),i.Sb(1,"h3",1),i.Fc(2),i.Rb(),i.Sb(3,"div",2),i.Sb(4,"div",3),i.Sb(5,"div",4),i.Dc(6,Ah,1,1,"div",5),i.Dc(7,Rh,1,0,"i",6),i.Sb(8,"div",7),i.Sb(9,"div",8),i.Fc(10," Cue"),i.Rb(),i.Sb(11,"form",9),i.Sb(12,"mat-form-field",10),i.Dc(13,Ph,1,2,"input",11),i.Dc(14,Dh,1,2,"input",11),i.Dc(15,Mh,2,0,"mat-error",12),i.Rb(),i.Rb(),i.Rb(),i.Dc(16,Nh,5,1,"div",13),i.Rb(),i.Rb(),i.Sb(17,"div",14),i.Sb(18,"div",15),i.Fc(19,"AI Response "),i.Nb(20,"img",16),i.Rb(),i.Rb(),i.Sb(21,"div",17),i.Sb(22,"div",18),i.Sb(23,"div",19),i.Dc(24,Bh,6,15,"div",20),i.Dc(25,Hh,6,0,"div",21),i.Rb(),i.Rb(),i.Rb(),i.Rb()),2&t&&(i.ic("ngStyle",i.kc(15,zh)),i.Ab(2),i.Gc(e.title),i.Ab(3),i.Ac("width",e.isGuessAssociationsTask?"600px":"auto"),i.Ab(1),i.ic("ngIf",e.showInfo),i.Ab(1),i.ic("ngIf",e.info.length),i.Ab(5),i.ic("ngClass",i.lc(16,Wh,e.isGuessAssociationsTask)),i.Ab(1),i.ic("ngIf",e.isGuessAssociationsTask),i.Ab(1),i.ic("ngIf",!e.isGuessAssociationsTask),i.Ab(1),i.ic("ngIf",!e.cueFormControl.valid&&""!=e.cueFormControl.value),i.Ab(1),i.ic("ngIf",e.isGuessAssociationsTask),i.Ab(1),i.zc(i.lc(18,Gh,e._submit&&!e.isGuessAssociationsTask&&e.AIRequest?"visible":"hidden")),i.Ab(7),i.ic("ngForOf",e._candidates),i.Ab(1),i.ic("ngIf",e.noSelection&&e.enablePointer))},directives:[U,D,wr,Pi,br,uh,I,R,Eh,ui,Ri,kr,Ql],styles:[".analogy-container[_ngcontent-%COMP%]{width:125%;height:100%;display:flex;justify-content:space-between;flex-direction:column;align-items:center}.board[_ngcontent-%COMP%]{display:flex}.no-underline-mat-field[_ngcontent-%COMP%]     .mat-form-field-underline{visibility:hidden!important}@media (max-width:610px){.top-board[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between}.cue-board[_ngcontent-%COMP%]{height:120px!important}}.top-board[_ngcontent-%COMP%]{width:600px;justify-content:space-between;align-items:center;position:relative}.main-description[_ngcontent-%COMP%]{color:#000;position:absolute;right:-260px;width:420px;bottom:80px;background:#feebec;padding:10px;border-radius:10px;box-shadow:0 0 .2rem rgba(0,0,0,.3)}.left-board[_ngcontent-%COMP%], .right-board[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column}.associations-board[_ngcontent-%COMP%], .cue-board[_ngcontent-%COMP%]{width:310px;height:100px;display:flex;flex-direction:column;justify-content:space-between}.example-full-width[_ngcontent-%COMP%]{width:280px}  .mat-form-field-flex{padding:0!important}input[_ngcontent-%COMP%]{border:0;outline:0;background:transparent;text-align:center}.images-board[_ngcontent-%COMP%]{position:relative;display:flex;flex-wrap:wrap}.fas[_ngcontent-%COMP%]{font-size:25px;margin-top:10px}@media (max-width:850px){.fa-info-circle[_ngcontent-%COMP%]{left:0!important;right:0!important;bottom:-74px}.fa-info-circle[_ngcontent-%COMP%], .main-description[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto}.main-description[_ngcontent-%COMP%]{left:0;right:0;width:298px;bottom:-250px;z-index:9999}}@media (max-width:800px){.analogy-image-container[_ngcontent-%COMP%]{flex:1 0 99%!important}.center-separator[_ngcontent-%COMP%]{display:none!important}}.analogy-image-container[_ngcontent-%COMP%]{flex:1 0 20%;height:auto;width:auto;padding:.5rem;cursor:pointer}.analogy-image-container-six[_ngcontent-%COMP%]{flex:1 0 33%;height:auto;width:auto;padding:.5rem;cursor:pointer}.analogy-image-container-twelve[_ngcontent-%COMP%]{flex:1 0 25%!important;height:auto;width:auto;padding:.5rem;cursor:pointer}.label[_ngcontent-%COMP%]{color:#4d5568}.board-title[_ngcontent-%COMP%]{font-size:2rem;font-family:Cambria Math,serif}.bold-text[_ngcontent-%COMP%], input[_ngcontent-%COMP%]{font-size:2rem;color:#000;font-weight:700}.shake[_ngcontent-%COMP%]{-webkit-animation-name:shake-animation;animation-name:shake-animation;-webkit-animation-duration:.3s;animation-duration:.3s}@-webkit-keyframes shake-animation{10%,90%{transform:translate3d(-.5px,0,0)}20%,80%{transform:translate3d(2px,0,0)}30%,50%,70%{transform:translate3d(-3px,0,0)}40%,60%{transform:translate3d(3px,0,0)}}@keyframes shake-animation{10%,90%{transform:translate3d(-.5px,0,0)}20%,80%{transform:translate3d(2px,0,0)}30%,50%,70%{transform:translate3d(-3px,0,0)}40%,60%{transform:translate3d(3px,0,0)}}.remove-pointer[_ngcontent-%COMP%]{display:none!important}@media (max-width:1375px){.pointer-container[_ngcontent-%COMP%]{display:none!important}}.pointer-container[_ngcontent-%COMP%]{color:#000;position:absolute;height:100%;display:flex;justify-content:center;align-items:center;flex-direction:column;left:-160px}.moving-pointer[_ngcontent-%COMP%]{font-weight:500!important;font-size:80px;-webkit-animation-name:moving-pointer;animation-name:moving-pointer;-webkit-animation-duration:.8s;animation-duration:.8s;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;-webkit-animation-timing-function:linear;animation-timing-function:linear;-webkit-animation-direction:alternate;animation-direction:alternate;color:#000}.AI-response-label-container[_ngcontent-%COMP%]{padding-top:20px;padding-bottom:20px}.AI-response-label[_ngcontent-%COMP%]{color:#666;font-size:30px}.AI-response-label[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:50px;height:50px}@-webkit-keyframes moving-pointer{0%{margin-left:20px}to{margin-right:30px}}@keyframes moving-pointer{0%{margin-left:20px}to{margin-right:30px}}.pointer-label[_ngcontent-%COMP%]{font-size:19px}img[_ngcontent-%COMP%]{width:237px;height:237px;border:2px solid transparent}.separator-label[_ngcontent-%COMP%]{text-align:center;font-size:100px;color:#000}.fa-info-circle[_ngcontent-%COMP%]{color:#fd969e;font-size:40px;position:absolute;right:-70px;text-shadow:2px 5px rgba(0,0,0,.03);cursor:pointer}.right-board-container[_ngcontent-%COMP%]{padding-bottom:15px;box-shadow:0 0 .2rem rgba(0,0,0,.3)}.left-board-container[_ngcontent-%COMP%]{padding-top:0;box-shadow:0 0 .2rem rgba(0,0,0,.3)}.center-separator[_ngcontent-%COMP%]{height:auto;align-items:center;justify-content:center;display:flex}.candidate-selected[_ngcontent-%COMP%]{border:5px solid #ff8d72}.AI-selected[_ngcontent-%COMP%]{border:5px solid #ffdc00}.alerts-border[_ngcontent-%COMP%]{border:5px solid #ff8d72;-webkit-animation:blink 2s;animation:blink 2s;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite}@-webkit-keyframes blink{50%{border-color:#fff}}@keyframes blink{50%{border-color:#fff}}  .mat-form-field-flex{background-color:transparent!important}"]}),t})(),$h=(()=>{class t{constructor(t,e){var n;this.router=t,this.changeDetectorRef=e,this.task=Ac.has(n="monkey-human-swing")?(console.log(`Loading ${n} task`),Ic.clone(Ac.get(n))):Ic.clone(Ac.get("example-1")),window.name="WinoGAViL"}ngOnInit(){this.changeDetectorRef.detectChanges()}ngOnDestroy(){document.getElementsByTagName("body")[0].classList.remove("index-page")}navigateHome(){this.router.navigateByUrl(this.router.url)}}return t.\u0275fac=function(e){return new(e||t)(i.Mb(oc),i.Mb(i.h))},t.\u0275cmp=i.Gb({type:t,selectors:[["app-main"]],decls:106,vars:2,consts:[[1,"wrapper"],[1,"page-header","header-filter"],[1,"container","center-container"],[1,"content-center","brand"],[1,"h1-seo"],[2,"padding-top","2rem"],[1,"analogies-board",3,"guessTheAssociationsTask","enablePointer"],[1,"main"],[1,"section"],[1,"container","stats-container"],[1,"stats-lower-label"],["href","./challenge-the-ai",1,"stats-page-ref"],[1,"stats-row"],[1,"stats-block"],[1,"stat-label"],[1,"stat-description"],[1,"container"],[1,"mb-5","sub-title"],[1,"abstract"],["src","/assets/img/abstract.JPG"],["id","images"],[1,"row"],[1,"col-sm-3","col-6","mt-5","mt-sm-0"],[1,"d-block","text-uppercase","font-weight-bold","mb-4"],["href","https://yonatanbitton.github.io/",1,"flex"],["src","assets/img/hebrew-university-logo.jpg",1,"uni-logo"],["href","https://yonatanbitton.github.io/"],["alt","Raised image","src","/assets/img/Yonatan%20Bitton.png",1,"img-fluid","rounded","shadow-lg"],["href","https://www.linkedin.com/in/nitzan-guetta-34a0021b5",1,"flex"],["src","assets/img/ben-gurion_university_of_the_negev_svg.png",1,"bgu-logo"],["href","https://www.linkedin.com/in/nitzan-guetta-34a0021b5"],["alt","Raised image","src","/assets/img/Nitzan%20Guetta.png",1,"img-fluid","rounded","shadow-lg"],["href","https://ron-yosef.com/",1,"flex"],["href","https://ron-yosef.com/"],["alt","Raised image","src","/assets/img/Ron%20Yosef.png",1,"img-fluid","rounded","shadow-lg"],["href","https://fohs.bgu.ac.il/research/PersonalWebSite1main.aspx?id=ddMddeut",1,"flex"],["href","https://fohs.bgu.ac.il/research/PersonalWebSite1main.aspx?id=ddMddeut"],["alt","Raised image","src","/assets/img/Yuval%20Elovici.png",1,"img-fluid","rounded","shadow-lg"],["href","https://www.cs.unc.edu/~mbansal/",1,"flex"],["src","assets/img/University_of_North_Carolina_at_Chapel_Hill_seal.svg.png",1,"unc-logo"],["href","https://www.cs.unc.edu/~mbansal/"],["alt","Raised image","src","/assets/img/Mohit%20Bansal.png",1,"img-fluid","rounded","shadow-lg"],["href","https://gabrielstanovsky.github.io/",1,"flex"],["href","https://gabrielstanovsky.github.io/"],["alt","Raised image","src","/assets/img/Gabriel%20Stanovsky.png",1,"img-fluid","rounded","shadow-lg"],["href","https://schwartz-lab-huji.github.io/",1,"flex"],["href","https://schwartz-lab-huji.github.io/"],["alt","Raised image","src","/assets/img/Roy%20Schwartz.png",1,"img-fluid","rounded","shadow-lg"],[1,"footer"],[1,"footer-row"]],template:function(t,e){1&t&&(i.Nb(0,"app-navbar"),i.Sb(1,"div",0),i.Sb(2,"div",1),i.Sb(3,"div",2),i.Sb(4,"div",3),i.Sb(5,"h4",4),i.Fc(6,"WinoGAViL: Gamified Association Benchmark to Challenge Vision-and-Language Models "),i.Rb(),i.Sb(7,"h3",5),i.Fc(8," Five images are presented below. "),i.Nb(9,"br"),i.Fc(10," A cue word and number of associated images are given. "),i.Nb(11,"br"),i.Fc(12," Choose the images that best associates with the cue word. "),i.Nb(13,"br"),i.Rb(),i.Nb(14,"app-task-board",6),i.Rb(),i.Rb(),i.Rb(),i.Sb(15,"div",7),i.Sb(16,"div",8),i.Sb(17,"div",9),i.Sb(18,"div",10),i.Fc(19," Go to "),i.Sb(20,"a",11),i.Fc(21,"Challenge the AI"),i.Rb(),i.Fc(22," page to play the associations games against a rival AI"),i.Nb(23,"br"),i.Rb(),i.Sb(24,"div",12),i.Sb(25,"div",13),i.Sb(26,"div",14),i.Fc(27,"3.5K+"),i.Rb(),i.Sb(28,"div",15),i.Fc(29,"Associations"),i.Rb(),i.Rb(),i.Sb(30,"div",13),i.Sb(31,"div",14),i.Fc(32,"<52%"),i.Rb(),i.Sb(33,"div",15),i.Fc(34,"Model Success Rate"),i.Rb(),i.Rb(),i.Sb(35,"div",13),i.Sb(36,"div",14),i.Fc(37,">90%"),i.Rb(),i.Sb(38,"div",15),i.Fc(39,"Human Successes Rate"),i.Rb(),i.Rb(),i.Rb(),i.Rb(),i.Rb(),i.Sb(40,"div",8),i.Sb(41,"div",16),i.Sb(42,"h3",17),i.Fc(43,"Paper"),i.Rb(),i.Sb(44,"div",18),i.Nb(45,"img",19),i.Rb(),i.Rb(),i.Rb(),i.Sb(46,"div",8),i.Sb(47,"div",16),i.Sb(48,"div",20),i.Sb(49,"h3",17),i.Fc(50,"Authors"),i.Rb(),i.Sb(51,"div",21),i.Sb(52,"div",22),i.Sb(53,"small",23),i.Sb(54,"a",24),i.Nb(55,"img",25),i.Fc(56," Yonatan Bitton "),i.Rb(),i.Rb(),i.Sb(57,"a",26),i.Nb(58,"img",27),i.Rb(),i.Rb(),i.Sb(59,"div",22),i.Sb(60,"small",23),i.Sb(61,"a",28),i.Nb(62,"img",29),i.Fc(63," Nitzan Guetta "),i.Rb(),i.Rb(),i.Sb(64,"a",30),i.Nb(65,"img",31),i.Rb(),i.Rb(),i.Sb(66,"div",22),i.Sb(67,"small",23),i.Sb(68,"a",32),i.Nb(69,"img",25),i.Fc(70," Ron Yosef "),i.Rb(),i.Rb(),i.Sb(71,"a",33),i.Nb(72,"img",34),i.Rb(),i.Rb(),i.Sb(73,"div",22),i.Sb(74,"small",23),i.Sb(75,"a",35),i.Nb(76,"img",29),i.Fc(77," Yuval Elovici "),i.Rb(),i.Rb(),i.Sb(78,"a",36),i.Nb(79,"img",37),i.Rb(),i.Rb(),i.Sb(80,"div",22),i.Sb(81,"small",23),i.Sb(82,"a",38),i.Nb(83,"img",39),i.Fc(84," Mohit Bansal "),i.Rb(),i.Rb(),i.Sb(85,"a",40),i.Nb(86,"img",41),i.Rb(),i.Rb(),i.Sb(87,"div",22),i.Sb(88,"small",23),i.Sb(89,"a",42),i.Nb(90,"img",25),i.Fc(91," Gabriel Stanovsky "),i.Rb(),i.Rb(),i.Sb(92,"a",43),i.Nb(93,"img",44),i.Rb(),i.Rb(),i.Sb(94,"div",22),i.Sb(95,"small",23),i.Sb(96,"a",45),i.Nb(97,"img",25),i.Fc(98," Roy Schwartz "),i.Rb(),i.Rb(),i.Sb(99,"a",46),i.Nb(100,"img",47),i.Rb(),i.Rb(),i.Rb(),i.Rb(),i.Rb(),i.Rb(),i.Rb(),i.Sb(101,"footer",48),i.Sb(102,"div",16),i.Sb(103,"div",49),i.Sb(104,"a"),i.Fc(105,"Maintained by Ron Yosef"),i.Rb(),i.Rb(),i.Rb(),i.Rb(),i.Rb()),2&t&&(i.Ab(14),i.ic("guessTheAssociationsTask",e.task)("enablePointer",!0))},directives:[Wc,Kh],styles:[".col-6[_ngcontent-%COMP%]{padding-bottom:30px!important;display:flex;justify-content:center;flex-direction:column;align-items:center}h1[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{color:#4d5568!important}.img-fluid[_ngcontent-%COMP%]{width:150px;height:203.469px}@media (max-width:800px){.stats-row[_ngcontent-%COMP%]{width:93%!important}}@media (max-width:980px){.h1-seo[_ngcontent-%COMP%]{font-size:2em}}.stats-row[_ngcontent-%COMP%]{width:75%;display:flex;flex-basis:33.3333333%;justify-content:space-around;box-shadow:0 .5rem 1rem rgba(0,0,0,.15);margin:auto}small[_ngcontent-%COMP%]{font-size:1rem}a[_ngcontent-%COMP%]{color:#4d5568;font-weight:inherit}[_nghost-%COMP%]     small{margin-bottom:.5rem!important}.stats-block[_ngcontent-%COMP%]{padding:1.5rem}.stats-container[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-direction:column;align-items:center}.stats-lower-label[_ngcontent-%COMP%]{font-size:1.5rem;text-align:center;padding-bottom:4rem}.stat-label[_ngcontent-%COMP%]{font-size:2rem;font-weight:700}.stat-description[_ngcontent-%COMP%], .stat-label[_ngcontent-%COMP%]{text-align:center}.abstract[_ngcontent-%COMP%]{display:flex;justify-content:center}.abstract[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{height:16rem}.content-center[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;padding-top:9rem}.bgu-logo[_ngcontent-%COMP%], .unc-logo[_ngcontent-%COMP%], .uni-logo[_ngcontent-%COMP%]{margin-right:7px;height:30px;width:23px}.bgu-logo[_ngcontent-%COMP%], .unc-logo[_ngcontent-%COMP%]{width:30px!important}.flex[_ngcontent-%COMP%]{display:flex!important}.h1-seo[_ngcontent-%COMP%]{padding-top:4rem}.sub-title[_ngcontent-%COMP%]{font-size:2rem}.stats-page-ref[_ngcontent-%COMP%]{color:#fd969e!important}h3[_ngcontent-%COMP%]{text-transform:none!important}.analogies-board[_ngcontent-%COMP%]{align-items:center;display:flex;flex-direction:column;justify-content:center;padding-bottom:1rem;padding-top:1rem}@media (max-width:450px){.stats-block[_ngcontent-%COMP%]{padding:.5rem!important}.stat-label[_ngcontent-%COMP%]{font-size:1.3rem}}"]}),t})();function Yh(t,e){if(1&t){const t=i.Tb();i.Sb(0,"span",7),i.Zb("click",function(e){i.tc(t);const n=i.dc().$implicit,r=i.dc();return e.preventDefault(),r.removeTab(n)}),i.Fc(1," \u274c"),i.Rb()}}const Qh=function(t){return["nav-item",t]};function Zh(t,e){if(1&t){const t=i.Tb();i.Sb(0,"li",3),i.Zb("keydown",function(n){i.tc(t);const r=e.index;return i.dc().keyNavActions(n,r)}),i.Sb(1,"a",4),i.Zb("click",function(){return e.$implicit.active=!0}),i.Sb(2,"span",5),i.Fc(3),i.Rb(),i.Dc(4,Yh,2,0,"span",6),i.Rb(),i.Rb()}if(2&t){const t=e.$implicit;i.Eb("active",t.active)("disabled",t.disabled),i.ic("ngClass",i.lc(15,Qh,t.customClass||"")),i.Ab(1),i.Eb("active",t.active)("disabled",t.disabled),i.Bb("aria-controls",t.id?t.id:"")("aria-selected",!!t.active)("id",t.id?t.id+"-link":""),i.Ab(1),i.ic("ngTransclude",t.headingRef),i.Ab(1),i.Gc(t.heading),i.Ab(1),i.ic("ngIf",t.removable)}}const Xh=["*"];let Jh=(()=>{class t{constructor(t){this.viewRef=t}set ngTransclude(t){this._ngTransclude=t,t&&this.viewRef.createEmbeddedView(t)}get ngTransclude(){return this._ngTransclude}}return t.\u0275fac=function(e){return new(e||t)(i.Mb(i.Q))},t.\u0275dir=i.Hb({type:t,selectors:[["","ngTransclude",""]],inputs:{ngTransclude:"ngTransclude"}}),t})(),td=(()=>{class t{constructor(){this.type="tabs",this.isKeysAllowed=!0,this.ariaLabel="Tabs"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(i.Ib)({factory:function(){return new t},token:t,providedIn:"root"}),t})(),ed=(()=>{class t{constructor(t,e,n){this.renderer=e,this.elementRef=n,this.clazz=!0,this.tabs=[],this.classMap={},Object.assign(this,t)}get vertical(){return this._vertical}set vertical(t){this._vertical=t,this.setClassMap()}get justified(){return this._justified}set justified(t){this._justified=t,this.setClassMap()}get type(){return this._type}set type(t){this._type=t,this.setClassMap()}get isKeysAllowed(){return this._isKeysAllowed}set isKeysAllowed(t){this._isKeysAllowed=t}ngOnDestroy(){this.isDestroyed=!0}addTab(t){this.tabs.push(t),t.active=1===this.tabs.length&&void 0===t.active}removeTab(t,e={reselect:!0,emit:!0}){const n=this.tabs.indexOf(t);if(-1!==n&&!this.isDestroyed){if(e.reselect&&t.active&&this.hasAvailableTabs(n)){const t=this.getClosestTabIndex(n);this.tabs[t].active=!0}e.emit&&t.removed.emit(t),this.tabs.splice(n,1),t.elementRef.nativeElement.parentNode&&this.renderer.removeChild(t.elementRef.nativeElement.parentNode,t.elementRef.nativeElement)}}keyNavActions(t,e){if(!this.isKeysAllowed)return;const n=Array.from(this.elementRef.nativeElement.querySelectorAll(".nav-link"));if(13!==t.keyCode&&"Enter"!==t.key&&32!==t.keyCode&&"Space"!==t.key)if(39!==t.keyCode&&"RightArrow"!==t.key)if(37!==t.keyCode&&"LeftArrow"!==t.key)if(36!==t.keyCode&&"Home"!==t.key)if(35!==t.keyCode&&"End"!==t.key){if((46===t.keyCode||"Delete"===t.key)&&this.tabs[e].removable){if(this.removeTab(this.tabs[e]),n[e+1])return void n[(e+1)%n.length].focus();n[n.length-1]&&n[0].focus()}}else{let i;t.preventDefault();let r=1,o=e;do{o-r<0?(o=n.length-1,i=n[o],r=0):i=n[o-r],r++}while(i.classList.contains("disabled"));i.focus()}else{let e;t.preventDefault();let i=0;do{e=n[i%n.length],i++}while(e.classList.contains("disabled"));e.focus()}else{let t,i=1,r=e;do{r-i<0?(r=n.length-1,t=n[r],i=0):t=n[r-i],i++}while(t.classList.contains("disabled"));t.focus()}else{let t,i=1;do{t=n[(e+i)%n.length],i++}while(t.classList.contains("disabled"));t.focus()}else t.preventDefault(),n[e%n.length].click()}getClosestTabIndex(t){const e=this.tabs.length;if(!e)return-1;for(let n=1;n<=e;n+=1){const e=t-n,i=t+n;if(this.tabs[e]&&!this.tabs[e].disabled)return e;if(this.tabs[i]&&!this.tabs[i].disabled)return i}return-1}hasAvailableTabs(t){const e=this.tabs.length;if(!e)return!1;for(let n=0;n<e;n+=1)if(!this.tabs[n].disabled&&n!==t)return!0;return!1}setClassMap(){this.classMap={"nav-stacked":this.vertical,"flex-column":this.vertical,"nav-justified":this.justified,["nav-"+this.type]:!0}}}return t.\u0275fac=function(e){return new(e||t)(i.Mb(td),i.Mb(i.E),i.Mb(i.l))},t.\u0275cmp=i.Gb({type:t,selectors:[["tabset"]],hostVars:2,hostBindings:function(t,e){2&t&&i.Eb("tab-container",e.clazz)},inputs:{vertical:"vertical",justified:"justified",type:"type"},ngContentSelectors:Xh,decls:4,vars:3,consts:[["role","tablist",1,"nav",3,"ngClass","click"],[3,"ngClass","active","disabled","keydown",4,"ngFor","ngForOf"],[1,"tab-content"],[3,"ngClass","keydown"],["href","javascript:void(0);","role","tab",1,"nav-link",3,"click"],[3,"ngTransclude"],["class","bs-remove-tab",3,"click",4,"ngIf"],[1,"bs-remove-tab",3,"click"]],template:function(t,e){1&t&&(i.hc(),i.Sb(0,"ul",0),i.Zb("click",function(t){return t.preventDefault()}),i.Dc(1,Zh,5,17,"li",1),i.Rb(),i.Sb(2,"div",2),i.gc(3),i.Rb()),2&t&&(i.ic("ngClass",e.classMap),i.Bb("aria-label",e.ariaLabel),i.Ab(1),i.ic("ngForOf",e.tabs))},directives:[I,R,Jh,D],styles:["[_nghost-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   .nav-item.disabled[_ngcontent-%COMP%]   a.disabled[_ngcontent-%COMP%]{cursor:default}"]}),t})(),nd=(()=>{class t{constructor(t,e,n){this.elementRef=e,this.renderer=n,this.selectTab=new i.n,this.deselect=new i.n,this.removed=new i.n,this.addClass=!0,this.role="tabpanel",this.tabset=t,this.tabset.addTab(this)}get customClass(){return this._customClass}set customClass(t){this.customClass&&this.customClass.split(" ").forEach(t=>{this.renderer.removeClass(this.elementRef.nativeElement,t)}),this._customClass=t?t.trim():null,this.customClass&&this.customClass.split(" ").forEach(t=>{this.renderer.addClass(this.elementRef.nativeElement,t)})}get active(){return this._active}set active(t){this._active!==t&&(this.disabled&&t||!t?this._active&&!t&&(this.deselect.emit(this),this._active=t):(this._active=t,this.selectTab.emit(this),this.tabset.tabs.forEach(t=>{t!==this&&(t.active=!1)})))}get ariaLabelledby(){return this.id?this.id+"-link":""}ngOnInit(){this.removable=this.removable}ngOnDestroy(){this.tabset.removeTab(this,{reselect:!1,emit:!1})}}return t.\u0275fac=function(e){return new(e||t)(i.Mb(ed),i.Mb(i.l),i.Mb(i.E))},t.\u0275dir=i.Hb({type:t,selectors:[["tab"],["","tab",""]],hostVars:7,hostBindings:function(t,e){2&t&&(i.Bb("role",e.role)("aria-labelledby",e.ariaLabelledby)("id",e.id),i.Eb("tab-pane",e.addClass)("active",e.active))},inputs:{customClass:"customClass",active:"active",removable:"removable",heading:"heading",id:"id",disabled:"disabled"},outputs:{selectTab:"selectTab",deselect:"deselect",removed:"removed"},exportAs:["tab"]}),t})(),id=(()=>{class t{static forRoot(){return{ngModule:t,providers:[]}}}return t.\u0275mod=i.Kb({type:t}),t.\u0275inj=i.Jb({factory:function(e){return new(e||t)},imports:[[K]]}),t})(),rd=(()=>{class t{constructor(){this.isCollapsed=!0,this.date=new Date,this.pagination=3,this.pagination1=1,window.name="WinoGAViL"}ngOnInit(){}ngOnDestroy(){document.getElementsByTagName("body")[0].classList.remove("index-page")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Gb({type:t,selectors:[["app-download"]],decls:83,vars:2,consts:[[1,"wrapper"],[1,"page-header","header-filter"],[1,"container","center-container"],[1,"content-center","brand"],[1,"row"],[1,"col-md-10","ml-auto","col-xl-6","mr-auto"],[1,"card"],[1,"card-header"],[1,"nav-tabs-danger"],["heading","Game 10-12"],["href","https://github.com/WinoGAViL/WinoGAViL-experiments/blob/main/assets/game_10_12.csv"],[1,"btn","btn-neutral"],[1,"download-icon","tim-icons","icon-cloud-download-93"],["heading","Game 5-6"],["href","https://github.com/WinoGAViL/WinoGAViL-experiments/blob/main/assets/game_5_6.csv"],["heading","SWOW Vision Baseline"],["href","https://github.com/WinoGAViL/WinoGAViL-experiments/blob/main/assets/swow.csv"],[1,"highlight"],[1,"footer"],[1,"container"],[1,"footer-row"]],template:function(t,e){1&t&&(i.Nb(0,"app-navbar"),i.Sb(1,"div",0),i.Sb(2,"div",1),i.Sb(3,"div",2),i.Sb(4,"div",3),i.Sb(5,"div",4),i.Sb(6,"div",5),i.Sb(7,"div",6),i.Sb(8,"div",7),i.Sb(9,"tabset",8),i.Sb(10,"tab",9),i.Sb(11,"b"),i.Fc(12,"Current dataset version:"),i.Rb(),i.Fc(13," v1.0 (released in June 2022)"),i.Nb(14,"br"),i.Fc(15," This CSV contains the dataset for the data collected with WinoGAViLE game, 10-12 candidates. "),i.Nb(16,"br"),i.Nb(17,"br"),i.Sb(18,"a",10),i.Sb(19,"button",11),i.Nb(20,"i",12),i.Fc(21,"Download "),i.Rb(),i.Rb(),i.Nb(22,"br"),i.Rb(),i.Sb(23,"tab",13),i.Sb(24,"b"),i.Fc(25,"Current dataset version:"),i.Rb(),i.Fc(26," v1.0 (released in June 2022)"),i.Nb(27,"br"),i.Fc(28," This CSV contains the dataset for the data collected with WinoGAViLE game, 5-6 candidates."),i.Nb(29,"br"),i.Nb(30,"br"),i.Sb(31,"a",14),i.Sb(32,"button",11),i.Nb(33,"i",12),i.Fc(34,"Download "),i.Rb(),i.Rb(),i.Nb(35,"br"),i.Rb(),i.Sb(36,"tab",15),i.Sb(37,"b"),i.Fc(38,"Current dataset version:"),i.Rb(),i.Fc(39," v1.0 (released in June 2022)"),i.Nb(40,"br"),i.Fc(41," This CSV contains the SWOW vision baseline dataset, with 5-6 candidates."),i.Nb(42,"br"),i.Nb(43,"br"),i.Sb(44,"a",16),i.Sb(45,"button",11),i.Nb(46,"i",12),i.Fc(47,"Download "),i.Rb(),i.Rb(),i.Nb(48,"br"),i.Rb(),i.Fc(49," This file is under the CC-BY 4.0 license. The csv records are structured as follows: "),i.Sb(50,"div",17),i.Sb(51,"code"),i.Fc(52,' candidates: ["bison", "shelter", "beard", "flea", "cattle", "shave"] #list of image candidates'),i.Nb(53,"br"),i.Fc(54," cue: pogonophile #the generated cue"),i.Nb(55,"br"),i.Fc(56,' associations: ["bison", "beard", "shave"] #the images associated with the cue selected by the user'),i.Nb(57,"br"),i.Fc(58," score_fool_the_ai: 80 # the spymaster score (100 - model score) for fooling the AI, with CLIP RN50 model"),i.Nb(59,"br"),i.Fc(60," num_associations: 3 # three solvers scores average on the generated association instance"),i.Nb(61,"br"),i.Fc(62," num_candidates: 6 # the number of candidates"),i.Nb(63,"br"),i.Fc(64," solvers_jaccard_mean: 1.0 # three solvers scores average on the generated association instance"),i.Nb(65,"br"),i.Fc(66," solvers_jaccard_std: 0.0 # three solvers scores standard deviation on the generated association instance"),i.Nb(67,"br"),i.Fc(68," ID: 367 # the ID"),i.Nb(69,"br"),i.Rb(),i.Rb(),i.Nb(70,"br"),i.Sb(71,"b"),i.Fc(72,"Note:"),i.Rb(),i.Fc(73," We do not distribute image files as we do not legally own them. The annotation files contain image URLs."),i.Nb(74,"br"),i.Sb(75,"b"),i.Fc(76,"Usage Restrictions:"),i.Rb(),i.Fc(77," WinoGAViL should only be used for non-commercial research. "),i.Rb(),i.Rb(),i.Rb(),i.Rb(),i.Rb(),i.Rb(),i.Rb(),i.Rb(),i.Sb(78,"footer",18),i.Sb(79,"div",19),i.Sb(80,"div",20),i.Sb(81,"a"),i.Fc(82,"Maintained by Ron Yosef"),i.Rb(),i.Rb(),i.Rb(),i.Rb(),i.Rb()),2&t&&(i.Ab(51),i.Ac("color","black"))},directives:[Wc,ed,nd],styles:["h1[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{color:#4d5568!important}.stats-row[_ngcontent-%COMP%]{width:75%;display:flex;flex-basis:33.3333333%;justify-content:space-around;box-shadow:0 .5rem 1rem rgba(0,0,0,.15);padding:1rem;margin:auto}.stats-block[_ngcontent-%COMP%]{padding:1.5rem}.stat-label[_ngcontent-%COMP%]{font-size:2rem;font-weight:700}.stat-description[_ngcontent-%COMP%], .stat-label[_ngcontent-%COMP%]{text-align:center}.abstract[_ngcontent-%COMP%]{display:flex;justify-content:center}.abstract[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{height:16rem}.content-center[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;padding-top:9rem}.sub-title[_ngcontent-%COMP%]{font-size:2rem}@media (max-width:400px){[_nghost-%COMP%]  .nav{flex-direction:column}}.explore-nav[_ngcontent-%COMP%]{width:120%;padding-bottom:3rem}.explore-nav[_ngcontent-%COMP%], .nav-tabs-danger[_ngcontent-%COMP%]{justify-content:space-between;align-items:center;display:flex}.nav-tabs-danger[_ngcontent-%COMP%]{flex-direction:column}  .tab-content{width:100%}.btn-neutral[_ngcontent-%COMP%]:hover{background:rgba(250,177,180,.6509803921568628)!important}.card[_ngcontent-%COMP%]{background:#fbfbff;height:36rem;width:100%;text-align:left}@media (max-width:800px){.card[_ngcontent-%COMP%]{height:auto}}.highlight[_ngcontent-%COMP%]{padding:.5rem;background-color:rgba(0,0,0,.1);border:1px solid #000;border-radius:5px}.download-icon[_ngcontent-%COMP%]{top:3px!important;left:-5px!important}.card-header[_ngcontent-%COMP%]{height:100%;color:#000}.row[_ngcontent-%COMP%]{display:block}.font-weight-bold[_ngcontent-%COMP%], .tab-pane[_ngcontent-%COMP%], .tab-pane[_ngcontent-%COMP%] > p[_ngcontent-%COMP%], .text-uppercase[_ngcontent-%COMP%]{color:#222a42!important}.col-xl-6[_ngcontent-%COMP%]{max-width:100%}.btn-neutral[_ngcontent-%COMP%], .btn-neutral[_ngcontent-%COMP%]:active, .btn-neutral[_ngcontent-%COMP%]:focus, .btn-neutral[_ngcontent-%COMP%]:hover, .btn-neutral[_ngcontent-%COMP%]:target, .btn-neutral[_ngcontent-%COMP%]:visited{background-color:#fbfbff!important;border:2px solid #fab1b4!important;color:#222a42!important}.button-container[_ngcontent-%COMP%]{padding-top:10px;padding-bottom:10px}"]}),t})();class od{}class sd{}class ad{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),i=n.toLowerCase(),r=t.slice(e+1).trim();this.maybeSetNormalizedName(n,i),this.headers.has(i)?this.headers.get(i).push(r):this.headers.set(i,[r])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const i=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(i,n),this.maybeSetNormalizedName(e,i))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof ad?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new ad;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof ad?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const i=("a"===t.op?this.headers.get(e):void 0)||[];i.push(...n),this.headers.set(e,i);break;case"d":const r=t.value;if(r){let t=this.headers.get(e);if(!t)return;t=t.filter(t=>-1===r.indexOf(t)),0===t.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class cd{encodeKey(t){return ud(t)}encodeValue(t){return ud(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function ud(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class ld{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new cd,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.split("&").forEach(t=>{const i=t.indexOf("="),[r,o]=-1==i?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,i)),e.decodeValue(t.slice(i+1))],s=n.get(r)||[];s.push(o),n.set(r,s)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new ld({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat([t]),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(t.value),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(t.value);-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}function hd(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function dd(t){return"undefined"!=typeof Blob&&t instanceof Blob}function fd(t){return"undefined"!=typeof FormData&&t instanceof FormData}class pd{constructor(t,e,n,i){let r;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==n?n:null,r=i):r=n,r&&(this.reportProgress=!!r.reportProgress,this.withCredentials=!!r.withCredentials,r.responseType&&(this.responseType=r.responseType),r.headers&&(this.headers=r.headers),r.params&&(this.params=r.params)),this.headers||(this.headers=new ad),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new ld,this.urlWithParams=e}serializeBody(){return null===this.body?null:hd(this.body)||dd(this.body)||fd(this.body)||"string"==typeof this.body?this.body:this.body instanceof ld?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||fd(this.body)?null:dd(this.body)?this.body.type||null:hd(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ld?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(t={}){const e=t.method||this.method,n=t.url||this.url,i=t.responseType||this.responseType,r=void 0!==t.body?t.body:this.body,o=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,s=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let a=t.headers||this.headers,c=t.params||this.params;return void 0!==t.setHeaders&&(a=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),a)),t.setParams&&(c=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),c)),new pd(e,n,r,{params:c,headers:a,reportProgress:s,responseType:i,withCredentials:o})}}var gd=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}({});class md{constructor(t,e=200,n="OK"){this.headers=t.headers||new ad,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class bd extends md{constructor(t={}){super(t),this.type=gd.ResponseHeader}clone(t={}){return new bd({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class _d extends md{constructor(t={}){super(t),this.type=gd.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new _d({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class vd extends md{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?"Http failure during parsing for "+(t.url||"(unknown url)"):`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function yd(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let wd=(()=>{class t{constructor(t){this.handler=t}request(t,e,n={}){let i;if(t instanceof pd)i=t;else{let r=void 0;r=n.headers instanceof ad?n.headers:new ad(n.headers);let o=void 0;n.params&&(o=n.params instanceof ld?n.params:new ld({fromObject:n.params})),i=new pd(t,e,void 0!==n.body?n.body:null,{headers:r,params:o,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const r=Object(Dr.a)(i).pipe(Ao(t=>this.handler.handle(t)));if(t instanceof pd||"events"===n.observe)return r;const o=r.pipe(Xr(t=>t instanceof _d));switch(n.observe||"body"){case"body":switch(i.responseType){case"arraybuffer":return o.pipe(Object(ti.a)(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return o.pipe(Object(ti.a)(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return o.pipe(Object(ti.a)(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return o.pipe(Object(ti.a)(t=>t.body))}case"response":return o;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new ld).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,yd(n,e))}post(t,e,n={}){return this.request("POST",t,yd(n,e))}put(t,e,n={}){return this.request("PUT",t,yd(n,e))}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(od))},t.\u0275prov=i.Ib({token:t,factory:t.\u0275fac}),t})();class Cd{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const Sd=new i.q("HTTP_INTERCEPTORS");let kd=(()=>{class t{intercept(t,e){return e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Ib({token:t,factory:t.\u0275fac}),t})();const Od=/^\)\]\}',?\n/;class Td{}let xd=(()=>{class t{constructor(){}build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Ib({token:t,factory:t.\u0275fac}),t})(),Ed=(()=>{class t{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Xn.a(e=>{const n=this.xhrFactory.build();if(n.open(t.method,t.urlWithParams),t.withCredentials&&(n.withCredentials=!0),t.headers.forEach((t,e)=>n.setRequestHeader(t,e.join(","))),t.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const e=t.detectContentTypeHeader();null!==e&&n.setRequestHeader("Content-Type",e)}if(t.responseType){const e=t.responseType.toLowerCase();n.responseType="json"!==e?e:"text"}const i=t.serializeBody();let r=null;const o=()=>{if(null!==r)return r;const e=1223===n.status?204:n.status,i=n.statusText||"OK",o=new ad(n.getAllResponseHeaders()),s=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(n)||t.url;return r=new bd({headers:o,status:e,statusText:i,url:s}),r},s=()=>{let{headers:i,status:r,statusText:s,url:a}=o(),c=null;204!==r&&(c=void 0===n.response?n.responseText:n.response),0===r&&(r=c?200:0);let u=r>=200&&r<300;if("json"===t.responseType&&"string"==typeof c){const t=c;c=c.replace(Od,"");try{c=""!==c?JSON.parse(c):null}catch(l){c=t,u&&(u=!1,c={error:l,text:c})}}u?(e.next(new _d({body:c,headers:i,status:r,statusText:s,url:a||void 0})),e.complete()):e.error(new vd({error:c,headers:i,status:r,statusText:s,url:a||void 0}))},a=t=>{const{url:i}=o(),r=new vd({error:t,status:n.status||0,statusText:n.statusText||"Unknown Error",url:i||void 0});e.error(r)};let c=!1;const u=i=>{c||(e.next(o()),c=!0);let r={type:gd.DownloadProgress,loaded:i.loaded};i.lengthComputable&&(r.total=i.total),"text"===t.responseType&&n.responseText&&(r.partialText=n.responseText),e.next(r)},l=t=>{let n={type:gd.UploadProgress,loaded:t.loaded};t.lengthComputable&&(n.total=t.total),e.next(n)};return n.addEventListener("load",s),n.addEventListener("error",a),t.reportProgress&&(n.addEventListener("progress",u),null!==i&&n.upload&&n.upload.addEventListener("progress",l)),n.send(i),e.next({type:gd.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("load",s),t.reportProgress&&(n.removeEventListener("progress",u),null!==i&&n.upload&&n.upload.removeEventListener("progress",l)),n.readyState!==n.DONE&&n.abort()}})}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(Td))},t.\u0275prov=i.Ib({token:t,factory:t.\u0275fac}),t})();const Id=new i.q("XSRF_COOKIE_NAME"),Ad=new i.q("XSRF_HEADER_NAME");class Rd{}let Pd=(()=>{class t{constructor(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=E(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(s),i.Wb(i.B),i.Wb(Id))},t.\u0275prov=i.Ib({token:t,factory:t.\u0275fac}),t})(),Dd=(()=>{class t{constructor(t,e){this.tokenService=t,this.headerName=e}intercept(t,e){const n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);const i=this.tokenService.getToken();return null===i||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,i)})),e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(Rd),i.Wb(Ad))},t.\u0275prov=i.Ib({token:t,factory:t.\u0275fac}),t})(),Md=(()=>{class t{constructor(t,e){this.backend=t,this.injector=e,this.chain=null}handle(t){if(null===this.chain){const t=this.injector.get(Sd,[]);this.chain=t.reduceRight((t,e)=>new Cd(t,e),this.backend)}return this.chain.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(sd),i.Wb(i.r))},t.\u0275prov=i.Ib({token:t,factory:t.\u0275fac}),t})(),Nd=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:Dd,useClass:kd}]}}static withOptions(e={}){return{ngModule:t,providers:[e.cookieName?{provide:Id,useValue:e.cookieName}:[],e.headerName?{provide:Ad,useValue:e.headerName}:[]]}}}return t.\u0275mod=i.Kb({type:t}),t.\u0275inj=i.Jb({factory:function(e){return new(e||t)},providers:[Dd,{provide:Sd,useExisting:Dd,multi:!0},{provide:Rd,useClass:Pd},{provide:Id,useValue:"XSRF-TOKEN"},{provide:Ad,useValue:"X-XSRF-TOKEN"}]}),t})(),jd=(()=>{class t{}return t.\u0275mod=i.Kb({type:t}),t.\u0275inj=i.Jb({factory:function(e){return new(e||t)},providers:[wd,{provide:od,useClass:Md},Ed,{provide:sd,useExisting:Ed},xd,{provide:Td,useExisting:xd}],imports:[[Nd.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t})();var Fd=n("d+ix"),Ld=(n("JO9c"),n("I2V/"),n("jebL")),Vd=n("gS2T"),Ud=n("2D0q"),qd=function(t,e){return(qd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function Bd(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var Hd,zd="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Wd=Wd||{},Gd=zd||self;function Kd(){}function $d(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Yd(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Qd="closure_uid_"+(1e9*Math.random()>>>0),Zd=0;function Xd(t,e,n){return t.call.apply(t.bind,arguments)}function Jd(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,i),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function tf(t,e,n){return(tf=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Xd:Jd).apply(null,arguments)}function ef(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function nf(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(t,n,i){for(var r=Array(arguments.length-2),o=2;o<arguments.length;o++)r[o-2]=arguments[o];return e.prototype[n].apply(t,r)}}function rf(){this.s=this.s,this.o=this.o}var of={};rf.prototype.s=!1,rf.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var t=function(t){return Object.prototype.hasOwnProperty.call(t,Qd)&&t[Qd]||(t[Qd]=++Zd)}(this);delete of[t]}},rf.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var sf=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},af=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var i=t.length,r="string"==typeof t?t.split(""):t,o=0;o<i;o++)o in r&&e.call(n,r[o],o,t)};function cf(t){return Array.prototype.concat.apply([],arguments)}function uf(t){var e=t.length;if(0<e){for(var n=Array(e),i=0;i<e;i++)n[i]=t[i];return n}return[]}function lf(t){return/^[\s\xa0]*$/.test(t)}var hf,df=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function ff(t,e){return-1!=t.indexOf(e)}function pf(t,e){return t<e?-1:t>e?1:0}t:{var gf=Gd.navigator;if(gf){var mf=gf.userAgent;if(mf){hf=mf;break t}}hf=""}function bf(t,e,n){for(var i in t)e.call(n,t[i],i,t)}function _f(t){var e={};for(var n in t)e[n]=t[n];return e}var vf="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function yf(t,e){for(var n,i,r=1;r<arguments.length;r++){for(n in i=arguments[r])t[n]=i[n];for(var o=0;o<vf.length;o++)n=vf[o],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}function wf(t){return wf[" "](t),t}wf[" "]=Kd;var Cf,Sf,kf=ff(hf,"Opera"),Of=ff(hf,"Trident")||ff(hf,"MSIE"),Tf=ff(hf,"Edge"),xf=Tf||Of,Ef=ff(hf,"Gecko")&&!(ff(hf.toLowerCase(),"webkit")&&!ff(hf,"Edge"))&&!(ff(hf,"Trident")||ff(hf,"MSIE"))&&!ff(hf,"Edge"),If=ff(hf.toLowerCase(),"webkit")&&!ff(hf,"Edge");function Af(){var t=Gd.document;return t?t.documentMode:void 0}t:{var Rf="",Pf=(Sf=hf,Ef?/rv:([^\);]+)(\)|;)/.exec(Sf):Tf?/Edge\/([\d\.]+)/.exec(Sf):Of?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Sf):If?/WebKit\/(\S+)/.exec(Sf):kf?/(?:Version)[ \/]?(\S+)/.exec(Sf):void 0);if(Pf&&(Rf=Pf?Pf[1]:""),Of){var Df=Af();if(null!=Df&&Df>parseFloat(Rf)){Cf=String(Df);break t}}Cf=Rf}var Mf={};var Nf=Gd.document&&Of&&(Af()||parseInt(Cf,10))||void 0,jf=function(){if(!Gd.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Gd.addEventListener("test",Kd,e),Gd.removeEventListener("test",Kd,e)}catch(n){}return t}();function Ff(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}function Lf(t,e){if(Ff.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(Ef){t:{try{wf(e.nodeName);var r=!0;break t}catch(o){}r=!1}r||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Vf[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Lf.Z.h.call(this)}}Ff.prototype.h=function(){this.defaultPrevented=!0},nf(Lf,Ff);var Vf={2:"touch",3:"pen",4:"mouse"};Lf.prototype.h=function(){Lf.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Uf="closure_listenable_"+(1e6*Math.random()|0),qf=0;function Bf(t,e,n,i,r){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.ia=r,this.key=++qf,this.ca=this.fa=!1}function Hf(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function zf(t){this.src=t,this.g={},this.h=0}function Wf(t,e){var n=e.type;if(n in t.g){var i,r=t.g[n],o=sf(r,e);(i=0<=o)&&Array.prototype.splice.call(r,o,1),i&&(Hf(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function Gf(t,e,n,i){for(var r=0;r<t.length;++r){var o=t[r];if(!o.ca&&o.listener==e&&o.capture==!!n&&o.ia==i)return r}return-1}zf.prototype.add=function(t,e,n,i,r){var o=t.toString();(t=this.g[o])||(t=this.g[o]=[],this.h++);var s=Gf(t,e,i,r);return-1<s?(e=t[s],n||(e.fa=!1)):((e=new Bf(e,this.src,o,!!i,r)).fa=n,t.push(e)),e};var Kf="closure_lm_"+(1e6*Math.random()|0),$f={};function Yf(t,e,n,i,r){if(i&&i.once)return Zf(t,e,n,i,r);if(Array.isArray(e)){for(var o=0;o<e.length;o++)Yf(t,e[o],n,i,r);return null}return n=rp(n),t&&t[Uf]?t.N(e,n,Yd(i)?!!i.capture:!!i,r):Qf(t,e,n,!1,i,r)}function Qf(t,e,n,i,r,o){if(!e)throw Error("Invalid event type");var s=Yd(r)?!!r.capture:!!r,a=np(t);if(a||(t[Kf]=a=new zf(t)),(n=a.add(e,n,i,s,o)).proxy)return n;if(i=function(){var t=ep;return function e(n){return t.call(e.src,e.listener,n)}}(),n.proxy=i,i.src=t,i.listener=n,t.addEventListener)jf||(r=s),void 0===r&&(r=!1),t.addEventListener(e.toString(),i,r);else if(t.attachEvent)t.attachEvent(tp(e.toString()),i);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(i)}return n}function Zf(t,e,n,i,r){if(Array.isArray(e)){for(var o=0;o<e.length;o++)Zf(t,e[o],n,i,r);return null}return n=rp(n),t&&t[Uf]?t.O(e,n,Yd(i)?!!i.capture:!!i,r):Qf(t,e,n,!0,i,r)}function Xf(t,e,n,i,r){if(Array.isArray(e))for(var o=0;o<e.length;o++)Xf(t,e[o],n,i,r);else i=Yd(i)?!!i.capture:!!i,n=rp(n),t&&t[Uf]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=Gf(o=t.g[e],n,i,r))&&(Hf(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.g[e],t.h--))):t&&(t=np(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Gf(e,n,i,r)),(n=-1<t?e[t]:null)&&Jf(n))}function Jf(t){if("number"!=typeof t&&t&&!t.ca){var e=t.src;if(e&&e[Uf])Wf(e.i,t);else{var n=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent(tp(n),i):e.addListener&&e.removeListener&&e.removeListener(i),(n=np(e))?(Wf(n,t),0==n.h&&(n.src=null,e[Kf]=null)):Hf(t)}}}function tp(t){return t in $f?$f[t]:$f[t]="on"+t}function ep(t,e){if(t.ca)t=!0;else{e=new Lf(e,this);var n=t.listener,i=t.ia||t.src;t.fa&&Jf(t),t=n.call(i,e)}return t}function np(t){return(t=t[Kf])instanceof zf?t:null}var ip="__closure_events_fn_"+(1e9*Math.random()>>>0);function rp(t){return"function"==typeof t?t:(t[ip]||(t[ip]=function(e){return t.handleEvent(e)}),t[ip])}function op(){rf.call(this),this.i=new zf(this),this.P=this,this.I=null}function sp(t,e){var n,i=t.I;if(i)for(n=[];i;i=i.I)n.push(i);if(t=t.P,i=e.type||e,"string"==typeof e)e=new Ff(e,t);else if(e instanceof Ff)e.target=e.target||t;else{var r=e;yf(e=new Ff(i,t),r)}if(r=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];r=ap(s,i,!0,e)&&r}if(r=ap(s=e.g=t,i,!0,e)&&r,r=ap(s,i,!1,e)&&r,n)for(o=0;o<n.length;o++)r=ap(s=e.g=n[o],i,!1,e)&&r}function ap(t,e,n,i){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.ca&&s.capture==n){var a=s.listener,c=s.ia||s.src;s.fa&&Wf(t.i,s),r=!1!==a.call(c,i)&&r}}return r&&!i.defaultPrevented}nf(op,rf),op.prototype[Uf]=!0,op.prototype.removeEventListener=function(t,e,n,i){Xf(this,t,e,n,i)},op.prototype.M=function(){if(op.Z.M.call(this),this.i){var t,e=this.i;for(t in e.g){for(var n=e.g[t],i=0;i<n.length;i++)Hf(n[i]);delete e.g[t],e.h--}}this.I=null},op.prototype.N=function(t,e,n,i){return this.i.add(String(t),e,!1,n,i)},op.prototype.O=function(t,e,n,i){return this.i.add(String(t),e,!0,n,i)};var cp=Gd.JSON.stringify;function up(){var t=bp,e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var lp,hp=function(){function t(){this.h=this.g=null}return t.prototype.add=function(t,e){var n=dp.get();n.set(t,e),this.h?this.h.next=n:this.g=n,this.h=n},t}(),dp=new(function(){function t(t,e){this.i=t,this.j=e,this.h=0,this.g=null}return t.prototype.get=function(){var t;return 0<this.h?(this.h--,this.g=(t=this.g).next,t.next=null):t=this.i(),t},t}())(function(){return new fp},function(t){return t.reset()}),fp=function(){function t(){this.next=this.g=this.h=null}return t.prototype.set=function(t,e){this.h=t,this.g=e,this.next=null},t.prototype.reset=function(){this.next=this.g=this.h=null},t}();function pp(t){Gd.setTimeout(function(){throw t},0)}function gp(t,e){lp||function(){var t=Gd.Promise.resolve(void 0);lp=function(){t.then(_p)}}(),mp||(lp(),mp=!0),bp.add(t,e)}var mp=!1,bp=new hp;function _p(){for(var t;t=up();){try{t.h.call(t.g)}catch(n){pp(n)}var e=dp;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}mp=!1}function vp(t,e){op.call(this),this.h=t||1,this.g=e||Gd,this.j=tf(this.kb,this),this.l=Date.now()}function yp(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}function wp(t,e,n){if("function"==typeof t)n&&(t=tf(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=tf(t.handleEvent,t)}return 2147483647<Number(e)?-1:Gd.setTimeout(t,e||0)}function Cp(t){t.g=wp(function(){t.g=null,t.i&&(t.i=!1,Cp(t))},t.j);var e=t.h;t.h=null,t.m.apply(null,e)}nf(vp,op),(Hd=vp.prototype).da=!1,Hd.S=null,Hd.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),sp(this,"tick"),this.da&&(yp(this),this.start()))}},Hd.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Hd.M=function(){vp.Z.M.call(this),yp(this),delete this.g};var Sp=function(t){function e(e,n){var i=t.call(this)||this;return i.m=e,i.j=n,i.h=null,i.i=!1,i.g=null,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}qd(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.l=function(t){this.h=arguments,this.g?this.i=!0:Cp(this)},e.prototype.M=function(){t.prototype.M.call(this),this.g&&(Gd.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},e}(rf);function kp(t){rf.call(this),this.h=t,this.g={}}nf(kp,rf);var Op=[];function Tp(t,e,n,i){Array.isArray(n)||(n&&(Op[0]=n.toString()),n=Op);for(var r=0;r<n.length;r++){var o=Yf(e,n[r],i||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function xp(t){bf(t.g,function(t,e){this.g.hasOwnProperty(e)&&Jf(t)},t),t.g={}}function Ep(){this.g=!0}function Ip(t,e,n,i){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var i=n[t];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var o=r[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<r.length;s++)r[s]=""}}}return cp(n)}catch(a){return e}}(t,n)+(i?" "+i:"")})}kp.prototype.M=function(){kp.Z.M.call(this),xp(this)},kp.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ep.prototype.Aa=function(){this.g=!1},Ep.prototype.info=function(){};var Ap={},Rp=null;function Pp(){return Rp=Rp||new op}function Dp(t){Ff.call(this,Ap.Ma,t)}function Mp(t){var e=Pp();sp(e,new Dp(e,t))}function Np(t,e){Ff.call(this,Ap.STAT_EVENT,t),this.stat=e}function jp(t){var e=Pp();sp(e,new Np(e,t))}function Fp(t,e){Ff.call(this,Ap.Na,t),this.size=e}function Lp(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Gd.setTimeout(function(){t()},e)}Ap.Ma="serverreachability",nf(Dp,Ff),Ap.STAT_EVENT="statevent",nf(Np,Ff),Ap.Na="timingevent",nf(Fp,Ff);var Vp={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Up={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function qp(){}function Bp(){}qp.prototype.h=null;var Hp,zp={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Wp(){Ff.call(this,"d")}function Gp(){Ff.call(this,"c")}function Kp(){}function $p(t,e,n,i){this.l=t,this.j=e,this.m=n,this.X=i||1,this.V=new kp(this),this.P=Qp,this.W=new vp(t=xf?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Yp}function Yp(){this.i=null,this.g="",this.h=!1}nf(Wp,Ff),nf(Gp,Ff),nf(Kp,qp),Kp.prototype.g=function(){return new XMLHttpRequest},Kp.prototype.i=function(){return{}},Hp=new Kp;var Qp=45e3,Zp={},Xp={};function Jp(t,e,n){t.K=1,t.v=Cg(mg(e)),t.s=n,t.U=!0,tg(t,null)}function tg(t,e){t.F=Date.now(),rg(t),t.A=mg(t.v);var n=t.A,i=t.X;Array.isArray(i)||(i=[String(i)]),Ng(n.h,"t",i),t.C=0,n=t.l.H,t.h=new Yp,t.g=jm(t.l,n?e:null,!t.s),0<t.O&&(t.L=new Sp(tf(t.Ia,t,t.g),t.O)),Tp(t.V,t.g,"readystatechange",t.gb),e=t.H?_f(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),Mp(1),function(t,e,n,i,r,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),c=0;c<a.length;c++){var u=a[c].split("=");if(1<u.length){var l=u[0];u=u[1];var h=l.split("_");s=2<=h.length&&"type"==h[1]?s+(l+"=")+u+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+n+"\n"+s})}(t.j,t.u,t.A,t.m,t.X,t.s)}function eg(t){return!!t.g&&"GET"==t.u&&2!=t.K&&t.l.Ba}function ng(t,e,n){for(var i,r=!0;!t.I&&t.C<n.length;){if((i=ig(t,n))==Xp){4==e&&(t.o=4,jp(14),r=!1),Ip(t.j,t.m,null,"[Incomplete Response]");break}if(i==Zp){t.o=4,jp(15),Ip(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}Ip(t.j,t.m,i,null),ug(t,i)}eg(t)&&i!=Xp&&i!=Zp&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,jp(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.aa&&(t.aa=!0,(e=t.l).g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Em(e),e.L=!0,jp(11))):(Ip(t.j,t.m,n,"[Invalid Chunked Response]"),cg(t),ag(t))}function ig(t,e){var n=t.C,i=e.indexOf("\n",n);return-1==i?Xp:(n=Number(e.substring(n,i)),isNaN(n)?Zp:(i+=1)+n>e.length?Xp:(e=e.substr(i,n),t.C=i+n,e))}function rg(t){t.Y=Date.now()+t.P,og(t,t.P)}function og(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=Lp(tf(t.eb,t),e)}function sg(t){t.B&&(Gd.clearTimeout(t.B),t.B=null)}function ag(t){0==t.l.G||t.I||Rm(t.l,t)}function cg(t){sg(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,yp(t.W),xp(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function ug(t,e){try{var n=t.l;if(0!=n.G&&(n.g==t||Bg(n.i,t)))if(n.I=t.N,!t.J&&Bg(n.i,t)&&3==n.G){try{var i=n.Ca.g.parse(e)}catch(o){i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){t:if(!n.u){if(n.g){if(!(n.g.F+3e3<t.F))break t;Am(n),vm(n)}xm(n),jp(18)}}else n.ta=r[1],0<n.ta-n.U&&37500>r[2]&&n.N&&0==n.A&&!n.v&&(n.v=Lp(tf(n.ab,n),6e3));if(1>=qg(n.i)&&n.ka){try{n.ka()}catch(o){}n.ka=void 0}}else Dm(n,11)}else if((t.J||n.g==t)&&Am(n),!lf(e))for(r=n.Ca.g.parse(e),e=0;e<r.length;e++){var o=r[e];if(n.U=o[0],o=o[1],2==n.G)if("c"==o[0]){n.J=o[1],n.la=o[2];var s=o[3];null!=s&&(n.ma=s,n.h.info("VER="+n.ma));var a=o[4];null!=a&&(n.za=a,n.h.info("SVER="+n.za));var c=o[5];null!=c&&"number"==typeof c&&0<c&&(n.K=i=1.5*c,n.h.info("backChannelRequestTimeoutMs_="+i)),i=n;var u=t.g;if(u){var l=u.g?u.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=i.i;!h.g&&(ff(l,"spdy")||ff(l,"quic")||ff(l,"h2"))&&(h.j=h.l,h.g=new Set,h.h&&(Hg(h,h.h),h.h=null))}if(i.D){var d=u.g?u.g.getResponseHeader("X-HTTP-Session-Id"):null;d&&(i.sa=d,wg(i.F,i.D,d))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms"));var f=t;if((i=n).oa=Nm(i,i.H?i.la:null,i.W),f.J){zg(i.i,f);var p=f,g=i.K;g&&p.setTimeout(g),p.B&&(sg(p),rg(p)),i.g=f}else Tm(i);0<n.l.length&&Cm(n)}else"stop"!=o[0]&&"close"!=o[0]||Dm(n,7);else 3==n.G&&("stop"==o[0]||"close"==o[0]?"stop"==o[0]?Dm(n,7):_m(n):"noop"!=o[0]&&n.j&&n.j.wa(o),n.A=0)}Mp(4)}catch(o){}}function lg(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if($d(t)||"string"==typeof t)af(t,e,void 0);else{if(t.T&&"function"==typeof t.T)var n=t.T();else if(t.R&&"function"==typeof t.R)n=void 0;else if($d(t)||"string"==typeof t){n=[];for(var i=t.length,r=0;r<i;r++)n.push(r)}else for(r in n=[],i=0,t)n[i++]=r;r=(i=function(t){if(t.R&&"function"==typeof t.R)return t.R();if("string"==typeof t)return t.split("");if($d(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}for(i in e=[],n=0,t)e[n++]=t[i];return e}(t)).length;for(var o=0;o<r;o++)e.call(void 0,i[o],n&&n[o],t)}}function hg(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var i=0;i<n;i+=2)this.set(arguments[i],arguments[i+1])}else if(t)if(t instanceof hg)for(n=t.T(),i=0;i<n.length;i++)this.set(n[i],t.get(n[i]));else for(i in t)this.set(i,t[i])}function dg(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var i=t.g[e];fg(t.h,i)&&(t.g[n++]=i),e++}t.g.length=n}if(t.i!=t.g.length){var r={};for(n=e=0;e<t.g.length;)fg(r,i=t.g[e])||(t.g[n++]=i,r[i]=1),e++;t.g.length=n}}function fg(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(Hd=$p.prototype).setTimeout=function(t){this.P=t},Hd.gb=function(t){t=t.target;var e=this.L;e&&3==fm(t)?e.l():this.Ia(t)},Hd.Ia=function(t){try{if(t==this.g)t:{var e=fm(this.g),n=this.g.Da(),i=this.g.ba();if(!(3>e)&&(3!=e||xf||this.g&&(this.h.h||this.g.ga()||pm(this.g)))){this.I||4!=e||7==n||Mp(8==n||0>=i?3:2),sg(this);var r=this.g.ba();this.N=r;e:if(eg(this)){var o=pm(this.g);t="";var s=o.length,a=4==fm(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){cg(this),ag(this);var c="";break e}this.h.i=new Gd.TextDecoder}for(n=0;n<s;n++)this.h.h=!0,t+=this.h.i.decode(o[n],{stream:a&&n==s-1});o.splice(0,s),this.h.g+=t,this.C=0,c=this.h.g}else c=this.g.ga();if(this.i=200==r,function(t,e,n,i,r,o,s){t.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+n+"\n"+o+" "+s})}(this.j,this.u,this.A,this.m,this.X,e,r),this.i){if(this.$&&!this.J){e:{if(this.g){var u,l=this.g;if((u=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!lf(u)){var h=u;break e}}h=null}if(!(r=h)){this.i=!1,this.o=3,jp(12),cg(this),ag(this);break t}Ip(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,ug(this,r)}this.U?(ng(this,e,c),xf&&this.i&&3==e&&(Tp(this.V,this.W,"tick",this.fb),this.W.start())):(Ip(this.j,this.m,c,null),ug(this,c)),4==e&&cg(this),this.i&&!this.I&&(4==e?Rm(this.l,this):(this.i=!1,rg(this)))}else 400==r&&0<c.indexOf("Unknown SID")?(this.o=3,jp(12)):(this.o=0,jp(13)),cg(this),ag(this)}}}catch(e){}},Hd.fb=function(){if(this.g){var t=fm(this.g),e=this.g.ga();this.C<e.length&&(sg(this),ng(this,t,e),this.i&&4!=t&&rg(this))}},Hd.cancel=function(){this.I=!0,cg(this)},Hd.eb=function(){this.B=null;var t=Date.now();0<=t-this.Y?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Mp(3),jp(17)),cg(this),this.o=2,ag(this)):og(this,this.Y-t)},(Hd=hg.prototype).R=function(){dg(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t},Hd.T=function(){return dg(this),this.g.concat()},Hd.get=function(t,e){return fg(this.h,t)?this.h[t]:e},Hd.set=function(t,e){fg(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e},Hd.forEach=function(t,e){for(var n=this.T(),i=0;i<n.length;i++){var r=n[i],o=this.get(r);t.call(e,o,r,this)}};var pg=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function gg(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof gg){this.g=void 0!==e?e:t.g,bg(this,t.j),this.s=t.s,_g(this,t.i),vg(this,t.m),this.l=t.l,e=t.h;var n=new Rg;n.i=e.i,e.g&&(n.g=new hg(e.g),n.h=e.h),yg(this,n),this.o=t.o}else t&&(n=String(t).match(pg))?(this.g=!!e,bg(this,n[1]||"",!0),this.s=Sg(n[2]||""),_g(this,n[3]||"",!0),vg(this,n[4]),this.l=Sg(n[5]||"",!0),yg(this,n[6]||"",!0),this.o=Sg(n[7]||"")):(this.g=!!e,this.h=new Rg(null,this.g))}function mg(t){return new gg(t)}function bg(t,e,n){t.j=n?Sg(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function _g(t,e,n){t.i=n?Sg(e,!0):e}function vg(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function yg(t,e,n){e instanceof Rg?(t.h=e,function(t,e){e&&!t.j&&(Pg(t),t.i=null,t.g.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(Dg(this,e),Ng(this,n,t))},t)),t.j=e}(t.h,t.g)):(n||(e=kg(e,Ig)),t.h=new Rg(e,t.g))}function wg(t,e,n){t.h.set(e,n)}function Cg(t){return wg(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Sg(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function kg(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Og),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Og(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}gg.prototype.toString=function(){var t=[],e=this.j;e&&t.push(kg(e,Tg,!0),":");var n=this.i;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(kg(e,Tg,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&t.push("/"),t.push(kg(n,"/"==n.charAt(0)?Eg:xg,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",kg(n,Ag)),t.join("")};var Tg=/[#\/\?@]/g,xg=/[#\?:]/g,Eg=/[#\?]/g,Ig=/[#\?@]/g,Ag=/#/g;function Rg(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Pg(t){t.g||(t.g=new hg,t.h=0,t.i&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i=t[n].indexOf("="),r=null;if(0<=i){var o=t[n].substring(0,i);r=t[n].substring(i+1)}else o=t[n];e(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Dg(t,e){Pg(t),e=jg(t,e),fg(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,fg((t=t.g).h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&dg(t)))}function Mg(t,e){return Pg(t),e=jg(t,e),fg(t.g.h,e)}function Ng(t,e,n){Dg(t,e),0<n.length&&(t.i=null,t.g.set(jg(t,e),uf(n)),t.h+=n.length)}function jg(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}(Hd=Rg.prototype).add=function(t,e){Pg(this),this.i=null,t=jg(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},Hd.forEach=function(t,e){Pg(this),this.g.forEach(function(n,i){af(n,function(n){t.call(e,n,i,this)},this)},this)},Hd.T=function(){Pg(this);for(var t=this.g.R(),e=this.g.T(),n=[],i=0;i<e.length;i++)for(var r=t[i],o=0;o<r.length;o++)n.push(e[i]);return n},Hd.R=function(t){Pg(this);var e=[];if("string"==typeof t)Mg(this,t)&&(e=cf(e,this.g.get(jg(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=cf(e,t[n])}return e},Hd.set=function(t,e){return Pg(this),this.i=null,Mg(this,t=jg(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},Hd.get=function(t,e){return t&&0<(t=this.R(t)).length?String(t[0]):e},Hd.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var i=e[n],r=encodeURIComponent(String(i));i=this.R(i);for(var o=0;o<i.length;o++){var s=r;""!==i[o]&&(s+="="+encodeURIComponent(String(i[o]))),t.push(s)}}return this.i=t.join("&")};var Fg=function(){return function(t,e){this.h=t,this.g=e}}();function Lg(t){this.l=t||Vg,t=Gd.PerformanceNavigationTiming?0<(t=Gd.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Gd.g&&Gd.g.Ea&&Gd.g.Ea()&&Gd.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Vg=10;function Ug(t){return!!t.h||!!t.g&&t.g.size>=t.j}function qg(t){return t.h?1:t.g?t.g.size:0}function Bg(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function Hg(t,e){t.g?t.g.add(e):t.h=e}function zg(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function Wg(t){var e,n;if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){var i=t.i;try{for(var r=Bd(t.g.values()),o=r.next();!o.done;o=r.next())i=i.concat(o.value.D)}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return i}return uf(t.i)}function Gg(){}function Kg(){this.g=new Gg}function $g(t,e,n){var i=n||"";try{lg(t,function(t,n){var r=t;Yd(t)&&(r=cp(t)),e.push(i+n+"="+encodeURIComponent(r))})}catch(cx){throw e.push(i+"type="+encodeURIComponent("_badmap")),cx}}function Yg(t,e,n,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch(o){}}function Qg(t){this.l=t.$b||null,this.j=t.ib||!1}function Zg(t,e){op.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=Xg,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Lg.prototype.cancel=function(){var t,e;if(this.i=Wg(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var n=Bd(this.g.values()),i=n.next();!i.done;i=n.next())i.value.cancel()}catch(r){t={error:r}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.g.clear()}},Gg.prototype.stringify=function(t){return Gd.JSON.stringify(t,void 0)},Gg.prototype.parse=function(t){return Gd.JSON.parse(t,void 0)},nf(Qg,qp),Qg.prototype.g=function(){return new Zg(this.l,this.j)},Qg.prototype.i=function(t){return function(){return t}}({}),nf(Zg,op);var Xg=0;function Jg(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}function tm(t){t.readyState=4,t.l=null,t.j=null,t.A=null,em(t)}function em(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(Hd=Zg.prototype).open=function(t,e){if(this.readyState!=Xg)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,em(this)},Hd.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||Gd).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},Hd.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,tm(this)),this.readyState=Xg},Hd.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,em(this)),this.g&&(this.readyState=3,em(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Gd.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Jg(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))},Hd.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?tm(this):em(this),3==this.readyState&&Jg(this)}},Hd.Ua=function(t){this.g&&(this.response=this.responseText=t,tm(this))},Hd.Ta=function(t){this.g&&(this.response=t,tm(this))},Hd.ha=function(){this.g&&tm(this)},Hd.setRequestHeader=function(t,e){this.v.append(t,e)},Hd.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},Hd.getAllResponseHeaders=function(){if(!this.h)return"";for(var t=[],e=this.h.entries(),n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(Zg.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var nm=Gd.JSON.parse;function im(t){op.call(this),this.headers=new hg,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=rm,this.K=this.L=!1}nf(im,op);var rm="",om=/^https?$/i,sm=["POST","PUT"];function am(t){return"content-type"==t.toLowerCase()}function cm(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,um(t),hm(t)}function um(t){t.D||(t.D=!0,sp(t,"complete"),sp(t,"error"))}function lm(t){if(t.h&&void 0!==Wd&&(!t.C[1]||4!=fm(t)||2!=t.ba()))if(t.v&&4==fm(t))wp(t.Fa,0,t);else if(sp(t,"readystatechange"),4==fm(t)){t.h=!1;try{var e,n=t.ba();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var i=!0;break t;default:i=!1}if(!(e=i)){var r;if(r=0===n){var o=String(t.H).match(pg)[1]||null;if(!o&&Gd.self&&Gd.self.location){var s=Gd.self.location.protocol;o=s.substr(0,s.length-1)}r=!om.test(o?o.toLowerCase():"")}e=r}if(e)sp(t,"complete"),sp(t,"success");else{t.m=6;try{var a=2<fm(t)?t.g.statusText:""}catch(c){a=""}t.j=a+" ["+t.ba()+"]",um(t)}}finally{hm(t)}}}function hm(t,e){if(t.g){dm(t);var n=t.g,i=t.C[0]?Kd:null;t.g=null,t.C=null,e||sp(t,"ready");try{n.onreadystatechange=i}catch(cx){}}}function dm(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(Gd.clearTimeout(t.A),t.A=null)}function fm(t){return t.g?t.g.readyState:0}function pm(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case rm:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(e){return null}}function gm(t,e,n){t:{for(i in n){var i=!1;break t}i=!0}i||(n=function(t){var e="";return bf(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):wg(t,e,n))}function mm(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function bm(t){this.za=0,this.l=[],this.h=new Ep,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=mm("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=mm("baseRetryDelayMs",5e3,t),this.$a=mm("retryDelaySeedMs",1e4,t),this.Ya=mm("forwardChannelMaxRetries",2,t),this.ra=mm("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new Lg(t&&t.concurrentRequestLimit),this.Ca=new Kg,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||!1!==t.Xb}function _m(t){if(ym(t),3==t.G){var e=t.V++,n=mg(t.F);wg(n,"SID",t.J),wg(n,"RID",e),wg(n,"TYPE","terminate"),km(t,n),(e=new $p(t,t.h,e,void 0)).K=2,e.v=Cg(mg(n)),n=!1,Gd.navigator&&Gd.navigator.sendBeacon&&(n=Gd.navigator.sendBeacon(e.v.toString(),"")),!n&&Gd.Image&&((new Image).src=e.v,n=!0),n||(e.g=jm(e.l,null),e.g.ea(e.v)),e.F=Date.now(),rg(e)}Mm(t)}function vm(t){t.g&&(Em(t),t.g.cancel(),t.g=null)}function ym(t){vm(t),t.u&&(Gd.clearTimeout(t.u),t.u=null),Am(t),t.i.cancel(),t.m&&("number"==typeof t.m&&Gd.clearTimeout(t.m),t.m=null)}function wm(t,e){t.l.push(new Fg(t.Za++,e)),3==t.G&&Cm(t)}function Cm(t){Ug(t.i)||t.m||(t.m=!0,gp(t.Ha,t),t.C=0)}function Sm(t,e){var n;n=e?e.m:t.V++;var i=mg(t.F);wg(i,"SID",t.J),wg(i,"RID",n),wg(i,"AID",t.U),km(t,i),t.o&&t.s&&gm(i,t.o,t.s),n=new $p(t,t.h,n,t.C+1),null===t.o&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=Om(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),Hg(t.i,n),Jp(n,i,e)}function km(t,e){t.j&&lg({},function(t,n){wg(e,n,t)})}function Om(t,e,n){n=Math.min(t.l.length,n);var i=t.j?tf(t.j.Oa,t.j,t):null;t:for(var r=t.l,o=-1;;){var s=["count="+n];-1==o?0<n?s.push("ofs="+(o=r[0].h)):o=0:s.push("ofs="+o);for(var a=!0,c=0;c<n;c++){var u=r[c].h,l=r[c].g;if(0>(u-=o))o=Math.max(0,r[c].h-100),a=!1;else try{$g(l,s,"req"+u+"_")}catch(h){i&&i(l)}}if(a){i=s.join("&");break t}}return t=t.l.splice(0,n),e.D=t,i}function Tm(t){t.g||t.u||(t.Y=1,gp(t.Ga,t),t.A=0)}function xm(t){return!(t.g||t.u||3<=t.A||(t.Y++,t.u=Lp(tf(t.Ga,t),Pm(t,t.A)),t.A++,0))}function Em(t){null!=t.B&&(Gd.clearTimeout(t.B),t.B=null)}function Im(t){t.g=new $p(t,t.h,"rpc",t.Y),null===t.o&&(t.g.H=t.s),t.g.O=0;var e=mg(t.oa);wg(e,"RID","rpc"),wg(e,"SID",t.J),wg(e,"CI",t.N?"0":"1"),wg(e,"AID",t.U),km(t,e),wg(e,"TYPE","xmlhttp"),t.o&&t.s&&gm(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=Cg(mg(e)),n.s=null,n.U=!0,tg(n,t)}function Am(t){null!=t.v&&(Gd.clearTimeout(t.v),t.v=null)}function Rm(t,e){var n=null;if(t.g==e){Am(t),Em(t),t.g=null;var i=2}else{if(!Bg(t.i,e))return;n=e.D,zg(t.i,e),i=1}if(t.I=e.N,0!=t.G)if(e.i)if(1==i){n=e.s?e.s.length:0,e=Date.now()-e.F;var r=t.C;sp(i=Pp(),new Fp(i,n,e,r)),Cm(t)}else Tm(t);else if(3==(r=e.o)||0==r&&0<t.I||!(1==i&&function(t,e){return!(qg(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.l=e.D.concat(t.l),0):1==t.G||2==t.G||t.C>=(t.Xa?0:t.Ya)||(t.m=Lp(tf(t.Ha,t,e),Pm(t,t.C)),t.C++,0)))}(t,e)||2==i&&xm(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),r){case 1:Dm(t,5);break;case 4:Dm(t,10);break;case 3:Dm(t,6);break;default:Dm(t,2)}}function Pm(t,e){var n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function Dm(t,e){if(t.h.info("Error code "+e),2==e){var n=null;t.j&&(n=null);var i=tf(t.jb,t);n||(n=new gg("//www.google.com/images/cleardot.gif"),Gd.location&&"http"==Gd.location.protocol||bg(n,"https"),Cg(n)),function(t,e){var n=new Ep;if(Gd.Image){var i=new Image;i.onload=ef(Yg,n,i,"TestLoadImage: loaded",!0,e),i.onerror=ef(Yg,n,i,"TestLoadImage: error",!1,e),i.onabort=ef(Yg,n,i,"TestLoadImage: abort",!1,e),i.ontimeout=ef(Yg,n,i,"TestLoadImage: timeout",!1,e),Gd.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=t}else e(!1)}(n.toString(),i)}else jp(2);t.G=0,t.j&&t.j.va(e),Mm(t),ym(t)}function Mm(t){t.G=0,t.I=-1,t.j&&(0==Wg(t.i).length&&0==t.l.length||(t.i.i.length=0,uf(t.l),t.l.length=0),t.j.ua())}function Nm(t,e,n){var i=function(t){return t instanceof gg?mg(t):new gg(t,void 0)}(n);if(""!=i.i)e&&_g(i,e+"."+i.i),vg(i,i.m);else{var r=Gd.location;i=function(t,e,n,i){var r=new gg(null,void 0);return t&&bg(r,t),e&&_g(r,e),n&&vg(r,n),i&&(r.l=i),r}(r.protocol,e?e+"."+r.hostname:r.hostname,+r.port,n)}return t.aa&&bf(t.aa,function(t,e){wg(i,e,t)}),n=t.sa,(e=t.D)&&n&&wg(i,e,n),wg(i,"VER",t.ma),km(t,i),i}function jm(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new im(n&&t.Ba&&!t.qa?new Qg({ib:!0}):t.qa)).L=t.H,e}function Fm(){}function Lm(){if(Of&&!(10<=Number(Nf)))throw Error("Environmental error: no available transport.")}function Vm(t,e){op.call(this),this.g=new bm(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!lf(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!lf(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new Bm(this)}function Um(t){Wp.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function qm(){Gp.call(this),this.status=1}function Bm(t){this.g=t}(Hd=im.prototype).ea=function(t,e,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Hp.g(),this.C=function(t){return t.h||(t.h=t.i())}(this.u?this.u:Hp),this.g.onreadystatechange=tf(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(o){return void cm(this,o)}t=n||"";var r=new hg(this.headers);i&&lg(i,function(t,e){r.set(e,t)}),i=function(t){t:{for(var e=am,n=t.length,i="string"==typeof t?t.split(""):t,r=0;r<n;r++)if(r in i&&e.call(void 0,i[r],r,t)){e=r;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(r.T()),n=Gd.FormData&&t instanceof Gd.FormData,!(0<=sf(sm,e))||i||n||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach(function(t,e){this.g.setRequestHeader(e,t)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{dm(this),0<this.B&&((this.K=function(t){return Of&&function(){return t=Mf,Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=function(){for(var t=0,e=df(String(Cf)).split("."),n=df("9").split("."),i=Math.max(e.length,n.length),r=0;0==t&&r<i;r++){var o=e[r]||"",s=n[r]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==o[0].length&&0==s[0].length)break;t=pf(0==o[1].length?0:parseInt(o[1],10),0==s[1].length?0:parseInt(s[1],10))||pf(0==o[2].length,0==s[2].length)||pf(o[2],s[2]),o=o[3],s=s[3]}while(0==t)}return 0<=t}();var t}()&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=tf(this.pa,this)):this.A=wp(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){cm(this,o)}},Hd.pa=function(){void 0!==Wd&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,sp(this,"timeout"),this.abort(8))},Hd.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,sp(this,"complete"),sp(this,"abort"),hm(this))},Hd.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),hm(this,!0)),im.Z.M.call(this)},Hd.Fa=function(){this.s||(this.F||this.v||this.l?lm(this):this.cb())},Hd.cb=function(){lm(this)},Hd.ba=function(){try{return 2<fm(this)?this.g.status:-1}catch(Sf){return-1}},Hd.ga=function(){try{return this.g?this.g.responseText:""}catch(Sf){return""}},Hd.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),nm(e)}},Hd.Da=function(){return this.m},Hd.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Hd=bm.prototype).ma=8,Hd.G=1,Hd.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch(e){}},Hd.Ha=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;var e=new $p(this,this.h,t,void 0),n=this.s;if(this.P&&(n?yf(n=_f(n),this.P):n=this.P),null===this.o&&(e.H=n),this.ja)t:{for(var i=0,r=0;r<this.l.length;r++){var o=this.l[r];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(i+=o)){i=r;break t}if(4096===i||r===this.l.length-1){i=r+1;break t}}i=1e3}else i=1e3;i=Om(this,e,i),wg(r=mg(this.F),"RID",t),wg(r,"CVER",22),this.D&&wg(r,"X-HTTP-Session-Id",this.D),km(this,r),this.o&&n&&gm(r,this.o,n),Hg(this.i,e),this.Ra&&wg(r,"TYPE","init"),this.ja?(wg(r,"$req",i),wg(r,"SID","null"),e.$=!0,Jp(e,r,null)):Jp(e,r,i),this.G=2}}else 3==this.G&&(t?Sm(this,t):0==this.l.length||Ug(this.i)||Sm(this))},Hd.Ga=function(){if(this.u=null,Im(this),this.$&&!(this.L||null==this.g||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=Lp(tf(this.bb,this),t)}},Hd.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,jp(10),vm(this),Im(this))},Hd.ab=function(){null!=this.v&&(this.v=null,vm(this),xm(this),jp(19))},Hd.jb=function(t){t?(this.h.info("Successfully pinged google.com"),jp(2)):(this.h.info("Failed to ping google.com"),jp(1))},(Hd=Fm.prototype).xa=function(){},Hd.wa=function(){},Hd.va=function(){},Hd.ua=function(){},Hd.Oa=function(){},Lm.prototype.g=function(t,e){return new Vm(t,e)},nf(Vm,op),Vm.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),gp(tf(t.hb,t,e))),jp(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=Nm(t,null,t.W),Cm(t)},Vm.prototype.close=function(){_m(this.g)},Vm.prototype.u=function(t){if("string"==typeof t){var e={};e.__data__=t,wm(this.g,e)}else this.v?((e={}).__data__=cp(t),wm(this.g,e)):wm(this.g,t)},Vm.prototype.M=function(){this.g.j=null,delete this.j,_m(this.g),delete this.g,Vm.Z.M.call(this)},nf(Um,Wp),nf(qm,Gp),nf(Bm,Fm),Bm.prototype.xa=function(){sp(this.g,"a")},Bm.prototype.wa=function(t){sp(this.g,new Um(t))},Bm.prototype.va=function(t){sp(this.g,new qm(t))},Bm.prototype.ua=function(){sp(this.g,"b")},Lm.prototype.createWebChannel=Lm.prototype.g,Vm.prototype.send=Vm.prototype.u,Vm.prototype.open=Vm.prototype.m,Vm.prototype.close=Vm.prototype.close,Vp.NO_ERROR=0,Vp.TIMEOUT=8,Vp.HTTP_ERROR=6,Up.COMPLETE="complete",Bp.EventType=zp,zp.OPEN="a",zp.CLOSE="b",zp.ERROR="c",zp.MESSAGE="d",op.prototype.listen=op.prototype.N,im.prototype.listenOnce=im.prototype.O,im.prototype.getLastError=im.prototype.La,im.prototype.getLastErrorCode=im.prototype.Da,im.prototype.getStatus=im.prototype.ba,im.prototype.getResponseJson=im.prototype.Qa,im.prototype.getResponseText=im.prototype.ga,im.prototype.send=im.prototype.ea;var Hm=Vp,zm=Up,Wm=Ap,Gm=Qg,Km=Bp,$m=im,Ym=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();Ym.o=-1;var Qm={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Zm=function(t){function e(e,n){var i=this;return(i=t.call(this,n)||this).code=e,i.message=n,i.name="FirebaseError",i.toString=function(){return i.name+": [code="+i.code+"]: "+i.message},i}return Object(Ld.__extends)(e,t),e}(Error),Xm=new Ud.Logger("@firebase/firestore");function Jm(){return Xm.logLevel}function tb(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Xm.logLevel<=Ud.LogLevel.DEBUG){var i=e.map(ib);Xm.debug.apply(Xm,Object(Ld.__spreadArray)(["Firestore (8.10.1): "+t],i))}}function eb(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Xm.logLevel<=Ud.LogLevel.ERROR){var i=e.map(ib);Xm.error.apply(Xm,Object(Ld.__spreadArray)(["Firestore (8.10.1): "+t],i))}}function nb(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Xm.logLevel<=Ud.LogLevel.WARN){var i=e.map(ib);Xm.warn.apply(Xm,Object(Ld.__spreadArray)(["Firestore (8.10.1): "+t],i))}}function ib(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(cx){return t}}function rb(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+t;throw eb(e),new Error(e)}function ob(t,e){t||rb()}function sb(t,e){return t}function ab(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}var cb=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var i=ab(40),r=0;r<i.length;++r)n.length<20&&i[r]<e&&(n+=t.charAt(i[r]%t.length));return n},t}();function ub(t,e){return t<e?-1:t>e?1:0}function lb(t,e,n){return t.length===e.length&&t.every(function(t,i){return n(t,e[i])})}function hb(t){return t+"\0"}var db=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Zm(Qm.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Zm(Qm.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Zm(Qm.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Zm(Qm.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?ub(this.nanoseconds,t.nanoseconds):ub(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),fb=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new db(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();function pb(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function gb(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function mb(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var bb=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&rb(),void 0===n?n=t.length-e:n>t.length-e&&rb(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),i=0;i<n;i++){var r=t.get(i),o=e.get(i);if(r<o)return-1;if(r>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),_b=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ld.__extends)(e,t),e.prototype.construct=function(t,n,i){return new e(t,n,i)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var i=[],r=0,o=t;r<o.length;r++){var s=o[r];if(s.indexOf("//")>=0)throw new Zm(Qm.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");i.push.apply(i,s.split("/").filter(function(t){return t.length>0}))}return new e(i)},e.emptyPath=function(){return new e([])},e}(bb),vb=/^[_a-zA-Z][_a-zA-Z0-9]*$/,yb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ld.__extends)(e,t),e.prototype.construct=function(t,n,i){return new e(t,n,i)},e.isValidIdentifier=function(t){return vb.test(t)},e.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],i="",r=0,o=function(){if(0===i.length)throw new Zm(Qm.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(i),i=""},s=!1;r<t.length;){var a=t[r];if("\\"===a){if(r+1===t.length)throw new Zm(Qm.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var c=t[r+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new Zm(Qm.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=c,r+=2}else"`"===a?(s=!s,r++):"."!==a||s?(i+=a,r++):(o(),r++)}if(o(),s)throw new Zm(Qm.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(bb),wb=function(){function t(t){this.fields=t,t.sort(yb.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return lb(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),Cb=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.binaryString)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return ub(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();Cb.EMPTY_BYTE_STRING=new Cb("");var Sb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function kb(t){if(ob(!!t),"string"==typeof t){var e=0,n=Sb.exec(t);if(ob(!!n),n[1]){var i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}var r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ob(t.seconds),nanos:Ob(t.nanos)}}function Ob(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Tb(t){return"string"==typeof t?Cb.fromBase64String(t):Cb.fromUint8Array(t)}function xb(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Eb(t){var e=t.mapValue.fields.__previous_value__;return xb(e)?Eb(e):e}function Ib(t){var e=kb(t.mapValue.fields.__local_write_time__.timestampValue);return new db(e.seconds,e.nanos)}function Ab(t){return null==t}function Rb(t){return 0===t&&1/t==-1/0}function Pb(t){return"number"==typeof t&&Number.isInteger(t)&&!Rb(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var Db=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(_b.fromString(e))},t.fromName=function(e){return new t(_b.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===_b.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return _b.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new _b(e.slice()))},t}();function Mb(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?xb(t)?4:10:rb()}function Nb(t,e){var n=Mb(t);if(n!==Mb(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ib(t).isEqual(Ib(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=kb(t.timestampValue),i=kb(e.timestampValue);return n.seconds===i.seconds&&n.nanos===i.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Tb(t.bytesValue).isEqual(Tb(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Ob(t.geoPointValue.latitude)===Ob(e.geoPointValue.latitude)&&Ob(t.geoPointValue.longitude)===Ob(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Ob(t.integerValue)===Ob(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=Ob(t.doubleValue),i=Ob(e.doubleValue);return n===i?Rb(n)===Rb(i):isNaN(n)&&isNaN(i)}return!1}(t,e);case 9:return lb(t.arrayValue.values||[],e.arrayValue.values||[],Nb);case 10:return function(t,e){var n=t.mapValue.fields||{},i=e.mapValue.fields||{};if(pb(n)!==pb(i))return!1;for(var r in n)if(n.hasOwnProperty(r)&&(void 0===i[r]||!Nb(n[r],i[r])))return!1;return!0}(t,e);default:return rb()}}function jb(t,e){return void 0!==(t.values||[]).find(function(t){return Nb(t,e)})}function Fb(t,e){var n=Mb(t),i=Mb(e);if(n!==i)return ub(n,i);switch(n){case 0:return 0;case 1:return ub(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=Ob(t.integerValue||t.doubleValue),i=Ob(e.integerValue||e.doubleValue);return n<i?-1:n>i?1:n===i?0:isNaN(n)?isNaN(i)?0:-1:1}(t,e);case 3:return Lb(t.timestampValue,e.timestampValue);case 4:return Lb(Ib(t),Ib(e));case 5:return ub(t.stringValue,e.stringValue);case 6:return function(t,e){var n=Tb(t),i=Tb(e);return n.compareTo(i)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),i=e.split("/"),r=0;r<n.length&&r<i.length;r++){var o=ub(n[r],i[r]);if(0!==o)return o}return ub(n.length,i.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=ub(Ob(t.latitude),Ob(e.latitude));return 0!==n?n:ub(Ob(t.longitude),Ob(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],i=e.values||[],r=0;r<n.length&&r<i.length;++r){var o=Fb(n[r],i[r]);if(o)return o}return ub(n.length,i.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},i=Object.keys(n),r=e.fields||{},o=Object.keys(r);i.sort(),o.sort();for(var s=0;s<i.length&&s<o.length;++s){var a=ub(i[s],o[s]);if(0!==a)return a;var c=Fb(n[i[s]],r[o[s]]);if(0!==c)return c}return ub(i.length,o.length)}(t.mapValue,e.mapValue);default:throw rb()}}function Lb(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return ub(t,e);var n=kb(t),i=kb(e),r=ub(n.seconds,i.seconds);return 0!==r?r:ub(n.nanos,i.nanos)}function Vb(t){return Ub(t)}function Ub(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=kb(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Tb(t.bytesValue).toBase64():"referenceValue"in t?Db.fromName(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,i=0,r=t.values||[];i<r.length;i++)n?n=!1:e+=",",e+=Ub(r[i]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,i=0,r=Object.keys(t.fields||{}).sort();i<r.length;i++){var o=r[i];n?n=!1:e+=",",e+=o+":"+Ub(t.fields[o])}return e+"}"}(t.mapValue):rb();var e}function qb(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function Bb(t){return!!t&&"integerValue"in t}function Hb(t){return!!t&&"arrayValue"in t}function zb(t){return!!t&&"nullValue"in t}function Wb(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Gb(t){return!!t&&"mapValue"in t}function Kb(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){var e={mapValue:{fields:{}}};return gb(t.mapValue.fields,function(t,n){return e.mapValue.fields[t]=Kb(n)}),e}if(t.arrayValue){for(var n={arrayValue:{values:[]}},i=0;i<(t.arrayValue.values||[]).length;++i)n.arrayValue.values[i]=Kb(t.arrayValue.values[i]);return n}return Object.assign({},t)}var $b=function(){function t(t){this.value=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.isEmpty())return this.value;for(var e=this.value,n=0;n<t.length-1;++n)if(!Gb(e=(e.mapValue.fields||{})[t.get(n)]))return null;return(e=(e.mapValue.fields||{})[t.lastSegment()])||null},t.prototype.set=function(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Kb(e)},t.prototype.setAll=function(t){var e=this,n=yb.emptyPath(),i={},r=[];t.forEach(function(t,o){if(!n.isImmediateParentOf(o)){var s=e.getFieldsMap(n);e.applyChanges(s,i,r),i={},r=[],n=o.popLast()}t?i[o.lastSegment()]=Kb(t):r.push(o.lastSegment())});var o=this.getFieldsMap(n);this.applyChanges(o,i,r)},t.prototype.delete=function(t){var e=this.field(t.popLast());Gb(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]},t.prototype.isEqual=function(t){return Nb(this.value,t.value)},t.prototype.getFieldsMap=function(t){var e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(var n=0;n<t.length;++n){var i=e.mapValue.fields[t.get(n)];Gb(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=i),e=i}return e.mapValue.fields},t.prototype.applyChanges=function(t,e,n){gb(e,function(e,n){return t[e]=n});for(var i=0,r=n;i<r.length;i++)delete t[r[i]]},t.prototype.clone=function(){return new t(Kb(this.value))},t}();function Yb(t){var e=[];return gb(t.fields,function(t,n){var i=new yb([t]);if(Gb(n)){var r=Yb(n.mapValue).fields;if(0===r.length)e.push(i);else for(var o=0,s=r;o<s.length;o++)e.push(i.child(s[o]))}else e.push(i)}),new wb(e)}var Qb=function(){function t(t,e,n,i,r){this.key=t,this.documentType=e,this.version=n,this.data=i,this.documentState=r}return t.newInvalidDocument=function(e){return new t(e,0,fb.min(),$b.empty(),0)},t.newFoundDocument=function(e,n,i){return new t(e,1,n,i,0)},t.newNoDocument=function(e,n){return new t(e,2,n,$b.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,$b.empty(),2)},t.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},t.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=$b.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=$b.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),Zb=function(t,e,n,i,r,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===i&&(i=[]),void 0===r&&(r=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=i,this.limit=r,this.startAt=o,this.endAt=s,this.h=null};function Xb(t,e,n,i,r,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===i&&(i=[]),void 0===r&&(r=null),void 0===o&&(o=null),void 0===s&&(s=null),new Zb(t,e,n,i,r,o,s)}function Jb(t){var e=sb(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.canonicalString()+t.op.toString()+Vb(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.canonicalString()+t.dir}(t)}).join(","),Ab(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=d_(e.startAt)),e.endAt&&(n+="|ub:",n+=d_(e.endAt)),e.h=n}return e.h}function t_(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!p_(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var i=0;i<t.filters.length;i++)if((r=t.filters[i]).op!==(o=e.filters[i]).op||!r.field.isEqual(o.field)||!Nb(r.value,o.value))return!1;var r,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!m_(t.startAt,e.startAt)&&m_(t.endAt,e.endAt)}function e_(t){return Db.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var n_=function(t){function e(e,n,i){var r=this;return(r=t.call(this)||this).field=e,r.op=n,r.value=i,r}return Object(Ld.__extends)(e,t),e.create=function(t,n,i){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,i):new i_(t,n,i):"array-contains"===n?new a_(t,i):"in"===n?new c_(t,i):"not-in"===n?new u_(t,i):"array-contains-any"===n?new l_(t,i):new e(t,n,i)},e.l=function(t,e,n){return"in"===e?new r_(t,n):new o_(t,n)},e.prototype.matches=function(t){var e=t.data.field(this.field);return"!="===this.op?null!==e&&this.m(Fb(e,this.value)):null!==e&&Mb(this.value)===Mb(e)&&this.m(Fb(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return rb()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),i_=function(t){function e(e,n,i){var r=this;return(r=t.call(this,e,n,i)||this).key=Db.fromName(i.referenceValue),r}return Object(Ld.__extends)(e,t),e.prototype.matches=function(t){var e=Db.comparator(t.key,this.key);return this.m(e)},e}(n_),r_=function(t){function e(e,n){var i=this;return(i=t.call(this,e,"in",n)||this).keys=s_(0,n),i}return Object(Ld.__extends)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(n_),o_=function(t){function e(e,n){var i=this;return(i=t.call(this,e,"not-in",n)||this).keys=s_(0,n),i}return Object(Ld.__extends)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(n_);function s_(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return Db.fromName(t.referenceValue)})}var a_=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(Ld.__extends)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return Hb(e)&&jb(e.arrayValue,this.value)},e}(n_),c_=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(Ld.__extends)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return null!==e&&jb(this.value.arrayValue,e)},e}(n_),u_=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(Ld.__extends)(e,t),e.prototype.matches=function(t){if(jb(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.data.field(this.field);return null!==e&&!jb(this.value.arrayValue,e)},e}(n_),l_=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(Ld.__extends)(e,t),e.prototype.matches=function(t){var e=this,n=t.data.field(this.field);return!(!Hb(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return jb(e.value.arrayValue,t)})},e}(n_),h_=function(t,e){this.position=t,this.before=e};function d_(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return Vb(t)}).join(",")}var f_=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function p_(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function g_(t,e,n){for(var i=0,r=0;r<t.position.length;r++){var o=e[r],s=t.position[r];if(i=o.field.isKeyField()?Db.comparator(Db.fromName(s.referenceValue),n.key):Fb(s,n.data.field(o.field)),"desc"===o.dir&&(i*=-1),0!==i)break}return t.before?i<=0:i<0}function m_(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Nb(t.position[n],e.position[n]))return!1;return!0}var b_=function(t,e,n,i,r,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===i&&(i=[]),void 0===r&&(r=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=i,this.limit=r,this.limitType=o,this.startAt=s,this.endAt=a,this.p=null,this.T=null};function __(t,e,n,i,r,o,s,a){return new b_(t,e,n,i,r,o,s,a)}function v_(t){return new b_(t)}function y_(t){return!Ab(t.limit)&&"F"===t.limitType}function w_(t){return!Ab(t.limit)&&"L"===t.limitType}function C_(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function S_(t){for(var e=0,n=t.filters;e<n.length;e++){var i=n[e];if(i.g())return i.field}return null}function k_(t){return null!==t.collectionGroup}function O_(t){var e=sb(t);if(null===e.p){e.p=[];var n=S_(e),i=C_(e);if(null!==n&&null===i)n.isKeyField()||e.p.push(new f_(n)),e.p.push(new f_(yb.keyField(),"asc"));else{for(var r=!1,o=0,s=e.explicitOrderBy;o<s.length;o++){var a=s[o];e.p.push(a),a.field.isKeyField()&&(r=!0)}if(!r){var c=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new f_(yb.keyField(),c))}}}return e.p}function T_(t){var e=sb(t);if(!e.T)if("F"===e.limitType)e.T=Xb(e.path,e.collectionGroup,O_(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],i=0,r=O_(e);i<r.length;i++){var o=r[i];n.push(new f_(o.field,"desc"===o.dir?"asc":"desc"))}var s=e.endAt?new h_(e.endAt.position,!e.endAt.before):null,a=e.startAt?new h_(e.startAt.position,!e.startAt.before):null;e.T=Xb(e.path,e.collectionGroup,n,e.filters,e.limit,s,a)}return e.T}function x_(t,e,n){return new b_(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function E_(t,e){return t_(T_(t),T_(e))&&t.limitType===e.limitType}function I_(t){return Jb(T_(t))+"|lt:"+t.limitType}function A_(t){return"Query(target="+function(t){var e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.canonicalString()+" "+e.op+" "+Vb(e.value);var e}).join(", ")+"]"),Ab(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.canonicalString()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+d_(t.startAt)),t.endAt&&(e+=", endAt: "+d_(t.endAt)),"Target("+e+")"}(T_(t))+"; limitType="+t.limitType+")"}function R_(t,e){return e.isFoundDocument()&&function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):Db.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(var n=0,i=t.explicitOrderBy;n<i.length;n++){var r=i[n];if(!r.field.isKeyField()&&null===e.data.field(r.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,i=t.filters;n<i.length;n++)if(!i[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!g_(t.startAt,O_(t),e)||t.endAt&&g_(t.endAt,O_(t),e))}(t,e)}function P_(t){return function(e,n){for(var i=!1,r=0,o=O_(t);r<o.length;r++){var s=o[r],a=D_(s,e,n);if(0!==a)return a;i=i||s.field.isKeyField()}return 0}}function D_(t,e,n){var i=t.field.isKeyField()?Db.comparator(e.key,n.key):function(t,e,n){var i=e.data.field(t),r=n.data.field(t);return null!==i&&null!==r?Fb(i,r):rb()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return rb()}}function M_(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Rb(e)?"-0":e}}function N_(t){return{integerValue:""+t}}function j_(t,e){return Pb(e)?N_(e):M_(t,e)}var F_=function(){this._=void 0};function L_(t,e,n){return t instanceof q_?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof B_?H_(t,e):t instanceof z_?W_(t,e):function(t,e){var n=U_(t,e),i=K_(n)+K_(t.A);return Bb(n)&&Bb(t.A)?N_(i):M_(t.R,i)}(t,e)}function V_(t,e,n){return t instanceof B_?H_(t,e):t instanceof z_?W_(t,e):n}function U_(t,e){return t instanceof G_?Bb(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var q_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ld.__extends)(e,t),e}(F_),B_=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Ld.__extends)(e,t),e}(F_);function H_(t,e){for(var n=$_(e),i=function(t){n.some(function(e){return Nb(e,t)})||n.push(t)},r=0,o=t.elements;r<o.length;r++)i(o[r]);return{arrayValue:{values:n}}}var z_=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Ld.__extends)(e,t),e}(F_);function W_(t,e){for(var n=$_(e),i=function(t){n=n.filter(function(e){return!Nb(e,t)})},r=0,o=t.elements;r<o.length;r++)i(o[r]);return{arrayValue:{values:n}}}var G_=function(t){function e(e,n){var i=this;return(i=t.call(this)||this).R=e,i.A=n,i}return Object(Ld.__extends)(e,t),e}(F_);function K_(t){return Ob(t.integerValue||t.doubleValue)}function $_(t){return Hb(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Y_=function(t,e){this.field=t,this.transform=e},Q_=function(t,e){this.version=t,this.transformResults=e},Z_=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function X_(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var J_=function(){};function tv(t,e,n){t instanceof ov?function(t,e,n){var i=t.value.clone(),r=cv(t.fieldTransforms,e,n.transformResults);i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(t,e,n):t instanceof sv?function(t,e,n){if(X_(t.precondition,e)){var i=cv(t.fieldTransforms,e,n.transformResults),r=e.data;r.setAll(av(t)),r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}else e.convertToUnknownDocument(n.version)}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function ev(t,e,n){t instanceof ov?function(t,e,n){if(X_(t.precondition,e)){var i=t.value.clone(),r=uv(t.fieldTransforms,n,e);i.setAll(r),e.convertToFoundDocument(rv(e),i).setHasLocalMutations()}}(t,e,n):t instanceof sv?function(t,e,n){if(X_(t.precondition,e)){var i=uv(t.fieldTransforms,n,e),r=e.data;r.setAll(av(t)),r.setAll(i),e.convertToFoundDocument(rv(e),r).setHasLocalMutations()}}(t,e,n):function(t,e){X_(t.precondition,e)&&e.convertToNoDocument(fb.min())}(t,e)}function nv(t,e){for(var n=null,i=0,r=t.fieldTransforms;i<r.length;i++){var o=r[i],s=e.data.field(o.field),a=U_(o.transform,s||null);null!=a&&(null==n&&(n=$b.empty()),n.set(o.field,a))}return n||null}function iv(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&lb(t,e,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof B_&&e instanceof B_||t instanceof z_&&e instanceof z_?lb(t.elements,e.elements,Nb):t instanceof G_&&e instanceof G_?Nb(t.A,e.A):t instanceof q_&&e instanceof q_}(t.transform,e.transform)}(t,e)})}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function rv(t){return t.isFoundDocument()?t.version:fb.min()}var ov=function(t){function e(e,n,i,r){void 0===r&&(r=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.precondition=i,o.fieldTransforms=r,o.type=0,o}return Object(Ld.__extends)(e,t),e}(J_),sv=function(t){function e(e,n,i,r,o){void 0===o&&(o=[]);var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.fieldMask=i,s.precondition=r,s.fieldTransforms=o,s.type=1,s}return Object(Ld.__extends)(e,t),e}(J_);function av(t){var e=new Map;return t.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var i=t.data.field(n);e.set(n,i)}}),e}function cv(t,e,n){var i=new Map;ob(t.length===n.length);for(var r=0;r<n.length;r++){var o=t[r],s=o.transform,a=e.data.field(o.field);i.set(o.field,V_(s,a,n[r]))}return i}function uv(t,e,n){for(var i=new Map,r=0,o=t;r<o.length;r++){var s=o[r],a=s.transform,c=n.data.field(s.field);i.set(s.field,L_(a,c,e))}return i}var lv,hv,dv=function(t){function e(e,n){var i=this;return(i=t.call(this)||this).key=e,i.precondition=n,i.type=2,i.fieldTransforms=[],i}return Object(Ld.__extends)(e,t),e}(J_),fv=function(t){function e(e,n){var i=this;return(i=t.call(this)||this).key=e,i.precondition=n,i.type=3,i.fieldTransforms=[],i}return Object(Ld.__extends)(e,t),e}(J_),pv=function(t){this.count=t};function gv(t){switch(t){case Qm.OK:return rb();case Qm.CANCELLED:case Qm.UNKNOWN:case Qm.DEADLINE_EXCEEDED:case Qm.RESOURCE_EXHAUSTED:case Qm.INTERNAL:case Qm.UNAVAILABLE:case Qm.UNAUTHENTICATED:return!1;case Qm.INVALID_ARGUMENT:case Qm.NOT_FOUND:case Qm.ALREADY_EXISTS:case Qm.PERMISSION_DENIED:case Qm.FAILED_PRECONDITION:case Qm.ABORTED:case Qm.OUT_OF_RANGE:case Qm.UNIMPLEMENTED:case Qm.DATA_LOSS:return!0;default:return rb()}}function mv(t){if(void 0===t)return eb("GRPC error has no .code"),Qm.UNKNOWN;switch(t){case lv.OK:return Qm.OK;case lv.CANCELLED:return Qm.CANCELLED;case lv.UNKNOWN:return Qm.UNKNOWN;case lv.DEADLINE_EXCEEDED:return Qm.DEADLINE_EXCEEDED;case lv.RESOURCE_EXHAUSTED:return Qm.RESOURCE_EXHAUSTED;case lv.INTERNAL:return Qm.INTERNAL;case lv.UNAVAILABLE:return Qm.UNAVAILABLE;case lv.UNAUTHENTICATED:return Qm.UNAUTHENTICATED;case lv.INVALID_ARGUMENT:return Qm.INVALID_ARGUMENT;case lv.NOT_FOUND:return Qm.NOT_FOUND;case lv.ALREADY_EXISTS:return Qm.ALREADY_EXISTS;case lv.PERMISSION_DENIED:return Qm.PERMISSION_DENIED;case lv.FAILED_PRECONDITION:return Qm.FAILED_PRECONDITION;case lv.ABORTED:return Qm.ABORTED;case lv.OUT_OF_RANGE:return Qm.OUT_OF_RANGE;case lv.UNIMPLEMENTED:return Qm.UNIMPLEMENTED;case lv.DATA_LOSS:return Qm.DATA_LOSS;default:return rb()}}(hv=lv||(lv={}))[hv.OK=0]="OK",hv[hv.CANCELLED=1]="CANCELLED",hv[hv.UNKNOWN=2]="UNKNOWN",hv[hv.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",hv[hv.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",hv[hv.NOT_FOUND=5]="NOT_FOUND",hv[hv.ALREADY_EXISTS=6]="ALREADY_EXISTS",hv[hv.PERMISSION_DENIED=7]="PERMISSION_DENIED",hv[hv.UNAUTHENTICATED=16]="UNAUTHENTICATED",hv[hv.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",hv[hv.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",hv[hv.ABORTED=10]="ABORTED",hv[hv.OUT_OF_RANGE=11]="OUT_OF_RANGE",hv[hv.UNIMPLEMENTED=12]="UNIMPLEMENTED",hv[hv.INTERNAL=13]="INTERNAL",hv[hv.UNAVAILABLE=14]="UNAVAILABLE",hv[hv.DATA_LOSS=15]="DATA_LOSS";var bv=function(){function t(t,e){this.comparator=t,this.root=e||vv.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,vv.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,vv.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var i=this.comparator(t,n.key);if(0===i)return e+n.left.size;i<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.inorderTraversal(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new _v(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new _v(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new _v(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new _v(this.root,t,this.comparator,!0)},t}(),_v=function(){function t(t,e,n,i){this.isReverse=i,this.nodeStack=[];for(var r=1;!t.isEmpty();)if(r=e?n(t.key,e):1,i&&(r*=-1),r<0)t=this.isReverse?t.left:t.right;else{if(0===r){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),vv=function(){function t(e,n,i,r,o){this.key=e,this.value=n,this.color=null!=i?i:t.RED,this.left=null!=r?r:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,i,r,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=i?i:this.color,null!=r?r:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var i=this,r=n(t,i.key);return(i=r<0?i.copy(null,null,null,i.left.insert(t,e,n),null):0===r?i.copy(null,e,null,null,null):i.copy(null,null,null,null,i.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var i,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===n(e,r.key)){if(r.right.isEmpty())return t.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw rb();if(this.right.isRed())throw rb();var t=this.left.check();if(t!==this.right.check())throw rb();return t+(this.isRed()?0:1)},t}();vv.EMPTY=null,vv.RED=!0,vv.BLACK=!1,vv.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw rb()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw rb()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw rb()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw rb()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw rb()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,i,r){return this},t.prototype.insert=function(t,e,n){return new vv(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var yv=function(){function t(t){this.comparator=t,this.data=new bv(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var i=n.getNext();if(this.comparator(i.key,t[1])>=0)return;e(i.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new wv(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new wv(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),i=e.data.getIterator();n.hasNext();){var r=n.getNext().key,o=i.getNext().key;if(0!==this.comparator(r,o))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),wv=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),Cv=new bv(Db.comparator);function Sv(){return Cv}var kv=new bv(Db.comparator);function Ov(){return kv}var Tv=new bv(Db.comparator);function xv(){return Tv}var Ev=new yv(Db.comparator);function Iv(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Ev,i=0,r=t;i<r.length;i++){var o=r[i];n=n.add(o)}return n}var Av=new yv(ub);function Rv(){return Av}var Pv=function(){function t(t,e,n,i,r){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=r}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var i=new Map;return i.set(e,Dv.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(fb.min(),i,Rv(),Sv(),Iv())},t}(),Dv=function(){function t(t,e,n,i,r){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=r}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(Cb.EMPTY_BYTE_STRING,n,Iv(),Iv(),Iv())},t}(),Mv=function(t,e,n,i){this.v=t,this.removedTargetIds=e,this.key=n,this.P=i},Nv=function(t,e){this.targetId=t,this.V=e},jv=function(t,e,n,i){void 0===n&&(n=Cb.EMPTY_BYTE_STRING),void 0===i&&(i=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=i},Fv=function(){function t(){this.S=0,this.D=Uv(),this.C=Cb.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"F",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),t.prototype.O=function(t){t.approximateByteSize()>0&&(this.k=!0,this.C=t)},t.prototype.M=function(){var t=Iv(),e=Iv(),n=Iv();return this.D.forEach(function(i,r){switch(r){case 0:t=t.add(i);break;case 2:e=e.add(i);break;case 1:n=n.add(i);break;default:rb()}}),new Dv(this.C,this.N,t,e,n)},t.prototype.L=function(){this.k=!1,this.D=Uv()},t.prototype.B=function(t,e){this.k=!0,this.D=this.D.insert(t,e)},t.prototype.q=function(t){this.k=!0,this.D=this.D.remove(t)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.k=!0,this.N=!0},t}(),Lv=function(){function t(t){this.W=t,this.G=new Map,this.H=Sv(),this.J=Vv(),this.Y=new yv(ub)}return t.prototype.X=function(t){for(var e=0,n=t.v;e<n.length;e++){var i=n[e];t.P&&t.P.isFoundDocument()?this.Z(i,t.P):this.tt(i,t.key,t.P)}for(var r=0,o=t.removedTargetIds;r<o.length;r++)this.tt(i=o[r],t.key,t.P)},t.prototype.et=function(t){var e=this;this.forEachTarget(t,function(n){var i=e.nt(n);switch(t.state){case 0:e.st(n)&&i.O(t.resumeToken);break;case 1:i.K(),i.F||i.L(),i.O(t.resumeToken);break;case 2:i.K(),i.F||e.removeTarget(n);break;case 3:e.st(n)&&(i.j(),i.O(t.resumeToken));break;case 4:e.st(n)&&(e.it(n),i.O(t.resumeToken));break;default:rb()}})},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.G.forEach(function(t,i){n.st(i)&&e(i)})},t.prototype.rt=function(t){var e=t.targetId,n=t.V.count,i=this.ot(e);if(i){var r=i.target;if(e_(r))if(0===n){var o=new Db(r.path);this.tt(e,o,Qb.newNoDocument(o,fb.min()))}else ob(1===n);else this.ct(e)!==n&&(this.it(e),this.Y=this.Y.add(e))}},t.prototype.ut=function(t){var e=this,n=new Map;this.G.forEach(function(i,r){var o=e.ot(r);if(o){if(i.current&&e_(o.target)){var s=new Db(o.target.path);null!==e.H.get(s)||e.at(r,s)||e.tt(r,s,Qb.newNoDocument(s,t))}i.$&&(n.set(r,i.M()),i.L())}});var i=Iv();this.J.forEach(function(t,n){var r=!0;n.forEachWhile(function(t){var n=e.ot(t);return!n||2===n.purpose||(r=!1,!1)}),r&&(i=i.add(t))});var r=new Pv(t,n,this.Y,this.H,i);return this.H=Sv(),this.J=Vv(),this.Y=new yv(ub),r},t.prototype.Z=function(t,e){if(this.st(t)){var n=this.at(t,e.key)?2:0;this.nt(t).B(e.key,n),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t))}},t.prototype.tt=function(t,e,n){if(this.st(t)){var i=this.nt(t);this.at(t,e)?i.B(e,1):i.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),n&&(this.H=this.H.insert(e,n))}},t.prototype.removeTarget=function(t){this.G.delete(t)},t.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.U=function(t){this.nt(t).U()},t.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new Fv,this.G.set(t,e)),e},t.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new yv(ub),this.J=this.J.insert(t,e)),e},t.prototype.st=function(t){var e=null!==this.ot(t);return e||tb("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ot=function(t){var e=this.G.get(t);return e&&e.F?null:this.W.lt(t)},t.prototype.it=function(t){var e=this;this.G.set(t,new Fv),this.W.getRemoteKeysForTarget(t).forEach(function(n){e.tt(t,n,null)})},t.prototype.at=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},t}();function Vv(){return new bv(Db.comparator)}function Uv(){return new bv(Db.comparator)}var qv={asc:"ASCENDING",desc:"DESCENDING"},Bv={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Hv=function(t,e){this.databaseId=t,this.I=e};function zv(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Wv(t,e){return t.I?e.toBase64():e.toUint8Array()}function Gv(t,e){return zv(t,e.toTimestamp())}function Kv(t){return ob(!!t),fb.fromTimestamp(function(t){var e=kb(t);return new db(e.seconds,e.nanos)}(t))}function $v(t,e){return function(t){return new _b(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function Yv(t){var e=_b.fromString(t);return ob(vy(e)),e}function Qv(t,e){return $v(t.databaseId,e.path)}function Zv(t,e){var n=Yv(e);if(n.get(1)!==t.databaseId.projectId)throw new Zm(Qm.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Zm(Qm.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Db(ey(n))}function Xv(t,e){return $v(t.databaseId,e)}function Jv(t){var e=Yv(t);return 4===e.length?_b.emptyPath():ey(e)}function ty(t){return new _b(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function ey(t){return ob(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function ny(t,e,n){return{name:Qv(t,e),fields:n.value.mapValue.fields}}function iy(t,e,n){var i=Zv(t,e.name),r=Kv(e.updateTime),o=new $b({mapValue:{fields:e.fields}}),s=Qb.newFoundDocument(i,r,o);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function ry(t,e){var n;if(e instanceof ov)n={update:ny(t,e.key,e.value)};else if(e instanceof dv)n={delete:Qv(t,e.key)};else if(e instanceof sv)n={update:ny(t,e.key,e.data),updateMask:_y(e.fieldMask)};else{if(!(e instanceof fv))return rb();n={verify:Qv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof q_)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof B_)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof z_)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof G_)return{fieldPath:e.field.canonicalString(),increment:n.A};throw rb()}(0,t)})),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Gv(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:rb()}(t,e.precondition)),n}function oy(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Z_.updateTime(Kv(t.updateTime)):void 0!==t.exists?Z_.exists(t.exists):Z_.none()}(e.currentDocument):Z_.none(),i=e.updateTransforms?e.updateTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(ob("REQUEST_TIME"===e.setToServerValue),n=new q_):"appendMissingElements"in e?n=new B_(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new z_(e.removeAllFromArray.values||[]):"increment"in e?n=new G_(t,e.increment):rb();var i=yb.fromServerFormat(e.fieldPath);return new Y_(i,n)}(t,e)}):[];if(e.update){var r=Zv(t,e.update.name),o=new $b({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(t){return new wb((t.fieldPaths||[]).map(function(t){return yb.fromServerFormat(t)}))}(e.updateMask);return new sv(r,o,s,n,i)}return new ov(r,o,n,i)}if(e.delete){var a=Zv(t,e.delete);return new dv(a,n)}if(e.verify){var c=Zv(t,e.verify);return new fv(c,n)}return rb()}function sy(t,e){return{documents:[Xv(t,e.path)]}}function ay(t,e){var n={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(n.parent=Xv(t,i),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Xv(t,i.popLast()),n.structuredQuery.from=[{collectionId:i.lastSegment()}]);var r=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(Wb(t.value))return{unaryFilter:{field:py(t.field),op:"IS_NAN"}};if(zb(t.value))return{unaryFilter:{field:py(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Wb(t.value))return{unaryFilter:{field:py(t.field),op:"IS_NOT_NAN"}};if(zb(t.value))return{unaryFilter:{field:py(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:py(t.field),op:fy(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);r&&(n.structuredQuery.where=r);var o=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:py(t.field),direction:dy(t.dir)}}(t)})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(t,e){return t.I||Ab(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=ly(e.startAt)),e.endAt&&(n.structuredQuery.endAt=ly(e.endAt)),n}function cy(t){var e=Jv(t.parent),n=t.structuredQuery,i=n.from?n.from.length:0,r=null;if(i>0){ob(1===i);var o=n.from[0];o.allDescendants?r=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=uy(n.where));var a=[];n.orderBy&&(a=n.orderBy.map(function(t){return function(t){return new f_(gy(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var c=null;n.limit&&(c=function(t){var e;return Ab(e="object"==typeof t?t.value:t)?null:e}(n.limit));var u=null;n.startAt&&(u=hy(n.startAt));var l=null;return n.endAt&&(l=hy(n.endAt)),__(e,r,a,s,c,"F",u,l)}function uy(t){return t?void 0!==t.unaryFilter?[by(t)]:void 0!==t.fieldFilter?[my(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return uy(t)}).reduce(function(t,e){return t.concat(e)}):rb():[]}function ly(t){return{before:t.before,values:t.position}}function hy(t){return new h_(t.values||[],!!t.before)}function dy(t){return qv[t]}function fy(t){return Bv[t]}function py(t){return{fieldPath:t.canonicalString()}}function gy(t){return yb.fromServerFormat(t.fieldPath)}function my(t){return n_.create(gy(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return rb()}}(t.fieldFilter.op),t.fieldFilter.value)}function by(t){switch(t.unaryFilter.op){case"IS_NAN":var e=gy(t.unaryFilter.field);return n_.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=gy(t.unaryFilter.field);return n_.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var i=gy(t.unaryFilter.field);return n_.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var r=gy(t.unaryFilter.field);return n_.create(r,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return rb()}}function _y(t){var e=[];return t.fields.forEach(function(t){return e.push(t.canonicalString())}),{fieldPaths:e}}function vy(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function yy(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Cy(e)),e=wy(t.get(n),e);return Cy(e)}function wy(t,e){for(var n=e,i=t.length,r=0;r<i;r++){var o=t.charAt(r);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function Cy(t){return t+"\x01\x01"}function Sy(t){var e=t.length;if(ob(e>=2),2===e)return ob("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),_b.emptyPath();for(var n=e-2,i=[],r="",o=0;o<e;){var s=t.indexOf("\x01",o);switch((s<0||s>n)&&rb(),t.charAt(s+1)){case"\x01":var a=t.substring(o,s),c=void 0;0===r.length?c=a:(c=r+=a,r=""),i.push(c);break;case"\x10":r+=t.substring(o,s),r+="\0";break;case"\x11":r+=t.substring(o,s+1);break;default:rb()}o=s+2}return new _b(i)}var ky=function(t,e){this.seconds=t,this.nanoseconds=e},Oy=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Oy.store="owner",Oy.key="owner";var Ty=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Ty.store="mutationQueues",Ty.keyPath="userId";var xy=function(t,e,n,i,r){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=i,this.mutations=r};xy.store="mutations",xy.keyPath="batchId",xy.userMutationsIndex="userMutationsIndex",xy.userMutationsKeyPath=["userId","batchId"];var Ey=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,yy(e)]},t.key=function(t,e,n){return[t,yy(e),n]},t}();Ey.store="documentMutations",Ey.PLACEHOLDER=new Ey;var Iy=function(t,e){this.path=t,this.readTime=e},Ay=function(t,e){this.path=t,this.version=e},Ry=function(t,e,n,i,r,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=i,this.readTime=r,this.parentPath=o};Ry.store="remoteDocuments",Ry.readTimeIndex="readTimeIndex",Ry.readTimeIndexPath="readTime",Ry.collectionReadTimeIndex="collectionReadTimeIndex",Ry.collectionReadTimeIndexPath=["parentPath","readTime"];var Py=function(t){this.byteSize=t};Py.store="remoteDocumentGlobal",Py.key="remoteDocumentGlobalKey";var Dy=function(t,e,n,i,r,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=i,this.lastListenSequenceNumber=r,this.lastLimboFreeSnapshotVersion=o,this.query=s};Dy.store="targets",Dy.keyPath="targetId",Dy.queryTargetsIndexName="queryTargetsIndex",Dy.queryTargetsKeyPath=["canonicalId","targetId"];var My=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};My.store="targetDocuments",My.keyPath=["targetId","path"],My.documentTargetsIndex="documentTargetsIndex",My.documentTargetsKeyPath=["path","targetId"];var Ny=function(t,e,n,i){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=i};Ny.key="targetGlobalKey",Ny.store="targetGlobal";var jy=function(t,e){this.collectionId=t,this.parent=e};jy.store="collectionParents",jy.keyPath=["collectionId","parent"];var Fy=function(t,e,n,i){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=i};Fy.store="clientMetadata",Fy.keyPath="clientId";var Ly=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};Ly.store="bundles",Ly.keyPath="bundleId";var Vy=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};Vy.store="namedQueries",Vy.keyPath="name";var Uy=Object(Ld.__spreadArray)(Object(Ld.__spreadArray)([],Object(Ld.__spreadArray)(Object(Ld.__spreadArray)([],Object(Ld.__spreadArray)(Object(Ld.__spreadArray)([],Object(Ld.__spreadArray)(Object(Ld.__spreadArray)([],[Ty.store,xy.store,Ey.store,Ry.store,Dy.store,Oy.store,Ny.store,My.store]),[Fy.store])),[Py.store])),[jy.store])),[Ly.store,Vy.store]),qy="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",By=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},t}(),Hy=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},zy=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)},function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var i=this;return this.callbackAttached&&rb(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(t,r){i.nextCallback=function(n){i.wrapSuccess(e,n).next(t,r)},i.catchCallback=function(e){i.wrapFailure(n,e).next(t,r)}})},t.prototype.toPromise=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.waitFor=function(e){return new t(function(t,n){var i=0,r=0,o=!1;e.forEach(function(e){++i,e.next(function(){++r,o&&r===i&&t()},function(t){return n(t)})}),o=!0,r===i&&t()})},t.or=function(e){for(var n=t.resolve(!1),i=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},r=0,o=e;r<o.length;r++)i(o[r]);return n},t.forEach=function(t,e){var n=this,i=[];return t.forEach(function(t,r){i.push(e.call(n,t,r))}),this.waitFor(i)},t}(),Wy=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new Hy,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){e.error?n.ft.reject(new $y(t,e.error)):n.ft.resolve()},this.transaction.onerror=function(e){var i=Jy(e.target.error);n.ft.reject(new $y(t,i))}}return t.open=function(e,n,i,r){try{return new t(n,e.transaction(r,i))}catch(e){throw new $y(n,e)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(tb("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new Qy(e)},t}(),Gy=function(){function t(e,n,i){this.name=e,this.version=n,this.wt=i,12.2===t._t(Object(Vd.getUA)())&&eb("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return tb("SimpleDb","Removing database:",t),Zy(window.indexedDB.deleteDatabase(t)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=Object(Vd.getUA)(),n=t._t(e),i=0<n&&n<10,r=t.Et(e),o=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||o)},t.gt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Tt)},t.It=function(t,e){return t.store(e)},t._t=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Et=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.At=function(t){return Object(Ld.__awaiter)(this,void 0,void 0,function(){var e,n=this;return Object(Ld.__generator)(this,function(i){switch(i.label){case 0:return this.db?[3,2]:(tb("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,i){var r=indexedDB.open(n.name,n.version);r.onsuccess=function(t){e(t.target.result)},r.onblocked=function(){i(new $y(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=function(e){var n=e.target.error;i("VersionError"===n.name?new Zm(Qm.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new $y(t,n))},r.onupgradeneeded=function(t){tb("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.wt.Rt(t.target.result,r.transaction,t.oldVersion,n.version).next(function(){tb("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=i.sent(),i.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(t){return n.bt(t)}),this.db)]}})})},t.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,i){return Object(Ld.__awaiter)(this,void 0,void 0,function(){var r,o,s,a,c;return Object(Ld.__generator)(this,function(u){switch(u.label){case 0:r="readonly"===e,o=0,s=function(){var e,s,c,u,l;return Object(Ld.__generator)(this,function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.At(t)];case 2:return a.db=h.sent(),e=Wy.open(a.db,t,r?"readonly":"readwrite",n),s=i(e).catch(function(t){return e.abort(t),zy.reject(t)}).toPromise(),c={},s.catch(function(){}),[4,e.dt];case 3:return[2,(c.value=(h.sent(),s),c)];case 4:return tb("SimpleDb","Transaction failed with error:",(u=h.sent()).message,"Retrying:",l="FirebaseError"!==u.name&&o<3),a.close(),l?[3,5]:[2,{value:Promise.reject(u)}];case 5:return[2]}})},a=this,u.label=1;case 1:return[5,s()];case 2:if("object"==typeof(c=u.sent()))return[2,c.value];u.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),Ky=function(){function t(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(t){this.St=t},t.prototype.delete=function(){return Zy(this.Pt.delete())},t}(),$y=function(t){function e(e,n){var i=this;return(i=t.call(this,Qm.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",i}return Object(Ld.__extends)(e,t),e}(Zm);function Yy(t){return"IndexedDbTransactionError"===t.name}var Qy=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(tb("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(tb("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Zy(n)},t.prototype.add=function(t){return tb("SimpleDb","ADD",this.store.name,t,t),Zy(this.store.add(t))},t.prototype.get=function(t){var e=this;return Zy(this.store.get(t)).next(function(n){return void 0===n&&(n=null),tb("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return tb("SimpleDb","DELETE",this.store.name,t),Zy(this.store.delete(t))},t.prototype.count=function(){return tb("SimpleDb","COUNT",this.store.name),Zy(this.store.count())},t.prototype.Nt=function(t,e){var n=this.cursor(this.options(t,e)),i=[];return this.xt(n,function(t,e){i.push(e)}).next(function(){return i})},t.prototype.kt=function(t,e){tb("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.Ft=!1;var i=this.cursor(n);return this.xt(i,function(t,e,n){return n.delete()})},t.prototype.$t=function(t,e){var n;e?n=t:(n={},e=t);var i=this.cursor(n);return this.xt(i,e)},t.prototype.Ot=function(t){var e=this.cursor({});return new zy(function(n,i){e.onerror=function(t){var e=Jy(t.target.error);i(e)},e.onsuccess=function(e){var i=e.target.result;i?t(i.primaryKey,i.value).next(function(t){t?i.continue():n()}):n()}})},t.prototype.xt=function(t,e){var n=[];return new zy(function(i,r){t.onerror=function(t){r(t.target.error)},t.onsuccess=function(t){var r=t.target.result;if(r){var o=new Ky(r),s=e(r.primaryKey,r.value,o);if(s instanceof zy){var a=s.catch(function(t){return o.done(),zy.reject(t)});n.push(a)}o.isDone?i():null===o.Dt?r.continue():r.continue(o.Dt)}else i()}}).next(function(){return zy.waitFor(n)})},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.Ft?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Zy(t){return new zy(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=Jy(t.target.error);n(e)}})}var Xy=!1;function Jy(t){var e=Gy._t(Object(Vd.getUA)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var i=new Zm("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Xy||(Xy=!0,setTimeout(function(){throw i},0)),i}}return t}var tw=function(t){function e(e,n){var i=this;return(i=t.call(this)||this).Mt=e,i.currentSequenceNumber=n,i}return Object(Ld.__extends)(e,t),e}(By);function ew(t,e){var n=sb(t);return Gy.It(n.Mt,e)}var nw=function(){function t(t,e,n,i){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=i}return t.prototype.applyToRemoteDocument=function(t,e){for(var n=e.mutationResults,i=0;i<this.mutations.length;i++){var r=this.mutations[i];r.key.isEqual(t.key)&&tv(r,t,n[i])}},t.prototype.applyToLocalView=function(t){for(var e=0,n=this.baseMutations;e<n.length;e++)(o=n[e]).key.isEqual(t.key)&&ev(o,t,this.localWriteTime);for(var i=0,r=this.mutations;i<r.length;i++){var o;(o=r[i]).key.isEqual(t.key)&&ev(o,t,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach(function(n){var i=t.get(n.key),r=i;e.applyToLocalView(r),i.isValidDocument()||r.convertToNoDocument(fb.min())})},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},Iv())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&lb(this.mutations,t.mutations,function(t,e){return iv(t,e)})&&lb(this.baseMutations,t.baseMutations,function(t,e){return iv(t,e)})},t}(),iw=function(){function t(t,e,n,i){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=i}return t.from=function(e,n,i){ob(e.mutations.length===i.length);for(var r=xv(),o=e.mutations,s=0;s<o.length;s++)r=r.insert(o[s].key,i[s].version);return new t(e,n,i,r)},t}(),rw=function(){function t(t,e,n,i,r,o,s){void 0===r&&(r=fb.min()),void 0===o&&(o=fb.min()),void 0===s&&(s=Cb.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),ow=function(t){this.Lt=t};function sw(t,e){if(e.document)return iy(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=Db.fromSegments(e.noDocument.path),i=hw(e.noDocument.readTime),r=Qb.newNoDocument(n,i);return e.hasCommittedMutations?r.setHasCommittedMutations():r}if(e.unknownDocument){var o=Db.fromSegments(e.unknownDocument.path);return i=hw(e.unknownDocument.version),Qb.newUnknownDocument(o,i)}return rb()}function aw(t,e,n){var i=cw(n),r=e.key.path.popLast().toArray();if(e.isFoundDocument()){var o=function(t,e){return{name:Qv(t,e.key),fields:e.data.value.mapValue.fields,updateTime:zv(t,e.version.toTimestamp())}}(t.Lt,e),s=e.hasCommittedMutations;return new Ry(null,null,o,s,i,r)}if(e.isNoDocument()){var a=e.key.path.toArray(),c=lw(e.version);return s=e.hasCommittedMutations,new Ry(null,new Iy(a,c),null,s,i,r)}if(e.isUnknownDocument()){var u=e.key.path.toArray(),l=lw(e.version);return new Ry(new Ay(u,l),null,null,!0,i,r)}return rb()}function cw(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function uw(t){var e=new db(t[0],t[1]);return fb.fromTimestamp(e)}function lw(t){var e=t.toTimestamp();return new ky(e.seconds,e.nanoseconds)}function hw(t){var e=new db(t.seconds,t.nanoseconds);return fb.fromTimestamp(e)}function dw(t,e){for(var n=(e.baseMutations||[]).map(function(e){return oy(t.Lt,e)}),i=0;i<e.mutations.length-1;++i)i+1<e.mutations.length&&void 0!==e.mutations[i+1].transform&&(e.mutations[i].updateTransforms=e.mutations[i+1].transform.fieldTransforms,e.mutations.splice(i+1,1),++i);var r=e.mutations.map(function(e){return oy(t.Lt,e)}),o=db.fromMillis(e.localWriteTimeMs);return new nw(e.batchId,o,n,r)}function fw(t){var e,n,i=hw(t.readTime),r=void 0!==t.lastLimboFreeSnapshotVersion?hw(t.lastLimboFreeSnapshotVersion):fb.min();return void 0!==t.query.documents?(ob(1===(n=t.query).documents.length),e=T_(v_(Jv(n.documents[0])))):e=function(t){return T_(cy(t))}(t.query),new rw(e,t.targetId,0,t.lastListenSequenceNumber,i,r,Cb.fromBase64String(t.resumeToken))}function pw(t,e){var n,i=lw(e.snapshotVersion),r=lw(e.lastLimboFreeSnapshotVersion);n=e_(e.target)?sy(t.Lt,e.target):ay(t.Lt,e.target);var o=e.resumeToken.toBase64();return new Dy(e.targetId,Jb(e.target),i,o,e.sequenceNumber,r,n)}function gw(t){var e=cy({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?x_(e,e.limit,"L"):e}var mw=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return bw(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:hw(e.createTime),version:e.version};var e})},t.prototype.saveBundleMetadata=function(t,e){return bw(t).put({bundleId:(n=e).id,createTime:lw(Kv(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return _w(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:gw(e.bundledQuery),readTime:hw(e.readTime)};var e})},t.prototype.saveNamedQuery=function(t,e){return _w(t).put(function(t){return{name:t.name,readTime:lw(Kv(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function bw(t){return ew(t,Ly.store)}function _w(t){return ew(t,Vy.store)}var vw=function(){function t(){this.Bt=new yw}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),zy.resolve()},t.prototype.getCollectionParents=function(t,e){return zy.resolve(this.Bt.getEntries(e))},t}(),yw=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),i=this.index[e]||new yv(_b.comparator),r=!i.has(n);return this.index[e]=i.add(n),r},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),i=this.index[e];return i&&i.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new yv(_b.comparator)).toArray()},t}(),ww=function(){function t(){this.qt=new yw}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.qt.has(e)){var i=e.lastSegment(),r=e.popLast();t.addOnCommittedListener(function(){n.qt.add(e)});var o={collectionId:i,parent:yy(r)};return Cw(t).put(o)}return zy.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],i=IDBKeyRange.bound([e,""],[hb(e),""],!1,!0);return Cw(t).Nt(i).next(function(t){for(var i=0,r=t;i<r.length;i++){var o=r[i];if(o.collectionId!==e)break;n.push(Sy(o.parent))}return n})},t}();function Cw(t){return ew(t,jy.store)}var Sw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},kw=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function Ow(t,e,n){var i=t.store(xy.store),r=t.store(Ey.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,c=i.$t({range:s},function(t,e,n){return a++,n.delete()});o.push(c.next(function(){ob(1===a)}));for(var u=[],l=0,h=n.mutations;l<h.length;l++){var d=h[l],f=Ey.key(e,d.key.path,n.batchId);o.push(r.delete(f)),u.push(d.key)}return zy.waitFor(o).next(function(){return u})}function Tw(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw rb();e=t.noDocument}return JSON.stringify(e).length}kw.DEFAULT_COLLECTION_PERCENTILE=10,kw.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,kw.DEFAULT=new kw(41943040,kw.DEFAULT_COLLECTION_PERCENTILE,kw.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),kw.DISABLED=new kw(-1,0,0);var xw=function(){function t(t,e,n,i){this.userId=t,this.R=e,this.Ut=n,this.referenceDelegate=i,this.Kt={}}return t.Qt=function(e,n,i,r){return ob(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,i,r)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Iw(t).$t({index:xy.userMutationsIndex,range:n},function(t,n,i){e=!1,i.done()}).next(function(){return e})},t.prototype.addMutationBatch=function(t,e,n,i){var r=this,o=Aw(t),s=Iw(t);return s.add({}).next(function(a){ob("number"==typeof a);for(var c=new nw(a,e,n,i),u=function(t,e,n){var i=n.baseMutations.map(function(e){return ry(t.Lt,e)}),r=n.mutations.map(function(e){return ry(t.Lt,e)});return new xy(e,n.batchId,n.localWriteTime.toMillis(),i,r)}(r.R,r.userId,c),l=[],h=new yv(function(t,e){return ub(t.canonicalString(),e.canonicalString())}),d=0,f=i;d<f.length;d++){var p=f[d],g=Ey.key(r.userId,p.key.path,a);h=h.add(p.key.path.popLast()),l.push(s.put(u)),l.push(o.put(g,Ey.PLACEHOLDER))}return h.forEach(function(e){l.push(r.Ut.addToCollectionParentIndex(t,e))}),t.addOnCommittedListener(function(){r.Kt[a]=c.keys()}),zy.waitFor(l).next(function(){return c})})},t.prototype.lookupMutationBatch=function(t,e){var n=this;return Iw(t).get(e).next(function(t){return t?(ob(t.userId===n.userId),dw(n.R,t)):null})},t.prototype.jt=function(t,e){var n=this;return this.Kt[e]?zy.resolve(this.Kt[e]):this.lookupMutationBatch(t,e).next(function(t){if(t){var i=t.keys();return n.Kt[e]=i,i}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,i=e+1,r=IDBKeyRange.lowerBound([this.userId,i]),o=null;return Iw(t).$t({index:xy.userMutationsIndex,range:r},function(t,e,r){e.userId===n.userId&&(ob(e.batchId>=i),o=dw(n.R,e)),r.done()}).next(function(){return o})},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Iw(t).$t({index:xy.userMutationsIndex,range:e,reverse:!0},function(t,e,i){n=e.batchId,i.done()}).next(function(){return n})},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Iw(t).Nt(xy.userMutationsIndex,n).next(function(t){return t.map(function(t){return dw(e.R,t)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,i=Ey.prefixForPath(this.userId,e.path),r=IDBKeyRange.lowerBound(i),o=[];return Aw(t).$t({range:r},function(i,r,s){var a=i[0],c=i[2],u=Sy(i[1]);if(a===n.userId&&e.path.isEqual(u))return Iw(t).get(c).next(function(t){if(!t)throw rb();ob(t.userId===n.userId),o.push(dw(n.R,t))});s.done()}).next(function(){return o})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,i=new yv(ub),r=[];return e.forEach(function(e){var o=Ey.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=Aw(t).$t({range:s},function(t,r,o){var s=t[0],a=t[2],c=Sy(t[1]);s===n.userId&&e.path.isEqual(c)?i=i.add(a):o.done()});r.push(a)}),zy.waitFor(r).next(function(){return n.Wt(t,i)})},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,i=e.path,r=i.length+1,o=Ey.prefixForPath(this.userId,i),s=IDBKeyRange.lowerBound(o),a=new yv(ub);return Aw(t).$t({range:s},function(t,e,o){var s=t[0],c=t[2],u=Sy(t[1]);s===n.userId&&i.isPrefixOf(u)?u.length===r&&(a=a.add(c)):o.done()}).next(function(){return n.Wt(t,a)})},t.prototype.Wt=function(t,e){var n=this,i=[],r=[];return e.forEach(function(e){r.push(Iw(t).get(e).next(function(t){if(null===t)throw rb();ob(t.userId===n.userId),i.push(dw(n.R,t))}))}),zy.waitFor(r).next(function(){return i})},t.prototype.removeMutationBatch=function(t,e){var n=this;return Ow(t.Mt,this.userId,e).next(function(i){return t.addOnCommittedListener(function(){n.Gt(e.batchId)}),zy.forEach(i,function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)})})},t.prototype.Gt=function(t){delete this.Kt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next(function(n){if(!n)return zy.resolve();var i=IDBKeyRange.lowerBound(Ey.prefixForUser(e.userId)),r=[];return Aw(t).$t({range:i},function(t,n,i){if(t[0]===e.userId){var o=Sy(t[1]);r.push(o)}else i.done()}).next(function(){ob(0===r.length)})})},t.prototype.containsKey=function(t,e){return Ew(t,this.userId,e)},t.prototype.zt=function(t){var e=this;return Rw(t).get(this.userId).next(function(t){return t||new Ty(e.userId,-1,"")})},t}();function Ew(t,e,n){var i=Ey.prefixForPath(e,n.path),r=i[1],o=IDBKeyRange.lowerBound(i),s=!1;return Aw(t).$t({range:o,Ft:!0},function(t,n,i){t[0]===e&&t[1]===r&&(s=!0),i.done()}).next(function(){return s})}function Iw(t){return ew(t,xy.store)}function Aw(t){return ew(t,Ey.store)}function Rw(t){return ew(t,Ty.store)}var Pw=function(){function t(t){this.Ht=t}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),Dw=function(){function t(t,e){this.referenceDelegate=t,this.R=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next(function(n){var i=new Pw(n.highestTargetId);return n.highestTargetId=i.next(),e.Zt(t,n).next(function(){return n.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(t){return fb.fromTimestamp(new db(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.setTargetsMetadata=function(t,e,n){var i=this;return this.Xt(t).next(function(r){return r.highestListenSequenceNumber=e,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),i.Zt(t,r)})},t.prototype.addTargetData=function(t,e){var n=this;return this.te(t,e).next(function(){return n.Xt(t).next(function(i){return i.targetCount+=1,n.ee(e,i),n.Zt(t,i)})})},t.prototype.updateTargetData=function(t,e){return this.te(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next(function(){return Mw(t).delete(e.targetId)}).next(function(){return n.Xt(t)}).next(function(e){return ob(e.targetCount>0),e.targetCount-=1,n.Zt(t,e)})},t.prototype.removeTargets=function(t,e,n){var i=this,r=0,o=[];return Mw(t).$t(function(s,a){var c=fw(a);c.sequenceNumber<=e&&null===n.get(c.targetId)&&(r++,o.push(i.removeTargetData(t,c)))}).next(function(){return zy.waitFor(o)}).next(function(){return r})},t.prototype.forEachTarget=function(t,e){return Mw(t).$t(function(t,n){var i=fw(n);e(i)})},t.prototype.Xt=function(t){return Nw(t).get(Ny.key).next(function(t){return ob(null!==t),t})},t.prototype.Zt=function(t,e){return Nw(t).put(Ny.key,e)},t.prototype.te=function(t,e){return Mw(t).put(pw(this.R,e))},t.prototype.ee=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.Xt(t).next(function(t){return t.targetCount})},t.prototype.getTargetData=function(t,e){var n=Jb(e),i=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),r=null;return Mw(t).$t({range:i,index:Dy.queryTargetsIndexName},function(t,n,i){var o=fw(n);t_(e,o.target)&&(r=o,i.done())}).next(function(){return r})},t.prototype.addMatchingKeys=function(t,e,n){var i=this,r=[],o=jw(t);return e.forEach(function(e){var s=yy(e.path);r.push(o.put(new My(n,s))),r.push(i.referenceDelegate.addReference(t,n,e))}),zy.waitFor(r)},t.prototype.removeMatchingKeys=function(t,e,n){var i=this,r=jw(t);return zy.forEach(e,function(e){var o=yy(e.path);return zy.waitFor([r.delete([n,o]),i.referenceDelegate.removeReference(t,n,e)])})},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=jw(t),i=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(i)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),i=jw(t),r=Iv();return i.$t({range:n,Ft:!0},function(t,e,n){var i=Sy(t[1]),o=new Db(i);r=r.add(o)}).next(function(){return r})},t.prototype.containsKey=function(t,e){var n=yy(e.path),i=IDBKeyRange.bound([n],[hb(n)],!1,!0),r=0;return jw(t).$t({index:My.documentTargetsIndex,Ft:!0,range:i},function(t,e,n){0!==t[0]&&(r++,n.done())}).next(function(){return r>0})},t.prototype.lt=function(t,e){return Mw(t).get(e).next(function(t){return t?fw(t):null})},t}();function Mw(t){return ew(t,Dy.store)}function Nw(t){return ew(t,Ny.store)}function jw(t){return ew(t,My.store)}function Fw(t){return Object(Ld.__awaiter)(this,void 0,void 0,function(){return Object(Ld.__generator)(this,function(e){if(t.code!==Qm.FAILED_PRECONDITION||t.message!==qy)throw t;return tb("LocalStore","Unexpectedly lost primary lease"),[2]})})}function Lw(t,e){var n=t[1],i=e[1],r=ub(t[0],e[0]);return 0===r?ub(n,i):r}var Vw=function(){function t(t){this.ne=t,this.buffer=new yv(Lw),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(t){var e=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Lw(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),Uw=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(t)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ue=function(t){var e=this,n=this.oe?3e5:6e4;tb("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,function(){return Object(Ld.__awaiter)(e,void 0,void 0,function(){var e;return Object(Ld.__generator)(this,function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return Yy(e=n.sent())?(tb("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,Fw(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return n.sent(),[2]}})})})},t}(),qw=function(){function t(t,e){this.ae=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.ae.he(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return zy.resolve(Ym.o);var i=new Vw(e);return this.ae.forEachTarget(t,function(t){return i.re(t.sequenceNumber)}).next(function(){return n.ae.le(t,function(t){return i.re(t)})}).next(function(){return i.maxValue})},t.prototype.removeTargets=function(t,e,n){return this.ae.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.ae.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(tb("LruGarbageCollector","Garbage collection skipped; disabled"),zy.resolve(Sw)):this.getCacheSize(t).next(function(i){return i<n.params.cacheSizeCollectionThreshold?(tb("LruGarbageCollector","Garbage collection skipped; Cache size "+i+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),Sw):n.fe(t,e)})},t.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},t.prototype.fe=function(t,e){var n,i,r,o,s,a,c,u=this,l=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(e){return e>u.params.maximumSequenceNumbersToCollect?(tb("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+u.params.maximumSequenceNumbersToCollect+" from "+e),i=u.params.maximumSequenceNumbersToCollect):i=e,o=Date.now(),u.nthSequenceNumber(t,i)}).next(function(i){return n=i,s=Date.now(),u.removeTargets(t,n,e)}).next(function(e){return r=e,a=Date.now(),u.removeOrphanedDocuments(t,n)}).next(function(t){return c=Date.now(),Jm()<=Ud.LogLevel.DEBUG&&tb("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+i+" in "+(s-o)+"ms\n\tRemoved "+r+" targets in "+(a-s)+"ms\n\tRemoved "+t+" documents in "+(c-a)+"ms\nTotal Duration: "+(c-l)+"ms"),zy.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:r,documentsRemoved:t})})},t}(),Bw=function(){function t(t,e){this.db=t,this.garbageCollector=function(t,e){return new qw(t,e)}(this,e)}return t.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.de=function(t){var e=0;return this.le(t,function(t){e++}).next(function(){return e})},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.le=function(t,e){return this.we(t,function(t,n){return e(n)})},t.prototype.addReference=function(t,e,n){return Hw(t,n)},t.prototype.removeReference=function(t,e,n){return Hw(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return Hw(t,e)},t.prototype._e=function(t,e){return function(t,e){var n=!1;return Rw(t).Ot(function(i){return Ew(t,i,e).next(function(t){return t&&(n=!0),zy.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[],o=0;return this.we(t,function(s,a){if(a<=e){var c=n._e(t,s).next(function(e){if(!e)return o++,i.getEntry(t,s).next(function(){return i.removeEntry(s),jw(t).delete([0,yy(s.path)])})});r.push(c)}}).next(function(){return zy.waitFor(r)}).next(function(){return i.apply(t)}).next(function(){return o})},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return Hw(t,e)},t.prototype.we=function(t,e){var n,i=jw(t),r=Ym.o;return i.$t({index:My.documentTargetsIndex},function(t,i){var o=i.path,s=i.sequenceNumber;0===t[0]?(r!==Ym.o&&e(new Db(Sy(n)),r),r=s,n=o):r=Ym.o}).next(function(){r!==Ym.o&&e(new Db(Sy(n)),r)})},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function Hw(t,e){return jw(t).put(function(t,e){return new My(0,yy(t.path),e)}(e,t.currentSequenceNumber))}var zw=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var i=0,r=n;i<r.length;i++){var o=r[i],s=o[1];if(this.equalsFn(o[0],t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),i=this.inner[n];if(void 0!==i){for(var r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return void(i[r]=[t,e]);i.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var i=0;i<n.length;i++)if(this.equalsFn(n[i][0],t))return 1===n.length?delete this.inner[e]:n.splice(i,1),!0;return!1},t.prototype.forEach=function(t){gb(this.inner,function(e,n){for(var i=0,r=n;i<r.length;i++){var o=r[i];t(o[0],o[1])}})},t.prototype.isEmpty=function(){return mb(this.inner)},t}(),Ww=function(){function t(){this.changes=new zw(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:fb.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:Qb.newInvalidDocument(t),readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?zy.resolve(n.document):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),Gw=function(){function t(t,e){this.R=t,this.Ut=e}return t.prototype.addEntry=function(t,e,n){return Yw(t).put(Qw(e),n)},t.prototype.removeEntry=function(t,e){var n=Yw(t),i=Qw(e);return n.delete(i)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(i){return i.byteSize+=e,n.me(t,i)})},t.prototype.getEntry=function(t,e){var n=this;return Yw(t).get(Qw(e)).next(function(t){return n.ye(e,t)})},t.prototype.ge=function(t,e){var n=this;return Yw(t).get(Qw(e)).next(function(t){return{document:n.ye(e,t),size:Tw(t)}})},t.prototype.getEntries=function(t,e){var n=this,i=Sv();return this.pe(t,e,function(t,e){var r=n.ye(t,e);i=i.insert(t,r)}).next(function(){return i})},t.prototype.Ee=function(t,e){var n=this,i=Sv(),r=new bv(Db.comparator);return this.pe(t,e,function(t,e){var o=n.ye(t,e);i=i.insert(t,o),r=r.insert(t,Tw(e))}).next(function(){return{documents:i,Te:r}})},t.prototype.pe=function(t,e,n){if(e.isEmpty())return zy.resolve();var i=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),r=e.getIterator(),o=r.getNext();return Yw(t).$t({range:i},function(t,e,i){for(var s=Db.fromSegments(t);o&&Db.comparator(o,s)<0;)n(o,null),o=r.getNext();o&&o.isEqual(s)&&(n(o,e),o=r.hasNext()?r.getNext():null),o?i.Ct(o.path.toArray()):i.done()}).next(function(){for(;o;)n(o,null),o=r.hasNext()?r.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var i=this,r=Sv(),o=e.path.length+1,s={};if(n.isEqual(fb.min())){var a=e.path.toArray();s.range=IDBKeyRange.lowerBound(a)}else{var c=e.path.toArray(),u=cw(n);s.range=IDBKeyRange.lowerBound([c,u],!0),s.index=Ry.collectionReadTimeIndex}return Yw(t).$t(s,function(t,n,s){if(t.length===o){var a=sw(i.R,n);e.path.isPrefixOf(a.key.path)?R_(e,a)&&(r=r.insert(a.key,a)):s.done()}}).next(function(){return r})},t.prototype.newChangeBuffer=function(t){return new Kw(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return $w(t).get(Py.key).next(function(t){return ob(!!t),t})},t.prototype.me=function(t,e){return $w(t).put(Py.key,e)},t.prototype.ye=function(t,e){if(e){var n=sw(this.R,e);if(!n.isNoDocument()||!n.version.isEqual(fb.min()))return n}return Qb.newInvalidDocument(t)},t}(),Kw=function(t){function e(e,n){var i=this;return(i=t.call(this)||this).Ie=e,i.trackRemovals=n,i.Ae=new zw(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),i}return Object(Ld.__extends)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],i=0,r=new yv(function(t,e){return ub(t.canonicalString(),e.canonicalString())});return this.changes.forEach(function(o,s){var a=e.Ae.get(o);if(s.document.isValidDocument()){var c=aw(e.Ie.R,s.document,e.getReadTime(o));r=r.add(o.path.popLast());var u=Tw(c);i+=u-a,n.push(e.Ie.addEntry(t,o,c))}else if(i-=a,e.trackRemovals){var l=aw(e.Ie.R,Qb.newNoDocument(o,fb.min()),e.getReadTime(o));n.push(e.Ie.addEntry(t,o,l))}else n.push(e.Ie.removeEntry(t,o))}),r.forEach(function(i){n.push(e.Ie.Ut.addToCollectionParentIndex(t,i))}),n.push(this.Ie.updateMetadata(t,i)),zy.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ie.ge(t,e).next(function(t){return n.Ae.set(e,t.size),t.document})},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ie.Ee(t,e).next(function(t){var e=t.documents;return t.Te.forEach(function(t,e){n.Ae.set(t,e)}),e})},e}(Ww);function $w(t){return ew(t,Py.store)}function Yw(t){return ew(t,Ry.store)}function Qw(t){return t.path.toArray()}var Zw=function(){function t(t){this.R=t}return t.prototype.Rt=function(t,e,n,i){var r=this;ob(n<i&&n>=0&&i<=11);var o=new Wy("createOrUpgrade",e);n<1&&i>=1&&(function(t){t.createObjectStore(Oy.store)}(t),function(t){t.createObjectStore(Ty.store,{keyPath:Ty.keyPath}),t.createObjectStore(xy.store,{keyPath:xy.keyPath,autoIncrement:!0}).createIndex(xy.userMutationsIndex,xy.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Ey.store)}(t),Xw(t),function(t){t.createObjectStore(Ry.store)}(t));var s=zy.resolve();return n<3&&i>=3&&(0!==n&&(function(t){t.deleteObjectStore(My.store),t.deleteObjectStore(Dy.store),t.deleteObjectStore(Ny.store)}(t),Xw(t)),s=s.next(function(){return function(t){var e=t.store(Ny.store),n=new Ny(0,0,fb.min().toTimestamp(),0);return e.put(Ny.key,n)}(o)})),n<4&&i>=4&&(0!==n&&(s=s.next(function(){return function(t,e){return e.store(xy.store).Nt().next(function(n){t.deleteObjectStore(xy.store),t.createObjectStore(xy.store,{keyPath:xy.keyPath,autoIncrement:!0}).createIndex(xy.userMutationsIndex,xy.userMutationsKeyPath,{unique:!0});var i=e.store(xy.store),r=n.map(function(t){return i.put(t)});return zy.waitFor(r)})}(t,o)})),s=s.next(function(){!function(t){t.createObjectStore(Fy.store,{keyPath:Fy.keyPath})}(t)})),n<5&&i>=5&&(s=s.next(function(){return r.Re(o)})),n<6&&i>=6&&(s=s.next(function(){return function(t){t.createObjectStore(Py.store)}(t),r.be(o)})),n<7&&i>=7&&(s=s.next(function(){return r.ve(o)})),n<8&&i>=8&&(s=s.next(function(){return r.Pe(t,o)})),n<9&&i>=9&&(s=s.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Ry.store);e.createIndex(Ry.readTimeIndex,Ry.readTimeIndexPath,{unique:!1}),e.createIndex(Ry.collectionReadTimeIndex,Ry.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&i>=10&&(s=s.next(function(){return r.Ve(o)})),n<11&&i>=11&&(s=s.next(function(){!function(t){t.createObjectStore(Ly.store,{keyPath:Ly.keyPath})}(t),function(t){t.createObjectStore(Vy.store,{keyPath:Vy.keyPath})}(t)})),s},t.prototype.be=function(t){var e=0;return t.store(Ry.store).$t(function(t,n){e+=Tw(n)}).next(function(){var n=new Py(e);return t.store(Py.store).put(Py.key,n)})},t.prototype.Re=function(t){var e=this,n=t.store(Ty.store),i=t.store(xy.store);return n.Nt().next(function(n){return zy.forEach(n,function(n){var r=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return i.Nt(xy.userMutationsIndex,r).next(function(i){return zy.forEach(i,function(i){ob(i.userId===n.userId);var r=dw(e.R,i);return Ow(t,n.userId,r).next(function(){})})})})})},t.prototype.ve=function(t){var e=t.store(My.store),n=t.store(Ry.store);return t.store(Ny.store).get(Ny.key).next(function(t){var i=[];return n.$t(function(n,r){var o=new _b(n),s=function(t){return[0,yy(t)]}(o);i.push(e.get(s).next(function(n){return n?zy.resolve():function(n){return e.put(new My(0,yy(n),t.highestListenSequenceNumber))}(o)}))}).next(function(){return zy.waitFor(i)})})},t.prototype.Pe=function(t,e){t.createObjectStore(jy.store,{keyPath:jy.keyPath});var n=e.store(jy.store),i=new yw,r=function(t){if(i.add(t)){var e=t.lastSegment(),r=t.popLast();return n.put({collectionId:e,parent:yy(r)})}};return e.store(Ry.store).$t({Ft:!0},function(t,e){var n=new _b(t);return r(n.popLast())}).next(function(){return e.store(Ey.store).$t({Ft:!0},function(t,e){var n=Sy(t[1]);return r(n.popLast())})})},t.prototype.Ve=function(t){var e=this,n=t.store(Dy.store);return n.$t(function(t,i){var r=fw(i),o=pw(e.R,r);return n.put(o)})},t}();function Xw(t){t.createObjectStore(My.store,{keyPath:My.keyPath}).createIndex(My.documentTargetsIndex,My.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Dy.store,{keyPath:Dy.keyPath}).createIndex(Dy.queryTargetsIndexName,Dy.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Ny.store)}var Jw="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",tC=function(){function t(e,n,i,r,o,s,a,c,u,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=i,this.Se=o,this.window=s,this.document=a,this.De=u,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(t){return Promise.resolve()},!t.yt())throw new Zm(Qm.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Bw(this,r),this.Le=n+"main",this.R=new ow(c),this.Be=new Gy(this.Le,11,new Zw(this.R)),this.qe=new Dw(this.referenceDelegate,this.R),this.Ut=new ww,this.Ue=function(t,e){return new Gw(t,e)}(this.R,this.Ut),this.Ke=new mw,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===l&&eb("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new Zm(Qm.FAILED_PRECONDITION,Jw);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.qe.getHighestSequenceNumber(e)})}).then(function(e){t.Ne=new Ym(e,t.De)}).then(function(){t.xe=!0}).catch(function(e){return t.Be&&t.Be.close(),Promise.reject(e)})},t.prototype.He=function(t){var e=this;return this.Me=function(n){return Object(Ld.__awaiter)(e,void 0,void 0,function(){return Object(Ld.__generator)(this,function(e){return this.started?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt(function(n){return Object(Ld.__awaiter)(e,void 0,void 0,function(){return Object(Ld.__generator)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return Object(Ld.__awaiter)(e,void 0,void 0,function(){return Object(Ld.__generator)(this,function(t){switch(t.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return nC(e).put(new Fy(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(e).next(function(e){e||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(e)}).next(function(n){return t.isPrimary&&!n?t.Xe(e).next(function(){return!1}):!!n&&t.Ze(e).next(function(){return!0})})}).catch(function(e){if(Yy(e))return tb("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return tb("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.Se.enqueueRetryable(function(){return t.Me(e)}),t.isPrimary=e})},t.prototype.Je=function(t){var e=this;return eC(t).get(Oy.key).next(function(t){return zy.resolve(e.tn(t))})},t.prototype.en=function(t){return nC(t).delete(this.clientId)},t.prototype.nn=function(){return Object(Ld.__awaiter)(this,void 0,void 0,function(){var t,e,n,i=this;return Object(Ld.__generator)(this,function(r){switch(r.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=ew(t,Fy.store);return e.Nt().next(function(t){var n=i.rn(t,18e5),r=t.filter(function(t){return-1===n.indexOf(t)});return zy.forEach(r,function(t){return e.delete(t.clientId)}).next(function(){return r})})}).catch(function(){return[]})]);case 1:if(t=r.sent(),this.Qe)for(e=0,n=t;e<n.length;e++)this.Qe.removeItem(this.on(n[e].clientId));r.label=2;case 2:return[2]}})})},t.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},t.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ye=function(t){var e=this;return this.Ce?zy.resolve(!0):eC(t).get(Oy.key).next(function(n){if(null!==n&&e.sn(n.leaseTimestampMs,5e3)&&!e.cn(n.ownerId)){if(e.tn(n)&&e.networkEnabled)return!0;if(!e.tn(n)){if(!n.allowTabSynchronization)throw new Zm(Qm.FAILED_PRECONDITION,Jw);return!1}}return!(!e.networkEnabled||!e.inForeground)||nC(t).Nt().next(function(t){return void 0===e.rn(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&tb("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.shutdown=function(){return Object(Ld.__awaiter)(this,void 0,void 0,function(){var t=this;return Object(Ld.__generator)(this,function(e){switch(e.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Oy.store,Fy.store],function(e){var n=new tw(e,Ym.o);return t.Xe(n).next(function(){return t.en(n)})})];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}})})},t.prototype.rn=function(t,e){var n=this;return t.filter(function(t){return n.sn(t.updateTimeMs,e)&&!n.cn(t.clientId)})},t.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return nC(e).Nt().next(function(e){return t.rn(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return xw.Qt(t,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(t,e,n){var i,r=this;return tb("IndexedDbPersistence","Starting transaction:",t),this.Be.runTransaction(t,"readonly"===e?"readonly":"readwrite",Uy,function(o){return i=new tw(o,r.Ne?r.Ne.next():Ym.o),"readwrite-primary"===e?r.Je(i).next(function(t){return!!t||r.Ye(i)}).next(function(e){if(!e)throw eb("Failed to obtain primary lease for action '"+t+"'."),r.isPrimary=!1,r.Se.enqueueRetryable(function(){return r.Me(!1)}),new Zm(Qm.FAILED_PRECONDITION,qy);return n(i)}).next(function(t){return r.Ze(i).next(function(){return t})}):r.dn(i).next(function(){return n(i)})}).then(function(t){return i.raiseOnCommittedEvent(),t})},t.prototype.dn=function(t){var e=this;return eC(t).get(Oy.key).next(function(t){if(null!==t&&e.sn(t.leaseTimestampMs,5e3)&&!e.cn(t.ownerId)&&!e.tn(t)&&!(e.Ce||e.allowTabSynchronization&&t.allowTabSynchronization))throw new Zm(Qm.FAILED_PRECONDITION,Jw)})},t.prototype.Ze=function(t){var e=new Oy(this.clientId,this.allowTabSynchronization,Date.now());return eC(t).put(Oy.key,e)},t.yt=function(){return Gy.yt()},t.prototype.Xe=function(t){var e=this,n=eC(t);return n.get(Oy.key).next(function(t){return e.tn(t)?(tb("IndexedDbPersistence","Releasing primary lease."),n.delete(Oy.key)):zy.resolve()})},t.prototype.sn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(eb("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Fe=function(){t.Se.enqueueAndForget(function(){return t.inForeground="visible"===t.document.visibilityState,t.je()})},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground="visible"===this.document.visibilityState)},t.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},t.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ke=function(){e.un(),Object(Vd.isSafari)()&&navigator.appVersion.match("Version/14")&&e.Se.enterRestrictedMode(!0),e.Se.enqueueAndForget(function(){return e.shutdown()})},this.window.addEventListener("pagehide",this.ke))},t.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},t.prototype.cn=function(t){var e;try{var n=null!==(null===(e=this.Qe)||void 0===e?void 0:e.getItem(this.on(t)));return tb("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return eb("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(t){eb("Failed to set zombie client id.",t)}},t.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(t){}},t.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function eC(t){return ew(t,Oy.store)}function nC(t){return ew(t,Fy.store)}function iC(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var rC=function(t,e){this.progress=t,this.wn=e},oC=function(){function t(t,e,n){this.Ue=t,this._n=e,this.Ut=n}return t.prototype.mn=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next(function(i){return n.yn(t,e,i)})},t.prototype.yn=function(t,e,n){return this.Ue.getEntry(t,e).next(function(t){for(var e=0,i=n;e<i.length;e++)i[e].applyToLocalView(t);return t})},t.prototype.gn=function(t,e){t.forEach(function(t,n){for(var i=0,r=e;i<r.length;i++)r[i].applyToLocalView(n)})},t.prototype.pn=function(t,e){var n=this;return this.Ue.getEntries(t,e).next(function(e){return n.En(t,e).next(function(){return e})})},t.prototype.En=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next(function(t){return n.gn(e,t)})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return function(t){return Db.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Tn(t,e.path):k_(e)?this.In(t,e,n):this.An(t,e,n)},t.prototype.Tn=function(t,e){return this.mn(t,new Db(e)).next(function(t){var e=Ov();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e})},t.prototype.In=function(t,e,n){var i=this,r=e.collectionGroup,o=Ov();return this.Ut.getCollectionParents(t,r).next(function(s){return zy.forEach(s,function(s){var a=function(t,e){return new b_(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(r));return i.An(t,a,n).next(function(t){t.forEach(function(t,e){o=o.insert(t,e)})})}).next(function(){return o})})},t.prototype.An=function(t,e,n){var i,r,o=this;return this.Ue.getDocumentsMatchingQuery(t,e,n).next(function(n){return i=n,o._n.getAllMutationBatchesAffectingQuery(t,e)}).next(function(e){return o.Rn(t,r=e,i).next(function(t){i=t;for(var e=0,n=r;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var c=a[s],u=c.key,l=i.get(u);null==l&&(l=Qb.newInvalidDocument(u),i=i.insert(u,l)),ev(c,l,o.localWriteTime),l.isFoundDocument()||(i=i.remove(u))}})}).next(function(){return i.forEach(function(t,n){R_(e,n)||(i=i.remove(t))}),i})},t.prototype.Rn=function(t,e,n){for(var i=Iv(),r=0,o=e;r<o.length;r++)for(var s=0,a=o[r].mutations;s<a.length;s++){var c=a[s];c instanceof sv&&null===n.get(c.key)&&(i=i.add(c.key))}var u=n;return this.Ue.getEntries(t,i).next(function(t){return t.forEach(function(t,e){e.isFoundDocument()&&(u=u.insert(t,e))}),u})},t}(),sC=function(){function t(t,e,n,i){this.targetId=t,this.fromCache=e,this.bn=n,this.vn=i}return t.Pn=function(e,n){for(var i=Iv(),r=Iv(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:r=r.add(a.doc.key)}}return new t(e,n.fromCache,i,r)},t}(),aC=function(){function t(){}return t.prototype.Vn=function(t){this.Sn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,i){var r=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(fb.min())?this.Dn(t,e):this.Sn.pn(t,i).next(function(o){var s=r.Cn(e,o);return(y_(e)||w_(e))&&r.Nn(e.limitType,s,i,n)?r.Dn(t,e):(Jm()<=Ud.LogLevel.DEBUG&&tb("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),A_(e)),r.Sn.getDocumentsMatchingQuery(t,e,n).next(function(t){return s.forEach(function(e){t=t.insert(e.key,e)}),t}))})},t.prototype.Cn=function(t,e){var n=new yv(P_(t));return e.forEach(function(e,i){R_(t,i)&&(n=n.add(i))}),n},t.prototype.Nn=function(t,e,n,i){if(n.size!==e.size)return!0;var r="F"===t?e.last():e.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(i)>0)},t.prototype.Dn=function(t,e){return Jm()<=Ud.LogLevel.DEBUG&&tb("QueryEngine","Using full collection scan to execute query:",A_(e)),this.Sn.getDocumentsMatchingQuery(t,e,fb.min())},t}(),cC=function(){function t(t,e,n,i){this.persistence=t,this.xn=e,this.R=i,this.kn=new bv(ub),this.Fn=new zw(function(t){return Jb(t)},t_),this.$n=fb.min(),this._n=t.getMutationQueue(n),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new oC(this.On,this._n,this.persistence.getIndexManager()),this.Ke=t.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.collect(n,e.kn)})},t}();function uC(t,e,n,i){return new cC(t,e,n,i)}function lC(t,e){return Object(Ld.__awaiter)(this,void 0,void 0,function(){var n,i,r,o;return Object(Ld.__generator)(this,function(s){switch(s.label){case 0:return n=sb(t),i=n._n,r=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var o;return n._n.getAllMutationBatches(t).next(function(s){return o=s,i=n.persistence.getMutationQueue(e),r=new oC(n.On,i,n.persistence.getIndexManager()),i.getAllMutationBatches(t)}).next(function(e){for(var n=[],i=[],s=Iv(),a=0,c=o;a<c.length;a++){var u=c[a];n.push(u.batchId);for(var l=0,h=u.mutations;l<h.length;l++)s=s.add(h[l].key)}for(var d=0,f=e;d<f.length;d++){var p=f[d];i.push(p.batchId);for(var g=0,m=p.mutations;g<m.length;g++)s=s.add(m[g].key)}return r.pn(t,s).next(function(t){return{Ln:t,removedBatchIds:n,addedBatchIds:i}})})})];case 1:return o=s.sent(),[2,(n._n=i,n.Mn=r,n.xn.Vn(n.Mn),o)]}})})}function hC(t,e){var n=sb(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var i=e.batch.keys(),r=n.On.newChangeBuffer({trackRemovals:!0});return function(t,e,n,i){var r=n.batch,o=r.keys(),s=zy.resolve();return o.forEach(function(t){s=s.next(function(){return i.getEntry(e,t)}).next(function(e){var o=n.docVersions.get(t);ob(null!==o),e.version.compareTo(o)<0&&(r.applyToRemoteDocument(e,n),e.isValidDocument()&&i.addEntry(e,n.commitVersion))})}),s.next(function(){return t._n.removeMutationBatch(e,r)})}(n,t,e,r).next(function(){return r.apply(t)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,i)})})}function dC(t){var e=sb(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.qe.getLastRemoteSnapshotVersion(t)})}function fC(t,e){var n=sb(t),i=e.snapshotVersion,r=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var o=n.On.newChangeBuffer({trackRemovals:!0});r=n.kn;var s=[];e.targetChanges.forEach(function(e,o){var a=r.get(o);if(a){s.push(n.qe.removeMatchingKeys(t,e.removedDocuments,o).next(function(){return n.qe.addMatchingKeys(t,e.addedDocuments,o)}));var c=e.resumeToken;if(c.approximateByteSize()>0){var u=a.withResumeToken(c,i).withSequenceNumber(t.currentSequenceNumber);r=r.insert(o,u),function(t,e,n){return ob(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(a,u,e)&&s.push(n.qe.updateTargetData(t,u))}}});var a=Sv();if(e.documentUpdates.forEach(function(i,r){e.resolvedLimboDocuments.has(i)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(t,i))}),s.push(pC(t,o,e.documentUpdates,i,void 0).next(function(t){a=t})),!i.isEqual(fb.min())){var c=n.qe.getLastRemoteSnapshotVersion(t).next(function(e){return n.qe.setTargetsMetadata(t,t.currentSequenceNumber,i)});s.push(c)}return zy.waitFor(s).next(function(){return o.apply(t)}).next(function(){return n.Mn.En(t,a)}).next(function(){return a})}).then(function(t){return n.kn=r,t})}function pC(t,e,n,i,r){var o=Iv();return n.forEach(function(t){return o=o.add(t)}),e.getEntries(t,o).next(function(t){var o=Sv();return n.forEach(function(n,s){var a=t.get(n),c=(null==r?void 0:r.get(n))||i;s.isNoDocument()&&s.version.isEqual(fb.min())?(e.removeEntry(n,c),o=o.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(e.addEntry(s,c),o=o.insert(n,s)):tb("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)}),o})}function gC(t,e){var n=sb(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n._n.getNextMutationBatchAfterBatchId(t,e)})}function mC(t,e){var n=sb(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var i;return n.qe.getTargetData(t,e).next(function(r){return r?zy.resolve(i=r):n.qe.allocateTargetId(t).next(function(r){return i=new rw(e,r,0,t.currentSequenceNumber),n.qe.addTargetData(t,i).next(function(){return i})})})}).then(function(t){var i=n.kn.get(t.targetId);return(null===i||t.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.kn=n.kn.insert(t.targetId,t),n.Fn.set(e,t.targetId)),t})}function bC(t,e,n){return Object(Ld.__awaiter)(this,void 0,void 0,function(){var i,r,o,s;return Object(Ld.__generator)(this,function(a){switch(a.label){case 0:i=sb(t),r=i.kn.get(e),o=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,i.persistence.runTransaction("Release target",o,function(t){return i.persistence.referenceDelegate.removeTarget(t,r)})];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!Yy(s=a.sent()))throw s;return tb("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return i.kn=i.kn.remove(e),i.Fn.delete(r.target),[2]}})})}function _C(t,e,n){var i=sb(t),r=fb.min(),o=Iv();return i.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var i=sb(t),r=i.Fn.get(n);return void 0!==r?zy.resolve(i.kn.get(r)):i.qe.getTargetData(e,n)}(i,t,T_(e)).next(function(e){if(e)return r=e.lastLimboFreeSnapshotVersion,i.qe.getMatchingKeysForTargetId(t,e.targetId).next(function(t){o=t})}).next(function(){return i.xn.getDocumentsMatchingQuery(t,e,n?r:fb.min(),n?o:Iv())}).next(function(t){return{documents:t,Bn:o}})})}function vC(t,e){var n=sb(t),i=sb(n.qe),r=n.kn.get(e);return r?Promise.resolve(r.target):n.persistence.runTransaction("Get target data","readonly",function(t){return i.lt(t,e).next(function(t){return t?t.target:null})})}function yC(t){var e=sb(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var i=sb(t),r=Sv(),o=cw(n),s=Yw(e),a=IDBKeyRange.lowerBound(o,!0);return s.$t({index:Ry.readTimeIndex,range:a},function(t,e){var n=sw(i.R,e);r=r.insert(n.key,n),o=e.readTime}).next(function(){return{wn:r,readTime:uw(o)}})}(e.On,t,e.$n)}).then(function(t){var n=t.wn;return e.$n=t.readTime,n})}function wC(t){return Object(Ld.__awaiter)(this,void 0,void 0,function(){var e;return Object(Ld.__generator)(this,function(n){return[2,(e=sb(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=Yw(t),n=fb.min();return e.$t({index:Ry.readTimeIndex,reverse:!0},function(t,e,i){e.readTime&&(n=uw(e.readTime)),i.done()}).next(function(){return n})}(t)}).then(function(t){e.$n=t})]})})}function CC(t,e,n,i){return Object(Ld.__awaiter)(this,void 0,void 0,function(){var r,o,s,a,c,u,l,h,d,f;return Object(Ld.__generator)(this,function(p){switch(p.label){case 0:for(r=sb(t),o=Iv(),s=Sv(),a=xv(),c=0,u=n;c<u.length;c++)h=e.qn((l=u[c]).metadata.name),l.document&&(o=o.add(h)),s=s.insert(h,e.Un(l)),a=a.insert(h,e.Kn(l.metadata.readTime));return d=r.On.newChangeBuffer({trackRemovals:!0}),[4,mC(r,function(t){return T_(v_(_b.fromString("__bundle__/docs/"+t)))}(i))];case 1:return f=p.sent(),[2,r.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return pC(t,d,s,fb.min(),a).next(function(e){return d.apply(t),e}).next(function(e){return r.qe.removeMatchingKeysForTargetId(t,f.targetId).next(function(){return r.qe.addMatchingKeys(t,o,f.targetId)}).next(function(){return r.Mn.En(t,e)}).next(function(){return e})})})]}})})}function SC(t,e,n){return void 0===n&&(n=Iv()),Object(Ld.__awaiter)(this,void 0,void 0,function(){var i,r;return Object(Ld.__generator)(this,function(o){switch(o.label){case 0:return[4,mC(t,T_(gw(e.bundledQuery)))];case 1:return i=o.sent(),[2,(r=sb(t)).persistence.runTransaction("Save named query","readwrite",function(t){var o=Kv(e.readTime);if(i.snapshotVersion.compareTo(o)>=0)return r.Ke.saveNamedQuery(t,e);var s=i.withResumeToken(Cb.EMPTY_BYTE_STRING,o);return r.kn=r.kn.insert(s.targetId,s),r.qe.updateTargetData(t,s).next(function(){return r.qe.removeMatchingKeysForTargetId(t,i.targetId)}).next(function(){return r.qe.addMatchingKeys(t,n,i.targetId)}).next(function(){return r.Ke.saveNamedQuery(t,e)})})]}})})}var kC=function(){function t(t){this.R=t,this.Qn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(t,e){return zy.resolve(this.Qn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Qn.set(e.id,{id:(n=e).id,version:n.version,createTime:Kv(n.createTime)}),zy.resolve()},t.prototype.getNamedQuery=function(t,e){return zy.resolve(this.jn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,function(t){return{name:t.name,query:gw(t.bundledQuery),readTime:Kv(t.readTime)}}(e)),zy.resolve()},t}(),OC=function(){function t(){this.Wn=new yv(TC.Gn),this.zn=new yv(TC.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(t,e){var n=new TC(t,e);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},t.prototype.Jn=function(t,e){var n=this;t.forEach(function(t){return n.addReference(t,e)})},t.prototype.removeReference=function(t,e){this.Yn(new TC(t,e))},t.prototype.Xn=function(t,e){var n=this;t.forEach(function(t){return n.removeReference(t,e)})},t.prototype.Zn=function(t){var e=this,n=new Db(new _b([])),i=new TC(n,t),r=new TC(n,t+1),o=[];return this.zn.forEachInRange([i,r],function(t){e.Yn(t),o.push(t.key)}),o},t.prototype.ts=function(){var t=this;this.Wn.forEach(function(e){return t.Yn(e)})},t.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},t.prototype.es=function(t){var e=new Db(new _b([])),n=new TC(e,t),i=new TC(e,t+1),r=Iv();return this.zn.forEachInRange([n,i],function(t){r=r.add(t.key)}),r},t.prototype.containsKey=function(t){var e=new TC(t,0),n=this.Wn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),TC=function(){function t(t,e){this.key=t,this.ns=e}return t.Gn=function(t,e){return Db.comparator(t.key,e.key)||ub(t.ns,e.ns)},t.Hn=function(t,e){return ub(t.ns,e.ns)||Db.comparator(t.key,e.key)},t}(),xC=function(){function t(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new yv(TC.Gn)}return t.prototype.checkEmpty=function(t){return zy.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(t,e,n,i){var r=this.ss;this.ss++;var o=new nw(r,e,n,i);this._n.push(o);for(var s=0,a=i;s<a.length;s++){var c=a[s];this.rs=this.rs.add(new TC(c.key,r)),this.Ut.addToCollectionParentIndex(t,c.key.path.popLast())}return zy.resolve(o)},t.prototype.lookupMutationBatch=function(t,e){return zy.resolve(this.os(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this.cs(e+1),i=n<0?0:n;return zy.resolve(this._n.length>i?this._n[i]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return zy.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(t){return zy.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,i=new TC(e,0),r=new TC(e,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([i,r],function(t){var e=n.os(t.ns);o.push(e)}),zy.resolve(o)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,i=new yv(ub);return e.forEach(function(t){var e=new TC(t,0),r=new TC(t,Number.POSITIVE_INFINITY);n.rs.forEachInRange([e,r],function(t){i=i.add(t.ns)})}),zy.resolve(this.us(i))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,i=n.length+1,r=n;Db.isDocumentKey(r)||(r=r.child(""));var o=new TC(new Db(r),0),s=new yv(ub);return this.rs.forEachWhile(function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===i&&(s=s.add(t.ns)),!0)},o),zy.resolve(this.us(s))},t.prototype.us=function(t){var e=this,n=[];return t.forEach(function(t){var i=e.os(t);null!==i&&n.push(i)}),n},t.prototype.removeMutationBatch=function(t,e){var n=this;ob(0===this.hs(e.batchId,"removed")),this._n.shift();var i=this.rs;return zy.forEach(e.mutations,function(r){var o=new TC(r.key,e.batchId);return i=i.delete(o),n.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(function(){n.rs=i})},t.prototype.Gt=function(t){},t.prototype.containsKey=function(t,e){var n=new TC(e,0),i=this.rs.firstAfterOrEqual(n);return zy.resolve(e.isEqual(i&&i.key))},t.prototype.performConsistencyCheck=function(t){return zy.resolve()},t.prototype.hs=function(t,e){return this.cs(t)},t.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},t.prototype.os=function(t){var e=this.cs(t);return e<0||e>=this._n.length?null:this._n[e]},t}(),EC=function(){function t(t,e){this.Ut=t,this.ls=e,this.docs=new bv(Db.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var i=e.key,r=this.docs.get(i),o=r?r.size:0,s=this.ls(e);return this.docs=this.docs.insert(i,{document:e.clone(),size:s,readTime:n}),this.size+=s-o,this.Ut.addToCollectionParentIndex(t,i.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return zy.resolve(n?n.document.clone():Qb.newInvalidDocument(e))},t.prototype.getEntries=function(t,e){var n=this,i=Sv();return e.forEach(function(t){var e=n.docs.get(t);i=i.insert(t,e?e.document.clone():Qb.newInvalidDocument(t))}),zy.resolve(i)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var i=Sv(),r=new Db(e.path.child("")),o=this.docs.getIteratorFrom(r);o.hasNext();){var s=o.getNext(),a=s.value,c=a.document,u=a.readTime;if(!e.path.isPrefixOf(s.key.path))break;u.compareTo(n)<=0||R_(e,c)&&(i=i.insert(c.key,c.clone()))}return zy.resolve(i)},t.prototype.fs=function(t,e){return zy.forEach(this.docs,function(t){return e(t)})},t.prototype.newChangeBuffer=function(t){return new IC(this)},t.prototype.getSize=function(t){return zy.resolve(this.size)},t}(),IC=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ie=e,n}return Object(Ld.__extends)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach(function(i,r){r.document.isValidDocument()?n.push(e.Ie.addEntry(t,r.document,e.getReadTime(i))):e.Ie.removeEntry(i)}),zy.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ie.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ie.getEntries(t,e)},e}(Ww),AC=function(){function t(t){this.persistence=t,this.ds=new zw(function(t){return Jb(t)},t_),this.lastRemoteSnapshotVersion=fb.min(),this.highestTargetId=0,this.ws=0,this._s=new OC,this.targetCount=0,this.ys=Pw.Jt()}return t.prototype.forEachTarget=function(t,e){return this.ds.forEach(function(t,n){return e(n)}),zy.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return zy.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return zy.resolve(this.ws)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),zy.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ws&&(this.ws=e),zy.resolve()},t.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new Pw(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,zy.resolve()},t.prototype.updateTargetData=function(t,e){return this.te(e),zy.resolve()},t.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,zy.resolve()},t.prototype.removeTargets=function(t,e,n){var i=this,r=0,o=[];return this.ds.forEach(function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(i.ds.delete(s),o.push(i.removeMatchingKeysForTargetId(t,a.targetId)),r++)}),zy.waitFor(o).next(function(){return r})},t.prototype.getTargetCount=function(t){return zy.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.ds.get(e)||null;return zy.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this._s.Jn(e,n),zy.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this._s.Xn(e,n);var i=this.persistence.referenceDelegate,r=[];return i&&e.forEach(function(e){r.push(i.markPotentiallyOrphaned(t,e))}),zy.waitFor(r)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),zy.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this._s.es(e);return zy.resolve(n)},t.prototype.containsKey=function(t,e){return zy.resolve(this._s.containsKey(e))},t}(),RC=function(){function t(t,e){var n=this;this.gs={},this.Ne=new Ym(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new AC(this),this.Ut=new vw,this.Ue=function(t,e){return new EC(t,function(t){return n.referenceDelegate.ps(t)})}(this.Ut),this.R=new ow(e),this.Ke=new kC(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new xC(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(t,e,n){var i=this;tb("MemoryPersistence","Starting transaction:",t);var r=new PC(this.Ne.next());return this.referenceDelegate.Es(),n(r).next(function(t){return i.referenceDelegate.Ts(r).next(function(){return t})}).toPromise().then(function(t){return r.raiseOnCommittedEvent(),t})},t.prototype.Is=function(t,e){return zy.or(Object.values(this.gs).map(function(n){return function(){return n.containsKey(t,e)}}))},t}(),PC=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return Object(Ld.__extends)(e,t),e}(By),DC=function(){function t(t){this.persistence=t,this.As=new OC,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw rb()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.As.addReference(n,e),this.vs.delete(n.toString()),zy.resolve()},t.prototype.removeReference=function(t,e,n){return this.As.removeReference(n,e),this.vs.add(n.toString()),zy.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),zy.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.As.Zn(e.targetId).forEach(function(t){return n.vs.add(t.toString())});var i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(function(t){t.forEach(function(t){return n.vs.add(t.toString())})}).next(function(){return i.removeTargetData(t,e)})},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return zy.forEach(this.vs,function(i){var r=Db.fromPath(i);return e.Ps(t,r).next(function(t){t||n.removeEntry(r)})}).next(function(){return e.Rs=null,n.apply(t)})},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ps(t,e).next(function(t){t?n.vs.delete(e.toString()):n.vs.add(e.toString())})},t.prototype.ps=function(t){return 0},t.prototype.Ps=function(t,e){var n=this;return zy.or([function(){return zy.resolve(n.As.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Is(t,e)}])},t}(),MC=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();function NC(t,e){return"firestore_clients_"+t+"_"+e}function jC(t,e,n){var i="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(i+="_"+e.uid),i}function FC(t,e){return"firestore_targets_"+t+"_"+e}MC.UNAUTHENTICATED=new MC(null),MC.GOOGLE_CREDENTIALS=new MC("google-credentials-uid"),MC.FIRST_PARTY=new MC("first-party-uid"),MC.MOCK_USER=new MC("mock-user");var LC=function(){function t(t,e,n,i){this.user=t,this.batchId=e,this.state=n,this.error=i}return t.Vs=function(e,n,i){var r,o=JSON.parse(i),s="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return s&&o.error&&(s="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(r=new Zm(o.error.code,o.error.message)),s?new t(e,n,o.state,r):(eb("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+i),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),VC=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Vs=function(e,n){var i,r=JSON.parse(n),o="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return o&&r.error&&(o="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(i=new Zm(r.error.code,r.error.message)),o?new t(e,r.state,i):(eb("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),UC=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Vs=function(e,n){for(var i=JSON.parse(n),r="object"==typeof i&&i.activeTargetIds instanceof Array,o=Rv(),s=0;r&&s<i.activeTargetIds.length;++s)r=Pb(i.activeTargetIds[s]),o=o.add(i.activeTargetIds[s]);return r?new t(e,o):(eb("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),qC=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Vs=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(eb("SharedClientState","Failed to parse online state: "+e),null)},t}(),BC=function(){function t(){this.activeTargetIds=Rv()}return t.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),HC=function(){function t(t,e,n,i,r){this.window=t,this.Se=e,this.persistenceKey=n,this.Ns=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new bv(ub),this.started=!1,this.$s=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=r,this.Os=NC(this.persistenceKey,this.Ns),this.Ms=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Fs=this.Fs.insert(this.Ns,new BC),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Ks=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(Ld.__awaiter)(this,void 0,void 0,function(){var t,e,n,i,r,o,s,a,c,u,l=this;return Object(Ld.__generator)(this,function(h){switch(h.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(i=n[e])!==this.Ns&&(r=this.getItem(NC(this.persistenceKey,i)))&&(o=UC.Vs(i,r))&&(this.Fs=this.Fs.insert(o.clientId,o));for(this.Qs(),(s=this.storage.getItem(this.Us))&&(a=this.js(s))&&this.Ws(a),c=0,u=this.$s;c<u.length;c++)this.ks(u[c]);return this.$s=[],this.window.addEventListener("pagehide",function(){return l.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.Fs.forEach(function(n,i){i.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.addPendingMutation=function(t){this.zs(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.zs(t,e,n),this.Hs(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(FC(this.persistenceKey,t));if(n){var i=VC.Vs(t,n);i&&(e=i.state)}}return this.Js.Ds(t),this.Qs(),e},t.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Qs()},t.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(FC(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.Ys(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var i=this;e.forEach(function(t){i.Hs(t)}),this.currentUser=t,n.forEach(function(t){i.addPendingMutation(t)})},t.prototype.setOnlineState=function(t){this.Xs(t)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return tb("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){tb("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){tb("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.ks=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(tb("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Os)return void eb("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return Object(Ld.__awaiter)(e,void 0,void 0,function(){var t,e,i,r,o,s;return Object(Ld.__generator)(this,function(a){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return t=this.ti(n.key),[2,this.ei(t,null)];if(e=this.ni(n.key,n.newValue))return[2,this.ei(e.clientId,e)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(i=this.si(n.key,n.newValue)))return[2,this.ii(i)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(r=this.ri(n.key,n.newValue)))return[2,this.oi(r)]}else if(n.key===this.Us){if(null!==n.newValue&&(o=this.js(n.newValue)))return[2,this.Ws(o)]}else if(n.key===this.Ms)(s=function(t){var e=Ym.o;if(null!=t)try{var n=JSON.parse(t);ob("number"==typeof n),e=n}catch(t){eb("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Ym.o&&this.sequenceNumberHandler(s);else if(n.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},t.prototype.zs=function(t,e,n){var i=new LC(this.currentUser,t,e,n),r=jC(this.persistenceKey,this.currentUser,t);this.setItem(r,i.Ss())},t.prototype.Hs=function(t){var e=jC(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Xs=function(t){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:t}))},t.prototype.Ys=function(t,e,n){var i=FC(this.persistenceKey,t),r=new VC(t,e,n);this.setItem(i,r.Ss())},t.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},t.prototype.ti=function(t){var e=this.Ls.exec(t);return e?e[1]:null},t.prototype.ni=function(t,e){var n=this.ti(t);return UC.Vs(n,e)},t.prototype.si=function(t,e){var n=this.Bs.exec(t),i=Number(n[1]);return LC.Vs(new MC(void 0!==n[2]?n[2]:null),i,e)},t.prototype.ri=function(t,e){var n=this.qs.exec(t),i=Number(n[1]);return VC.Vs(i,e)},t.prototype.js=function(t){return qC.Vs(t)},t.prototype.ii=function(t){return Object(Ld.__awaiter)(this,void 0,void 0,function(){return Object(Ld.__generator)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(tb("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},t.prototype.ei=function(t,e){var n=this,i=e?this.Fs.insert(t,e):this.Fs.remove(t),r=this.Gs(this.Fs),o=this.Gs(i),s=[],a=[];return o.forEach(function(t){r.has(t)||s.push(t)}),r.forEach(function(t){o.has(t)||a.push(t)}),this.syncEngine.hi(s,a).then(function(){n.Fs=i})},t.prototype.Ws=function(t){this.Fs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Gs=function(t){var e=Rv();return t.forEach(function(t,n){e=e.unionWith(n.activeTargetIds)}),e},t}(),zC=function(){function t(){this.li=new BC,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.fi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},t.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.fi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.start=function(){return this.li=new BC,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),WC=function(){function t(){}return t.prototype.di=function(t){},t.prototype.shutdown=function(){},t}(),GC=function(){function t(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return t.prototype.di=function(t){this.gi.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){tb("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},t.prototype.yi=function(){tb("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),KC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},$C=function(){function t(t){this.Ei=t.Ei,this.Ti=t.Ti}return t.prototype.Ii=function(t){this.Ai=t},t.prototype.Ri=function(t){this.bi=t},t.prototype.onMessage=function(t){this.vi=t},t.prototype.close=function(){this.Ti()},t.prototype.send=function(t){this.Ei(t)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(t){this.bi(t)},t.prototype.Si=function(t){this.vi(t)},t}(),YC=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n.useFetchStreams=e.useFetchStreams,n}return Object(Ld.__extends)(e,t),e.prototype.Fi=function(t,e,n,i){return new Promise(function(r,o){var s=new $m;s.listenOnce(zm.COMPLETE,function(){try{switch(s.getLastErrorCode()){case Hm.NO_ERROR:var e=s.getResponseJson();tb("Connection","XHR received:",JSON.stringify(e)),r(e);break;case Hm.TIMEOUT:tb("Connection",'RPC "'+t+'" timed out'),o(new Zm(Qm.DEADLINE_EXCEEDED,"Request time out"));break;case Hm.HTTP_ERROR:var n=s.getStatus();if(tb("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var i=s.getResponseJson().error;if(i&&i.status&&i.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(Qm).indexOf(e)>=0?e:Qm.UNKNOWN}(i.status);o(new Zm(a,i.message))}else o(new Zm(Qm.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new Zm(Qm.UNAVAILABLE,"Connection failed."));break;default:rb()}}finally{tb("Connection",'RPC "'+t+'" completed.')}});var a=JSON.stringify(i);s.send(e,"POST",a,n,15)})},e.prototype.Oi=function(t,e){var n=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],i=new Lm,r=Pp(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Gm({})),this.ki(o.initMessageHeaders,e),Object(Vd.isMobileCordova)()||Object(Vd.isReactNative)()||Object(Vd.isElectron)()||Object(Vd.isIE)()||Object(Vd.isUWP)()||Object(Vd.isBrowserExtension)()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=n.join("");tb("Connection","Creating WebChannel: "+s,o);var a=i.createWebChannel(s,o),c=!1,u=!1,l=new $C({Ei:function(t){u?tb("Connection","Not sending because WebChannel is closed:",t):(c||(tb("Connection","Opening WebChannel transport."),a.open(),c=!0),tb("Connection","WebChannel sending:",t),a.send(t))},Ti:function(){return a.close()}}),h=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return h(a,Km.EventType.OPEN,function(){u||tb("Connection","WebChannel transport opened.")}),h(a,Km.EventType.CLOSE,function(){u||(u=!0,tb("Connection","WebChannel transport closed"),l.Vi())}),h(a,Km.EventType.ERROR,function(t){u||(u=!0,nb("Connection","WebChannel transport errored:",t),l.Vi(new Zm(Qm.UNAVAILABLE,"The operation could not be completed")))}),h(a,Km.EventType.MESSAGE,function(t){var e;if(!u){var n=t.data[0];ob(!!n);var i=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(i){tb("Connection","WebChannel received error:",i);var r=i.status,o=function(t){var e=lv[t];if(void 0!==e)return mv(e)}(r),s=i.message;void 0===o&&(o=Qm.INTERNAL,s="Unknown error status: "+r+" with message "+i.message),u=!0,l.Vi(new Zm(o,s)),a.close()}else tb("Connection","WebChannel received:",n),l.Si(n)}}),h(r,Wm.STAT_EVENT,function(t){10===t.stat?tb("Connection","Detected buffering proxy"):11===t.stat&&tb("Connection","Detected no buffering proxy")}),setTimeout(function(){l.Pi()},0),l},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Di=(t.ssl?"https":"http")+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(t,e,n,i){var r=this.xi(t,e);tb("RestConnection","Sending: ",r,n);var o={};return this.ki(o,i),this.Fi(t,r,o,n).then(function(t){return tb("RestConnection","Received: ",t),t},function(e){throw nb("RestConnection",t+" failed with error: ",e,"url: ",r,"request:",n),e})},t.prototype.$i=function(t,e,n,i){return this.Ni(t,e,n,i)},t.prototype.ki=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.xi=function(t,e){return this.Di+"/v1/"+e+":"+KC[t]},t}());function QC(){return"undefined"!=typeof window?window:null}function ZC(){return"undefined"!=typeof document?document:null}function XC(t){return new Hv(t,!0)}var JC=function(){function t(t,e,n,i,r){void 0===n&&(n=1e3),void 0===i&&(i=1.5),void 0===r&&(r=6e4),this.Se=t,this.timerId=e,this.Mi=n,this.Li=i,this.Bi=r,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Qi=function(){this.qi=this.Bi},t.prototype.ji=function(t){var e=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),i=Math.max(0,Date.now()-this.Ki),r=Math.max(0,n-i);r>0&&tb("ExponentialBackoff","Backing off for "+r+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+i+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,r,function(){return e.Ki=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),tS=function(){function t(t,e,n,i,r,o){this.Se=t,this.zi=n,this.Hi=i,this.Ji=r,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new JC(t,e)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return Object(Ld.__awaiter)(this,void 0,void 0,function(){return Object(Ld.__generator)(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},t.prototype.cr=function(t){this.ur(),this.stream.send(t)},t.prototype.rr=function(){return Object(Ld.__awaiter)(this,void 0,void 0,function(){return Object(Ld.__generator)(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(t,e){return Object(Ld.__awaiter)(this,void 0,void 0,function(){return Object(Ld.__generator)(this,function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===Qm.RESOURCE_EXHAUSTED?(eb(e.toString()),eb("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):e&&e.code===Qm.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return n.sent(),[2]}})})},t.prototype.ar=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then(function(e){t.Yi===n&&t.lr(e)},function(n){e(function(){var e=new Zm(Qm.UNKNOWN,"Fetching auth token failed: "+n.message);return t.dr(e)})})},t.prototype.lr=function(t){var e=this,n=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){n(function(){return e.state=2,e.listener.Ii()})}),this.stream.Ri(function(t){n(function(){return e.dr(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return Object(Ld.__awaiter)(t,void 0,void 0,function(){return Object(Ld.__generator)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.dr=function(t){return tb("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.hr=function(t){var e=this;return function(n){e.Se.enqueueAndForget(function(){return e.Yi===t?n():(tb("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),eS=function(t){function e(e,n,i,r,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,i,o)||this).R=r,s}return Object(Ld.__extends)(e,t),e.prototype.wr=function(t){return this.Hi.Oi("Listen",t)},e.prototype.onMessage=function(t){this.Zi.reset();var e=function(t,e){var n;if("targetChange"in e){var i=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:rb()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],o=function(t,e){return t.I?(ob(void 0===e||"string"==typeof e),Cb.fromBase64String(e||"")):(ob(void 0===e||e instanceof Uint8Array),Cb.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?Qm.UNKNOWN:mv(t.code);return new Zm(e,t.message||"")}(a);n=new jv(i,r,o,s||null)}else if("documentChange"in e){r=Zv(t,(i=e.documentChange).document.name),o=Kv(i.document.updateTime);var a=new $b({mapValue:{fields:i.document.fields}}),c=(s=Qb.newFoundDocument(r,o,a),i.targetIds||[]);n=new Mv(c,i.removedTargetIds||[],s.key,s)}else if("documentDelete"in e)r=Zv(t,(i=e.documentDelete).document),o=i.readTime?Kv(i.readTime):fb.min(),a=Qb.newNoDocument(r,o),n=new Mv([],s=i.removedTargetIds||[],a.key,a);else if("documentRemove"in e)r=Zv(t,(i=e.documentRemove).document),n=new Mv([],o=i.removedTargetIds||[],r,null);else{if(!("filter"in e))return rb();var u=e.filter;r=new pv(i=u.count||0),n=new Nv(o=u.targetId,r)}return n}(this.R,t),n=function(t){if(!("targetChange"in t))return fb.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?fb.min():e.readTime?Kv(e.readTime):fb.min()}(t);return this.listener._r(e,n)},e.prototype.mr=function(t){var e={};e.database=ty(this.R),e.addTarget=function(t,e){var n,i=e.target;return(n=e_(i)?{documents:sy(t,i)}:{query:ay(t,i)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=Wv(t,e.resumeToken):e.snapshotVersion.compareTo(fb.min())>0&&(n.readTime=zv(t,e.snapshotVersion.toTimestamp())),n}(this.R,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return rb()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.cr(e)},e.prototype.yr=function(t){var e={};e.database=ty(this.R),e.removeTarget=t,this.cr(e)},e}(tS),nS=function(t){function e(e,n,i,r,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,i,o)||this).R=r,s.gr=!1,s}return Object(Ld.__extends)(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(t){return this.Hi.Oi("Write",t)},e.prototype.onMessage=function(t){if(ob(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var e=function(t,e){return t&&t.length>0?(ob(void 0!==e),t.map(function(t){return function(t,e){var n=Kv(t.updateTime?t.updateTime:e);return n.isEqual(fb.min())&&(n=Kv(e)),new Q_(n,t.transformResults||[])}(t,e)})):[]}(t.writeResults,t.commitTime),n=Kv(t.commitTime);return this.listener.Tr(n,e)}return ob(!t.writeResults||0===t.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var t={};t.database=ty(this.R),this.cr(t)},e.prototype.Er=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return ry(e.R,t)})};this.cr(n)},e}(tS),iS=function(t){function e(e,n,i){var r=this;return(r=t.call(this)||this).credentials=e,r.Hi=n,r.R=i,r.Rr=!1,r}return Object(Ld.__extends)(e,t),e.prototype.br=function(){if(this.Rr)throw new Zm(Qm.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(t,e,n){var i=this;return this.br(),this.credentials.getToken().then(function(r){return i.Hi.Ni(t,e,n,r)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===Qm.UNAUTHENTICATED&&i.credentials.invalidateToken(),t):new Zm(Qm.UNKNOWN,t.toString())})},e.prototype.$i=function(t,e,n){var i=this;return this.br(),this.credentials.getToken().then(function(r){return i.Hi.$i(t,e,n,r)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===Qm.UNAUTHENTICATED&&i.credentials.invalidateToken(),t):new Zm(Qm.UNKNOWN,t.toString())})},e.prototype.terminate=function(){this.Rr=!0},e}(function(){}),rS=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},t.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},t.prototype.set=function(t){this.kr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},t.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Cr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(eb(e),this.Vr=!1):tb("OnlineStateTracker",e)},t.prototype.kr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),oS=function(t,e,n,i,r){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=r,this.Lr.di(function(t){n.enqueueAndForget(function(){return Object(Ld.__awaiter)(o,void 0,void 0,function(){return Object(Ld.__generator)(this,function(t){switch(t.label){case 0:return pS(this)?(tb("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(Ld.__awaiter)(this,void 0,void 0,function(){var e;return Object(Ld.__generator)(this,function(n){switch(n.label){case 0:return(e=sb(t)).Or.add(4),[4,aS(e)];case 1:return n.sent(),e.Br.set("Unknown"),e.Or.delete(4),[4,sS(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.Br=new rS(n,i)};function sS(t){return Object(Ld.__awaiter)(this,void 0,void 0,function(){var e,n;return Object(Ld.__generator)(this,function(i){switch(i.label){case 0:if(!pS(t))return[3,4];e=0,n=t.Mr,i.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:i.sent(),i.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function aS(t){return Object(Ld.__awaiter)(this,void 0,void 0,function(){var e,n;return Object(Ld.__generator)(this,function(i){switch(i.label){case 0:e=0,n=t.Mr,i.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:i.sent(),i.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function cS(t,e){var n=sb(t);n.$r.has(e.targetId)||(n.$r.set(e.targetId,e),fS(n)?dS(n):IS(n).er()&&lS(n,e))}function uS(t,e){var n=sb(t),i=IS(n);n.$r.delete(e),i.er()&&hS(n,e),0===n.$r.size&&(i.er()?i.ir():pS(n)&&n.Br.set("Unknown"))}function lS(t,e){t.qr.U(e.targetId),IS(t).mr(e)}function hS(t,e){t.qr.U(e),IS(t).yr(e)}function dS(t){t.qr=new Lv({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.$r.get(e)||null}}),IS(t).start(),t.Br.Sr()}function fS(t){return pS(t)&&!IS(t).tr()&&t.$r.size>0}function pS(t){return 0===sb(t).Or.size}function gS(t){t.qr=void 0}function mS(t){return Object(Ld.__awaiter)(this,void 0,void 0,function(){return Object(Ld.__generator)(this,function(e){return t.$r.forEach(function(e,n){lS(t,e)}),[2]})})}function bS(t,e){return Object(Ld.__awaiter)(this,void 0,void 0,function(){return Object(Ld.__generator)(this,function(n){return gS(t),fS(t)?(t.Br.Nr(e),dS(t)):t.Br.set("Unknown"),[2]})})}function _S(t,e,n){return Object(Ld.__awaiter)(this,void 0,void 0,function(){var i,r,o;return Object(Ld.__generator)(this,function(s){switch(s.label){case 0:if(t.Br.set("Online"),!(e instanceof jv&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return Object(Ld.__awaiter)(this,void 0,void 0,function(){var n,i,r,o;return Object(Ld.__generator)(this,function(s){switch(s.label){case 0:n=e.cause,i=0,r=e.targetIds,s.label=1;case 1:return i<r.length?t.$r.has(o=r[i])?[4,t.remoteSyncer.rejectListen(o,n)]:[3,3]:[3,5];case 2:s.sent(),t.$r.delete(o),t.qr.removeTarget(o),s.label=3;case 3:s.label=4;case 4:return i++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return s.sent(),[3,5];case 3:return i=s.sent(),tb("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),[4,vS(t,i)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof Mv?t.qr.X(e):e instanceof Nv?t.qr.rt(e):t.qr.et(e),n.isEqual(fb.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,dC(t.localStore)];case 8:return r=s.sent(),n.compareTo(r)>=0?[4,function(t,e){var n=t.qr.ut(e);return n.targetChanges.forEach(function(n,i){if(n.resumeToken.approximateByteSize()>0){var r=t.$r.get(i);r&&t.$r.set(i,r.withResumeToken(n.resumeToken,e))}}),n.targetMismatches.forEach(function(e){var n=t.$r.get(e);if(n){t.$r.set(e,n.withResumeToken(Cb.EMPTY_BYTE_STRING,n.snapshotVersion)),hS(t,e);var i=new rw(n.target,e,1,n.sequenceNumber);lS(t,i)}}),t.remoteSyncer.applyRemoteEvent(n)}(t,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return tb("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,vS(t,o)];case 12:return s.sent(),[3,13];case 13:return[2]}})})}function vS(t,e,n){return Object(Ld.__awaiter)(this,void 0,void 0,function(){var i=this;return Object(Ld.__generator)(this,function(r){switch(r.label){case 0:if(!Yy(e))throw e;return t.Or.add(1),[4,aS(t)];case 1:return r.sent(),t.Br.set("Offline"),n||(n=function(){return dC(t.localStore)}),t.asyncQueue.enqueueRetryable(function(){return Object(Ld.__awaiter)(i,void 0,void 0,function(){return Object(Ld.__generator)(this,function(e){switch(e.label){case 0:return tb("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Or.delete(1),[4,sS(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function yS(t,e){return e().catch(function(n){return vS(t,n,e)})}function wS(t){return Object(Ld.__awaiter)(this,void 0,void 0,function(){var e,n,i,r,o;return Object(Ld.__generator)(this,function(s){switch(s.label){case 0:e=sb(t),n=AS(e),i=e.Fr.length>0?e.Fr[e.Fr.length-1].batchId:-1,s.label=1;case 1:if(!function(t){return pS(t)&&t.Fr.length<10}(e))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,gC(e.localStore,i)];case 3:return null===(r=s.sent())?(0===e.Fr.length&&n.ir(),[3,7]):(i=r.batchId,function(t,e){t.Fr.push(e);var n=AS(t);n.er()&&n.pr&&n.Er(e.mutations)}(e,r),[3,6]);case 4:return o=s.sent(),[4,vS(e,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return CS(e)&&SS(e),[2]}})})}function CS(t){return pS(t)&&!AS(t).tr()&&t.Fr.length>0}function SS(t){AS(t).start()}function kS(t){return Object(Ld.__awaiter)(this,void 0,void 0,function(){return Object(Ld.__generator)(this,function(e){return AS(t).Ar(),[2]})})}function OS(t){return Object(Ld.__awaiter)(this,void 0,void 0,function(){var e,n,i;return Object(Ld.__generator)(this,function(r){for(e=AS(t),n=0,i=t.Fr;n<i.length;n++)e.Er(i[n].mutations);return[2]})})}function TS(t,e,n){return Object(Ld.__awaiter)(this,void 0,void 0,function(){var i,r;return Object(Ld.__generator)(this,function(o){switch(o.label){case 0:return i=t.Fr.shift(),r=iw.from(i,e,n),[4,yS(t,function(){return t.remoteSyncer.applySuccessfulWrite(r)})];case 1:return o.sent(),[4,wS(t)];case 2:return o.sent(),[2]}})})}function xS(t,e){return Object(Ld.__awaiter)(this,void 0,void 0,function(){return Object(Ld.__generator)(this,function(n){switch(n.label){case 0:return e&&AS(t).pr?[4,function(t,e){return Object(Ld.__awaiter)(this,void 0,void 0,function(){var n,i;return Object(Ld.__generator)(this,function(r){switch(r.label){case 0:return gv(i=e.code)&&i!==Qm.ABORTED?(n=t.Fr.shift(),AS(t).sr(),[4,yS(t,function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)})]):[3,3];case 1:return r.sent(),[4,wS(t)];case 2:r.sent(),r.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return CS(t)&&SS(t),[2]}})})}function ES(t,e){return Object(Ld.__awaiter)(this,void 0,void 0,function(){var n;return Object(Ld.__generator)(this,function(i){switch(i.label){case 0:return n=sb(t),e?(n.Or.delete(2),[4,sS(n)]):[3,2];case 1:return i.sent(),[3,5];case 2:return e?[3,4]:(n.Or.add(2),[4,aS(n)]);case 3:i.sent(),n.Br.set("Unknown"),i.label=4;case 4:i.label=5;case 5:return[2]}})})}function IS(t){var e=this;return t.Ur||(t.Ur=function(t,e,n){var i=sb(t);return i.br(),new eS(e,i.Hi,i.credentials,i.R,n)}(t.datastore,t.asyncQueue,{Ii:mS.bind(null,t),Ri:bS.bind(null,t),_r:_S.bind(null,t)}),t.Mr.push(function(n){return Object(Ld.__awaiter)(e,void 0,void 0,function(){return Object(Ld.__generator)(this,function(e){switch(e.label){case 0:return n?(t.Ur.sr(),fS(t)?dS(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:e.sent(),gS(t),e.label=3;case 3:return[2]}})})})),t.Ur}function AS(t){var e=this;return t.Kr||(t.Kr=function(t,e,n){var i=sb(t);return i.br(),new nS(e,i.Hi,i.credentials,i.R,n)}(t.datastore,t.asyncQueue,{Ii:kS.bind(null,t),Ri:xS.bind(null,t),Ir:OS.bind(null,t),Tr:TS.bind(null,t)}),t.Mr.push(function(n){return Object(Ld.__awaiter)(e,void 0,void 0,function(){return Object(Ld.__generator)(this,function(e){switch(e.label){case 0:return n?(t.Kr.sr(),[4,wS(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Kr.stop()];case 3:e.sent(),t.Fr.length>0&&(tb("RemoteStore","Stopping write stream with "+t.Fr.length+" pending writes"),t.Fr=[]),e.label=4;case 4:return[2]}})})})),t.Kr}var RS=function(){function t(t,e,n,i,r){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=i,this.removalCallback=r,this.deferred=new Hy,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(t){})}return t.createAndSchedule=function(e,n,i,r,o){var s=new t(e,n,Date.now()+i,r,o);return s.start(i),s},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Zm(Qm.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then(function(e){return t.deferred.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function PS(t,e){if(eb("AsyncQueue",e+": "+t),Yy(t))return new Zm(Qm.UNAVAILABLE,e+": "+t);throw t}var DS=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||Db.comparator(e.key,n.key)}:function(t,e){return Db.comparator(t.key,e.key)},this.keyedMap=Ov(),this.sortedSet=new bv(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();n.hasNext();){var r=n.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var i=new t;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i},t}(),MS=function(){function t(){this.Qr=new bv(Db.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Qr.get(e);n?0!==t.type&&3===n.type?this.Qr=this.Qr.insert(e,t):3===t.type&&1!==n.type?this.Qr=this.Qr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Qr=this.Qr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Qr=this.Qr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Qr=this.Qr.remove(e):1===t.type&&2===n.type?this.Qr=this.Qr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Qr=this.Qr.insert(e,{type:2,doc:t.doc}):rb():this.Qr=this.Qr.insert(e,t)},t.prototype.jr=function(){var t=[];return this.Qr.inorderTraversal(function(e,n){t.push(n)}),t},t}(),NS=function(){function t(t,e,n,i,r,o,s,a){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=r,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a}return t.fromInitialDocuments=function(e,n,i,r){var o=[];return n.forEach(function(t){o.push({type:0,doc:t})}),new t(e,n,DS.emptySet(n),o,i,r,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&E_(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var i=0;i<e.length;i++)if(e[i].type!==n[i].type||!e[i].doc.isEqual(n[i].doc))return!1;return!0},t}(),jS=function(){this.Wr=void 0,this.listeners=[]},FS=function(){this.queries=new zw(function(t){return I_(t)},E_),this.onlineState="Unknown",this.Gr=new Set};function LS(t,e){return Object(Ld.__awaiter)(this,void 0,void 0,function(){var n,i,r,o,s,a,c;return Object(Ld.__generator)(this,function(u){switch(u.label){case 0:if(n=sb(t),r=!1,(o=n.queries.get(i=e.query))||(r=!0,o=new jS),!r)return[3,4];u.label=1;case 1:return u.trys.push([1,3,,4]),s=o,[4,n.onListen(i)];case 2:return s.Wr=u.sent(),[3,4];case 3:return a=u.sent(),c=PS(a,"Initialization of query '"+A_(e.query)+"' failed"),[2,void e.onError(c)];case 4:return n.queries.set(i,o),o.listeners.push(e),e.zr(n.onlineState),o.Wr&&e.Hr(o.Wr)&&BS(n),[2]}})})}function VS(t,e){return Object(Ld.__awaiter)(this,void 0,void 0,function(){var n,i,r,o,s;return Object(Ld.__generator)(this,function(a){return n=sb(t),r=!1,(o=n.queries.get(i=e.query))&&(s=o.listeners.indexOf(e))>=0&&(o.listeners.splice(s,1),r=0===o.listeners.length),r?[2,(n.queries.delete(i),n.onUnlisten(i))]:[2]})})}function US(t,e){for(var n=sb(t),i=!1,r=0,o=e;r<o.length;r++){var s=o[r],a=n.queries.get(s.query);if(a){for(var c=0,u=a.listeners;c<u.length;c++)u[c].Hr(s)&&(i=!0);a.Wr=s}}i&&BS(n)}function qS(t,e,n){var i=sb(t),r=i.queries.get(e);if(r)for(var o=0,s=r.listeners;o<s.length;o++)s[o].onError(n);i.queries.delete(e)}function BS(t){t.Gr.forEach(function(t){t.next()})}var HS=function(){function t(t,e,n){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,i=t.docChanges;n<i.length;n++){var r=i[n];3!==r.type&&e.push(r)}t=new NS(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),o=!0):this.eo(t,this.onlineState)&&(this.no(t),o=!0),this.Xr=t,o},t.prototype.onError=function(t){this.Jr.error(t)},t.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},t.prototype.eo=function(t,e){return!t.fromCache||!(this.options.so&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.Zr=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(t){t=NS.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},t}(),zS=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.io=function(){return"metadata"in this.payload},t}(),WS=function(){function t(t){this.R=t}return t.prototype.qn=function(t){return Zv(this.R,t)},t.prototype.Un=function(t){return t.metadata.exists?iy(this.R,t.document,!1):Qb.newNoDocument(this.qn(t.metadata.name),this.Kn(t.metadata.readTime))},t.prototype.Kn=function(t){return Kv(t)},t}(),GS=function(){function t(t,e,n){this.ro=t,this.localStore=e,this.R=n,this.queries=[],this.documents=[],this.progress=KS(t)}return t.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.co=function(t){for(var e=new Map,n=new WS(this.R),i=0,r=t;i<r.length;i++){var o=r[i];if(o.metadata.queries)for(var s=n.qn(o.metadata.name),a=0,c=o.metadata.queries;a<c.length;a++){var u=c[a],l=(e.get(u)||Iv()).add(s);e.set(u,l)}}return e},t.prototype.complete=function(){return Object(Ld.__awaiter)(this,void 0,void 0,function(){var t,e,n,i,r;return Object(Ld.__generator)(this,function(o){switch(o.label){case 0:return[4,CC(this.localStore,new WS(this.R),this.documents,this.ro.id)];case 1:t=o.sent(),e=this.co(this.documents),n=0,i=this.queries,o.label=2;case 2:return n<i.length?[4,SC(this.localStore,r=i[n],e.get(r.name))]:[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new rC(Object.assign({},this.progress),t))]}})})},t}();function KS(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}var $S=function(t){this.key=t},YS=function(t){this.key=t},QS=function(){function t(t,e){this.query=t,this.uo=e,this.ao=null,this.current=!1,this.ho=Iv(),this.mutatedKeys=Iv(),this.lo=P_(t),this.fo=new DS(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(t,e){var n=this,i=e?e.mo:new MS,r=e?e.fo:this.fo,o=e?e.mutatedKeys:this.mutatedKeys,s=r,a=!1,c=y_(this.query)&&r.size===this.query.limit?r.last():null,u=w_(this.query)&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal(function(t,e){var l=r.get(t),h=R_(n.query,e)?e:null,d=!!l&&n.mutatedKeys.has(l.key),f=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data.isEqual(h.data)?d!==f&&(i.track({type:3,doc:h}),p=!0):n.yo(l,h)||(i.track({type:2,doc:h}),p=!0,(c&&n.lo(h,c)>0||u&&n.lo(h,u)<0)&&(a=!0)):!l&&h?(i.track({type:0,doc:h}),p=!0):l&&!h&&(i.track({type:1,doc:l}),p=!0,(c||u)&&(a=!0)),p&&(h?(s=s.add(h),o=f?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))}),y_(this.query)||w_(this.query))for(;s.size>this.query.limit;){var l=y_(this.query)?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),i.track({type:1,doc:l})}return{fo:s,mo:i,Nn:a,mutatedKeys:o}},t.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var i=this,r=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var o=t.mo.jr();o.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return rb()}};return n(t)-n(e)}(t.type,e.type)||i.lo(t.doc,e.doc)}),this.po(n);var s=e?this.Eo():[],a=0===this.ho.size&&this.current?1:0,c=a!==this.ao;return this.ao=a,0!==o.length||c?{snapshot:new NS(this.query,t.fo,r,o,t.mutatedKeys,0===a,c,!1),To:s}:{To:s}},t.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new MS,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},t.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach(function(t){return e.uo=e.uo.add(t)}),t.modifiedDocuments.forEach(function(t){}),t.removedDocuments.forEach(function(t){return e.uo=e.uo.delete(t)}),this.current=t.current)},t.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=Iv(),this.fo.forEach(function(e){t.Io(e.key)&&(t.ho=t.ho.add(e.key))});var n=[];return e.forEach(function(e){t.ho.has(e)||n.push(new YS(e))}),this.ho.forEach(function(t){e.has(t)||n.push(new $S(t))}),n},t.prototype.Ao=function(t){this.uo=t.Bn,this.ho=Iv();var e=this._o(t.documents);return this.applyChanges(e,!0)},t.prototype.Ro=function(){return NS.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},t}(),ZS=function(t,e,n){this.query=t,this.targetId=e,this.view=n},XS=function(t){this.key=t,this.bo=!1},JS=function(){function t(t,e,n,i,r,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=i,this.currentUser=r,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new zw(function(t){return I_(t)},E_),this.Vo=new Map,this.So=new Set,this.Do=new bv(Db.comparator),this.Co=new Map,this.No=new OC,this.xo={},this.ko=new Map,this.Fo=Pw.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),t}();function tk(t,e){return Object(Ld.__awaiter)(this,void 0,void 0,function(){var n,i,r,o,s;return Object(Ld.__generator)(this,function(a){switch(a.label){case 0:return n=Ik(t),(r=n.Po.get(e))?(n.sharedClientState.addLocalQueryTarget(r.targetId),i=r.view.Ro(),[3,4]):[3,1];case 1:return[4,mC(n.localStore,T_(e))];case 2:return o=a.sent(),s=n.sharedClientState.addLocalQueryTarget(o.targetId),[4,ek(n,e,o.targetId,"current"===s)];case 3:i=a.sent(),n.isPrimaryClient&&cS(n.remoteStore,o),a.label=4;case 4:return[2,i]}})})}function ek(t,e,n,i){return Object(Ld.__awaiter)(this,void 0,void 0,function(){var r,o,s,a,c,u;return Object(Ld.__generator)(this,function(l){switch(l.label){case 0:return t.Oo=function(e,n,i){return function(t,e,n,i){return Object(Ld.__awaiter)(this,void 0,void 0,function(){var r,o,s;return Object(Ld.__generator)(this,function(a){switch(a.label){case 0:return(r=e.view._o(n)).Nn?[4,_C(t.localStore,e.query,!1).then(function(t){return e.view._o(t.documents,r)})]:[3,2];case 1:r=a.sent(),a.label=2;case 2:return o=i&&i.targetChanges.get(e.targetId),s=e.view.applyChanges(r,t.isPrimaryClient,o),[2,(pk(t,e.targetId,s.To),s.snapshot)]}})})}(t,e,n,i)},[4,_C(t.localStore,e,!0)];case 1:return r=l.sent(),o=new QS(e,r.Bn),s=o._o(r.documents),a=Dv.createSynthesizedTargetChangeForCurrentChange(n,i&&"Offline"!==t.onlineState),c=o.applyChanges(s,t.isPrimaryClient,a),pk(t,n,c.To),u=new ZS(e,n,o),[2,(t.Po.set(e,u),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),c.snapshot)]}})})}function nk(t,e){return Object(Ld.__awaiter)(this,void 0,void 0,function(){var n,i,r;return Object(Ld.__generator)(this,function(o){switch(o.label){case 0:return n=sb(t),i=n.Po.get(e),(r=n.Vo.get(i.targetId)).length>1?[2,(n.Vo.set(i.targetId,r.filter(function(t){return!E_(t,e)})),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)?[3,2]:[4,bC(n.localStore,i.targetId,!1).then(function(){n.sharedClientState.clearQueryState(i.targetId),uS(n.remoteStore,i.targetId),dk(n,i.targetId)}).catch(Fw)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return dk(n,i.targetId),[4,bC(n.localStore,i.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}})})}function ik(t,e,n){return Object(Ld.__awaiter)(this,void 0,void 0,function(){var i,r,o,s;return Object(Ld.__generator)(this,function(a){switch(a.label){case 0:i=Ak(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,i=sb(t),r=db.now(),o=e.reduce(function(t,e){return t.add(e.key)},Iv());return i.persistence.runTransaction("Locally write mutations","readwrite",function(t){return i.Mn.pn(t,o).next(function(o){n=o;for(var s=[],a=0,c=e;a<c.length;a++){var u=c[a],l=nv(u,n.get(u.key));null!=l&&s.push(new sv(u.key,l,Yb(l.value.mapValue),Z_.exists(!0)))}return i._n.addMutationBatch(t,r,s,e)})}).then(function(t){return t.applyToLocalDocumentSet(n),{batchId:t.batchId,changes:n}})}(i.localStore,e)];case 2:return r=a.sent(),i.sharedClientState.addPendingMutation(r.batchId),function(t,e,n){var i=t.xo[t.currentUser.toKey()];i||(i=new bv(ub)),i=i.insert(e,n),t.xo[t.currentUser.toKey()]=i}(i,r.batchId,n),[4,bk(i,r.changes)];case 3:return a.sent(),[4,wS(i.remoteStore)];case 4:return a.sent(),[3,6];case 5:return o=a.sent(),s=PS(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}})})}function rk(t,e){return Object(Ld.__awaiter)(this,void 0,void 0,function(){var n,i;return Object(Ld.__generator)(this,function(r){switch(r.label){case 0:n=sb(t),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,fC(n.localStore,e)];case 2:return i=r.sent(),e.targetChanges.forEach(function(t,e){var i=n.Co.get(e);i&&(ob(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?i.bo=!0:t.modifiedDocuments.size>0?ob(i.bo):t.removedDocuments.size>0&&(ob(i.bo),i.bo=!1))}),[4,bk(n,i,e)];case 3:return r.sent(),[3,6];case 4:return[4,Fw(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}})})}function ok(t,e,n){var i=sb(t);if(i.isPrimaryClient&&0===n||!i.isPrimaryClient&&1===n){var r=[];i.Po.forEach(function(t,n){var i=n.view.zr(e);i.snapshot&&r.push(i.snapshot)}),function(t,e){var n=sb(t);n.onlineState=e;var i=!1;n.queries.forEach(function(t,n){for(var r=0,o=n.listeners;r<o.length;r++)o[r].zr(e)&&(i=!0)}),i&&BS(n)}(i.eventManager,e),r.length&&i.vo._r(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function sk(t,e,n){return Object(Ld.__awaiter)(this,void 0,void 0,function(){var i,r,o,s,a,c;return Object(Ld.__generator)(this,function(u){switch(u.label){case 0:return(i=sb(t)).sharedClientState.updateQueryState(e,"rejected",n),r=i.Co.get(e),(o=r&&r.key)?(s=(s=new bv(Db.comparator)).insert(o,Qb.newNoDocument(o,fb.min())),a=Iv().add(o),c=new Pv(fb.min(),new Map,new yv(ub),s,a),[4,rk(i,c)]):[3,2];case 1:return u.sent(),i.Do=i.Do.remove(o),i.Co.delete(e),mk(i),[3,4];case 2:return[4,bC(i.localStore,e,!1).then(function(){return dk(i,e,n)}).catch(Fw)];case 3:u.sent(),u.label=4;case 4:return[2]}})})}function ak(t,e){return Object(Ld.__awaiter)(this,void 0,void 0,function(){var n,i,r;return Object(Ld.__generator)(this,function(o){switch(o.label){case 0:n=sb(t),i=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,hC(n.localStore,e)];case 2:return r=o.sent(),hk(n,i,null),lk(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),[4,bk(n,r)];case 3:return o.sent(),[3,6];case 4:return[4,Fw(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function ck(t,e,n){return Object(Ld.__awaiter)(this,void 0,void 0,function(){var i,r;return Object(Ld.__generator)(this,function(o){switch(o.label){case 0:i=sb(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=sb(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var i;return n._n.lookupMutationBatch(t,e).next(function(e){return ob(null!==e),i=e.keys(),n._n.removeMutationBatch(t,e)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,i)})})}(i.localStore,e)];case 2:return r=o.sent(),hk(i,e,n),lk(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),[4,bk(i,r)];case 3:return o.sent(),[3,6];case 4:return[4,Fw(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function uk(t,e){return Object(Ld.__awaiter)(this,void 0,void 0,function(){var n,i,r,o,s;return Object(Ld.__generator)(this,function(a){switch(a.label){case 0:pS((n=sb(t)).remoteStore)||tb("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=sb(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e._n.getHighestUnacknowledgedBatchId(t)})}(n.localStore)];case 2:return-1===(i=a.sent())?[2,void e.resolve()]:((r=n.ko.get(i)||[]).push(e),n.ko.set(i,r),[3,4]);case 3:return o=a.sent(),s=PS(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}})})}function lk(t,e){(t.ko.get(e)||[]).forEach(function(t){t.resolve()}),t.ko.delete(e)}function hk(t,e,n){var i=sb(t),r=i.xo[i.currentUser.toKey()];if(r){var o=r.get(e);o&&(n?o.reject(n):o.resolve(),r=r.remove(e)),i.xo[i.currentUser.toKey()]=r}}function dk(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var i=0,r=t.Vo.get(e);i<r.length;i++){var o=r[i];t.Po.delete(o),n&&t.vo.Mo(o,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach(function(e){t.No.containsKey(e)||fk(t,e)})}function fk(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);null!==n&&(uS(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),mk(t))}function pk(t,e,n){for(var i=0,r=n;i<r.length;i++){var o=r[i];o instanceof $S?(t.No.addReference(o.key,e),gk(t,o)):o instanceof YS?(tb("SyncEngine","Document no longer in limbo: "+o.key),t.No.removeReference(o.key,e),t.No.containsKey(o.key)||fk(t,o.key)):rb()}}function gk(t,e){var n=e.key,i=n.path.canonicalString();t.Do.get(n)||t.So.has(i)||(tb("SyncEngine","New document in limbo: "+n),t.So.add(i),mk(t))}function mk(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new Db(_b.fromString(e)),i=t.Fo.next();t.Co.set(i,new XS(n)),t.Do=t.Do.insert(n,i),cS(t.remoteStore,new rw(T_(v_(n.path)),i,2,Ym.o))}}function bk(t,e,n){return Object(Ld.__awaiter)(this,void 0,void 0,function(){var i,r,o,s;return Object(Ld.__generator)(this,function(a){switch(a.label){case 0:return i=sb(t),r=[],o=[],s=[],i.Po.isEmpty()?[3,3]:(i.Po.forEach(function(t,a){s.push(i.Oo(a,e,n).then(function(t){if(t){i.isPrimaryClient&&i.sharedClientState.updateQueryState(a.targetId,t.fromCache?"not-current":"current"),r.push(t);var e=sC.Pn(a.targetId,t);o.push(e)}}))}),[4,Promise.all(s)]);case 1:return a.sent(),i.vo._r(r),[4,function(t,e){return Object(Ld.__awaiter)(this,void 0,void 0,function(){var n,i,r,o,s,a,c,u;return Object(Ld.__generator)(this,function(l){switch(l.label){case 0:n=sb(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return zy.forEach(e,function(e){return zy.forEach(e.bn,function(i){return n.persistence.referenceDelegate.addReference(t,e.targetId,i)}).next(function(){return zy.forEach(e.vn,function(i){return n.persistence.referenceDelegate.removeReference(t,e.targetId,i)})})})})];case 2:return l.sent(),[3,4];case 3:if(!Yy(i=l.sent()))throw i;return tb("LocalStore","Failed to update sequence numbers: "+i),[3,4];case 4:for(r=0,o=e;r<o.length;r++)a=(s=o[r]).targetId,s.fromCache||(c=n.kn.get(a),u=c.withLastLimboFreeSnapshotVersion(c.snapshotVersion),n.kn=n.kn.insert(a,u));return[2]}})})}(i.localStore,o)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}function _k(t,e){return Object(Ld.__awaiter)(this,void 0,void 0,function(){var n,i;return Object(Ld.__generator)(this,function(r){switch(r.label){case 0:return(n=sb(t)).currentUser.isEqual(e)?[3,3]:(tb("SyncEngine","User change. New user:",e.toKey()),[4,lC(n.localStore,e)]);case 1:return i=r.sent(),n.currentUser=e,function(t,e){t.ko.forEach(function(t){t.forEach(function(t){t.reject(new Zm(Qm.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.ko.clear()}(n),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),[4,bk(n,i.Ln)];case 2:r.sent(),r.label=3;case 3:return[2]}})})}function vk(t,e){var n=sb(t),i=n.Co.get(e);if(i&&i.bo)return Iv().add(i.key);var r=Iv(),o=n.Vo.get(e);if(!o)return r;for(var s=0,a=o;s<a.length;s++){var c=n.Po.get(a[s]);r=r.unionWith(c.view.wo)}return r}function yk(t,e){return Object(Ld.__awaiter)(this,void 0,void 0,function(){var n,i,r;return Object(Ld.__generator)(this,function(o){switch(o.label){case 0:return[4,_C((n=sb(t)).localStore,e.query,!0)];case 1:return i=o.sent(),r=e.view.Ao(i),[2,(n.isPrimaryClient&&pk(n,e.targetId,r.To),r)]}})})}function wk(t){return Object(Ld.__awaiter)(this,void 0,void 0,function(){var e;return Object(Ld.__generator)(this,function(n){return[2,yC((e=sb(t)).localStore).then(function(t){return bk(e,t)})]})})}function Ck(t,e,n,i){return Object(Ld.__awaiter)(this,void 0,void 0,function(){var r,o;return Object(Ld.__generator)(this,function(s){switch(s.label){case 0:return[4,function(t,e){var n=sb(t),i=sb(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return i.jt(t,e).next(function(e){return e?n.Mn.pn(t,e):zy.resolve(null)})})}((r=sb(t)).localStore,e)];case 1:return null===(o=s.sent())?[3,6]:"pending"!==n?[3,3]:[4,wS(r.remoteStore)];case 2:return s.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(hk(r,e,i||null),lk(r,e),function(t,e){sb(sb(t)._n).Gt(e)}(r.localStore,e)):rb(),s.label=4;case 4:return[4,bk(r,o)];case 5:return s.sent(),[3,7];case 6:tb("SyncEngine","Cannot apply mutation batch with id: "+e),s.label=7;case 7:return[2]}})})}function Sk(t,e){return Object(Ld.__awaiter)(this,void 0,void 0,function(){var n,i,r,o,s,a,c;return Object(Ld.__generator)(this,function(u){switch(u.label){case 0:return Ik(n=sb(t)),Ak(n),!0!==e||!0===n.$o?[3,3]:(i=n.sharedClientState.getAllActiveQueryTargets(),[4,kk(n,i.toArray())]);case 1:return r=u.sent(),n.$o=!0,[4,ES(n.remoteStore,!0)];case 2:for(u.sent(),o=0,s=r;o<s.length;o++)cS(n.remoteStore,s[o]);return[3,7];case 3:return!1!==e||!1===n.$o?[3,7]:(a=[],c=Promise.resolve(),n.Vo.forEach(function(t,e){n.sharedClientState.isLocalQueryTarget(e)?a.push(e):c=c.then(function(){return dk(n,e),bC(n.localStore,e,!0)}),uS(n.remoteStore,e)}),[4,c]);case 4:return u.sent(),[4,kk(n,a)];case 5:return u.sent(),function(t){var e=sb(t);e.Co.forEach(function(t,n){uS(e.remoteStore,n)}),e.No.ts(),e.Co=new Map,e.Do=new bv(Db.comparator)}(n),n.$o=!1,[4,ES(n.remoteStore,!1)];case 6:u.sent(),u.label=7;case 7:return[2]}})})}function kk(t,e,n){return Object(Ld.__awaiter)(this,void 0,void 0,function(){var n,i,r,o,s,a,c,u,l,h,d,f,p;return Object(Ld.__generator)(this,function(g){switch(g.label){case 0:n=sb(t),i=[],r=[],o=0,s=e,g.label=1;case 1:return o<s.length?(c=void 0,(u=n.Vo.get(a=s[o]))&&0!==u.length?[4,mC(n.localStore,T_(u[0]))]:[3,7]):[3,13];case 2:c=g.sent(),l=0,h=u,g.label=3;case 3:return l<h.length?(d=n.Po.get(h[l]),[4,yk(n,d)]):[3,6];case 4:(f=g.sent()).snapshot&&r.push(f.snapshot),g.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,vC(n.localStore,a)];case 8:return p=g.sent(),[4,mC(n.localStore,p)];case 9:return c=g.sent(),[4,ek(n,Ok(p),a,!1)];case 10:g.sent(),g.label=11;case 11:i.push(c),g.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(r),i)]}})})}function Ok(t){return __(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Tk(t){var e=sb(t);return sb(sb(e.localStore).persistence).fn()}function xk(t,e,n,i){return Object(Ld.__awaiter)(this,void 0,void 0,function(){var r,o,s;return Object(Ld.__generator)(this,function(a){switch(a.label){case 0:return(r=sb(t)).$o?(tb("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!r.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,yC(r.localStore)];case 3:return o=a.sent(),s=Pv.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,bk(r,o,s)];case 4:return a.sent(),[3,8];case 5:return[4,bC(r.localStore,e,!0)];case 6:return a.sent(),dk(r,e,i),[3,8];case 7:rb(),a.label=8;case 8:return[2]}})})}function Ek(t,e,n){return Object(Ld.__awaiter)(this,void 0,void 0,function(){var i,r,o,s,a,c,u,l,h;return Object(Ld.__generator)(this,function(d){switch(d.label){case 0:if(!(i=Ik(t)).$o)return[3,10];r=0,o=e,d.label=1;case 1:return r<o.length?i.Vo.has(s=o[r])?(tb("SyncEngine","Adding an already active target "+s),[3,5]):[4,vC(i.localStore,s)]:[3,6];case 2:return a=d.sent(),[4,mC(i.localStore,a)];case 3:return c=d.sent(),[4,ek(i,Ok(a),c.targetId,!1)];case 4:d.sent(),cS(i.remoteStore,c),d.label=5;case 5:return r++,[3,1];case 6:u=function(t){return Object(Ld.__generator)(this,function(e){switch(e.label){case 0:return i.Vo.has(t)?[4,bC(i.localStore,t,!1).then(function(){uS(i.remoteStore,t),dk(i,t)}).catch(Fw)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},l=0,h=n,d.label=7;case 7:return l<h.length?[5,u(h[l])]:[3,10];case 8:d.sent(),d.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}function Ik(t){var e=sb(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=rk.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=vk.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=sk.bind(null,e),e.vo._r=US.bind(null,e.eventManager),e.vo.Mo=qS.bind(null,e.eventManager),e}function Ak(t){var e=sb(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ak.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ck.bind(null,e),e}function Rk(t,e,n){var i=sb(t);(function(t,e,n){return Object(Ld.__awaiter)(this,void 0,void 0,function(){var i,r,o,s,a,c;return Object(Ld.__generator)(this,function(u){switch(u.label){case 0:return u.trys.push([0,14,,15]),[4,e.getMetadata()];case 1:return i=u.sent(),[4,function(t,e){var n=sb(t),i=Kv(e.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",function(t){return n.Ke.getBundleMetadata(t,e.id)}).then(function(t){return!!t&&t.createTime.compareTo(i)>=0})}(t.localStore,i)];case 2:return u.sent()?[4,e.close()]:[3,4];case 3:return[2,(u.sent(),void n._completeWith(function(t){return{taskState:"Success",documentsLoaded:t.totalDocuments,bytesLoaded:t.totalBytes,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(i)))];case 4:return n._updateProgress(KS(i)),r=new GS(i,t.localStore,e.R),[4,e.Lo()];case 5:o=u.sent(),u.label=6;case 6:return o?[4,r.oo(o)]:[3,10];case 7:return(s=u.sent())&&n._updateProgress(s),[4,e.Lo()];case 8:o=u.sent(),u.label=9;case 9:return[3,6];case 10:return[4,r.complete()];case 11:return a=u.sent(),[4,bk(t,a.wn,void 0)];case 12:return u.sent(),[4,function(t,e){var n=sb(t);return n.persistence.runTransaction("Save bundle","readwrite",function(t){return n.Ke.saveBundleMetadata(t,e)})}(t.localStore,i)];case 13:return u.sent(),n._completeWith(a.progress),[3,15];case 14:return nb("SyncEngine","Loading bundle failed with "+(c=u.sent())),n._failWith(c),[3,15];case 15:return[2]}})})})(i,e,n).then(function(){i.sharedClientState.notifyBundleLoaded()})}var Pk=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(Ld.__awaiter)(this,void 0,void 0,function(){return Object(Ld.__generator)(this,function(e){switch(e.label){case 0:return this.R=XC(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Ko(t),[2]}})})},t.prototype.Uo=function(t){return null},t.prototype.Ko=function(t){return uC(this.persistence,new aC,t.initialUser,this.R)},t.prototype.qo=function(t){return new RC(DC.bs,this.R)},t.prototype.Bo=function(t){return new zC},t.prototype.terminate=function(){return Object(Ld.__awaiter)(this,void 0,void 0,function(){return Object(Ld.__generator)(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},t}(),Dk=function(t){function e(e,n,i){var r=this;return(r=t.call(this)||this).Qo=e,r.cacheSizeBytes=n,r.forceOwnership=i,r.synchronizeTabs=!1,r}return Object(Ld.__extends)(e,t),e.prototype.initialize=function(e){return Object(Ld.__awaiter)(this,void 0,void 0,function(){var n=this;return Object(Ld.__generator)(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),[4,wC(this.localStore)];case 2:return i.sent(),[4,this.Qo.initialize(this,e)];case 3:return i.sent(),[4,Ak(this.Qo.syncEngine)];case 4:return i.sent(),[4,wS(this.Qo.remoteStore)];case 5:return i.sent(),[4,this.persistence.He(function(){return n.gcScheduler&&!n.gcScheduler.started&&n.gcScheduler.start(n.localStore),Promise.resolve()})];case 6:return i.sent(),[2]}})})},e.prototype.Ko=function(t){return uC(this.persistence,new aC,t.initialUser,this.R)},e.prototype.Uo=function(t){return new Uw(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)},e.prototype.qo=function(t){var e=iC(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?kw.withCacheSize(this.cacheSizeBytes):kw.DEFAULT;return new tC(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,QC(),ZC(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(t){return new zC},e}(Pk),Mk=function(t){function e(e,n){var i=this;return(i=t.call(this,e,n,!1)||this).Qo=e,i.cacheSizeBytes=n,i.synchronizeTabs=!0,i}return Object(Ld.__extends)(e,t),e.prototype.initialize=function(e){return Object(Ld.__awaiter)(this,void 0,void 0,function(){var n,i=this;return Object(Ld.__generator)(this,function(r){switch(r.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return r.sent(),n=this.Qo.syncEngine,this.sharedClientState instanceof HC?(this.sharedClientState.syncEngine={ui:Ck.bind(null,n),ai:xk.bind(null,n),hi:Ek.bind(null,n),fn:Tk.bind(null,n),ci:wk.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:r.sent(),r.label=3;case 3:return[4,this.persistence.He(function(t){return Object(Ld.__awaiter)(i,void 0,void 0,function(){return Object(Ld.__generator)(this,function(e){switch(e.label){case 0:return[4,Sk(this.Qo.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}})})})];case 4:return r.sent(),[2]}})})},e.prototype.Bo=function(t){var e=QC();if(!HC.yt(e))throw new Zm(Qm.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=iC(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new HC(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(Dk),Nk=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(Ld.__awaiter)(this,void 0,void 0,function(){var n=this;return Object(Ld.__generator)(this,function(i){switch(i.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return ok(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=_k.bind(null,this.syncEngine),[4,ES(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:i.sent(),i.label=2;case 2:return[2]}})})},t.prototype.createEventManager=function(t){return new FS},t.prototype.createDatastore=function(t){var e=XC(t.databaseInfo.databaseId),n=new YC(t.databaseInfo);return function(t,e,n){return new iS(t,e,n)}(t.credentials,n,e)},t.prototype.createRemoteStore=function(t){var e,n,i,r,o,s=this;return e=this.localStore,n=this.datastore,i=t.asyncQueue,r=function(t){return ok(s.syncEngine,t,0)},o=GC.yt()?new GC:new WC,new oS(e,n,i,r,o)},t.prototype.createSyncEngine=function(t,e){return function(t,e,n,i,r,o,s){var a=new JS(t,e,n,i,r,o);return s&&(a.$o=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},t.prototype.terminate=function(){return function(t){return Object(Ld.__awaiter)(this,void 0,void 0,function(){var e;return Object(Ld.__generator)(this,function(n){switch(n.label){case 0:return e=sb(t),tb("RemoteStore","RemoteStore shutting down."),e.Or.add(5),[4,aS(e)];case 1:return n.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}})})}(this.remoteStore)},t}();function jk(t,e){void 0===e&&(e=10240);var n=0;return{read:function(){return Object(Ld.__awaiter)(this,void 0,void 0,function(){var i;return Object(Ld.__generator)(this,function(r){return n<t.byteLength?(i={value:t.slice(n,n+e),done:!1},[2,(n+=e,i)]):[2,{done:!0}]})})},cancel:function(){return Object(Ld.__awaiter)(this,void 0,void 0,function(){return Object(Ld.__generator)(this,function(t){return[2]})})},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var Fk=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),Lk=function(){function t(t,e){var n=this;this.Go=t,this.R=e,this.metadata=new Hy,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(t){t&&t.io()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}return t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return Object(Ld.__awaiter)(this,void 0,void 0,function(){return Object(Ld.__generator)(this,function(t){return[2,this.metadata.promise]})})},t.prototype.Lo=function(){return Object(Ld.__awaiter)(this,void 0,void 0,function(){return Object(Ld.__generator)(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}})})},t.prototype.Ho=function(){return Object(Ld.__awaiter)(this,void 0,void 0,function(){var t,e,n,i;return Object(Ld.__generator)(this,function(r){switch(r.label){case 0:return[4,this.Jo()];case 1:return null===(t=r.sent())?[2,null]:(e=this.zo.decode(t),n=Number(e),isNaN(n)&&this.Yo("length string ("+e+") is not valid number"),[4,this.Xo(n)]);case 2:return i=r.sent(),[2,new zS(JSON.parse(i),t.length+n)]}})})},t.prototype.Zo=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},t.prototype.Jo=function(){return Object(Ld.__awaiter)(this,void 0,void 0,function(){var t,e;return Object(Ld.__generator)(this,function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},t.prototype.Xo=function(t){return Object(Ld.__awaiter)(this,void 0,void 0,function(){var e;return Object(Ld.__generator)(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},t.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.tc=function(){return Object(Ld.__awaiter)(this,void 0,void 0,function(){var t,e;return Object(Ld.__generator)(this,function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})},t}(),Vk=function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return Object(Ld.__awaiter)(this,void 0,void 0,function(){var e,n=this;return Object(Ld.__generator)(this,function(i){switch(i.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Zm(Qm.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(Ld.__awaiter)(this,void 0,void 0,function(){var n,i,r,o,s,a;return Object(Ld.__generator)(this,function(c){switch(c.label){case 0:return n=sb(t),i=ty(n.R)+"/documents",r={documents:e.map(function(t){return Qv(n.R,t)})},[4,n.$i("BatchGetDocuments",i,r)];case 1:return o=c.sent(),s=new Map,o.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){ob(!!e.found);var n=Zv(t,e.found.name),i=Kv(e.found.updateTime),r=new $b({mapValue:{fields:e.found.fields}});return Qb.newFoundDocument(n,i,r)}(t,e):"missing"in e?function(t,e){ob(!!e.missing),ob(!!e.readTime);var n=Zv(t,e.missing),i=Kv(e.readTime);return Qb.newNoDocument(n,i)}(t,e):rb()}(n.R,t);s.set(e.key.toString(),e)}),a=[],[2,(e.forEach(function(t){var e=s.get(t.toString());ob(!!e),a.push(e)}),a)]}})})}(this.datastore,t)];case 1:return[2,((e=i.sent()).forEach(function(t){return n.recordVersion(t)}),e)]}})})},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new dv(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return Object(Ld.__awaiter)(this,void 0,void 0,function(){var t,e=this;return Object(Ld.__generator)(this,function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var i=Db.fromPath(n);e.mutations.push(new fv(i,e.precondition(i)))}),[4,function(t,e){return Object(Ld.__awaiter)(this,void 0,void 0,function(){var n,i,r;return Object(Ld.__generator)(this,function(o){switch(o.label){case 0:return n=sb(t),i=ty(n.R)+"/documents",r={writes:e.map(function(t){return ry(n.R,t)})},[4,n.Ni("Commit",i,r)];case 1:return o.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}})})},t.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw rb();e=fb.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new Zm(Qm.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?Z_.updateTime(e):Z_.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(fb.min()))throw new Zm(Qm.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Z_.updateTime(e)}return Z_.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}(),Uk=function(){function t(t,e,n,i){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=i,this.ec=5,this.Zi=new JC(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.ec-=1,this.nc()},t.prototype.nc=function(){var t=this;this.Zi.ji(function(){return Object(Ld.__awaiter)(t,void 0,void 0,function(){var t,e,n=this;return Object(Ld.__generator)(this,function(i){return t=new Vk(this.datastore),(e=this.sc(t))&&e.then(function(e){n.asyncQueue.enqueueAndForget(function(){return t.commit().then(function(){n.deferred.resolve(e)}).catch(function(t){n.ic(t)})})}).catch(function(t){n.ic(t)}),[2]})})})},t.prototype.sc=function(t){try{var e=this.updateFunction(t);return!Ab(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.ic=function(t){var e=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return e.nc(),Promise.resolve()})):this.deferred.reject(t)},t.prototype.rc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!gv(e)}return!1},t}(),qk=function(){function t(t,e,n){var i=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=MC.UNAUTHENTICATED,this.clientId=cb.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(e,function(t){return Object(Ld.__awaiter)(i,void 0,void 0,function(){return Object(Ld.__generator)(this,function(e){switch(e.label){case 0:return tb("FirestoreClient","Received user=",t.uid),[4,this.credentialListener(t)];case 1:return e.sent(),this.user=t,[2]}})})})}return t.prototype.getConfiguration=function(){return Object(Ld.__awaiter)(this,void 0,void 0,function(){return Object(Ld.__generator)(this,function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},t.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new Zm(Qm.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new Hy;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return Object(Ld.__awaiter)(t,void 0,void 0,function(){var t,n;return Object(Ld.__generator)(this,function(i){switch(i.label){case 0:return i.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:i.sent(),i.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:i.sent(),i.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=i.sent(),n=PS(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function Bk(t,e){return Object(Ld.__awaiter)(this,void 0,void 0,function(){var n,i,r=this;return Object(Ld.__generator)(this,function(o){switch(o.label){case 0:return t.asyncQueue.verifyOperationInProgress(),tb("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),i=n.initialUser,t.setCredentialChangeListener(function(t){return Object(Ld.__awaiter)(r,void 0,void 0,function(){return Object(Ld.__generator)(this,function(n){switch(n.label){case 0:return i.isEqual(t)?[3,2]:[4,lC(e.localStore,t)];case 1:n.sent(),i=t,n.label=2;case 2:return[2]}})})}),e.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t.offlineComponents=e,[2]}})})}function Hk(t,e){return Object(Ld.__awaiter)(this,void 0,void 0,function(){var n,i;return Object(Ld.__generator)(this,function(r){switch(r.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,zk(t)];case 1:return n=r.sent(),tb("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return i=r.sent(),[4,e.initialize(n,i)];case 3:return r.sent(),t.setCredentialChangeListener(function(t){return function(t,e){return Object(Ld.__awaiter)(this,void 0,void 0,function(){var n,i;return Object(Ld.__generator)(this,function(r){switch(r.label){case 0:return(n=sb(t)).asyncQueue.verifyOperationInProgress(),tb("RemoteStore","RemoteStore received new credentials"),i=pS(n),n.Or.add(3),[4,aS(n)];case 1:return r.sent(),i&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return r.sent(),n.Or.delete(3),[4,sS(n)];case 3:return r.sent(),[2]}})})}(e.remoteStore,t)}),t.onlineComponents=e,[2]}})})}function zk(t){return Object(Ld.__awaiter)(this,void 0,void 0,function(){return Object(Ld.__generator)(this,function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(tb("FirestoreClient","Using default OfflineComponentProvider"),[4,Bk(t,new Pk)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}})})}function Wk(t){return Object(Ld.__awaiter)(this,void 0,void 0,function(){return Object(Ld.__generator)(this,function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(tb("FirestoreClient","Using default OnlineComponentProvider"),[4,Hk(t,new Nk)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}})})}function Gk(t){return zk(t).then(function(t){return t.persistence})}function Kk(t){return zk(t).then(function(t){return t.localStore})}function $k(t){return Wk(t).then(function(t){return t.remoteStore})}function Yk(t){return Wk(t).then(function(t){return t.syncEngine})}function Qk(t){return Object(Ld.__awaiter)(this,void 0,void 0,function(){var e,n;return Object(Ld.__generator)(this,function(i){switch(i.label){case 0:return[4,Wk(t)];case 1:return e=i.sent(),[2,((n=e.eventManager).onListen=tk.bind(null,e.syncEngine),n.onUnlisten=nk.bind(null,e.syncEngine),n)]}})})}function Zk(t,e,n){var i=this;void 0===n&&(n={});var r=new Hy;return t.asyncQueue.enqueueAndForget(function(){return Object(Ld.__awaiter)(i,void 0,void 0,function(){var i;return Object(Ld.__generator)(this,function(o){switch(o.label){case 0:return i=function(t,e,n,i,r){var o=new Fk({next:function(o){e.enqueueAndForget(function(){return VS(t,s)});var a=o.docs.has(n);!a&&o.fromCache?r.reject(new Zm(Qm.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&i&&"server"===i.source?r.reject(new Zm(Qm.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):r.resolve(o)},error:function(t){return r.reject(t)}}),s=new HS(v_(n.path),o,{includeMetadataChanges:!0,so:!0});return LS(t,s)},[4,Qk(t)];case 1:return[2,i.apply(void 0,[o.sent(),t.asyncQueue,e,n,r])]}})})}),r.promise}function Xk(t,e,n){var i=this;void 0===n&&(n={});var r=new Hy;return t.asyncQueue.enqueueAndForget(function(){return Object(Ld.__awaiter)(i,void 0,void 0,function(){var i;return Object(Ld.__generator)(this,function(o){switch(o.label){case 0:return i=function(t,e,n,i,r){var o=new Fk({next:function(n){e.enqueueAndForget(function(){return VS(t,s)}),n.fromCache&&"server"===i.source?r.reject(new Zm(Qm.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):r.resolve(n)},error:function(t){return r.reject(t)}}),s=new HS(n,o,{includeMetadataChanges:!0,so:!0});return LS(t,s)},[4,Qk(t)];case 1:return[2,i.apply(void 0,[o.sent(),t.asyncQueue,e,n,r])]}})})}),r.promise}var Jk=function(t,e,n,i,r,o,s,a){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=i,this.ssl=r,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=a},tO=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),eO=new Map,nO=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},iO=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){this.changeListener=e,t.enqueueRetryable(function(){return e(MC.UNAUTHENTICATED)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),rO=function(){function t(t){this.token=t,this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(this.token)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){var n=this;this.changeListener=e,t.enqueueRetryable(function(){return e(n.token.user)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),oO=function(){function t(t){var e=this;this.currentUser=MC.UNAUTHENTICATED,this.oc=new Hy,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){e.cc++,e.currentUser=e.ac(),e.oc.resolve(),e.changeListener&&e.asyncQueue.enqueueRetryable(function(){return e.changeListener(e.currentUser)})};var n=function(t){tb("FirebaseCredentialsProvider","Auth detected"),e.auth=t,e.auth.addAuthTokenListener(e.uc)};t.onInit(function(t){return n(t)}),setTimeout(function(){if(!e.auth){var i=t.getImmediate({optional:!0});i?n(i):(tb("FirebaseCredentialsProvider","Auth not yet detected"),e.oc.resolve())}},0)}return t.prototype.getToken=function(){var t=this,e=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.cc!==e?(tb("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(ob("string"==typeof n.accessToken),new nO(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t,e){var n=this;this.asyncQueue=t,this.asyncQueue.enqueueRetryable(function(){return Object(Ld.__awaiter)(n,void 0,void 0,function(){return Object(Ld.__generator)(this,function(t){switch(t.label){case 0:return[4,this.oc.promise];case 1:return t.sent(),[4,e(this.currentUser)];case 2:return t.sent(),this.changeListener=e,[2]}})})})},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},t.prototype.ac=function(){var t=this.auth&&this.auth.getUid();return ob(null===t||"string"==typeof t),new MC(t)},t}(),sO=function(){function t(t,e,n){this.hc=t,this.lc=e,this.fc=n,this.type="FirstParty",this.user=MC.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.lc},e=this.hc.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.fc&&(t["X-Goog-Iam-Authorization-Token"]=this.fc),t},enumerable:!1,configurable:!0}),t}(),aO=function(){function t(t,e,n){this.hc=t,this.lc=e,this.fc=n}return t.prototype.getToken=function(){return Promise.resolve(new sO(this.hc,this.lc,this.fc))},t.prototype.setChangeListener=function(t,e){t.enqueueRetryable(function(){return e(MC.FIRST_PARTY)})},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function cO(t,e,n){if(!n)throw new Zm(Qm.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function uO(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Zm(Qm.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function lO(t,e,n,i){if(!0===e&&!0===i)throw new Zm(Qm.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function hO(t){if(!Db.isDocumentKey(t))throw new Zm(Qm.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function dO(t){if(Db.isDocumentKey(t))throw new Zm(Qm.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function fO(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":rb()}function pO(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Zm(Qm.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=fO(t);throw new Zm(Qm.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function gO(t,e){if(e<=0)throw new Zm(Qm.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var mO=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Zm(Qm.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Zm(Qm.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,lO("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},t}(),bO=function(){function t(t,e){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mO({}),this._settingsFrozen=!1,t instanceof tO?(this._databaseId=t,this._credentials=new iO):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Zm(Qm.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new tO(t.options.projectId)}(t),this._credentials=new oO(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new Zm(Qm.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new Zm(Qm.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mO(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new iO;switch(t.type){case"gapi":var e=t.client;return ob(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new aO(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Zm(Qm.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return(t=eO.get(this))&&(tb("ComponentProvider","Removing Datastore"),eO.delete(this),t.terminate()),Promise.resolve();var t},t}(),_O=function(){function t(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new yO(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),vO=function(){function t(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),yO=function(t){function e(e,n,i){var r=this;return(r=t.call(this,e,n,v_(i))||this)._path=i,r.type="collection",r}return Object(Ld.__extends)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new _O(this.firestore,null,new Db(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(vO);function wO(t,e){for(var n,i=[],r=2;r<arguments.length;r++)i[r-2]=arguments[r];if(t=Object(Vd.getModularInstance)(t),cO("collection","path",e),t instanceof bO)return dO(n=_b.fromString.apply(_b,Object(Ld.__spreadArray)([e],i))),new yO(t,null,n);if(!(t instanceof _O||t instanceof yO))throw new Zm(Qm.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return dO(n=_b.fromString.apply(_b,Object(Ld.__spreadArray)([t.path],i)).child(_b.fromString(e))),new yO(t.firestore,null,n)}function CO(t,e){for(var n,i=[],r=2;r<arguments.length;r++)i[r-2]=arguments[r];if(t=Object(Vd.getModularInstance)(t),1===arguments.length&&(e=cb.u()),cO("doc","path",e),t instanceof bO)return hO(n=_b.fromString.apply(_b,Object(Ld.__spreadArray)([e],i))),new _O(t,null,new Db(n));if(!(t instanceof _O||t instanceof yO))throw new Zm(Qm.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return hO(n=t._path.child(_b.fromString.apply(_b,Object(Ld.__spreadArray)([e],i)))),new _O(t.firestore,t instanceof yO?t.converter:null,new Db(n))}function SO(t,e){return t=Object(Vd.getModularInstance)(t),e=Object(Vd.getModularInstance)(e),(t instanceof _O||t instanceof yO)&&(e instanceof _O||e instanceof yO)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function kO(t,e){return t=Object(Vd.getModularInstance)(t),e=Object(Vd.getModularInstance)(e),t instanceof vO&&e instanceof vO&&t.firestore===e.firestore&&E_(t._query,e._query)&&t.converter===e.converter}var OO=function(){function t(){var t=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new JC(this,"async_queue_retry"),this.Ic=function(){var e=ZC();e&&tb("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Zi.Gi()};var e=ZC();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ac(),this.Rc(t)},t.prototype.enterRestrictedMode=function(t){if(!this._c){this._c=!0,this.Ec=t||!1;var e=ZC();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Ic)}},t.prototype.enqueue=function(t){var e=this;if(this.Ac(),this._c)return new Promise(function(){});var n=new Hy;return this.Rc(function(){return e._c&&e.Ec?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)}).then(function(){return n.promise})},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget(function(){return e.wc.push(t),e.bc()})},t.prototype.bc=function(){return Object(Ld.__awaiter)(this,void 0,void 0,function(){var t,e=this;return Object(Ld.__generator)(this,function(n){switch(n.label){case 0:if(0===this.wc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return n.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!Yy(t=n.sent()))throw t;return tb("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return e.bc()}),n.label=5;case 5:return[2]}})})},t.prototype.Rc=function(t){var e=this,n=this.dc.then(function(){return e.gc=!0,t().catch(function(t){throw e.yc=t,e.gc=!1,eb("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.gc=!1,t})});return this.dc=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var i=this;this.Ac(),this.Tc.indexOf(t)>-1&&(e=0);var r=RS.createAndSchedule(this,t,e,n,function(t){return i.vc(t)});return this.mc.push(r),r},t.prototype.Ac=function(){this.yc&&rb()},t.prototype.verifyOperationInProgress=function(){},t.prototype.Pc=function(){return Object(Ld.__awaiter)(this,void 0,void 0,function(){var t;return Object(Ld.__generator)(this,function(e){switch(e.label){case 0:return[4,t=this.dc];case 1:e.sent(),e.label=2;case 2:if(t!==this.dc)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.Vc=function(t){for(var e=0,n=this.mc;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.Sc=function(t){var e=this;return this.Pc().then(function(){e.mc.sort(function(t,e){return t.targetTimeMs-e.targetTimeMs});for(var n=0,i=e.mc;n<i.length;n++){var r=i[n];if(r.skipDelay(),"all"!==t&&r.timerId===t)break}return e.Pc()})},t.prototype.Dc=function(t){this.Tc.push(t)},t.prototype.vc=function(t){var e=this.mc.indexOf(t);this.mc.splice(e,1)},t}();function TO(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,i=0,r=["next","error","complete"];i<r.length;i++){var o=r[i];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}var xO=function(){function t(){this._progressObserver={},this._taskCompletionResolver=new Hy,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return t.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},t.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},t.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},t.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},t.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)},t}(),EO=function(t){function e(e,n){var i=this;return(i=t.call(this,e,n)||this).type="firestore",i._queue=new OO,i._persistenceKey="name"in e?e.name:"[DEFAULT]",i}return Object(Ld.__extends)(e,t),e.prototype._terminate=function(){return this._firestoreClient||AO(this),this._firestoreClient.terminate()},e}(bO);function IO(t){return t._firestoreClient||AO(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function AO(t){var e,n=t._freezeSettings(),i=function(t,e,n,i){return new Jk(t,e,n,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,i.useFetchStreams)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new qk(t._credentials,t._queue,i)}function RO(t,e,n){var i=this,r=new Hy;return t.asyncQueue.enqueue(function(){return Object(Ld.__awaiter)(i,void 0,void 0,function(){var i;return Object(Ld.__generator)(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,Bk(t,n)];case 1:return o.sent(),[4,Hk(t,e)];case 2:return o.sent(),r.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===Qm.FAILED_PRECONDITION||t.code===Qm.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(i=o.sent()))throw i;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i),r.reject(i),[3,4];case 4:return[2]}})})}).then(function(){return r.promise})}function PO(t){if(t._initialized||t._terminated)throw new Zm(Qm.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var DO=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new Zm(Qm.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new yb(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),MO=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(Cb.fromBase64String(e))}catch(e){throw new Zm(Qm.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(Cb.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),NO=function(t){this._methodName=t},jO=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new Zm(Qm.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Zm(Qm.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return ub(this._lat,t._lat)||ub(this._long,t._long)},t}(),FO=/^__.*__$/,LO=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new sv(t,this.data,this.fieldMask,e,this.fieldTransforms):new ov(t,this.data,e,this.fieldTransforms)},t}(),VO=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new sv(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();function UO(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw rb()}}var qO=function(){function t(t,e,n,i,r,o){this.settings=t,this.databaseId=e,this.R=n,this.ignoreUndefinedProperties=i,void 0===r&&this.Cc(),this.fieldTransforms=r||[],this.fieldMask=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),t.prototype.xc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.kc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),i=this.xc({path:n,Fc:!1});return i.$c(t),i},t.prototype.Oc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),i=this.xc({path:n,Fc:!1});return i.Cc(),i},t.prototype.Mc=function(t){return this.xc({path:void 0,Fc:!0})},t.prototype.Lc=function(t){return aT(t,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find(function(e){return t.isPrefixOf(e)})||void 0!==this.fieldTransforms.find(function(e){return t.isPrefixOf(e.field)})},t.prototype.Cc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.$c(this.path.get(t))},t.prototype.$c=function(t){if(0===t.length)throw this.Lc("Document fields must not be empty");if(UO(this.Nc)&&FO.test(t))throw this.Lc('Document fields cannot begin and end with "__"')},t}(),BO=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=n||XC(t)}return t.prototype.Uc=function(t,e,n,i){return void 0===i&&(i=!1),new qO({Nc:t,methodName:e,qc:n,path:yb.emptyPath(),Fc:!1,Bc:i},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function HO(t){var e=t._freezeSettings(),n=XC(t._databaseId);return new BO(t._databaseId,!!e.ignoreUndefinedProperties,n)}function zO(t,e,n,i,r,o){void 0===o&&(o={});var s=t.Uc(o.merge||o.mergeFields?2:0,e,n,r);iT("Data must be an object, but it was:",s,i);var a,c,u=eT(i,s);if(o.merge)a=new wb(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,d=o.mergeFields;h<d.length;h++){var f=rT(e,d[h],n);if(!s.contains(f))throw new Zm(Qm.INVALID_ARGUMENT,"Field '"+f+"' is specified in your field mask but missing from your input data.");cT(l,f)||l.push(f)}a=new wb(l),c=s.fieldTransforms.filter(function(t){return a.covers(t.field)})}else a=null,c=s.fieldTransforms;return new LO(new $b(u),a,c)}var WO=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ld.__extends)(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.Nc)throw t.Lc(1===t.Nc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(NO);function GO(t,e,n){return new qO({Nc:3,qc:e.settings.qc,methodName:t._methodName,Fc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var KO=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ld.__extends)(e,t),e.prototype._toFieldTransform=function(t){return new Y_(t.path,new q_)},e.prototype.isEqual=function(t){return t instanceof e},e}(NO),$O=function(t){function e(e,n){var i=this;return(i=t.call(this,e)||this).Kc=n,i}return Object(Ld.__extends)(e,t),e.prototype._toFieldTransform=function(t){var e=GO(this,t,!0),n=this.Kc.map(function(t){return tT(t,e)}),i=new B_(n);return new Y_(t.path,i)},e.prototype.isEqual=function(t){return this===t},e}(NO),YO=function(t){function e(e,n){var i=this;return(i=t.call(this,e)||this).Kc=n,i}return Object(Ld.__extends)(e,t),e.prototype._toFieldTransform=function(t){var e=GO(this,t,!0),n=this.Kc.map(function(t){return tT(t,e)}),i=new z_(n);return new Y_(t.path,i)},e.prototype.isEqual=function(t){return this===t},e}(NO),QO=function(t){function e(e,n){var i=this;return(i=t.call(this,e)||this).Qc=n,i}return Object(Ld.__extends)(e,t),e.prototype._toFieldTransform=function(t){var e=new G_(t.R,j_(t.R,this.Qc));return new Y_(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(NO);function ZO(t,e,n,i){var r=t.Uc(1,e,n);iT("Data must be an object, but it was:",r,i);var o=[],s=$b.empty();gb(i,function(t,i){var a=sT(e,t,n);i=Object(Vd.getModularInstance)(i);var c=r.Oc(a);if(i instanceof WO)o.push(a);else{var u=tT(i,c);null!=u&&(o.push(a),s.set(a,u))}});var a=new wb(o);return new VO(s,a,r.fieldTransforms)}function XO(t,e,n,i,r,o){var s=t.Uc(1,e,n),a=[rT(e,i,n)],c=[r];if(o.length%2!=0)throw new Zm(Qm.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var u=0;u<o.length;u+=2)a.push(rT(e,o[u])),c.push(o[u+1]);for(var l=[],h=$b.empty(),d=a.length-1;d>=0;--d)if(!cT(l,a[d])){var f=a[d],p=c[d];p=Object(Vd.getModularInstance)(p);var g=s.Oc(f);if(p instanceof WO)l.push(f);else{var m=tT(p,g);null!=m&&(l.push(f),h.set(f,m))}}var b=new wb(l);return new VO(h,b,s.fieldTransforms)}function JO(t,e,n,i){return void 0===i&&(i=!1),tT(n,t.Uc(i?4:3,e))}function tT(t,e){if(nT(t=Object(Vd.getModularInstance)(t)))return iT("Unsupported field value:",e,t),eT(t,e);if(t instanceof NO)return function(t,e){if(!UO(e.Nc))throw e.Lc(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.Lc(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Fc&&4!==e.Nc)throw e.Lc("Nested arrays are not supported");return function(t,e){for(var n=[],i=0,r=0,o=t;r<o.length;r++){var s=tT(o[r],e.Mc(i));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),i++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=Object(Vd.getModularInstance)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return j_(e.R,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=db.fromDate(t);return{timestampValue:zv(e.R,n)}}if(t instanceof db)return n=new db(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:zv(e.R,n)};if(t instanceof jO)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof MO)return{bytesValue:Wv(e.R,t._byteString)};if(t instanceof _O){var i=t.firestore._databaseId;if(!i.isEqual(n=e.databaseId))throw e.Lc("Document reference is for database "+i.projectId+"/"+i.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:$v(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.Lc("Unsupported field value: "+fO(t))}(t,e)}function eT(t,e){var n={};return mb(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):gb(t,function(t,i){var r=tT(i,e.kc(t));null!=r&&(n[t]=r)}),{mapValue:{fields:n}}}function nT(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof db||t instanceof jO||t instanceof MO||t instanceof _O||t instanceof NO)}function iT(t,e,n){if(!nT(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var i=fO(n);throw e.Lc("an object"===i?t+" a custom object":t+" "+i)}}function rT(t,e,n){if((e=Object(Vd.getModularInstance)(e))instanceof DO)return e._internalPath;if("string"==typeof e)return sT(t,e);throw aT("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var oT=new RegExp("[~\\*/\\[\\]]");function sT(t,e,n){if(e.search(oT)>=0)throw aT("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(DO.bind.apply(DO,Object(Ld.__spreadArray)([void 0],e.split(".")))))._internalPath}catch(cx){throw aT("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function aT(t,e,n,i,r){var o=i&&!i.isEmpty(),s=void 0!==r,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var c="";return(o||s)&&(c+=" (found",o&&(c+=" in field "+i),s&&(c+=" in document "+r),c+=")"),new Zm(Qm.INVALID_ARGUMENT,(a+=". ")+t+c)}function cT(t,e){return t.some(function(t){return t.isEqual(e)})}var uT=function(){function t(t,e,n,i,r){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=i,this._converter=r}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new _O(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new lT(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},t.prototype.get=function(t){if(this._document){var e=this._document.data.field(hT("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),lT=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ld.__extends)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(uT);function hT(t,e){return"string"==typeof e?sT(t,e):e instanceof DO?e._internalPath:e._delegate._internalPath}var dT=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),fT=function(t){function e(e,n,i,r,o,s){var a=this;return(a=t.call(this,e,n,i,r,s)||this)._firestore=e,a._firestoreImpl=e,a.metadata=o,a}return Object(Ld.__extends)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new pT(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data.field(hT("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(uT),pT=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ld.__extends)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(fT),gT=function(){function t(t,e,n,i){this._firestore=t,this._userDataWriter=e,this._snapshot=i,this.metadata=new dT(i.hasPendingWrites,i.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach(function(i){t.call(e,new pT(n._firestore,n._userDataWriter,i.key,i,new dT(n._snapshot.mutatedKeys.has(i.key),n._snapshot.fromCache),n.query.converter))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Zm(Qm.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map(function(e){return{type:"added",doc:new pT(t._firestore,t._userDataWriter,e.doc.key,e.doc,new dT(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),oldIndex:-1,newIndex:n++}})}var i=t._snapshot.oldDocs;return t._snapshot.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new pT(t._firestore,t._userDataWriter,e.doc.key,e.doc,new dT(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),r=-1,o=-1;return 0!==e.type&&(r=i.indexOf(e.doc.key),i=i.delete(e.doc.key)),1!==e.type&&(o=(i=i.add(e.doc)).indexOf(e.doc.key)),{type:mT(e.type),doc:n,oldIndex:r,newIndex:o}})}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function mT(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return rb()}}function bT(t,e){return t instanceof fT&&e instanceof fT?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof gT&&e instanceof gT&&t._firestore===e._firestore&&kO(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function _T(t){if(w_(t)&&0===t.explicitOrderBy.length)throw new Zm(Qm.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var vT=function(){};function yT(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var i=0,r=e;i<r.length;i++){var o=r[i];t=o._apply(t)}return t}var wT=function(t){function e(e,n,i){var r=this;return(r=t.call(this)||this).jc=e,r.Wc=n,r.Gc=i,r.type="where",r}return Object(Ld.__extends)(e,t),e.prototype._apply=function(t){var e=HO(t.firestore),n=function(t,e,n,i,r,o,s){var a;if(r.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new Zm(Qm.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){ET(s,o);for(var c=[],u=0,l=s;u<l.length;u++)c.push(xT(i,t,l[u]));a={arrayValue:{values:c}}}else a=xT(i,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||ET(s,o),a=JO(n,"where",s,"in"===o||"not-in"===o);var h=n_.create(r,o,a);return function(t,e){if(e.g()){var n=S_(t);if(null!==n&&!n.isEqual(e.field))throw new Zm(Qm.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var i=C_(t);null!==i&&IT(0,e.field,i)}var r=function(t,e){for(var n=0,i=t.filters;n<i.length;n++){var r=i[n];if(e.indexOf(r.op)>=0)return r.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==r)throw new Zm(Qm.INVALID_ARGUMENT,r===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+r.toString()+"' filters.")}(t,h),h}(t._query,0,e,t.firestore._databaseId,this.jc,this.Wc,this.Gc);return new vO(t.firestore,t.converter,function(t,e){var n=t.filters.concat([e]);return new b_(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))},e}(vT),CT=function(t){function e(e,n){var i=this;return(i=t.call(this)||this).jc=e,i.zc=n,i.type="orderBy",i}return Object(Ld.__extends)(e,t),e.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new Zm(Qm.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new Zm(Qm.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var i=new f_(e,n);return function(t,e){if(null===C_(t)){var n=S_(t);null!==n&&IT(0,n,e.field)}}(t,i),i}(t._query,this.jc,this.zc);return new vO(t.firestore,t.converter,function(t,e){var n=t.explicitOrderBy.concat([e]);return new b_(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))},e}(vT),ST=function(t){function e(e,n,i){var r=this;return(r=t.call(this)||this).type=e,r.Hc=n,r.Jc=i,r}return Object(Ld.__extends)(e,t),e.prototype._apply=function(t){return new vO(t.firestore,t.converter,x_(t._query,this.Hc,this.Jc))},e}(vT),kT=function(t){function e(e,n,i){var r=this;return(r=t.call(this)||this).type=e,r.Yc=n,r.Xc=i,r}return Object(Ld.__extends)(e,t),e.prototype._apply=function(t){var e=TT(t,this.type,this.Yc,this.Xc);return new vO(t.firestore,t.converter,function(t,e){return new b_(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))},e}(vT),OT=function(t){function e(e,n,i){var r=this;return(r=t.call(this)||this).type=e,r.Yc=n,r.Xc=i,r}return Object(Ld.__extends)(e,t),e.prototype._apply=function(t){var e=TT(t,this.type,this.Yc,this.Xc);return new vO(t.firestore,t.converter,function(t,e){return new b_(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))},e}(vT);function TT(t,e,n,i){if(n[0]=Object(Vd.getModularInstance)(n[0]),n[0]instanceof uT)return function(t,e,n,i,r){if(!i)throw new Zm(Qm.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,a=O_(t);s<a.length;s++){var c=a[s];if(c.field.isKeyField())o.push(qb(e,i.key));else{var u=i.data.field(c.field);if(xb(u))throw new Zm(Qm.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+c.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===u){var l=c.field.canonicalString();throw new Zm(Qm.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(u)}}return new h_(o,r)}(t._query,t.firestore._databaseId,e,n[0]._document,i);var r=HO(t.firestore);return function(t,e,n,i,r,o){var s=t.explicitOrderBy;if(r.length>s.length)throw new Zm(Qm.INVALID_ARGUMENT,"Too many arguments provided to "+i+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],c=0;c<r.length;c++){var u=r[c];if(s[c].field.isKeyField()){if("string"!=typeof u)throw new Zm(Qm.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+i+"(), but got a "+typeof u);if(!k_(t)&&-1!==u.indexOf("/"))throw new Zm(Qm.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+i+"() must be a plain document ID, but '"+u+"' contains a slash.");var l=t.path.child(_b.fromString(u));if(!Db.isDocumentKey(l))throw new Zm(Qm.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+i+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new Db(l);a.push(qb(e,h))}else{var d=JO(n,i,u);a.push(d)}}return new h_(a,o)}(t._query,t.firestore._databaseId,r,e,n,i)}function xT(t,e,n){if("string"==typeof(n=Object(Vd.getModularInstance)(n))){if(""===n)throw new Zm(Qm.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!k_(e)&&-1!==n.indexOf("/"))throw new Zm(Qm.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var i=e.path.child(_b.fromString(n));if(!Db.isDocumentKey(i))throw new Zm(Qm.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+i+"' is not because it has an odd number of segments ("+i.length+").");return qb(t,new Db(i))}if(n instanceof _O)return qb(t,n._key);throw new Zm(Qm.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+fO(n)+".")}function ET(t,e){if(!Array.isArray(t)||0===t.length)throw new Zm(Qm.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new Zm(Qm.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function IT(t,e,n){if(!n.isEqual(e))throw new Zm(Qm.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var AT=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),Mb(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ob(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Tb(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw rb()}},t.prototype.convertObject=function(t,e){var n=this,i={};return gb(t.fields,function(t,r){i[t]=n.convertValue(r,e)}),i},t.prototype.convertGeoPoint=function(t){return new jO(Ob(t.latitude),Ob(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.convertValue(t,e)})},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=Eb(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(Ib(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=kb(t);return new db(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=_b.fromString(t);ob(vy(n));var i=new tO(n.get(1),n.get(3)),r=new Db(n.popFirst(5));return i.isEqual(e)||eb("Document "+r+" contains a document reference within a different database ("+i.projectId+"/"+i.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),r},t}();function RT(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var PT=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Ld.__extends)(e,t),e.prototype.convertBytes=function(t){return new MO(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new _O(this.firestore,null,e)},e}(AT),DT=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=HO(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var i=MT(t,this._firestore),r=RT(i.converter,e,n),o=zO(this._dataReader,"WriteBatch.set",i._key,r,null!==i.converter,n);return this._mutations.push(o.toMutation(i._key,Z_.none())),this},t.prototype.update=function(t,e,n){for(var i=[],r=3;r<arguments.length;r++)i[r-3]=arguments[r];this._verifyNotCommitted();var o,s=MT(t,this._firestore);return o="string"==typeof(e=Object(Vd.getModularInstance)(e))||e instanceof DO?XO(this._dataReader,"WriteBatch.update",s._key,e,n,i):ZO(this._dataReader,"WriteBatch.update",s._key,e),this._mutations.push(o.toMutation(s._key,Z_.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=MT(t,this._firestore);return this._mutations=this._mutations.concat(new dv(e._key,Z_.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new Zm(Qm.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function MT(t,e){if((t=Object(Vd.getModularInstance)(t)).firestore!==e)throw new Zm(Qm.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var NT=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Ld.__extends)(e,t),e.prototype.convertBytes=function(t){return new MO(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new _O(this.firestore,null,e)},e}(AT);function jT(t,e,n){t=pO(t,_O);var i=pO(t.firestore,EO),r=RT(t.converter,e,n);return VT(i,[zO(HO(i),"setDoc",t._key,r,null!==t.converter,n).toMutation(t._key,Z_.none())])}function FT(t,e,n){for(var i=[],r=3;r<arguments.length;r++)i[r-3]=arguments[r];t=pO(t,_O);var o=pO(t.firestore,EO),s=HO(o);return VT(o,[("string"==typeof(e=Object(Vd.getModularInstance)(e))||e instanceof DO?XO(s,"updateDoc",t._key,e,n,i):ZO(s,"updateDoc",t._key,e)).toMutation(t._key,Z_.exists(!0))])}function LT(t){for(var e,n,i,r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];t=Object(Vd.getModularInstance)(t);var s={includeMetadataChanges:!1},a=0;"object"!=typeof r[a]||TO(r[a])||(s=r[a],a++);var c,u,l,h={includeMetadataChanges:s.includeMetadataChanges};if(TO(r[a])){var d=r[a];r[a]=null===(e=d.next)||void 0===e?void 0:e.bind(d),r[a+1]=null===(n=d.error)||void 0===n?void 0:n.bind(d),r[a+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}if(t instanceof _O)u=pO(t.firestore,EO),l=v_(t._key.path),c={next:function(e){r[a]&&r[a](UT(u,t,e))},error:r[a+1],complete:r[a+2]};else{var f=pO(t,vO);u=pO(f.firestore,EO),l=f._query;var p=new NT(u);c={next:function(t){r[a]&&r[a](new gT(u,p,f,t))},error:r[a+1],complete:r[a+2]},_T(t._query)}return function(t,e,n,i){var r=this,o=new Fk(i),s=new HS(e,o,n);return t.asyncQueue.enqueueAndForget(function(){return Object(Ld.__awaiter)(r,void 0,void 0,function(){var e;return Object(Ld.__generator)(this,function(n){switch(n.label){case 0:return e=LS,[4,Qk(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})}),function(){o.Wo(),t.asyncQueue.enqueueAndForget(function(){return Object(Ld.__awaiter)(r,void 0,void 0,function(){var e;return Object(Ld.__generator)(this,function(n){switch(n.label){case 0:return e=VS,[4,Qk(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})})}}(IO(u),l,h,c)}function VT(t,e){return function(t,e){var n=this,i=new Hy;return t.asyncQueue.enqueueAndForget(function(){return Object(Ld.__awaiter)(n,void 0,void 0,function(){var n;return Object(Ld.__generator)(this,function(r){switch(r.label){case 0:return n=ik,[4,Yk(t)];case 1:return[2,n.apply(void 0,[r.sent(),e,i])]}})})}),i.promise}(IO(t),e)}function UT(t,e,n){var i=n.docs.get(e._key),r=new NT(t);return new fT(t,r,e._key,i,new dT(n.hasPendingWrites,n.fromCache),e.converter)}var qT=function(t){function e(e,n){var i=this;return(i=t.call(this,e,n)||this)._firestore=e,i}return Object(Ld.__extends)(e,t),e.prototype.get=function(e){var n=this,i=MT(e,this._firestore),r=new NT(this._firestore);return t.prototype.get.call(this,e).then(function(t){return new fT(n._firestore,r,i._key,t._document,new dT(!1,!1),i.converter)})},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=HO(t)}return t.prototype.get=function(t){var e=this,n=MT(t,this._firestore),i=new PT(this._firestore);return this._transaction.lookup([n._key]).then(function(t){if(!t||1!==t.length)return rb();var r=t[0];if(r.isFoundDocument())return new uT(e._firestore,i,r.key,r,n.converter);if(r.isNoDocument())return new uT(e._firestore,i,n._key,null,n.converter);throw rb()})},t.prototype.set=function(t,e,n){var i=MT(t,this._firestore),r=RT(i.converter,e,n),o=zO(this._dataReader,"Transaction.set",i._key,r,null!==i.converter,n);return this._transaction.set(i._key,o),this},t.prototype.update=function(t,e,n){for(var i=[],r=3;r<arguments.length;r++)i[r-3]=arguments[r];var o,s=MT(t,this._firestore);return o="string"==typeof(e=Object(Vd.getModularInstance)(e))||e instanceof DO?XO(this._dataReader,"Transaction.update",s._key,e,n,i):ZO(this._dataReader,"Transaction.update",s._key,e),this._transaction.update(s._key,o),this},t.prototype.delete=function(t){var e=MT(t,this._firestore);return this._transaction.delete(e._key),this},t}());function BT(){if("undefined"==typeof Uint8Array)throw new Zm(Qm.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function HT(){if("undefined"==typeof atob)throw new Zm(Qm.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var zT=function(){function t(t){this._delegate=t}return t.fromBase64String=function(e){return HT(),new t(MO.fromBase64String(e))},t.fromUint8Array=function(e){return BT(),new t(MO.fromUint8Array(e))},t.prototype.toBase64=function(){return HT(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return BT(),this._delegate.toUint8Array()},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),WT=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){PO(t=pO(t,EO));var n=IO(t),i=t._freezeSettings(),r=new Nk;return RO(n,r,new Dk(r,i.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){PO(t=pO(t,EO));var e=IO(t),n=t._freezeSettings(),i=new Nk;return RO(e,i,new Mk(i,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new Zm(Qm.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Hy;return t._queue.enqueueAndForgetEvenWhileRestricted(function(){return Object(Ld.__awaiter)(e,void 0,void 0,function(){var e;return Object(Ld.__generator)(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,function(t){return Object(Ld.__awaiter)(this,void 0,void 0,function(){return Object(Ld.__generator)(this,function(e){switch(e.label){case 0:return Gy.yt()?[4,Gy.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(iC(t._databaseId,t._persistenceKey))];case 1:return i.sent(),n.resolve(),[3,3];case 2:return e=i.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t._delegate)},t}(),GT=function(){function t(t,e,n){var i=this;this._delegate=e,this.Zc=n,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof tO||(this.tu=t)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){var e=this._delegate._getSettings();t.merge||e.host===t.host||nb("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)},t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),function(t,e,n,i){var r;void 0===i&&(i={});var o=(t=pO(t,bO))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==e&&nb("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},o),{host:e+":"+n,ssl:!1})),i.mockUserToken){var s,a;if("string"==typeof i.mockUserToken)s=i.mockUserToken,a=MC.MOCK_USER;else{s=Object(Vd.createMockUserToken)(i.mockUserToken,null===(r=t._app)||void 0===r?void 0:r.options.projectId);var c=i.mockUserToken.sub||i.mockUserToken.user_id;if(!c)throw new Zm(Qm.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new MC(c)}t._credentials=new rO(new nO(s,a))}}(this._delegate,t,e,n)},t.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return Object(Ld.__awaiter)(e,void 0,void 0,function(){var e,n;return Object(Ld.__generator)(this,function(i){switch(i.label){case 0:return[4,Gk(t)];case 1:return e=i.sent(),[4,$k(t)];case 2:return n=i.sent(),[2,(e.setNetworkEnabled(!0),function(t){var e=sb(t);return e.Or.delete(0),sS(e)}(n))]}})})})}(IO(pO(this._delegate,EO)))},t.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return Object(Ld.__awaiter)(e,void 0,void 0,function(){var e,n;return Object(Ld.__generator)(this,function(i){switch(i.label){case 0:return[4,Gk(t)];case 1:return e=i.sent(),[4,$k(t)];case 2:return n=i.sent(),[2,(e.setNetworkEnabled(!1),function(t){return Object(Ld.__awaiter)(this,void 0,void 0,function(){var e;return Object(Ld.__generator)(this,function(n){switch(n.label){case 0:return(e=sb(t)).Or.add(0),[4,aS(e)];case 1:return n.sent(),e.Br.set("Offline"),[2]}})})}(n))]}})})})}(IO(pO(this._delegate,EO)))},t.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&lO("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new Hy;return t.asyncQueue.enqueueAndForget(function(){return Object(Ld.__awaiter)(e,void 0,void 0,function(){var e;return Object(Ld.__generator)(this,function(i){switch(i.label){case 0:return e=uk,[4,Yk(t)];case 1:return[2,e.apply(void 0,[i.sent(),n])]}})})}),n.promise}(IO(pO(this._delegate,EO)))},t.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,i=new Fk(e);return t.asyncQueue.enqueueAndForget(function(){return Object(Ld.__awaiter)(n,void 0,void 0,function(){var e;return Object(Ld.__generator)(this,function(n){switch(n.label){case 0:return e=function(t,e){sb(t).Gr.add(e),e.next()},[4,Qk(t)];case 1:return[2,e.apply(void 0,[n.sent(),i])]}})})}),function(){i.Wo(),t.asyncQueue.enqueueAndForget(function(){return Object(Ld.__awaiter)(n,void 0,void 0,function(){var e;return Object(Ld.__generator)(this,function(n){switch(n.label){case 0:return e=function(t,e){sb(t).Gr.delete(e)},[4,Qk(t)];case 1:return[2,e.apply(void 0,[n.sent(),i])]}})})})}}(IO(t=pO(t,EO)),TO(e)?e:{next:e})}(this._delegate,t)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.tu)throw new Zm(Qm.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new sx(this,wO(this._delegate,t))}catch(t){throw XT(t,"collection()","Firestore.collection()")}},t.prototype.doc=function(t){try{return new ZT(this,CO(this._delegate,t))}catch(t){throw XT(t,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(t){try{return new ix(this,function(t,e){if(t=pO(t,bO),cO("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Zm(Qm.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new vO(t,null,function(t){return new b_(_b.emptyPath(),t)}(e))}(this._delegate,t))}catch(t){throw XT(t,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,i=new Hy;return t.asyncQueue.enqueueAndForget(function(){return Object(Ld.__awaiter)(n,void 0,void 0,function(){var n;return Object(Ld.__generator)(this,function(r){switch(r.label){case 0:return[4,function(t){return Wk(t).then(function(t){return t.datastore})}(t)];case 1:return n=r.sent(),new Uk(t.asyncQueue,n,e,i).run(),[2]}})})}),i.promise}(IO(t),function(n){return e(new qT(t,n))})}(this._delegate,function(n){return t(new $T(e,n))})},t.prototype.batch=function(){var t=this;return IO(this._delegate),new YT(new DT(this._delegate,function(e){return VT(t._delegate,e)}))},t.prototype.loadBundle=function(t){throw new Zm(Qm.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(t){throw new Zm(Qm.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),KT=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Ld.__extends)(e,t),e.prototype.convertBytes=function(t){return new zT(new MO(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return ZT.eu(e,this.firestore,null)},e}(AT),$T=function(){function t(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new KT(t)}return t.prototype.get=function(t){var e=this,n=ax(t);return this._delegate.get(n).then(function(t){return new ex(e._firestore,new fT(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n.converter))})},t.prototype.set=function(t,e,n){var i=ax(t);return n?(uO("Transaction.set",n),this._delegate.set(i,e,n)):this._delegate.set(i,e),this},t.prototype.update=function(t,e,n){for(var i,r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o];var s=ax(t);return 2===arguments.length?this._delegate.update(s,e):(i=this._delegate).update.apply(i,Object(Ld.__spreadArray)([s,e,n],r)),this},t.prototype.delete=function(t){var e=ax(t);return this._delegate.delete(e),this},t}(),YT=function(){function t(t){this._delegate=t}return t.prototype.set=function(t,e,n){var i=ax(t);return n?(uO("WriteBatch.set",n),this._delegate.set(i,e,n)):this._delegate.set(i,e),this},t.prototype.update=function(t,e,n){for(var i,r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o];var s=ax(t);return 2===arguments.length?this._delegate.update(s,e):(i=this._delegate).update.apply(i,Object(Ld.__spreadArray)([s,e,n],r)),this},t.prototype.delete=function(t){var e=ax(t);return this._delegate.delete(e),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),QT=function(){function t(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}return t.prototype.fromFirestore=function(t,e){var n=new pT(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new nx(this._firestore,n),null!=e?e:{})},t.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},t.nu=function(e,n){var i=t.su,r=i.get(e);r||(r=new WeakMap,i.set(e,r));var o=r.get(n);return o||(o=new t(e,new KT(e),n),r.set(n,o)),o},t}();QT.su=new WeakMap;var ZT=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new KT(t)}return t.iu=function(e,n,i){if(e.length%2!=0)throw new Zm(Qm.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new _O(n._delegate,i,new Db(e)))},t.eu=function(e,n,i){return new t(n,new _O(n._delegate,i,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new sx(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new sx(this.firestore,wO(this._delegate,t))}catch(t){throw XT(t,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(t){return(t=Object(Vd.getModularInstance)(t))instanceof _O&&SO(this._delegate,t)},t.prototype.set=function(t,e){e=uO("DocumentReference.set",e);try{return e?jT(this._delegate,t,e):jT(this._delegate,t)}catch(t){throw XT(t,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];try{return 1===arguments.length?FT(this._delegate,t):FT.apply(void 0,Object(Ld.__spreadArray)([this._delegate,t,e],n))}catch(t){throw XT(t,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return VT(pO((t=this._delegate).firestore,EO),[new dv(t._key,Z_.none())]);var t},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=JT(e),r=tx(e,function(e){return new ex(t.firestore,new fT(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))});return LT(this._delegate,i,r)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=pO(t,_O);var e=pO(t.firestore,EO),n=IO(e),i=new NT(e);return function(t,e){var n=this,i=new Hy;return t.asyncQueue.enqueueAndForget(function(){return Object(Ld.__awaiter)(n,void 0,void 0,function(){var n;return Object(Ld.__generator)(this,function(r){switch(r.label){case 0:return n=function(t,e,n){return Object(Ld.__awaiter)(this,void 0,void 0,function(){var i,r;return Object(Ld.__generator)(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=sb(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Mn.mn(t,e)})}(t,e)];case 1:return(r=o.sent()).isFoundDocument()?n.resolve(r):r.isNoDocument()?n.resolve(null):n.reject(new Zm(Qm.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return i=o.sent(),r=PS(i,"Failed to get document '"+e+" from cache"),n.reject(r),[3,3];case 3:return[2]}})})},[4,Kk(t)];case 1:return[2,n.apply(void 0,[r.sent(),e,i])]}})})}),i.promise}(n,t._key).then(function(n){return new fT(e,i,t._key,n,new dT(null!==n&&n.hasLocalMutations,!0),t.converter)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=pO(t,_O);var e=pO(t.firestore,EO);return Zk(IO(e),t._key,{source:"server"}).then(function(n){return UT(e,t,n)})}(this._delegate):function(t){t=pO(t,_O);var e=pO(t.firestore,EO);return Zk(IO(e),t._key).then(function(n){return UT(e,t,n)})}(this._delegate)).then(function(t){return new ex(e.firestore,new fT(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))})},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?QT.nu(this.firestore,e):null))},t}();function XT(t,e,n){return t.message=t.message.replace(e,n),t}function JT(t){for(var e=0,n=t;e<n.length;e++){var i=n[e];if("object"==typeof i&&!TO(i))return i}return{}}function tx(t,e){var n,i,r;return{next:function(t){r.next&&r.next(e(t))},error:null===(n=(r=TO(t[0])?t[0]:TO(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}var ex=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"ref",{get:function(){return new ZT(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(t){return this._delegate.data(t)},t.prototype.get=function(t,e){return this._delegate.get(t,e)},t.prototype.isEqual=function(t){return bT(this._delegate,t._delegate)},t}(),nx=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ld.__extends)(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(ex),ix=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new KT(t)}return t.prototype.where=function(e,n,i){try{return new t(this.firestore,yT(this._delegate,function(t,e,n){var i=e,r=hT("where",t);return new wT(r,i,n)}(e,n,i)))}catch(e){throw XT(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,yT(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,i=hT("orderBy",t);return new CT(i,n)}(e,n)))}catch(e){throw XT(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,yT(this._delegate,function(t){return gO("limit",t),new ST("limit",t,"F")}(e)))}catch(e){throw XT(e,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,yT(this._delegate,function(t){return gO("limitToLast",t),new ST("limitToLast",t,"L")}(e)))}catch(e){throw XT(e,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,yT(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new kT("startAt",t,!0)}).apply(void 0,e)))}catch(e){throw XT(e,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,yT(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new kT("startAfter",t,!1)}).apply(void 0,e)))}catch(e){throw XT(e,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,yT(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new OT("endBefore",t,!0)}).apply(void 0,e)))}catch(e){throw XT(e,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,yT(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new OT("endAt",t,!1)}).apply(void 0,e)))}catch(e){throw XT(e,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(t){return kO(this._delegate,t._delegate)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=pO(t,vO);var e=pO(t.firestore,EO),n=IO(e),i=new NT(e);return function(t,e){var n=this,i=new Hy;return t.asyncQueue.enqueueAndForget(function(){return Object(Ld.__awaiter)(n,void 0,void 0,function(){var n;return Object(Ld.__generator)(this,function(r){switch(r.label){case 0:return n=function(t,e,n){return Object(Ld.__awaiter)(this,void 0,void 0,function(){var i,r,o,s,a;return Object(Ld.__generator)(this,function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),[4,_C(t,e,!0)];case 1:return a=c.sent(),i=new QS(e,a.Bn),r=i._o(a.documents),o=i.applyChanges(r,!1),n.resolve(o.snapshot),[3,3];case 2:return s=c.sent(),a=PS(s,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}})})},[4,Kk(t)];case 1:return[2,n.apply(void 0,[r.sent(),e,i])]}})})}),i.promise}(n,t._query).then(function(n){return new gT(e,i,t,n)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=pO(t,vO);var e=pO(t.firestore,EO),n=IO(e),i=new NT(e);return Xk(n,t._query,{source:"server"}).then(function(n){return new gT(e,i,t,n)})}(this._delegate):function(t){t=pO(t,vO);var e=pO(t.firestore,EO),n=IO(e),i=new NT(e);return _T(t._query),Xk(n,t._query).then(function(n){return new gT(e,i,t,n)})}(this._delegate)).then(function(t){return new ox(e.firestore,new gT(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))})},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=JT(e),r=tx(e,function(e){return new ox(t.firestore,new gT(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))});return LT(this._delegate,i,r)},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?QT.nu(this.firestore,e):null))},t}(),rx=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new nx(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),ox=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"query",{get:function(){return new ix(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(e){return new nx(t._firestore,e)})},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map(function(t){return new rx(e._firestore,t)})},t.prototype.forEach=function(t,e){var n=this;this._delegate.forEach(function(i){t.call(e,new nx(n._firestore,i))})},t.prototype.isEqual=function(t){return bT(this._delegate,t._delegate)},t}(),sx=function(t){function e(e,n){var i=this;return(i=t.call(this,e,n)||this).firestore=e,i._delegate=n,i}return Object(Ld.__extends)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new ZT(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new ZT(this.firestore,void 0===t?CO(this._delegate):CO(this._delegate,t))}catch(t){throw XT(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=pO(t.firestore,EO),i=CO(t),r=RT(t.converter,e);return VT(n,[zO(HO(t.firestore),"addDoc",i._key,r,null!==t.converter,{}).toMutation(i._key,Z_.exists(!1))]).then(function(){return i})}(this._delegate,t).then(function(t){return new ZT(e.firestore,t)})},e.prototype.isEqual=function(t){return SO(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?QT.nu(this.firestore,t):null))},e}(ix);function ax(t){return pO(t,_O)}var cx,ux,lx=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new(DO.bind.apply(DO,Object(Ld.__spreadArray)([void 0],t)))}return t.documentId=function(){return new t(yb.keyField().canonicalString())},t.prototype.isEqual=function(t){return(t=Object(Vd.getModularInstance)(t))instanceof DO&&this._delegate._internalPath.isEqual(t._internalPath)},t}(),hx=function(){function t(t){this._delegate=t}return t.serverTimestamp=function(){var e=new KO("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new WO("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new $O("arrayUnion",t)}).apply(void 0,e);return i._methodName="FieldValue.arrayUnion",new t(i)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new YO("arrayRemove",t)}).apply(void 0,e);return i._methodName="FieldValue.arrayRemove",new t(i)},t.increment=function(e){var n=function(t){return new QO("increment",t)}(e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t}(),dx=n("5ENO"),fx={Firestore:GT,GeoPoint:jO,Timestamp:db,Blob:zT,Transaction:$T,WriteBatch:YT,DocumentReference:ZT,DocumentSnapshot:ex,Query:ix,QueryDocumentSnapshot:nx,QuerySnapshot:ox,CollectionReference:sx,FieldPath:lx,FieldValue:hx,setLogLevel:function(t){Xm.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new dx.Component("firestore",function(t){return function(t,e){return new GT(t,new EO(t,e),new WT)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},fx)))})(cx=Fd.default),cx.registerVersion("@firebase/firestore","2.4.1"),(ux=GT).prototype.loadBundle=function(t){return function(t,e){var n=IO(t=pO(t,EO)),i=new xO;return function(t,e,n,i){var r=this,o=function(t,e){return function(t,e){return new Lk(t,e)}(function(t,e){if(t instanceof Uint8Array)return jk(t,e);if(t instanceof ArrayBuffer)return jk(new Uint8Array(t),e);if(t instanceof ReadableStream)return t.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof t?(new TextEncoder).encode(t):t),e)}(n,XC(e));t.asyncQueue.enqueueAndForget(function(){return Object(Ld.__awaiter)(r,void 0,void 0,function(){var e;return Object(Ld.__generator)(this,function(n){switch(n.label){case 0:return e=Rk,[4,Yk(t)];case 1:return e.apply(void 0,[n.sent(),o,i]),[2]}})})})}(n,t._databaseId,e,i),i}(this._delegate,t)},ux.prototype.namedQuery=function(t){var e,n,i=this;return(e=this._delegate,n=t,function(t,e){var n=this;return t.asyncQueue.enqueue(function(){return Object(Ld.__awaiter)(n,void 0,void 0,function(){var n;return Object(Ld.__generator)(this,function(i){switch(i.label){case 0:return n=function(t,e){var n=sb(t);return n.persistence.runTransaction("Get named query","readonly",function(t){return n.Ke.getNamedQuery(t,e)})},[4,Kk(t)];case 1:return[2,n.apply(void 0,[i.sent(),e])]}})})})}(IO(e=pO(e,EO)),n).then(function(t){return t?new vO(e,null,t.query):null})).then(function(t){return t?new ix(i,t):null})};var px={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},gx=function(t){function e(n,i,r){var o=t.call(this,i)||this;return Object.setPrototypeOf(o,e.prototype),o.code=n,o.details=r,o}return Object(Ld.__extends)(e,t),e}(Error),mx=function(){function t(t,e){var n=this;this.auth=null,this.messaging=null,this.auth=t.getImmediate({optional:!0}),this.messaging=e.getImmediate({optional:!0}),this.auth||t.get().then(function(t){return n.auth=t},function(){}),this.messaging||e.get().then(function(t){return n.messaging=t},function(){})}return t.prototype.getAuthToken=function(){return Object(Ld.__awaiter)(this,void 0,void 0,function(){var t;return Object(Ld.__generator)(this,function(e){switch(e.label){case 0:if(!this.auth)return[2,void 0];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return(t=e.sent())?[2,t.accessToken]:[2,void 0];case 3:return e.sent(),[2,void 0];case 4:return[2]}})})},t.prototype.getInstanceIdToken=function(){return Object(Ld.__awaiter)(this,void 0,void 0,function(){return Object(Ld.__generator)(this,function(t){switch(t.label){case 0:if(!this.messaging||!("Notification"in self)||"granted"!==Notification.permission)return[2,void 0];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.messaging.getToken()];case 2:return[2,t.sent()];case 3:return t.sent(),[2,void 0];case 4:return[2]}})})},t.prototype.getContext=function(){return Object(Ld.__awaiter)(this,void 0,void 0,function(){var t,e;return Object(Ld.__generator)(this,function(n){switch(n.label){case 0:return[4,this.getAuthToken()];case 1:return t=n.sent(),[4,this.getInstanceIdToken()];case 2:return e=n.sent(),[2,{authToken:t,instanceIdToken:e}]}})})},t}();function bx(t,e){var n={};for(var i in t)t.hasOwnProperty(i)&&(n[i]=e(t[i]));return n}var _x,vx,yx,wx=function(){function t(){}return t.prototype.encode=function(t){var e=this;if(null==t)return null;if(t instanceof Number&&(t=t.valueOf()),"number"==typeof t&&isFinite(t))return t;if(!0===t||!1===t)return t;if("[object String]"===Object.prototype.toString.call(t))return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(function(t){return e.encode(t)});if("function"==typeof t||"object"==typeof t)return bx(t,function(t){return e.encode(t)});throw new Error("Data cannot be encoded in JSON: "+t)},t.prototype.decode=function(t){var e=this;if(null==t)return t;if(t["@type"])switch(t["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var n=Number(t.value);if(isNaN(n))throw new Error("Data cannot be decoded from JSON: "+t);return n;default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(function(t){return e.decode(t)}):"function"==typeof t||"object"==typeof t?bx(t,function(t){return e.decode(t)}):t},t}(),Cx=function(){function t(t,e,n,i,r,o){var s=this;void 0===r&&(r="us-central1"),this.app_=t,this.appCheckProvider=i,this.fetchImpl=o,this.serializer=new wx,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(s.deleteService())}},this.contextProvider=new mx(e,n),this.cancelAllRequests=new Promise(function(t){s.deleteService=function(){return t()}});try{var a=new URL(r);this.customDomain=a.origin,this.region="us-central1"}catch(cx){this.customDomain=null,this.region=r}}return Object.defineProperty(t.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),t.prototype._url=function(t){var e=this.app_.options.projectId;return null!==this.emulatorOrigin?this.emulatorOrigin+"/"+e+"/"+this.region+"/"+t:null!==this.customDomain?this.customDomain+"/"+t:"https://"+this.region+"-"+e+".cloudfunctions.net/"+t},t.prototype.useEmulator=function(t,e){this.emulatorOrigin="http://"+t+":"+e},t.prototype.useFunctionsEmulator=function(t){this.emulatorOrigin=t},t.prototype.httpsCallable=function(t,e){var n=this;return function(i){return n.call(t,i,e||{})}},t.prototype.postJSON=function(t,e,n){return Object(Ld.__awaiter)(this,void 0,void 0,function(){var i,r,o;return Object(Ld.__generator)(this,function(s){switch(s.label){case 0:return n["Content-Type"]="application/json",[4,this.getAppCheckToken()];case 1:null!==(i=s.sent())&&(n["X-Firebase-AppCheck"]=i),s.label=2;case 2:return s.trys.push([2,4,,5]),[4,this.fetchImpl(t,{method:"POST",body:JSON.stringify(e),headers:n})];case 3:return r=s.sent(),[3,5];case 4:return s.sent(),[2,{status:0,json:null}];case 5:o=null,s.label=6;case 6:return s.trys.push([6,8,,9]),[4,r.json()];case 7:return o=s.sent(),[3,9];case 8:return s.sent(),[3,9];case 9:return[2,{status:r.status,json:o}]}})})},t.prototype.getAppCheckToken=function(){return Object(Ld.__awaiter)(this,void 0,void 0,function(){var t;return Object(Ld.__generator)(this,function(e){switch(e.label){case 0:return(t=this.appCheckProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:return[2,e.sent().token];case 2:return[2,null]}})})},t.prototype.call=function(t,e,n){return Object(Ld.__awaiter)(this,void 0,void 0,function(){var i,r,o,s,a,c,u,l,h,d;return Object(Ld.__generator)(this,function(f){switch(f.label){case 0:return i=this._url(t),e=this.serializer.encode(e),r={data:e},o={},[4,this.contextProvider.getContext()];case 1:return(s=f.sent()).authToken&&(o.Authorization="Bearer "+s.authToken),s.instanceIdToken&&(o["Firebase-Instance-ID-Token"]=s.instanceIdToken),a=function(t){var e,n=new Promise(function(n,i){e=setTimeout(function(){i(new gx("deadline-exceeded","deadline-exceeded"))},t)});return{timer:e,promise:n}}(n.timeout||7e4),c=a.timer,u=a.promise,[4,Promise.race([Sx(c,this.postJSON(i,r,o)),u,Sx(c,this.cancelAllRequests)])];case 2:if(!(l=f.sent()))throw new gx("cancelled","Firebase Functions instance was deleted.");if(h=function(t,e,n){var i=function(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(t),r=i,o=void 0;try{var s=e&&e.error;if(s){var a=s.status;if("string"==typeof a){if(!px[a])return new gx("internal","internal");i=px[a],r=a}var c=s.message;"string"==typeof c&&(r=c),void 0!==(o=s.details)&&(o=n.decode(o))}}catch(cx){}return"ok"===i?null:new gx(i,r,o)}(l.status,l.json,this.serializer))throw h;if(!l.json)throw new gx("internal","Response is not valid JSON object.");if(void 0===(d=l.json.data)&&(d=l.json.result),void 0===d)throw new gx("internal","Response is missing data field.");return[2,{data:this.serializer.decode(d)}]}})})},t}();function Sx(t,e){return Object(Ld.__awaiter)(this,void 0,void 0,function(){var n;return Object(Ld.__generator)(this,function(i){switch(i.label){case 0:return[4,e];case 1:return n=i.sent(),clearTimeout(t),[2,n]}})})}_x=Fd.default,vx=fetch.bind(self),yx={Functions:Cx},_x.INTERNAL.registerComponent(new dx.Component("functions",function(t,e){var n=e.instanceIdentifier,i=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal"),s=t.getProvider("messaging");return new Cx(i,r,s,o,n,vx)},"PUBLIC").setServiceProps(yx).setMultipleInstances(!0)),Fd.default.registerVersion("@firebase/functions","0.6.16");var kx,Ox=n("oMAr"),Tx=((kx={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',kx["not-registered"]="Firebase Installation is not registered.",kx["installation-not-found"]="Firebase Installation not found.",kx["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',kx["app-offline"]="Could not process request. Application offline.",kx["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",kx),xx=new Vd.ErrorFactory("installations","Installations",Tx);function Ex(t){return t instanceof Vd.FirebaseError&&t.code.includes("request-failed")}function Ix(t){return"https://firebaseinstallations.googleapis.com/v1/projects/"+t.projectId+"/installations"}function Ax(t){return{token:t.token,requestStatus:2,expiresIn:(e=t.expiresIn,Number(e.replace("s","000"))),creationTime:Date.now()};var e}function Rx(t,e){return Object(Ld.__awaiter)(this,void 0,void 0,function(){var n,i;return Object(Ld.__generator)(this,function(r){switch(r.label){case 0:return[4,e.json()];case 1:return n=r.sent(),[2,xx.create("request-failed",{requestName:t,serverCode:(i=n.error).code,serverMessage:i.message,serverStatus:i.status})]}})})}function Px(t){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey})}function Dx(t,e){var n=e.refreshToken,i=Px(t);return i.append("Authorization",function(t){return"FIS_v2 "+t}(n)),i}function Mx(t){return Object(Ld.__awaiter)(this,void 0,void 0,function(){var e;return Object(Ld.__generator)(this,function(n){switch(n.label){case 0:return[4,t()];case 1:return(e=n.sent()).status>=500&&e.status<600?[2,t()]:[2,e]}})})}function Nx(t,e){var n=e.fid;return Object(Ld.__awaiter)(this,void 0,void 0,function(){var e,i,r,o,s;return Object(Ld.__generator)(this,function(a){switch(a.label){case 0:return e=Ix(t),i=Px(t),r={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:"FIS_v2",appId:t.appId,sdkVersion:"w:0.4.32"})},[4,Mx(function(){return fetch(e,r)})];case 1:return(o=a.sent()).ok?[4,o.json()]:[3,3];case 2:return[2,{fid:(s=a.sent()).fid||n,registrationStatus:2,refreshToken:s.refreshToken,authToken:Ax(s.authToken)}];case 3:return[4,Rx("Create Installation",o)];case 4:throw a.sent()}})})}function jx(t){return new Promise(function(e){setTimeout(e,t)})}var Fx=/^[cdef][\w-]{21}$/;function Lx(){try{var t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;var e=function(t){return(e=t,btoa(String.fromCharCode.apply(String,Object(Ld.__spreadArray)([],Object(Ld.__read)(e)))).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var e}(t);return Fx.test(e)?e:""}catch(wH){return""}}function Vx(t){return t.appName+"!"+t.appId}var Ux=new Map;function qx(t,e){var n=Vx(t);Bx(n,e),function(t,e){var n=zx();n&&n.postMessage({key:t,fid:e}),Wx()}(n,e)}function Bx(t,e){var n,i,r=Ux.get(t);if(r)try{for(var o=Object(Ld.__values)(r),s=o.next();!s.done;s=o.next())(0,s.value)(e)}catch(a){n={error:a}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}}var Hx=null;function zx(){return!Hx&&"BroadcastChannel"in self&&((Hx=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(t){Bx(t.data.key,t.data.fid)}),Hx}function Wx(){0===Ux.size&&Hx&&(Hx.close(),Hx=null)}var Gx,Kx="firebase-installations-store",$x=null;function Yx(){return $x||($x=Object(Ox.openDb)("firebase-installations-database",1,function(t){switch(t.oldVersion){case 0:t.createObjectStore(Kx)}})),$x}function Qx(t,e){return Object(Ld.__awaiter)(this,void 0,void 0,function(){var n,i,r,o,s;return Object(Ld.__generator)(this,function(a){switch(a.label){case 0:return n=Vx(t),[4,Yx()];case 1:return i=a.sent(),r=i.transaction(Kx,"readwrite"),[4,(o=r.objectStore(Kx)).get(n)];case 2:return s=a.sent(),[4,o.put(e,n)];case 3:return a.sent(),[4,r.complete];case 4:return a.sent(),s&&s.fid===e.fid||qx(t,e.fid),[2,e]}})})}function Zx(t){return Object(Ld.__awaiter)(this,void 0,void 0,function(){var e,n,i;return Object(Ld.__generator)(this,function(r){switch(r.label){case 0:return e=Vx(t),[4,Yx()];case 1:return n=r.sent(),[4,(i=n.transaction(Kx,"readwrite")).objectStore(Kx).delete(e)];case 2:return r.sent(),[4,i.complete];case 3:return r.sent(),[2]}})})}function Xx(t,e){return Object(Ld.__awaiter)(this,void 0,void 0,function(){var n,i,r,o,s,a;return Object(Ld.__generator)(this,function(c){switch(c.label){case 0:return n=Vx(t),[4,Yx()];case 1:return i=c.sent(),r=i.transaction(Kx,"readwrite"),[4,(o=r.objectStore(Kx)).get(n)];case 2:return s=c.sent(),void 0!==(a=e(s))?[3,4]:[4,o.delete(n)];case 3:return c.sent(),[3,6];case 4:return[4,o.put(a,n)];case 5:c.sent(),c.label=6;case 6:return[4,r.complete];case 7:return c.sent(),!a||s&&s.fid===a.fid||qx(t,a.fid),[2,a]}})})}function Jx(t){return Object(Ld.__awaiter)(this,void 0,void 0,function(){var e,n,i;return Object(Ld.__generator)(this,function(r){switch(r.label){case 0:return[4,Xx(t,function(n){var i=function(t){return nE(t||{fid:Lx(),registrationStatus:0})}(n),r=function(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(xx.create("app-offline"))};var n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:n,registrationPromise:function(t,e){return Object(Ld.__awaiter)(this,void 0,void 0,function(){var n,i;return Object(Ld.__generator)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,7]),[4,Nx(t,e)];case 1:return n=r.sent(),[2,Qx(t,n)];case 2:return Ex(i=r.sent())&&409===i.customData.serverCode?[4,Zx(t)]:[3,4];case 3:return r.sent(),[3,6];case 4:return[4,Qx(t,{fid:e.fid,registrationStatus:0})];case 5:r.sent(),r.label=6;case 6:throw i;case 7:return[2]}})})}(t,n)}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:tE(t)}:{installationEntry:e}}(t,i);return e=r.registrationPromise,r.installationEntry})];case 1:return""!==(n=r.sent()).fid?[3,3]:(i={},[4,e]);case 2:return[2,(i.installationEntry=r.sent(),i)];case 3:return[2,{installationEntry:n,registrationPromise:e}]}})})}function tE(t){return Object(Ld.__awaiter)(this,void 0,void 0,function(){var e,n,i,r;return Object(Ld.__generator)(this,function(o){switch(o.label){case 0:return[4,eE(t)];case 1:e=o.sent(),o.label=2;case 2:return 1!==e.registrationStatus?[3,5]:[4,jx(100)];case 3:return o.sent(),[4,eE(t)];case 4:return e=o.sent(),[3,2];case 5:return 0!==e.registrationStatus?[3,7]:[4,Jx(t)];case 6:return n=o.sent(),i=n.installationEntry,(r=n.registrationPromise)?[2,r]:[2,i];case 7:return[2,e]}})})}function eE(t){return Xx(t,function(t){if(!t)throw xx.create("installation-not-found");return nE(t)})}function nE(t){return 1===(e=t).registrationStatus&&e.registrationTime+1e4<Date.now()?{fid:t.fid,registrationStatus:0}:t;var e}function iE(t,e){var n=t.appConfig,i=t.platformLoggerProvider;return Object(Ld.__awaiter)(this,void 0,void 0,function(){var t,r,o,s,a;return Object(Ld.__generator)(this,function(c){switch(c.label){case 0:return t=function(t,e){var n=e.fid;return Ix(t)+"/"+n+"/authTokens:generate"}(n,e),r=Dx(n,e),(o=i.getImmediate({optional:!0}))&&r.append("x-firebase-client",o.getPlatformInfoString()),s={method:"POST",headers:r,body:JSON.stringify({installation:{sdkVersion:"w:0.4.32"}})},[4,Mx(function(){return fetch(t,s)})];case 1:return(a=c.sent()).ok?[4,a.json()]:[3,3];case 2:return[2,Ax(c.sent())];case 3:return[4,Rx("Generate Auth Token",a)];case 4:throw c.sent()}})})}function rE(t,e){return void 0===e&&(e=!1),Object(Ld.__awaiter)(this,void 0,void 0,function(){var n,i,r;return Object(Ld.__generator)(this,function(o){switch(o.label){case 0:return[4,Xx(t.appConfig,function(i){if(!sE(i))throw xx.create("not-registered");var r,o=i.authToken;if(!e&&2===(r=o).requestStatus&&!function(t){var e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+36e5}(r))return i;if(1===o.requestStatus)return n=function(t,e){return Object(Ld.__awaiter)(this,void 0,void 0,function(){var n,i;return Object(Ld.__generator)(this,function(r){switch(r.label){case 0:return[4,oE(t.appConfig)];case 1:n=r.sent(),r.label=2;case 2:return 1!==n.authToken.requestStatus?[3,5]:[4,jx(100)];case 3:return r.sent(),[4,oE(t.appConfig)];case 4:return n=r.sent(),[3,2];case 5:return 0===(i=n.authToken).requestStatus?[2,rE(t,e)]:[2,i]}})})}(t,e),i;if(!navigator.onLine)throw xx.create("app-offline");var s=function(t){var e={requestStatus:1,requestTime:Date.now()};return Object(Ld.__assign)(Object(Ld.__assign)({},t),{authToken:e})}(i);return n=function(t,e){return Object(Ld.__awaiter)(this,void 0,void 0,function(){var n,i,r;return Object(Ld.__generator)(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,8]),[4,iE(t,e)];case 1:return n=o.sent(),r=Object(Ld.__assign)(Object(Ld.__assign)({},e),{authToken:n}),[4,Qx(t.appConfig,r)];case 2:return o.sent(),[2,n];case 3:return!Ex(i=o.sent())||401!==i.customData.serverCode&&404!==i.customData.serverCode?[3,5]:[4,Zx(t.appConfig)];case 4:return o.sent(),[3,7];case 5:return r=Object(Ld.__assign)(Object(Ld.__assign)({},e),{authToken:{requestStatus:0}}),[4,Qx(t.appConfig,r)];case 6:o.sent(),o.label=7;case 7:throw i;case 8:return[2]}})})}(t,s),s})];case 1:return i=o.sent(),n?[4,n]:[3,3];case 2:return r=o.sent(),[3,4];case 3:r=i.authToken,o.label=4;case 4:return[2,r]}})})}function oE(t){return Xx(t,function(t){if(!sE(t))throw xx.create("not-registered");var e;return 1===(e=t.authToken).requestStatus&&e.requestTime+1e4<Date.now()?Object(Ld.__assign)(Object(Ld.__assign)({},t),{authToken:{requestStatus:0}}):t})}function sE(t){return void 0!==t&&2===t.registrationStatus}function aE(t){return Object(Ld.__awaiter)(this,void 0,void 0,function(){var e;return Object(Ld.__generator)(this,function(n){switch(n.label){case 0:return[4,Jx(t)];case 1:return(e=n.sent().registrationPromise)?[4,e]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}})})}function cE(t,e){return Object(Ld.__awaiter)(this,void 0,void 0,function(){var n,i,r,o;return Object(Ld.__generator)(this,function(s){switch(s.label){case 0:return n=function(t,e){var n=e.fid;return Ix(t)+"/"+n}(t,e),i=Dx(t,e),r={method:"DELETE",headers:i},[4,Mx(function(){return fetch(n,r)})];case 1:return(o=s.sent()).ok?[3,3]:[4,Rx("Delete Installation",o)];case 2:throw s.sent();case 3:return[2]}})})}function uE(t){return xx.create("missing-app-config-values",{valueName:t})}!function(t){t.INTERNAL.registerComponent(new dx.Component("installations",function(t){var e=t.getProvider("app").getImmediate(),n={appConfig:function(t){var e,n;if(!t||!t.options)throw uE("App Configuration");if(!t.name)throw uE("App Name");try{for(var i=Object(Ld.__values)(["projectId","apiKey","appId"]),r=i.next();!r.done;r=i.next()){var o=r.value;if(!t.options[o])throw uE(o)}}catch(s){e={error:s}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e),platformLoggerProvider:t.getProvider("platform-logger")};return{app:e,getId:function(){return function(t){return Object(Ld.__awaiter)(this,void 0,void 0,function(){var e,n,i;return Object(Ld.__generator)(this,function(r){switch(r.label){case 0:return[4,Jx(t.appConfig)];case 1:return e=r.sent(),n=e.installationEntry,(i=e.registrationPromise)?i.catch(console.error):rE(t).catch(console.error),[2,n.fid]}})})}(n)},getToken:function(t){return function(t,e){return void 0===e&&(e=!1),Object(Ld.__awaiter)(this,void 0,void 0,function(){return Object(Ld.__generator)(this,function(n){switch(n.label){case 0:return[4,aE(t.appConfig)];case 1:return n.sent(),[4,rE(t,e)];case 2:return[2,n.sent().token]}})})}(n,t)},delete:function(){return function(t){return Object(Ld.__awaiter)(this,void 0,void 0,function(){var e,n;return Object(Ld.__generator)(this,function(i){switch(i.label){case 0:return[4,Xx(e=t.appConfig,function(t){if(!t||0!==t.registrationStatus)return t})];case 1:if(!(n=i.sent()))return[3,6];if(1!==n.registrationStatus)return[3,2];throw xx.create("delete-pending-registration");case 2:if(2!==n.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw xx.create("app-offline");case 3:return[4,cE(e,n)];case 4:return i.sent(),[4,Zx(e)];case 5:i.sent(),i.label=6;case 6:return[2]}})})}(n)},onIdChange:function(t){return function(t,e){var n=t.appConfig;return function(t,e){zx();var n=Vx(t),i=Ux.get(n);i||(i=new Set,Ux.set(n,i)),i.add(e)}(n,e),function(){!function(t,e){var n=Vx(t),i=Ux.get(n);i&&(i.delete(e),0===i.size&&Ux.delete(n),Wx())}(n,e)}}(n,t)}}},"PUBLIC")),t.registerVersion("@firebase/installations","0.4.32")}(Fd.default);var lE=((Gx={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',Gx["only-available-in-window"]="This method is available in a Window context.",Gx["only-available-in-sw"]="This method is available in a service worker context.",Gx["permission-default"]="The notification permission was not granted and dismissed instead.",Gx["permission-blocked"]="The notification permission was not granted and blocked instead.",Gx["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",Gx["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",Gx["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",Gx["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",Gx["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",Gx["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",Gx["token-update-no-token"]="FCM returned no token when updating the user to push.",Gx["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",Gx["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",Gx["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",Gx["invalid-vapid-key"]="The public VAPID key must be a string.",Gx["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",Gx),hE=new Vd.ErrorFactory("messaging","Messaging",lE),dE="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",fE=function(t){return t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",t}({});function pE(t){var e=new Uint8Array(t);return btoa(String.fromCharCode.apply(String,Object(Ld.__spreadArray)([],Object(Ld.__read)(e)))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function gE(t){for(var e=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(e),i=new Uint8Array(n.length),r=0;r<n.length;++r)i[r]=n.charCodeAt(r);return i}function mE(t){return Object(Ld.__awaiter)(this,void 0,void 0,function(){var e,n=this;return Object(Ld.__generator)(this,function(i){switch(i.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(!i.sent().map(function(t){return t.name}).includes("fcm_token_details_db"))return[2,null];i.label=2;case 2:return e=null,[4,Object(Ox.openDb)("fcm_token_details_db",5,function(i){return Object(Ld.__awaiter)(n,void 0,void 0,function(){var n,r,o,s;return Object(Ld.__generator)(this,function(a){switch(a.label){case 0:return i.oldVersion<2?[2]:i.objectStoreNames.contains("fcm_token_object_Store")?[4,(n=i.transaction.objectStore("fcm_token_object_Store")).index("fcmSenderId").get(t)]:[2];case 1:return r=a.sent(),[4,n.clear()];case 2:if(a.sent(),!r)return[2];if(2===i.oldVersion){if(!(o=r).auth||!o.p256dh||!o.endpoint)return[2];e={token:o.fcmToken,createTime:null!==(s=o.createTime)&&void 0!==s?s:Date.now(),subscriptionOptions:{auth:o.auth,p256dh:o.p256dh,endpoint:o.endpoint,swScope:o.swScope,vapidKey:"string"==typeof o.vapidKey?o.vapidKey:pE(o.vapidKey)}}}else(3===i.oldVersion||4===i.oldVersion)&&(e={token:(o=r).fcmToken,createTime:o.createTime,subscriptionOptions:{auth:pE(o.auth),p256dh:pE(o.p256dh),endpoint:o.endpoint,swScope:o.swScope,vapidKey:pE(o.vapidKey)}});return[2]}})})})];case 3:return i.sent().close(),[4,Object(Ox.deleteDb)("fcm_token_details_db")];case 4:return i.sent(),[4,Object(Ox.deleteDb)("fcm_vapid_details_db")];case 5:return i.sent(),[4,Object(Ox.deleteDb)("undefined")];case 6:return i.sent(),[2,bE(e)?e:null]}})})}function bE(t){if(!t||!t.subscriptionOptions)return!1;var e=t.subscriptionOptions;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}var _E=null;function vE(){return _E||(_E=Object(Ox.openDb)("firebase-messaging-database",1,function(t){switch(t.oldVersion){case 0:t.createObjectStore("firebase-messaging-store")}})),_E}function yE(t){return Object(Ld.__awaiter)(this,void 0,void 0,function(){var e,n,i;return Object(Ld.__generator)(this,function(r){switch(r.label){case 0:return e=SE(t),[4,vE()];case 1:return[4,r.sent().transaction("firebase-messaging-store").objectStore("firebase-messaging-store").get(e)];case 2:return(n=r.sent())?[2,n]:[3,3];case 3:return[4,mE(t.appConfig.senderId)];case 4:return(i=r.sent())?[4,wE(t,i)]:[3,6];case 5:return r.sent(),[2,i];case 6:return[2]}})})}function wE(t,e){return Object(Ld.__awaiter)(this,void 0,void 0,function(){var n,i,r;return Object(Ld.__generator)(this,function(o){switch(o.label){case 0:return n=SE(t),[4,vE()];case 1:return i=o.sent(),[4,(r=i.transaction("firebase-messaging-store","readwrite")).objectStore("firebase-messaging-store").put(e,n)];case 2:return o.sent(),[4,r.complete];case 3:return o.sent(),[2,e]}})})}function CE(t){return Object(Ld.__awaiter)(this,void 0,void 0,function(){var e,n,i;return Object(Ld.__generator)(this,function(r){switch(r.label){case 0:return e=SE(t),[4,vE()];case 1:return n=r.sent(),[4,(i=n.transaction("firebase-messaging-store","readwrite")).objectStore("firebase-messaging-store").delete(e)];case 2:return r.sent(),[4,i.complete];case 3:return r.sent(),[2]}})})}function SE(t){return t.appConfig.appId}function kE(t,e){return Object(Ld.__awaiter)(this,void 0,void 0,function(){var n,i,r,o,s;return Object(Ld.__generator)(this,function(a){switch(a.label){case 0:return[4,EE(t)];case 1:n=a.sent(),i=IE(e),r={method:"POST",headers:n,body:JSON.stringify(i)},a.label=2;case 2:return a.trys.push([2,5,,6]),[4,fetch(xE(t.appConfig),r)];case 3:return[4,a.sent().json()];case 4:return o=a.sent(),[3,6];case 5:throw s=a.sent(),hE.create("token-subscribe-failed",{errorInfo:s});case 6:if(o.error)throw hE.create("token-subscribe-failed",{errorInfo:o.error.message});if(!o.token)throw hE.create("token-subscribe-no-token");return[2,o.token]}})})}function OE(t,e){return Object(Ld.__awaiter)(this,void 0,void 0,function(){var n,i,r,o,s;return Object(Ld.__generator)(this,function(a){switch(a.label){case 0:return[4,EE(t)];case 1:n=a.sent(),i=IE(e.subscriptionOptions),r={method:"PATCH",headers:n,body:JSON.stringify(i)},a.label=2;case 2:return a.trys.push([2,5,,6]),[4,fetch(xE(t.appConfig)+"/"+e.token,r)];case 3:return[4,a.sent().json()];case 4:return o=a.sent(),[3,6];case 5:throw s=a.sent(),hE.create("token-update-failed",{errorInfo:s});case 6:if(o.error)throw hE.create("token-update-failed",{errorInfo:o.error.message});if(!o.token)throw hE.create("token-update-no-token");return[2,o.token]}})})}function TE(t,e){return Object(Ld.__awaiter)(this,void 0,void 0,function(){var n,i,r,o;return Object(Ld.__generator)(this,function(s){switch(s.label){case 0:return[4,EE(t)];case 1:n=s.sent(),i={method:"DELETE",headers:n},s.label=2;case 2:return s.trys.push([2,5,,6]),[4,fetch(xE(t.appConfig)+"/"+e,i)];case 3:return[4,s.sent().json()];case 4:if((r=s.sent()).error)throw hE.create("token-unsubscribe-failed",{errorInfo:r.error.message});return[3,6];case 5:throw o=s.sent(),hE.create("token-unsubscribe-failed",{errorInfo:o});case 6:return[2]}})})}function xE(t){return"https://fcmregistrations.googleapis.com/v1/projects/"+t.projectId+"/registrations"}function EE(t){var e=t.appConfig,n=t.installations;return Object(Ld.__awaiter)(this,void 0,void 0,function(){var t;return Object(Ld.__generator)(this,function(i){switch(i.label){case 0:return[4,n.getToken()];case 1:return t=i.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":"FIS "+t})]}})})}function IE(t){var e=t.vapidKey,n={web:{endpoint:t.endpoint,auth:t.auth,p256dh:t.p256dh}};return e!==dE&&(n.web.applicationPubKey=e),n}function AE(t,e,n){return Object(Ld.__awaiter)(this,void 0,void 0,function(){var i,r,o,s;return Object(Ld.__generator)(this,function(a){switch(a.label){case 0:if("granted"!==Notification.permission)throw hE.create("permission-blocked");return[4,ME(e,n)];case 1:return i=a.sent(),[4,yE(t)];case 2:return r=a.sent(),o={vapidKey:n,swScope:e.scope,endpoint:i.endpoint,auth:pE(i.getKey("auth")),p256dh:pE(i.getKey("p256dh"))},r?[3,3]:[2,DE(t,o)];case 3:if(l=(u=o).endpoint===(c=r.subscriptionOptions).endpoint,u.vapidKey===c.vapidKey&&l&&u.auth===c.auth&&u.p256dh===c.p256dh)return[3,8];a.label=4;case 4:return a.trys.push([4,6,,7]),[4,TE(t,r.token)];case 5:return a.sent(),[3,7];case 6:return s=a.sent(),console.warn(s),[3,7];case 7:return[2,DE(t,o)];case 8:return Date.now()>=r.createTime+6048e5?[2,PE({token:r.token,createTime:Date.now(),subscriptionOptions:o},t,e)]:[2,r.token];case 9:return[2]}var c,u,l})})}function RE(t,e){return Object(Ld.__awaiter)(this,void 0,void 0,function(){var n,i;return Object(Ld.__generator)(this,function(r){switch(r.label){case 0:return[4,yE(t)];case 1:return(n=r.sent())?[4,TE(t,n.token)]:[3,4];case 2:return r.sent(),[4,CE(t)];case 3:r.sent(),r.label=4;case 4:return[4,e.pushManager.getSubscription()];case 5:return(i=r.sent())?[2,i.unsubscribe()]:[2,!0]}})})}function PE(t,e,n){return Object(Ld.__awaiter)(this,void 0,void 0,function(){var i,r,o;return Object(Ld.__generator)(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,5]),[4,OE(e,t)];case 1:return i=s.sent(),r=Object(Ld.__assign)(Object(Ld.__assign)({},t),{token:i,createTime:Date.now()}),[4,wE(e,r)];case 2:return s.sent(),[2,i];case 3:return o=s.sent(),[4,RE(e,n)];case 4:throw s.sent(),o;case 5:return[2]}})})}function DE(t,e){return Object(Ld.__awaiter)(this,void 0,void 0,function(){var n,i;return Object(Ld.__generator)(this,function(r){switch(r.label){case 0:return[4,kE(t,e)];case 1:return n=r.sent(),i={token:n,createTime:Date.now(),subscriptionOptions:e},[4,wE(t,i)];case 2:return r.sent(),[2,i.token]}})})}function ME(t,e){return Object(Ld.__awaiter)(this,void 0,void 0,function(){var n;return Object(Ld.__generator)(this,function(i){switch(i.label){case 0:return[4,t.pushManager.getSubscription()];case 1:return(n=i.sent())?[2,n]:[2,t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:gE(e)})]}})})}function NE(t){return"object"==typeof t&&!!t&&"google.c.a.c_id"in t}function jE(t){return new Promise(function(e){setTimeout(e,t)})}var FE=function(){function t(t){var e=this;this.firebaseDependencies=t,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",function(t){t.waitUntil(e.onPush(t))}),self.addEventListener("pushsubscriptionchange",function(t){t.waitUntil(e.onSubChange(t))}),self.addEventListener("notificationclick",function(t){t.waitUntil(e.onNotificationClick(t))})}return Object.defineProperty(t.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),t.prototype.setBackgroundMessageHandler=function(t){if(this.isOnBackgroundMessageUsed=!1,!t||"function"!=typeof t)throw hE.create("invalid-bg-handler");this.bgMessageHandler=t},t.prototype.onBackgroundMessage=function(t){var e=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=t,function(){e.bgMessageHandler=null}},t.prototype.getToken=function(){var t,e;return Object(Ld.__awaiter)(this,void 0,void 0,function(){var n;return Object(Ld.__generator)(this,function(i){switch(i.label){case 0:return this.vapidKey?[3,2]:[4,yE(this.firebaseDependencies)];case 1:n=i.sent(),this.vapidKey=null!==(e=null===(t=null==n?void 0:n.subscriptionOptions)||void 0===t?void 0:t.vapidKey)&&void 0!==e?e:dE,i.label=2;case 2:return[2,AE(this.firebaseDependencies,self.registration,this.vapidKey)]}})})},t.prototype.deleteToken=function(){return RE(this.firebaseDependencies,self.registration)},t.prototype.requestPermission=function(){throw hE.create("only-available-in-window")},t.prototype.usePublicVapidKey=function(t){if(null!==this.vapidKey)throw hE.create("use-vapid-key-after-get-token");if("string"!=typeof t||0===t.length)throw hE.create("invalid-vapid-key");this.vapidKey=t},t.prototype.useServiceWorker=function(){throw hE.create("only-available-in-window")},t.prototype.onMessage=function(){throw hE.create("only-available-in-window")},t.prototype.onTokenRefresh=function(){throw hE.create("only-available-in-window")},t.prototype.onPush=function(t){return Object(Ld.__awaiter)(this,void 0,void 0,function(){var e,n,i,r;return Object(Ld.__generator)(this,function(o){switch(o.label){case 0:return(e=function(t){var e=t.data;if(!e)return null;try{return e.json()}catch(n){return null}}(t))?[4,qE()]:(console.debug("FirebaseMessaging: failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return function(t){return t.some(function(t){return"visible"===t.visibilityState&&!t.url.startsWith("chrome-extension://")})}(n=o.sent())?[2,UE(n,e)]:(i=!1,e.notification?[4,BE(LE(e))]:[3,3]);case 2:o.sent(),i=!0,o.label=3;case 3:return!0===i&&!1===this.isOnBackgroundMessageUsed?[2]:(this.bgMessageHandler&&(r=function(t){var e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcm_message_id};return function(t,e){if(e.notification){t.notification={};var n=e.notification.title;n&&(t.notification.title=n);var i=e.notification.body;i&&(t.notification.body=i);var r=e.notification.image;r&&(t.notification.image=r)}}(e,t),function(t,e){e.data&&(t.data=e.data)}(e,t),function(t,e){if(e.fcmOptions){t.fcmOptions={};var n=e.fcmOptions.link;n&&(t.fcmOptions.link=n);var i=e.fcmOptions.analytics_label;i&&(t.fcmOptions.analyticsLabel=i)}}(e,t),e}(e),"function"==typeof this.bgMessageHandler?this.bgMessageHandler(r):this.bgMessageHandler.next(r)),[4,jE(1e3)]);case 4:return o.sent(),[2]}})})},t.prototype.onSubChange=function(t){var e,n;return Object(Ld.__awaiter)(this,void 0,void 0,function(){var i;return Object(Ld.__generator)(this,function(r){switch(r.label){case 0:return t.newSubscription?[3,2]:[4,RE(this.firebaseDependencies,self.registration)];case 1:return r.sent(),[2];case 2:return[4,yE(this.firebaseDependencies)];case 3:return i=r.sent(),[4,RE(this.firebaseDependencies,self.registration)];case 4:return r.sent(),[4,AE(this.firebaseDependencies,self.registration,null!==(n=null===(e=null==i?void 0:i.subscriptionOptions)||void 0===e?void 0:e.vapidKey)&&void 0!==n?n:dE)];case 5:return r.sent(),[2]}})})},t.prototype.onNotificationClick=function(t){var e,n;return Object(Ld.__awaiter)(this,void 0,void 0,function(){var i,r,o,s,a;return Object(Ld.__generator)(this,function(c){switch(c.label){case 0:return(i=null===(n=null===(e=t.notification)||void 0===e?void 0:e.data)||void 0===n?void 0:n.FCM_MSG)?t.action?[2]:(t.stopImmediatePropagation(),t.notification.close(),(r=function(t){var e,n,i;return(null!==(n=null===(e=t.fcmOptions)||void 0===e?void 0:e.link)&&void 0!==n?n:null===(i=t.notification)||void 0===i?void 0:i.click_action)||(NE(t.data)?self.location.origin:null)}(i))?(o=new URL(r,self.location.href),s=new URL(self.location.origin),o.host!==s.host?[2]:[4,VE(o)]):[2]):[2];case 1:return(a=c.sent())?[3,4]:[4,self.clients.openWindow(r)];case 2:return a=c.sent(),[4,jE(3e3)];case 3:return c.sent(),[3,6];case 4:return[4,a.focus()];case 5:a=c.sent(),c.label=6;case 6:return a?(i.messageType=fE.NOTIFICATION_CLICKED,i.isFirebaseMessaging=!0,[2,a.postMessage(i)]):[2]}})})},t}();function LE(t){var e,n=Object(Ld.__assign)({},t.notification);return n.data=((e={}).FCM_MSG=t,e),n}function VE(t){return Object(Ld.__awaiter)(this,void 0,void 0,function(){var e,n,i,r,o,s,a;return Object(Ld.__generator)(this,function(c){switch(c.label){case 0:return[4,qE()];case 1:e=c.sent();try{for(n=Object(Ld.__values)(e),i=n.next();!i.done;i=n.next())if(r=i.value,o=new URL(r.url,self.location.href),t.host===o.host)return[2,r]}catch(u){s={error:u}}finally{try{i&&!i.done&&(a=n.return)&&a.call(n)}finally{if(s)throw s.error}}return[2,null]}})})}function UE(t,e){var n,i;e.isFirebaseMessaging=!0,e.messageType=fE.PUSH_RECEIVED;try{for(var r=Object(Ld.__values)(t),o=r.next();!o.done;o=r.next())o.value.postMessage(e)}catch(s){n={error:s}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}}function qE(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function BE(t){var e,n=t.actions,i=Notification.maxActions;return n&&i&&n.length>i&&console.warn("This browser only supports "+i+" actions. The remaining actions will not be displayed."),self.registration.showNotification(null!==(e=t.title)&&void 0!==e?e:"",t)}var HE=function(){function t(t){var e=this;this.firebaseDependencies=t,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",function(t){return e.messageEventListener(t)})}return Object.defineProperty(t.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),t.prototype.messageEventListener=function(t){return Object(Ld.__awaiter)(this,void 0,void 0,function(){var e,n;return Object(Ld.__generator)(this,function(i){switch(i.label){case 0:return(e=t.data).isFirebaseMessaging?(this.onMessageCallback&&e.messageType===fE.PUSH_RECEIVED&&("function"==typeof this.onMessageCallback?this.onMessageCallback(function(t){return delete t.messageType,delete t.isFirebaseMessaging,t}(Object.assign({},e))):this.onMessageCallback.next(Object.assign({},e))),NE(n=e.data)&&"1"===n["google.c.a.e"]?[4,this.logEvent(e.messageType,n)]:[3,2]):[2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},t.prototype.getVapidKey=function(){return this.vapidKey},t.prototype.getSwReg=function(){return this.swRegistration},t.prototype.getToken=function(t){return Object(Ld.__awaiter)(this,void 0,void 0,function(){return Object(Ld.__generator)(this,function(e){switch(e.label){case 0:return"default"!==Notification.permission?[3,2]:[4,Notification.requestPermission()];case 1:e.sent(),e.label=2;case 2:if("granted"!==Notification.permission)throw hE.create("permission-blocked");return[4,this.updateVapidKey(null==t?void 0:t.vapidKey)];case 3:return e.sent(),[4,this.updateSwReg(null==t?void 0:t.serviceWorkerRegistration)];case 4:return e.sent(),[2,AE(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}})})},t.prototype.updateVapidKey=function(t){return Object(Ld.__awaiter)(this,void 0,void 0,function(){return Object(Ld.__generator)(this,function(e){return t?this.vapidKey=t:this.vapidKey||(this.vapidKey=dE),[2]})})},t.prototype.updateSwReg=function(t){return Object(Ld.__awaiter)(this,void 0,void 0,function(){return Object(Ld.__generator)(this,function(e){switch(e.label){case 0:return t||this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:e.sent(),e.label=2;case 2:if(!t&&this.swRegistration)return[2];if(!(t instanceof ServiceWorkerRegistration))throw hE.create("invalid-sw-registration");return this.swRegistration=t,[2]}})})},t.prototype.registerDefaultSw=function(){return Object(Ld.__awaiter)(this,void 0,void 0,function(){var t,e;return Object(Ld.__generator)(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),t=this,[4,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"})];case 1:return t.swRegistration=n.sent(),this.swRegistration.update().catch(function(){}),[3,3];case 2:throw e=n.sent(),hE.create("failed-service-worker-registration",{browserErrorMessage:e.message});case 3:return[2]}})})},t.prototype.deleteToken=function(){return Object(Ld.__awaiter)(this,void 0,void 0,function(){return Object(Ld.__generator)(this,function(t){switch(t.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:t.sent(),t.label=2;case 2:return[2,RE(this.firebaseDependencies,this.swRegistration)]}})})},t.prototype.requestPermission=function(){return Object(Ld.__awaiter)(this,void 0,void 0,function(){var t;return Object(Ld.__generator)(this,function(e){switch(e.label){case 0:return"granted"===Notification.permission?[2]:[4,Notification.requestPermission()];case 1:if("granted"===(t=e.sent()))return[2];throw hE.create("denied"===t?"permission-blocked":"permission-default")}})})},t.prototype.usePublicVapidKey=function(t){if(null!==this.vapidKey)throw hE.create("use-vapid-key-after-get-token");if("string"!=typeof t||0===t.length)throw hE.create("invalid-vapid-key");this.vapidKey=t},t.prototype.useServiceWorker=function(t){if(!(t instanceof ServiceWorkerRegistration))throw hE.create("invalid-sw-registration");if(this.swRegistration)throw hE.create("use-sw-after-get-token");this.swRegistration=t},t.prototype.onMessage=function(t){var e=this;return this.onMessageCallback=t,function(){e.onMessageCallback=null}},t.prototype.setBackgroundMessageHandler=function(){throw hE.create("only-available-in-sw")},t.prototype.onBackgroundMessage=function(){throw hE.create("only-available-in-sw")},t.prototype.onTokenRefresh=function(){return function(){}},t.prototype.logEvent=function(t,e){return Object(Ld.__awaiter)(this,void 0,void 0,function(){var n;return Object(Ld.__generator)(this,function(i){switch(i.label){case 0:return n=function(t){switch(t){case fE.NOTIFICATION_CLICKED:return"notification_open";case fE.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(t),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return i.sent().logEvent(n,{message_id:e["google.c.a.c_id"],message_name:e["google.c.a.c_l"],message_time:e["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)}),[2]}})})},t}();function zE(t){return hE.create("missing-app-config-values",{valueName:t})}var WE={isSupported:GE};function GE(){return self&&"ServiceWorkerGlobalScope"in self?"indexedDB"in self&&null!==indexedDB&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"):"indexedDB"in window&&null!==indexedDB&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}Fd.default.INTERNAL.registerComponent(new dx.Component("messaging",function(t){var e=t.getProvider("app").getImmediate(),n={app:e,appConfig:function(t){var e,n;if(!t||!t.options)throw zE("App Configuration Object");if(!t.name)throw zE("App Name");var i=t.options;try{for(var r=Object(Ld.__values)(["projectId","apiKey","appId","messagingSenderId"]),o=r.next();!o.done;o=r.next()){var s=o.value;if(!i[s])throw zE(s)}}catch(a){e={error:a}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return{appName:t.name,projectId:i.projectId,apiKey:i.apiKey,appId:i.appId,senderId:i.messagingSenderId}}(e),installations:t.getProvider("installations").getImmediate(),analyticsProvider:t.getProvider("analytics-internal")};if(!GE())throw hE.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new FE(n):new HE(n)},"PUBLIC").setServiceProps(WE));var KE=function(t){function e(n,i){var r=t.call(this,$E(n),"Firebase Storage: "+i+" ("+$E(n)+")")||this;return r.customData={serverResponse:null},r._baseMessage=r.message,Object.setPrototypeOf(r,e.prototype),r}return Object(Ld.__extends)(e,t),e.prototype._codeEquals=function(t){return $E(t)===this.code},Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(t){this.customData.serverResponse=t,this.message=this.customData.serverResponse?this._baseMessage+"\n"+this.customData.serverResponse:this._baseMessage},enumerable:!1,configurable:!0}),e}(Vd.FirebaseError);function $E(t){return"storage/"+t}function YE(){return new KE("unknown","An unknown error occurred, please check the error payload for server response.")}function QE(){return new KE("canceled","User canceled the upload/download.")}function ZE(){return new KE("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function XE(t){return new KE("invalid-argument",t)}function JE(){return new KE("app-deleted","The Firebase app was deleted.")}function tI(t){return new KE("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function eI(t,e){return new KE("invalid-format","String does not match format '"+t+"': "+e)}function nI(t){throw new KE("internal-error","Internal error: "+t)}var iI={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},rI=function(){return function(t,e){this.data=t,this.contentType=e||null}}();function oI(t,e){switch(t){case iI.RAW:return new rI(sI(e));case iI.BASE64:case iI.BASE64URL:return new rI(aI(t,e));case iI.DATA_URL:return new rI((n=new cI(e)).base64?aI(iI.BASE64,n.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(cx){throw eI(iI.DATA_URL,"Malformed data URL.")}return sI(e)}(n.rest),new cI(e).contentType)}var n;throw YE()}function sI(t){for(var e=[],n=0;n<t.length;n++){var i=t.charCodeAt(n);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|63&i);else if(55296==(64512&i))if(n<t.length-1&&56320==(64512&t.charCodeAt(n+1))){var r=i,o=t.charCodeAt(++n);e.push(240|(i=65536|(1023&r)<<10|1023&o)>>18,128|i>>12&63,128|i>>6&63,128|63&i)}else e.push(239,191,189);else 56320==(64512&i)?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(e)}function aI(t,e){switch(t){case iI.BASE64:var n=-1!==e.indexOf("-"),i=-1!==e.indexOf("_");if(n||i)throw eI(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case iI.BASE64URL:var r=-1!==e.indexOf("+"),o=-1!==e.indexOf("/");if(r||o)throw eI(t,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var s;try{s=atob(e)}catch(cx){throw eI(t,"Invalid character found")}for(var a=new Uint8Array(s.length),c=0;c<s.length;c++)a[c]=s.charCodeAt(c);return a}var cI=function(){return function(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw eI(iI.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n,i=e[1]||null;null!=i&&(this.base64=(n=i).length>=";base64".length&&";base64"===n.substring(n.length-";base64".length),this.contentType=this.base64?i.substring(0,i.length-";base64".length):i),this.rest=t.substring(t.indexOf(",")+1)}}(),uI={STATE_CHANGED:"state_changed"},lI={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function hI(t){switch(t){case"running":case"pausing":case"canceling":return lI.RUNNING;case"paused":return lI.PAUSED;case"success":return lI.SUCCESS;case"canceled":return lI.CANCELED;case"error":default:return lI.ERROR}}var dI=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}({}),fI=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=dI.NO_ERROR,this.sendPromise_=new Promise(function(e){t.xhr_.addEventListener("abort",function(){t.errorCode_=dI.ABORT,e()}),t.xhr_.addEventListener("error",function(){t.errorCode_=dI.NETWORK_ERROR,e()}),t.xhr_.addEventListener("load",function(){e()})})}return t.prototype.send=function(t,e,n,i){if(this.sent_)throw nI("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==i)for(var r in i)i.hasOwnProperty(r)&&this.xhr_.setRequestHeader(r,i[r].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw nI("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw nI("cannot .getStatus() before sending");try{return this.xhr_.status}catch(cx){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw nI("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)},t}(),pI=function(){function t(){}return t.prototype.createConnection=function(){return new fI},t}(),gI=function(){function t(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(e,n){var i;try{i=t.makeFromUrl(e,n)}catch(cx){return new t(e,"")}if(""===i.path)return i;throw new KE("invalid-default-bucket","Invalid default bucket '"+e+"'.")},t.makeFromUrl=function(e,n){var i=null,r=new RegExp("^gs://([A-Za-z0-9.\\-_]+)(/(.*))?$","i");function o(t){t.path_=decodeURIComponent(t.path)}for(var s=n.replace(/[.]/g,"\\."),a=[{regex:r,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+s+"/v[A-Za-z0-9_]+/b/([A-Za-z0-9.\\-_]+)/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://"+("firebasestorage.googleapis.com"===n?"(?:storage.googleapis.com|storage.cloud.google.com)":n)+"/([A-Za-z0-9.\\-_]+)/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:o}],c=0;c<a.length;c++){var u=a[c],l=u.regex.exec(e);if(l){var h=l[u.indices.path];h||(h=""),i=new t(l[u.indices.bucket],h),u.postModify(i);break}}if(null==i)throw function(t){return new KE("invalid-url","Invalid URL '"+t+"'.")}(e);return i},t}(),mI=function(){function t(t){this.promise_=Promise.reject(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){},t}();function bI(t){return"string"==typeof t||t instanceof String}function _I(t){return vI()&&t instanceof Blob}function vI(){return"undefined"!=typeof Blob}function yI(t,e,n,i){if(i<e)throw XE("Invalid value for '"+t+"'. Expected "+e+" or greater.");if(i>n)throw XE("Invalid value for '"+t+"'. Expected "+n+" or less.")}function wI(t,e){var n=e.match(/^(\w+):\/\/.+/),i=e;return null==(null==n?void 0:n[1])&&(i="https://"+e),i+"/v0"+t}function CI(t){var e=encodeURIComponent,n="?";for(var i in t)t.hasOwnProperty(i)&&(n=n+(e(i)+"=")+e(t[i])+"&");return n.slice(0,-1)}var SI=function(){function t(t,e,n,i,r,o,s,a,c,u,l){var h=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=i,this.successCodes_=r.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=s,this.errorCallback_=a,this.progressCallback_=u,this.timeout_=c,this.pool_=l,this.promise_=new Promise(function(t,e){h.resolve_=t,h.reject_=e,h.start_()})}return t.prototype.start_=function(){var t=this;function e(e,n){var i,r=t.resolve_,o=t.reject_,s=n.connection;if(n.wasSuccessCode)try{var a=t.callback_(s,s.getResponseText());void 0!==a?r(a):r()}catch(cx){o(cx)}else null!==s?((i=YE()).serverResponse=s.getResponseText(),o(t.errorCallback_?t.errorCallback_(s,i):i)):o(i=n.canceled?t.appDelete_?JE():QE():new KE("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?e(0,new kI(!1,null,!0)):this.backoffId_=function(e,n,i){var r=1,o=null,s=!1,a=0;function c(){return 2===a}var u=!1;function l(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];u||(u=!0,n.apply(null,t))}function h(e){o=setTimeout(function(){o=null,function(e,n){if(n)e(!1,new kI(!1,null,!0));else{var i=t.pool_.createConnection();t.pendingConnection_=i,null!==t.progressCallback_&&i.addUploadProgressListener(r),i.send(t.url_,t.method_,t.body_,t.headers_).then(function(){null!==t.progressCallback_&&i.removeUploadProgressListener(r),t.pendingConnection_=null;var n=i.getErrorCode()===dI.NO_ERROR,o=i.getStatus();if(n&&!t.isRetryStatusCode_(o)){var s=-1!==t.successCodes_.indexOf(o);e(!0,new kI(s,i))}else{var a=i.getErrorCode()===dI.ABORT;e(!1,new kI(!1,null,a))}})}function r(e){null!==t.progressCallback_&&t.progressCallback_(e.loaded,e.lengthComputable?e.total:-1)}}(d,c())},e)}function d(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!u)if(t)l.call.apply(l,Object(Ld.__spreadArray)([null,t],e));else{var i;c()||s?l.call.apply(l,Object(Ld.__spreadArray)([null,t],e)):(r<64&&(r*=2),1===a?(a=2,i=0):i=1e3*(r+Math.random()),h(i))}}var f=!1;function p(t){f||(f=!0,u||(null!==o?(t||(a=2),clearTimeout(o),h(0)):t||(a=1)))}return h(0),setTimeout(function(){s=!0,p(!0)},i),p}(0,e,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,n=-1!==[408,429].indexOf(t),i=-1!==this.additionalRetryCodes_.indexOf(t);return e||n||i},t}(),kI=function(){return function(t,e,n){this.wasSuccessCode=t,this.connection=e,this.canceled=!!n}}();function OI(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function TI(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=OI();if(void 0!==n){for(var i=new n,r=0;r<t.length;r++)i.append(t[r]);return i.getBlob()}if(vI())return new Blob(t);throw new KE("unsupported-environment","This browser doesn't seem to support creating Blobs")}var xI=function(){function t(t,e){var n=0,i="";_I(t)?(this.data_=t,n=t.size,i=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=i}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(_I(this.data_)){var i=(o=e,s=n,(r=this.data_).webkitSlice?r.webkitSlice(o,s):r.mozSlice?r.mozSlice(o,s):r.slice?r.slice(o,s):null);return null===i?null:new t(i)}var r,o,s;return new t(new Uint8Array(this.data_.buffer,e,n-e),!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(vI()){var i=e.map(function(e){return e instanceof t?e.data_:e});return new t(TI.apply(null,i))}var r=e.map(function(t){return bI(t)?oI(iI.RAW,t).data:t.data_}),o=0;r.forEach(function(t){o+=t.byteLength});var s=new Uint8Array(o),a=0;return r.forEach(function(t){for(var e=0;e<t.length;e++)s[a++]=t[e]}),new t(s,!0)},t.prototype.uploadData=function(){return this.data_},t}();function EI(t){var e,n;try{e=JSON.parse(t)}catch(cx){return null}return"object"!=typeof(n=e)||Array.isArray(n)?null:e}function II(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function AI(t,e){return e}var RI=function(){return function(t,e,n,i){this.server=t,this.local=e||t,this.writable=!!n,this.xform=i||AI}}(),PI=null;function DI(){if(PI)return PI;var t=[];t.push(new RI("bucket")),t.push(new RI("generation")),t.push(new RI("metageneration")),t.push(new RI("name","fullPath",!0));var e=new RI("name");e.xform=function(t,e){return function(t){return!bI(t)||t.length<2?t:II(t)}(e)},t.push(e);var n=new RI("size");return n.xform=function(t,e){return void 0!==e?Number(e):e},t.push(n),t.push(new RI("timeCreated")),t.push(new RI("updated")),t.push(new RI("md5Hash",null,!0)),t.push(new RI("cacheControl",null,!0)),t.push(new RI("contentDisposition",null,!0)),t.push(new RI("contentEncoding",null,!0)),t.push(new RI("contentLanguage",null,!0)),t.push(new RI("contentType",null,!0)),t.push(new RI("metadata","customMetadata",!0)),PI=t}function MI(t,e,n){var i=EI(e);return null===i?null:function(t,e,n){for(var i={type:"file"},r=n.length,o=0;o<r;o++){var s=n[o];i[s.local]=s.xform(i,e[s.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){var n=new gI(t.bucket,t.fullPath);return e._makeStorageReference(n)}})}(i,t),i}(t,i,n)}function NI(t,e){for(var n={},i=e.length,r=0;r<i;r++){var o=e[r];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}var jI=function(){return function(t,e,n,i){this.url=t,this.method=e,this.handler=n,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}();function FI(t){if(!t)throw YE()}function LI(t,e){return function(n,i){var r=MI(t,i,e);return FI(null!==r),r}}function VI(t){return function(e,n){var i;return(i=401===e.getStatus()?e.getResponseText().includes("Firebase App Check token is invalid")?new KE("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new KE("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?new KE("quota-exceeded","Quota for bucket '"+t.bucket+"' exceeded, please view quota on https://firebase.google.com/pricing/."):403===e.getStatus()?new KE("unauthorized","User does not have permission to access '"+t.path+"'."):n).serverResponse=n.serverResponse,i}}function UI(t){var e=VI(t);return function(n,i){var r=e(n,i);return 404===n.getStatus()&&(r=new KE("object-not-found","Object '"+t.path+"' does not exist.")),r.serverResponse=i.serverResponse,r}}function qI(t,e,n){var i=wI(e.fullServerUrl(),t.host),r=t.maxOperationRetryTime,o=new jI(i,"GET",LI(t,n),r);return o.errorHandler=UI(e),o}function BI(t,e,n){var i=Object.assign({},n);return i.fullPath=t.path,i.size=e.size(),i.contentType||(i.contentType=function(t,e){return e&&e.type()||"application/octet-stream"}(0,e)),i}var HI=function(){return function(t,e,n,i){this.current=t,this.total=e,this.finalized=!!n,this.metadata=i||null}}();function zI(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(cx){FI(!1)}return FI(!!n&&-1!==(e||["active"]).indexOf(n)),n}var WI=function(){return function(t,e,n){if("function"==typeof t||null!=e||null!=n)this.next=t,this.error=e,this.complete=n;else{var i=t;this.next=i.next,this.error=i.error,this.complete=i.complete}}}();function GI(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then(function(){return t.apply(void 0,e)})}}var KI=function(){function t(t,e,n){var i=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=n,this._mappings=DI(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(t){i._request=void 0,i._chunkMultiplier=1,t._codeEquals("canceled")?(i._needToFetchStatus=!0,i.completeTransitions_()):(i._error=t,i._transition("error"))},this._metadataErrorHandler=function(t){i._request=void 0,t._codeEquals("canceled")?i.completeTransitions_():(i._error=t,i._transition("error"))},this._promise=new Promise(function(t,e){i._resolve=t,i._reject=e,i._start()}),this._promise.then(null,function(){})}return t.prototype._makeProgressCallback=function(){var t=this,e=this._transferred;return function(n){return t._updateProgress(e+n)}},t.prototype._shouldDoResumable=function(t){return t.size()>262144},t.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},t.prototype._resolveToken=function(t){var e=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(function(n){var i=n[0],r=n[1];switch(e._state){case"running":t(i,r);break;case"canceling":e._transition("canceled");break;case"pausing":e._transition("paused")}})},t.prototype._createResumable=function(){var t=this;this._resolveToken(function(e,n){var i=function(t,e,n,i,r){var o=e.bucketOnlyServerUrl(),s=BI(e,i,r),a={name:s.fullPath},c=wI(o,t.host),u={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+i.size(),"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},l=NI(s,n),h=new jI(c,"POST",function(t){var e;zI(t);try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(cx){FI(!1)}return FI(bI(e)),e},t.maxUploadRetryTime);return h.urlParams=a,h.headers=u,h.body=l,h.errorHandler=VI(e),h}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),r=t._ref.storage._makeRequest(i,e,n);t._request=r,r.getPromise().then(function(e){t._request=void 0,t._uploadUrl=e,t._needToFetchStatus=!1,t.completeTransitions_()},t._errorHandler)})},t.prototype._fetchStatus=function(){var t=this,e=this._uploadUrl;this._resolveToken(function(n,i){var r=function(t,e,n,i){var r=new jI(n,"POST",function(t){var e=zI(t,["active","final"]),n=null;try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(cx){FI(!1)}n||FI(!1);var r=Number(n);return FI(!isNaN(r)),new HI(r,i.size(),"final"===e)},t.maxUploadRetryTime);return r.headers={"X-Goog-Upload-Command":"query"},r.errorHandler=VI(e),r}(t._ref.storage,t._ref._location,e,t._blob),o=t._ref.storage._makeRequest(r,n,i);t._request=o,o.getPromise().then(function(e){e=e,t._request=void 0,t._updateProgress(e.current),t._needToFetchStatus=!1,e.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()},t._errorHandler)})},t.prototype._continueUpload=function(){var t=this,e=262144*this._chunkMultiplier,n=new HI(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken(function(r,o){var s;try{s=function(t,e,n,i,r,o,s,a){var c=new HI(0,0);if(s?(c.current=s.current,c.total=s.total):(c.current=0,c.total=i.size()),i.size()!==c.total)throw new KE("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var u=c.total-c.current,l=u;r>0&&(l=Math.min(l,r));var h=c.current,d={"X-Goog-Upload-Command":l===u?"upload, finalize":"upload","X-Goog-Upload-Offset":""+c.current},f=i.slice(h,h+l);if(null===f)throw ZE();var p=new jI(n,"POST",function(t,n){var r,s=zI(t,["active","final"]),a=c.current+l,u=i.size();return r="final"===s?LI(e,o)(t,n):null,new HI(a,u,"final"===s,r)},e.maxUploadRetryTime);return p.headers=d,p.body=f.uploadData(),p.progressCallback=a||null,p.errorHandler=VI(t),p}(t._ref._location,t._ref.storage,i,t._blob,e,t._mappings,n,t._makeProgressCallback())}catch(cx){return t._error=cx,void t._transition("error")}var a=t._ref.storage._makeRequest(s,r,o);t._request=a,a.getPromise().then(function(e){t._increaseMultiplier(),t._request=void 0,t._updateProgress(e.current),e.finalized?(t._metadata=e.metadata,t._transition("success")):t.completeTransitions_()},t._errorHandler)})},t.prototype._increaseMultiplier=function(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},t.prototype._fetchMetadata=function(){var t=this;this._resolveToken(function(e,n){var i=qI(t._ref.storage,t._ref._location,t._mappings),r=t._ref.storage._makeRequest(i,e,n);t._request=r,r.getPromise().then(function(e){t._request=void 0,t._metadata=e,t._transition("success")},t._metadataErrorHandler)})},t.prototype._oneShotUpload=function(){var t=this;this._resolveToken(function(e,n){var i=function(t,e,n,i,r){var o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"},a=function(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();s["Content-Type"]="multipart/related; boundary="+a;var c=BI(e,i,r),u=NI(c,n),l=xI.getBlob("--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+u+"\r\n--"+a+"\r\nContent-Type: "+c.contentType+"\r\n\r\n",i,"\r\n--"+a+"--");if(null===l)throw ZE();var h={name:c.fullPath},d=wI(o,t.host),f=t.maxUploadRetryTime,p=new jI(d,"POST",LI(t,n),f);return p.urlParams=h,p.headers=s,p.body=l.uploadData(),p.errorHandler=VI(e),p}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),r=t._ref.storage._makeRequest(i,e,n);t._request=r,r.getPromise().then(function(e){t._request=void 0,t._metadata=e,t._updateProgress(t._blob.size()),t._transition("success")},t._errorHandler)})},t.prototype._updateProgress=function(t){var e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()},t.prototype._transition=function(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request&&this._request.cancel();break;case"running":var e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=QE(),this._state=t,this._notifyObservers();break;case"error":case"success":this._state=t,this._notifyObservers()}},t.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=hI(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),t.prototype.on=function(t,e,n,i){var r=this,o=new WI(e,n,i);return this._addObserver(o),function(){r._removeObserver(o)}},t.prototype.then=function(t,e){return this._promise.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},t.prototype._removeObserver=function(t){var e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)},t.prototype._notifyObservers=function(){var t=this;this._finishPromise(),this._observers.slice().forEach(function(e){t._notifyObserver(e)})},t.prototype._finishPromise=function(){if(void 0!==this._resolve){var t=!0;switch(hI(this._state)){case lI.SUCCESS:GI(this._resolve.bind(null,this.snapshot))();break;case lI.CANCELED:case lI.ERROR:GI(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}},t.prototype._notifyObserver=function(t){switch(hI(this._state)){case lI.RUNNING:case lI.PAUSED:t.next&&GI(t.next.bind(t,this.snapshot))();break;case lI.SUCCESS:t.complete&&GI(t.complete.bind(t))();break;case lI.CANCELED:case lI.ERROR:t.error&&GI(t.error.bind(t,this._error))();break;default:t.error&&GI(t.error.bind(t,this._error))()}},t.prototype.resume=function(){var t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t},t.prototype.pause=function(){var t="running"===this._state;return t&&this._transition("pausing"),t},t.prototype.cancel=function(){var t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t},t}(),$I=function(){function t(t,e){this._service=t,this._location=e instanceof gI?e:gI.makeFromUrl(e,t.host)}return t.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},t.prototype._newRef=function(e,n){return new t(e,n)},Object.defineProperty(t.prototype,"root",{get:function(){var t=new gI(this._location.bucket,"");return this._newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return II(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=function(t){if(0===t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;var n=new gI(this._location.bucket,e);return new t(this._service,n)},enumerable:!1,configurable:!0}),t.prototype._throwIfRoot=function(t){if(""===this._location.path)throw tI(t)},t}();function YI(t){var e={prefixes:[],items:[]};return QI(t,e).then(function(){return e})}function QI(t,e,n){return Object(Ld.__awaiter)(this,void 0,void 0,function(){var i,r,o;return Object(Ld.__generator)(this,function(s){switch(s.label){case 0:return[4,ZI(t,{pageToken:n})];case 1:return i=s.sent(),(r=e.prefixes).push.apply(r,i.prefixes),(o=e.items).push.apply(o,i.items),null==i.nextPageToken?[3,3]:[4,QI(t,e,i.nextPageToken)];case 2:s.sent(),s.label=3;case 3:return[2]}})})}function ZI(t,e){return Object(Ld.__awaiter)(this,void 0,void 0,function(){var n,i;return Object(Ld.__generator)(this,function(r){switch(r.label){case 0:return null!=e&&"number"==typeof e.maxResults&&yI("options.maxResults",1,1e3,e.maxResults),i=function(t,e,n,i,r){var o={};o.prefix=e.isRoot?"":e.path+"/",n&&n.length>0&&(o.delimiter=n),i&&(o.pageToken=i),r&&(o.maxResults=r);var s=wI(e.bucketOnlyServerUrl(),t.host),a=t.maxOperationRetryTime,c=new jI(s,"GET",function(t,e){return function(n,i){var r=function(t,e,n){var i=EI(n);return null===i?null:function(t,e,n){var i={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var r=0,o=n.prefixes;r<o.length;r++){var s=o[r].replace(/\/$/,""),a=t._makeStorageReference(new gI(e,s));i.prefixes.push(a)}if(n.items)for(var c=0,u=n.items;c<u.length;c++)a=t._makeStorageReference(new gI(e,u[c].name)),i.items.push(a);return i}(t,e,i)}(t,e,i);return FI(null!==r),r}}(t,e.bucket),a);return c.urlParams=o,c.errorHandler=VI(e),c}(t.storage,t._location,"/",(n=e||{}).pageToken,n.maxResults),[4,t.storage.makeRequestWithTokens(i)];case 1:return[2,r.sent().getPromise()]}})})}function XI(t,e){var n=function(t,e){var n=e.split("/").filter(function(t){return t.length>0}).join("/");return 0===t.length?n:t+"/"+n}(t._location.path,e),i=new gI(t._location.bucket,n);return new $I(t.storage,i)}function JI(t){return/^[A-Za-z]+:\/\//.test(t)}function tA(t,e){if(t instanceof iA){var n=t;if(null==n._bucket)throw new KE("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var i=new $I(n,n._bucket);return null!=e?tA(i,e):i}return void 0!==e?XI(t,e):t}function eA(t,e){if(e&&JI(e)){if(t instanceof iA)return new $I(t,e);throw XE("To use ref(service, url), the first argument must be a Storage instance.")}return tA(t,e)}function nA(t,e){var n=null==e?void 0:e.storageBucket;return null==n?null:gI.makeFromBucketSpec(n,t)}var iA=function(){function t(t,e,n,i,r,o){this.app=t,this._authProvider=e,this._appCheckProvider=n,this._pool=i,this._url=r,this._firebaseVersion=o,this._bucket=null,this._host="firebasestorage.googleapis.com",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?gI.makeFromBucketSpec(r,this._host):nA(this._host,this.app.options)}return Object.defineProperty(t.prototype,"host",{get:function(){return this._host},set:function(t){this._host=t,this._bucket=null!=this._url?gI.makeFromBucketSpec(this._url,t):nA(t,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){yI("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){yI("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),t.prototype._getAuthToken=function(){return Object(Ld.__awaiter)(this,void 0,void 0,function(){var t,e;return Object(Ld.__generator)(this,function(n){switch(n.label){case 0:return this._overrideAuthToken?[2,this._overrideAuthToken]:(t=this._authProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:if(null!==(e=n.sent()))return[2,e.accessToken];n.label=2;case 2:return[2,null]}})})},t.prototype._getAppCheckToken=function(){return Object(Ld.__awaiter)(this,void 0,void 0,function(){var t;return Object(Ld.__generator)(this,function(e){switch(e.label){case 0:return(t=this._appCheckProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:return[2,e.sent().token];case 2:return[2,null]}})})},t.prototype._delete=function(){return this._deleted||(this._deleted=!0,this._requests.forEach(function(t){return t.cancel()}),this._requests.clear()),Promise.resolve()},t.prototype._makeStorageReference=function(t){return new $I(this,t)},t.prototype._makeRequest=function(t,e,n){var i=this;if(this._deleted)return new mI(JE());var r=function(t,e,n,i,r,o){var s=CI(t.urlParams),a=t.url+s,c=Object.assign({},t.headers);return function(t,e){e&&(t["X-Firebase-GMPID"]=e)}(c,e),function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(c,n),function(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(c,o),function(t,e){null!==e&&(t["X-Firebase-AppCheck"]=e)}(c,i),new SI(a,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r)}(t,this._appId,e,n,this._pool,this._firebaseVersion);return this._requests.add(r),r.getPromise().then(function(){return i._requests.delete(r)},function(){return i._requests.delete(r)}),r},t.prototype.makeRequestWithTokens=function(t){return Object(Ld.__awaiter)(this,void 0,void 0,function(){var e;return Object(Ld.__generator)(this,function(n){switch(n.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return e=n.sent(),[2,this._makeRequest(t,e[0],e[1])]}})})},t}();function rA(t,e){return eA(t=Object(Vd.getModularInstance)(t),e)}var oA=function(){function t(t,e,n){this._delegate=t,this.task=e,this.ref=n}return Object.defineProperty(t.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),t}(),sA=function(){function t(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(t.prototype,"snapshot",{get:function(){return new oA(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),t.prototype.then=function(t,e){var n=this;return this._delegate.then(function(e){if(t)return t(new oA(e,n,n._ref))},e)},t.prototype.on=function(t,e,n,i){var r=this,o=void 0;return e&&(o="function"==typeof e?function(t){return e(new oA(t,r,r._ref))}:{next:e.next?function(t){return e.next(new oA(t,r,r._ref))}:void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,o,n||void 0,i||void 0)},t}(),aA=function(){function t(t,e){this._delegate=t,this._service=e}return Object.defineProperty(t.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map(function(e){return new cA(e,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){var t=this;return this._delegate.items.map(function(e){return new cA(e,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),t}(),cA=function(){function t(t,e){this._delegate=t,this.storage=e}return Object.defineProperty(t.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return this._delegate.toString()},t.prototype.child=function(e){return new t(function(t,e){return XI(t,e)}(this._delegate,e),this.storage)},Object.defineProperty(t.prototype,"root",{get:function(){return new t(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return null==e?null:new t(e,this.storage)},enumerable:!1,configurable:!0}),t.prototype.put=function(t,e){return this._throwIfRoot("put"),new sA(function(t,e,n){return function(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new KI(t,new xI(e),n)}(t=Object(Vd.getModularInstance)(t),e,n)}(this._delegate,t,e),this)},t.prototype.putString=function(t,e,n){void 0===e&&(e=iI.RAW),this._throwIfRoot("putString");var i=oI(e,t),r=Object(Ld.__assign)({},n);return null==r.contentType&&null!=i.contentType&&(r.contentType=i.contentType),new sA(new KI(this._delegate,new xI(i.data,!0),r),this)},t.prototype.listAll=function(){var t,e=this;return(t=this._delegate,YI(t=Object(Vd.getModularInstance)(t))).then(function(t){return new aA(t,e.storage)})},t.prototype.list=function(t){var e=this;return function(t,e){return ZI(t=Object(Vd.getModularInstance)(t),e)}(this._delegate,t||void 0).then(function(t){return new aA(t,e.storage)})},t.prototype.getMetadata=function(){return t=this._delegate,function(t){return Object(Ld.__awaiter)(this,void 0,void 0,function(){var e;return Object(Ld.__generator)(this,function(n){switch(n.label){case 0:return t._throwIfRoot("getMetadata"),e=qI(t.storage,t._location,DI()),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise()]}})})}(t=Object(Vd.getModularInstance)(t));var t},t.prototype.updateMetadata=function(t){return function(t,e){return function(t,e){return Object(Ld.__awaiter)(this,void 0,void 0,function(){var n;return Object(Ld.__generator)(this,function(i){switch(i.label){case 0:return t._throwIfRoot("updateMetadata"),n=function(t,e,n,i){var r=wI(e.fullServerUrl(),t.host),o=NI(n,i),s=t.maxOperationRetryTime,a=new jI(r,"PATCH",LI(t,i),s);return a.headers={"Content-Type":"application/json; charset=utf-8"},a.body=o,a.errorHandler=UI(e),a}(t.storage,t._location,e,DI()),[4,t.storage.makeRequestWithTokens(n)];case 1:return[2,i.sent().getPromise()]}})})}(t=Object(Vd.getModularInstance)(t),e)}(this._delegate,t)},t.prototype.getDownloadURL=function(){return t=this._delegate,function(t){return Object(Ld.__awaiter)(this,void 0,void 0,function(){var e;return Object(Ld.__generator)(this,function(n){switch(n.label){case 0:return t._throwIfRoot("getDownloadURL"),e=function(t,e,n){var i=wI(e.fullServerUrl(),t.host),r=t.maxOperationRetryTime,o=new jI(i,"GET",function(t,e){return function(n,i){var r=MI(t,i,e);return FI(null!==r),function(t,e,n){var i=EI(e);if(null===i)return null;if(!bI(i.downloadTokens))return null;var r=i.downloadTokens;if(0===r.length)return null;var o=encodeURIComponent;return r.split(",").map(function(e){var i=t.fullPath;return wI("/b/"+o(t.bucket)+"/o/"+o(i),n)+CI({alt:"media",token:e})})[0]}(r,i,t.host)}}(t,n),r);return o.errorHandler=UI(e),o}(t.storage,t._location,DI()),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise().then(function(t){if(null===t)throw new KE("no-download-url","The given file does not have any download URLs.");return t})]}})})}(t=Object(Vd.getModularInstance)(t));var t},t.prototype.delete=function(){return this._throwIfRoot("delete"),t=this._delegate,function(t){return Object(Ld.__awaiter)(this,void 0,void 0,function(){var e;return Object(Ld.__generator)(this,function(n){switch(n.label){case 0:return t._throwIfRoot("deleteObject"),e=function(t,e){var n=wI(e.fullServerUrl(),t.host),i=new jI(n,"DELETE",function(t,e){},t.maxOperationRetryTime);return i.successCodes=[200,204],i.errorHandler=UI(e),i}(t.storage,t._location),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise()]}})})}(t=Object(Vd.getModularInstance)(t));var t},t.prototype._throwIfRoot=function(t){if(""===this._delegate._location.path)throw tI(t)},t}(),uA=function(){function t(t,e){this.app=t,this._delegate=e}return Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),t.prototype.ref=function(t){if(JI(t))throw XE("ref() expected a child path but got a URL, use refFromURL instead.");return new cA(rA(this._delegate,t),this)},t.prototype.refFromURL=function(t){if(!JI(t))throw XE("refFromURL() expected a full URL but got a child path, use ref() instead.");try{gI.makeFromUrl(t,this._delegate.host)}catch(cx){throw XE("refFromUrl() expected a valid full URL but got an invalid one.")}return new cA(rA(this._delegate,t),this)},t.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},t.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),function(t,e,n,i){void 0===i&&(i={}),function(t,e,n,i){void 0===i&&(i={}),t.host="http://"+e+":"+n;var r=i.mockUserToken;r&&(t._overrideAuthToken="string"==typeof r?r:Object(Vd.createMockUserToken)(r,t.app.options.projectId))}(t,e,n,i)}(this._delegate,t,e,n)},t}();function lA(t,e){var n=e.instanceIdentifier,i=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return new uA(i,new iA(i,r,o,new pI,n,Fd.default.SDK_VERSION))}!function(t){var e={TaskState:lI,TaskEvent:uI,StringFormat:iI,Storage:iA,Reference:cA};t.INTERNAL.registerComponent(new dx.Component("storage",lA,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),t.registerVersion("@firebase/storage","0.7.1")}(Fd.default);var hA,dA,fA,pA=((hA={})["trace started"]="Trace {$traceName} was started before.",hA["trace stopped"]="Trace {$traceName} is not running.",hA["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",hA["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",hA["no window"]="Window is not available.",hA["no app id"]="App id is not available.",hA["no project id"]="Project id is not available.",hA["no api key"]="Api key is not available.",hA["invalid cc log"]="Attempted to queue invalid cc event",hA["FB not default"]="Performance can only start when Firebase app instance is the default one.",hA["RC response not ok"]="RC response is not ok",hA["invalid attribute name"]="Attribute name {$attributeName} is invalid.",hA["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",hA["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",hA["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",hA),gA=new Vd.ErrorFactory("performance","Performance",pA),mA=new Ud.Logger("Performance");mA.logLevel=Ud.LogLevel.INFO;var bA,_A=function(){function t(t){if(this.window=t,!t)throw gA.create("no window");this.performance=t.performance,this.PerformanceObserver=t.PerformanceObserver,this.windowLocation=t.location,this.navigator=t.navigator,this.document=t.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=t.localStorage),t.perfMetrics&&t.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=t.perfMetrics.onFirstInputDelay)}return t.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},t.prototype.mark=function(t){this.performance&&this.performance.mark&&this.performance.mark(t)},t.prototype.measure=function(t,e,n){this.performance&&this.performance.measure&&this.performance.measure(t,e,n)},t.prototype.getEntriesByType=function(t){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(t):[]},t.prototype.getEntriesByName=function(t){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(t):[]},t.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},t.prototype.requiredApisAvailable=function(){return fetch&&Promise&&this.navigator&&this.navigator.cookieEnabled?!!Object(Vd.isIndexedDBAvailable)()||(mA.info("IndexedDB is not supported by current browswer"),!1):(mA.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)},t.prototype.setupObserver=function(t,e){this.PerformanceObserver&&new this.PerformanceObserver(function(t){for(var n=0,i=t.getEntries();n<i.length;n++)e(i[n])}).observe({entryTypes:[t]})},t.getInstance=function(){return void 0===dA&&(dA=new t(fA)),dA},t}();function vA(t,e){var n=t.length-e.length;if(n<0||n>1)throw gA.create("invalid String merger input");for(var i=[],r=0;r<t.length;r++)i.push(t.charAt(r)),e.length>r&&i.push(e.charAt(r));return i.join("")}var yA,wA=function(){function t(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=vA("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=vA("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return t.prototype.getAppId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!t)throw gA.create("no app id");return t},t.prototype.getProjectId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!t)throw gA.create("no project id");return t},t.prototype.getApiKey=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!t)throw gA.create("no api key");return t},t.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},t.getInstance=function(){return void 0===bA&&(bA=new t),bA},t}();function CA(){return yA}var SA=function(t){return t[t.UNKNOWN=0]="UNKNOWN",t[t.VISIBLE=1]="VISIBLE",t[t.HIDDEN=2]="HIDDEN",t}({}),kA=["firebase_","google_","ga_"],OA=new RegExp("^[a-zA-Z]\\w*$");function TA(){var t=_A.getInstance().navigator;return"serviceWorker"in t?t.serviceWorker.controller?2:3:1}function xA(){switch(_A.getInstance().document.visibilityState){case"visible":return SA.VISIBLE;case"hidden":return SA.HIDDEN;default:return SA.UNKNOWN}}function EA(){var t=_A.getInstance().navigator.connection;switch(t&&t.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}function IA(t){if(!t)return t;var e=wA.getInstance(),n=t.entries||{};return e.loggingEnabled=void 0===n.fpr_enabled||"true"===String(n.fpr_enabled),n.fpr_log_source&&(e.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(e.logEndPointUrl=n.fpr_log_endpoint_url),n.fpr_log_transport_key&&(e.transportKey=n.fpr_log_transport_key),void 0!==n.fpr_vc_network_request_sampling_rate&&(e.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),void 0!==n.fpr_vc_trace_sampling_rate&&(e.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),e.logTraceAfterSampling=AA(e.tracesSamplingRate),e.logNetworkAfterSampling=AA(e.networkRequestsSamplingRate),t}function AA(t){return Math.random()<=t}var RA,PA=1;function DA(){return PA=2,RA=RA||function(){var t=_A.getInstance().document;return new Promise(function(e){if(t&&"complete"!==t.readyState){var n=function(){"complete"===t.readyState&&(t.removeEventListener("readystatechange",n),e())};t.addEventListener("readystatechange",n)}else e()})}().then(function(){return(t=wA.getInstance().installationsService.getId()).then(function(t){yA=t}),t;var t}).then(function(t){return function(t){var e=function(){var t=_A.getInstance().localStorage;if(t){var e=t.getItem("@firebase/performance/configexpire");if(e&&Number(e)>Date.now()){var n=t.getItem("@firebase/performance/config");if(n)try{return JSON.parse(n)}catch(wH){return}}}}();return e?(IA(e),Promise.resolve()):function(t){return(e=wA.getInstance().installationsService.getToken(),e.then(function(t){}),e).then(function(e){var n="https://firebaseremoteconfig.googleapis.com/v1/projects/"+wA.getInstance().getProjectId()+"/namespaces/fireperf:fetch?key="+wA.getInstance().getApiKey(),i=new Request(n,{method:"POST",headers:{Authorization:"FIREBASE_INSTALLATIONS_AUTH "+e},body:JSON.stringify({app_instance_id:t,app_instance_id_token:e,app_id:wA.getInstance().getAppId(),app_version:"0.4.18",sdk_version:"0.0.1"})});return fetch(i).then(function(t){if(t.ok)return t.json();throw gA.create("RC response not ok")})}).catch(function(){mA.info("Could not fetch config, will use default configs")});var e}(t).then(IA).then(function(t){return function(t){var e=_A.getInstance().localStorage;t&&e&&(e.setItem("@firebase/performance/config",JSON.stringify(t)),e.setItem("@firebase/performance/configexpire",String(Date.now()+60*wA.getInstance().configTimeToLive*60*1e3)))}(t)},function(){})}(t)}).then(function(){return MA()},function(){return MA()})}function MA(){PA=3}var NA,jA=3,FA=[],LA=!1;function VA(t){setTimeout(function(){var t,e;if(0!==jA)return FA.length?(e=(t=FA.splice(0,1e3)).map(function(t){return{source_extension_json_proto3:t.message,event_time_ms:String(t.eventTime)}}),void function(t,e){return function(t){var e=wA.getInstance().getFlTransportFullUrl();return fetch(e,{method:"POST",body:JSON.stringify(t)})}(t).then(function(t){return t.ok||mA.info("Call to Firebase backend failed."),t.json()}).then(function(t){var n=Number(t.nextRequestWaitMillis),i=1e4;isNaN(n)||(i=Math.max(n,i));var r=t.logResponseDetails;Array.isArray(r)&&r.length>0&&"RETRY_REQUEST_LATER"===r[0].responseAction&&(FA=Object(Ld.__spreadArray)(Object(Ld.__spreadArray)([],e),FA),mA.info("Retry transport request later.")),jA=3,VA(i)})}({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:wA.getInstance().logSource,log_event:e},t).catch(function(){FA=Object(Ld.__spreadArray)(Object(Ld.__spreadArray)([],t),FA),jA--,mA.info("Tries left: "+jA+"."),VA(1e4)})):VA(1e4)},t)}function UA(t){if(!t.eventTime||!t.message)throw gA.create("invalid cc log");FA=Object(Ld.__spreadArray)(Object(Ld.__spreadArray)([],FA),[t])}function qA(t,e){var n;NA||(n=zA,NA=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];UA({message:n.apply(void 0,t),eventTime:Date.now()})}),NA(t,e)}function BA(t){var e=wA.getInstance();!e.instrumentationEnabled&&t.isAuto||(e.dataCollectionEnabled||t.isAuto)&&_A.getInstance().requiredApisAvailable()&&(t.isAuto&&xA()!==SA.VISIBLE||(3===PA?HA(t):DA().then(function(){return HA(t)},function(){return HA(t)})))}function HA(t){if(CA()){var e=wA.getInstance();e.loggingEnabled&&e.logTraceAfterSampling&&setTimeout(function(){return qA(t,1)},0)}}function zA(t,e){return 0===e?(i={url:(n=t).url,http_method:n.httpMethod||0,http_response_code:200,response_payload_bytes:n.responsePayloadBytes,client_start_time_us:n.startTimeUs,time_to_response_initiated_us:n.timeToResponseInitiatedUs,time_to_response_completed_us:n.timeToResponseCompletedUs},r={application_info:WA(),network_request_metric:i},JSON.stringify(r)):function(t){var e={name:t.name,is_auto:t.isAuto,client_start_time_us:t.startTimeUs,duration_us:t.durationUs};0!==Object.keys(t.counters).length&&(e.counters=t.counters);var n=t.getAttributes();0!==Object.keys(n).length&&(e.custom_attributes=n);var i={application_info:WA(),trace_metric:e};return JSON.stringify(i)}(t);var n,i,r}function WA(){return{google_app_id:wA.getInstance().getAppId(),app_instance_id:CA(),web_app_info:{sdk_version:"0.4.18",page_url:_A.getInstance().getUrl(),service_worker_status:TA(),visibility_state:xA(),effective_connection_type:EA()},application_process_state:0}}var GA=["_fp","_fcp","_fid"],KA=function(){function t(t,e,n){void 0===e&&(e=!1),this.name=t,this.isAuto=e,this.state=1,this.customAttributes={},this.counters={},this.api=_A.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark="FB-PERF-TRACE-START-"+this.randomId+"-"+this.name,this.traceStopMark="FB-PERF-TRACE-STOP-"+this.randomId+"-"+this.name,this.traceMeasure=n||"FB-PERF-TRACE-MEASURE-"+this.randomId+"-"+this.name,n&&this.calculateTraceMetrics())}return t.prototype.start=function(){if(1!==this.state)throw gA.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},t.prototype.stop=function(){if(2!==this.state)throw gA.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),BA(this)},t.prototype.record=function(t,e,n){if(t<=0)throw gA.create("nonpositive trace startTime",{traceName:this.name});if(e<=0)throw gA.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*e),this.startTimeUs=Math.floor(1e3*t),n&&n.attributes&&(this.customAttributes=Object(Ld.__assign)({},n.attributes)),n&&n.metrics)for(var i=0,r=Object.keys(n.metrics);i<r.length;i++){var o=r[i];isNaN(Number(n.metrics[o]))||(this.counters[o]=Number(Math.floor(n.metrics[o])))}BA(this)},t.prototype.incrementMetric=function(t,e){void 0===e&&(e=1),this.putMetric(t,void 0===this.counters[t]?e:this.counters[t]+e)},t.prototype.putMetric=function(t,e){if(o=this.name,0===(r=t).length||r.length>100||!(o&&o.startsWith("_wt_")&&GA.indexOf(r)>-1)&&r.startsWith("_"))throw gA.create("invalid custom metric name",{customMetricName:t});var n,i,r,o;this.counters[t]=(n=e,(i=Math.floor(n))<n&&mA.info("Metric value should be an Integer, setting the value as : "+i+"."),i)},t.prototype.getMetric=function(t){return this.counters[t]||0},t.prototype.putAttribute=function(t,e){var n,i=!(0===(n=t).length||n.length>40||kA.some(function(t){return n.startsWith(t)})||!n.match(OA)),r=function(t){return 0!==t.length&&t.length<=100}(e);if(i&&r)this.customAttributes[t]=e;else{if(!i)throw gA.create("invalid attribute name",{attributeName:t});if(!r)throw gA.create("invalid attribute value",{attributeValue:e})}},t.prototype.getAttribute=function(t){return this.customAttributes[t]},t.prototype.removeAttribute=function(t){void 0!==this.customAttributes[t]&&delete this.customAttributes[t]},t.prototype.getAttributes=function(){return Object(Ld.__assign)({},this.customAttributes)},t.prototype.setStartTime=function(t){this.startTimeUs=t},t.prototype.setDuration=function(t){this.durationUs=t},t.prototype.calculateTraceMetrics=function(){var t=this.api.getEntriesByName(this.traceMeasure),e=t&&t[0];e&&(this.durationUs=Math.floor(1e3*e.duration),this.startTimeUs=Math.floor(1e3*(e.startTime+this.api.getTimeOrigin())))},t.createOobTrace=function(e,n,i){var r=_A.getInstance().getUrl();if(r){var o=new t("_wt_"+r,!0),s=Math.floor(1e3*_A.getInstance().getTimeOrigin());if(o.setStartTime(s),e&&e[0]&&(o.setDuration(Math.floor(1e3*e[0].duration)),o.putMetric("domInteractive",Math.floor(1e3*e[0].domInteractive)),o.putMetric("domContentLoadedEventEnd",Math.floor(1e3*e[0].domContentLoadedEventEnd)),o.putMetric("loadEventEnd",Math.floor(1e3*e[0].loadEventEnd))),n){var a=n.find(function(t){return"first-paint"===t.name});a&&a.startTime&&o.putMetric("_fp",Math.floor(1e3*a.startTime));var c=n.find(function(t){return"first-contentful-paint"===t.name});c&&c.startTime&&o.putMetric("_fcp",Math.floor(1e3*c.startTime)),i&&o.putMetric("_fid",Math.floor(1e3*i))}BA(o)}},t.createUserTimingTrace=function(e){BA(new t(e,!1,e))},t}();function $A(t){var e=t;if(e&&void 0!==e.responseStart){var n=_A.getInstance().getTimeOrigin(),i=Math.floor(1e3*(e.startTime+n)),r=e.responseStart?Math.floor(1e3*(e.responseStart-e.startTime)):void 0,o=Math.floor(1e3*(e.responseEnd-e.startTime));!function(t){var e=wA.getInstance();if(e.instrumentationEnabled){var n=t.url,i=e.logEndPointUrl.split("?")[0],r=e.flTransportEndpointUrl.split("?")[0];n!==i&&n!==r&&e.loggingEnabled&&e.logNetworkAfterSampling&&setTimeout(function(){return qA(t,0)},0)}}({url:e.name&&e.name.split("?")[0],responsePayloadBytes:e.transferSize,startTimeUs:i,timeToResponseInitiatedUs:r,timeToResponseCompletedUs:o})}}function YA(){CA()&&(setTimeout(function(){return function(){var t=_A.getInstance(),e=t.getEntriesByType("navigation"),n=t.getEntriesByType("paint");if(t.onFirstInputDelay){var i=setTimeout(function(){KA.createOobTrace(e,n),i=void 0},5e3);t.onFirstInputDelay(function(t){i&&(clearTimeout(i),KA.createOobTrace(e,n,t))})}else KA.createOobTrace(e,n)}()},0),setTimeout(function(){return function(){for(var t=_A.getInstance(),e=0,n=t.getEntriesByType("resource");e<n.length;e++)$A(n[e]);t.setupObserver("resource",$A)}()},0),setTimeout(function(){return function(){for(var t=_A.getInstance(),e=0,n=t.getEntriesByType("measure");e<n.length;e++)QA(n[e]);t.setupObserver("measure",QA)}()},0))}function QA(t){var e=t.name;"FB-PERF-TRACE-MEASURE"!==e.substring(0,"FB-PERF-TRACE-MEASURE".length)&&KA.createUserTimingTrace(e)}var ZA=function(){function t(t){this.app=t,_A.getInstance().requiredApisAvailable()&&Object(Vd.validateIndexedDBOpenable)().then(function(t){t&&(LA||(VA(5500),LA=!0),DA().then(YA,YA))}).catch(function(t){mA.info("Environment doesn't support IndexedDB: "+t)})}return t.prototype.trace=function(t){return new KA(t)},Object.defineProperty(t.prototype,"instrumentationEnabled",{get:function(){return wA.getInstance().instrumentationEnabled},set:function(t){wA.getInstance().instrumentationEnabled=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataCollectionEnabled",{get:function(){return wA.getInstance().dataCollectionEnabled},set:function(t){wA.getInstance().dataCollectionEnabled=t},enumerable:!1,configurable:!0}),t}();!function(t){t.INTERNAL.registerComponent(new dx.Component("performance",function(t){return function(t,e){if("[DEFAULT]"!==t.name)throw gA.create("FB not default");if("undefined"==typeof window)throw gA.create("no window");return function(t){fA=t}(window),wA.getInstance().firebaseAppInstance=t,wA.getInstance().installationsService=e,new ZA(t)}(t.getProvider("app").getImmediate(),t.getProvider("installations").getImmediate())},"PUBLIC")),t.registerVersion("@firebase/performance","0.4.18")}(Fd.default);var XA,JA="https://www.googletagmanager.com/gtag/js",tR=function(t){return t.EVENT="event",t.SET="set",t.CONFIG="config",t}({}),eR=function(t){return t.ADD_SHIPPING_INFO="add_shipping_info",t.ADD_PAYMENT_INFO="add_payment_info",t.ADD_TO_CART="add_to_cart",t.ADD_TO_WISHLIST="add_to_wishlist",t.BEGIN_CHECKOUT="begin_checkout",t.CHECKOUT_PROGRESS="checkout_progress",t.EXCEPTION="exception",t.GENERATE_LEAD="generate_lead",t.LOGIN="login",t.PAGE_VIEW="page_view",t.PURCHASE="purchase",t.REFUND="refund",t.REMOVE_FROM_CART="remove_from_cart",t.SCREEN_VIEW="screen_view",t.SEARCH="search",t.SELECT_CONTENT="select_content",t.SELECT_ITEM="select_item",t.SELECT_PROMOTION="select_promotion",t.SET_CHECKOUT_OPTION="set_checkout_option",t.SHARE="share",t.SIGN_UP="sign_up",t.TIMING_COMPLETE="timing_complete",t.VIEW_CART="view_cart",t.VIEW_ITEM="view_item",t.VIEW_ITEM_LIST="view_item_list",t.VIEW_PROMOTION="view_promotion",t.VIEW_SEARCH_RESULTS="view_search_results",t}({}),nR=new Ud.Logger("@firebase/analytics");function iR(t,e,n,i,r,o){return Object(Ld.__awaiter)(this,void 0,void 0,function(){var s,a,c,u;return Object(Ld.__generator)(this,function(l){switch(l.label){case 0:s=i[r],l.label=1;case 1:return l.trys.push([1,7,,8]),s?[4,e[s]]:[3,3];case 2:return l.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return a=l.sent(),(c=a.find(function(t){return t.measurementId===r}))?[4,e[c.appId]]:[3,6];case 5:l.sent(),l.label=6;case 6:return[3,8];case 7:return u=l.sent(),nR.error(u),[3,8];case 8:return t(tR.CONFIG,r,o),[2]}})})}function rR(t,e,n,i,r){return Object(Ld.__awaiter)(this,void 0,void 0,function(){var o,s,a,c,u,l,h;return Object(Ld.__generator)(this,function(d){switch(d.label){case 0:return d.trys.push([0,4,,5]),o=[],r&&r.send_to?(s=r.send_to,Array.isArray(s)||(s=[s]),[4,Promise.all(n)]):[3,2];case 1:for(a=d.sent(),c=function(t){var n=a.find(function(e){return e.measurementId===t}),i=n&&e[n.appId];if(!i)return o=[],"break";o.push(i)},u=0,l=s;u<l.length&&"break"!==c(l[u]);u++);d.label=2;case 2:return 0===o.length&&(o=Object.values(e)),[4,Promise.all(o)];case 3:return d.sent(),t(tR.EVENT,i,r||{}),[3,5];case 4:return h=d.sent(),nR.error(h),[3,5];case 5:return[2]}})})}var oR=((XA={})["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",XA["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",XA["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",XA["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",XA["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",XA["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",XA["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",XA["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',XA["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',XA),sR=new Vd.ErrorFactory("analytics","Analytics",oR),aR=new(function(){function t(t,e){void 0===t&&(t={}),void 0===e&&(e=1e3),this.throttleMetadata=t,this.intervalMillis=e}return t.prototype.getThrottleMetadata=function(t){return this.throttleMetadata[t]},t.prototype.setThrottleMetadata=function(t,e){this.throttleMetadata[t]=e},t.prototype.deleteThrottleMetadata=function(t){delete this.throttleMetadata[t]},t}());function cR(t){var e;return Object(Ld.__awaiter)(this,void 0,void 0,function(){var n,i,r,o,s,a;return Object(Ld.__generator)(this,function(c){switch(c.label){case 0:return n=t.appId,i={method:"GET",headers:(u=t.apiKey,new Headers({Accept:"application/json","x-goog-api-key":u}))},r="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),[4,fetch(r,i)];case 1:if(200===(o=c.sent()).status||304===o.status)return[3,6];s="",c.label=2;case 2:return c.trys.push([2,4,,5]),[4,o.json()];case 3:return a=c.sent(),(null===(e=a.error)||void 0===e?void 0:e.message)&&(s=a.error.message),[3,5];case 4:return c.sent(),[3,5];case 5:throw sR.create("config-fetch-failed",{httpStatus:o.status,responseMessage:s});case 6:return[2,o.json()]}var u})})}function uR(t,e,n,i){var r=e.throttleEndTimeMillis,o=e.backoffCount;return void 0===i&&(i=aR),Object(Ld.__awaiter)(this,void 0,void 0,function(){var e,s,a,c,u,l,h;return Object(Ld.__generator)(this,function(d){switch(d.label){case 0:e=t.appId,s=t.measurementId,d.label=1;case 1:return d.trys.push([1,3,,4]),[4,lR(n,r)];case 2:return d.sent(),[3,4];case 3:if(a=d.sent(),s)return nR.warn("Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID "+s+' provided in the "measurementId" field in the local Firebase config. ['+a.message+"]"),[2,{appId:e,measurementId:s}];throw a;case 4:return d.trys.push([4,6,,7]),[4,cR(t)];case 5:return c=d.sent(),i.deleteThrottleMetadata(e),[2,c];case 6:if(!function(t){if(!(t instanceof Vd.FirebaseError&&t.customData))return!1;var e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(u=d.sent())){if(i.deleteThrottleMetadata(e),s)return nR.warn("Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID "+s+' provided in the "measurementId" field in the local Firebase config. ['+u.message+"]"),[2,{appId:e,measurementId:s}];throw u}return l=503===Number(u.customData.httpStatus)?Object(Vd.calculateBackoffMillis)(o,i.intervalMillis,30):Object(Vd.calculateBackoffMillis)(o,i.intervalMillis),h={throttleEndTimeMillis:Date.now()+l,backoffCount:o+1},i.setThrottleMetadata(e,h),nR.debug("Calling attemptFetch again in "+l+" millis"),[2,uR(t,h,n,i)];case 7:return[2]}})})}function lR(t,e){return new Promise(function(n,i){var r=Math.max(e-Date.now(),0),o=setTimeout(n,r);t.addEventListener(function(){clearTimeout(o),i(sR.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}var hR,dR,fR=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(t){this.listeners.push(t)},t.prototype.abort=function(){this.listeners.forEach(function(t){return t()})},t}(),pR={},gR=[],mR={},bR="dataLayer",_R="gtag",vR=!1;function yR(t){if(vR)throw sR.create("already-initialized");t.dataLayerName&&(bR=t.dataLayerName),t.gtagName&&(_R=t.gtagName)}function wR(){return Object(Ld.__awaiter)(this,void 0,void 0,function(){return Object(Ld.__generator)(this,function(t){switch(t.label){case 0:if(Object(Vd.isBrowserExtension)())return[2,!1];if(!Object(Vd.areCookiesEnabled)())return[2,!1];if(!Object(Vd.isIndexedDBAvailable)())return[2,!1];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,Object(Vd.validateIndexedDBOpenable)()];case 2:return[2,t.sent()];case 3:return t.sent(),[2,!1];case 4:return[2]}})})}!function(t){t.INTERNAL.registerComponent(new dx.Component("analytics",function(t){return function(t,e){!function(){var t=[];if(Object(Vd.isBrowserExtension)()&&t.push("This is a browser extension environment."),Object(Vd.areCookiesEnabled)()||t.push("Cookies are not available."),t.length>0){var e=t.map(function(t,e){return"("+(e+1)+") "+t}).join(" "),n=sR.create("invalid-analytics-context",{errorInfo:e});nR.warn(n.message)}}();var n,i,r=t.options.appId;if(!r)throw sR.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw sR.create("no-api-key");nR.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID '+t.options.measurementId+' provided in the "measurementId" field in the local Firebase config.')}if(null!=pR[r])throw sR.create("already-exists",{id:r});if(!vR){n=bR,i=[],Array.isArray(window[n])?i=window[n]:window[n]=i;var o=function(t,e,n,i,r){var o=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];window[i].push(arguments)};return window[r]&&"function"==typeof window[r]&&(o=window[r]),window[r]=function(t,e,n,i){return function(r,o,s){return Object(Ld.__awaiter)(this,void 0,void 0,function(){var a;return Object(Ld.__generator)(this,function(c){switch(c.label){case 0:return c.trys.push([0,6,,7]),r!==tR.EVENT?[3,2]:[4,rR(t,e,n,o,s)];case 1:return c.sent(),[3,5];case 2:return r!==tR.CONFIG?[3,4]:[4,iR(t,e,n,i,o,s)];case 3:return c.sent(),[3,5];case 4:t(tR.SET,o),c.label=5;case 5:return[3,7];case 6:return a=c.sent(),nR.error(a),[3,7];case 7:return[2]}})})}}(o,t,e,n),{gtagCore:o,wrappedGtag:window[r]}}(pR,gR,mR,bR,_R);dR=o.wrappedGtag,hR=o.gtagCore,vR=!0}return pR[r]=function(t,e,n,i,r,o){return Object(Ld.__awaiter)(this,void 0,void 0,function(){var s,a,c,u,l,h,d;return Object(Ld.__generator)(this,function(f){switch(f.label){case 0:return(s=function(t,e,n){return void 0===e&&(e=aR),Object(Ld.__awaiter)(this,void 0,void 0,function(){var n,i,r,o,s,a,c=this;return Object(Ld.__generator)(this,function(u){if(r=(n=t.options).apiKey,o=n.measurementId,!(i=n.appId))throw sR.create("no-app-id");if(!r){if(o)return[2,{measurementId:o,appId:i}];throw sR.create("no-api-key")}return s=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new fR,setTimeout(function(){return Object(Ld.__awaiter)(c,void 0,void 0,function(){return Object(Ld.__generator)(this,function(t){return a.abort(),[2]})})},6e4),[2,uR({appId:i,apiKey:r,measurementId:o},s,a,e)]})})}(t)).then(function(e){n[e.measurementId]=e.appId,t.options.measurementId&&e.measurementId!==t.options.measurementId&&nR.warn("The measurement ID in the local Firebase config ("+t.options.measurementId+") does not match the measurement ID fetched from the server ("+e.measurementId+"). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")}).catch(function(t){return nR.error(t)}),e.push(s),a=function(){return Object(Ld.__awaiter)(this,void 0,void 0,function(){var t;return Object(Ld.__generator)(this,function(e){switch(e.label){case 0:return Object(Vd.isIndexedDBAvailable)()?[3,1]:(nR.warn(sR.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return e.trys.push([1,3,,4]),[4,Object(Vd.validateIndexedDBOpenable)()];case 2:return e.sent(),[3,4];case 3:return t=e.sent(),nR.warn(sR.create("indexeddb-unavailable",{errorInfo:t}).message),[2,!1];case 4:return[2,!0]}})})}().then(function(t){return t?i.getId():void 0}),[4,Promise.all([s,a])];case 1:return c=f.sent(),u=c[0],l=c[1],function(){for(var t=window.document.getElementsByTagName("script"),e=0,n=Object.values(t);e<n.length;e++){var i=n[e];if(i.src&&i.src.includes(JA))return i}return null}()||function(t,e){var n=document.createElement("script");n.src=JA+"?l="+t+"&id="+e,n.async=!0,document.head.appendChild(n)}(o,u.measurementId),r("js",new Date),(d={}).origin="firebase",d.update=!0,h=d,null!=l&&(h.firebase_id=l),r(tR.CONFIG,u.measurementId,h),[2,u.measurementId]}})})}(t,gR,mR,e,hR,bR),{app:t,logEvent:function(t,e,n){(function(t,e,n,i,r){return Object(Ld.__awaiter)(this,void 0,void 0,function(){var o,s;return Object(Ld.__generator)(this,function(a){switch(a.label){case 0:return r&&r.global?(t(tR.EVENT,n,i),[2]):[3,1];case 1:return[4,e];case 2:o=a.sent(),s=Object(Ld.__assign)(Object(Ld.__assign)({},i),{send_to:o}),t(tR.EVENT,n,s),a.label=3;case 3:return[2]}})})})(dR,pR[r],t,e,n).catch(function(t){return nR.error(t)})},setCurrentScreen:function(t,e){(function(t,e,n,i){return Object(Ld.__awaiter)(this,void 0,void 0,function(){var r;return Object(Ld.__generator)(this,function(o){switch(o.label){case 0:return i&&i.global?(t(tR.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:r=o.sent(),t(tR.CONFIG,r,{update:!0,screen_name:n}),o.label=3;case 3:return[2]}})})})(dR,pR[r],t,e).catch(function(t){return nR.error(t)})},setUserId:function(t,e){(function(t,e,n,i){return Object(Ld.__awaiter)(this,void 0,void 0,function(){var r;return Object(Ld.__generator)(this,function(o){switch(o.label){case 0:return i&&i.global?(t(tR.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:r=o.sent(),t(tR.CONFIG,r,{update:!0,user_id:n}),o.label=3;case 3:return[2]}})})})(dR,pR[r],t,e).catch(function(t){return nR.error(t)})},setUserProperties:function(t,e){(function(t,e,n,i){return Object(Ld.__awaiter)(this,void 0,void 0,function(){var r,o,s,a,c;return Object(Ld.__generator)(this,function(u){switch(u.label){case 0:if(!i||!i.global)return[3,1];for(r={},o=0,s=Object.keys(n);o<s.length;o++)r["user_properties."+(a=s[o])]=n[a];return t(tR.SET,r),[2,Promise.resolve()];case 1:return[4,e];case 2:c=u.sent(),t(tR.CONFIG,c,{update:!0,user_properties:n}),u.label=3;case 3:return[2]}})})})(dR,pR[r],t,e).catch(function(t){return nR.error(t)})},setAnalyticsCollectionEnabled:function(t){(function(t,e){return Object(Ld.__awaiter)(this,void 0,void 0,function(){var n;return Object(Ld.__generator)(this,function(i){switch(i.label){case 0:return[4,t];case 1:return n=i.sent(),window["ga-disable-"+n]=!e,[2]}})})})(pR[r],t).catch(function(t){return nR.error(t)})},INTERNAL:{delete:function(){return delete pR[r],Promise.resolve()}}}}(t.getProvider("app").getImmediate(),t.getProvider("installations").getImmediate())},"PUBLIC").setServiceProps({settings:yR,EventName:eR,isSupported:wR})),t.INTERNAL.registerComponent(new dx.Component("analytics-internal",function(t){try{return{logEvent:t.getProvider("analytics").getImmediate().logEvent}}catch(cx){throw sR.create("interop-component-reg-failed",{reason:cx})}},"PRIVATE")),t.registerVersion("@firebase/analytics","0.6.18")}(Fd.default);var CR,SR=function(){function t(t,e,n,i){this.client=t,this.storage=e,this.storageCache=n,this.logger=i}return t.prototype.isCachedDataFresh=function(t,e){if(!e)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var n=Date.now()-e,i=n<=t;return this.logger.debug("Config fetch cache check. Cache age millis: "+n+". Cache max age millis (minimumFetchIntervalMillis setting): "+t+". Is cache hit: "+i+"."),i},t.prototype.fetch=function(t){return Object(Ld.__awaiter)(this,void 0,void 0,function(){var e,n,i,r,o;return Object(Ld.__generator)(this,function(s){switch(s.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return e=s.sent(),n=e[0],(i=e[1])&&this.isCachedDataFresh(t.cacheMaxAgeMillis,n)?[2,i]:(t.eTag=i&&i.eTag,[4,this.client.fetch(t)]);case 2:return r=s.sent(),o=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],200===r.status&&o.push(this.storage.setLastSuccessfulFetchResponse(r)),[4,Promise.all(o)];case 3:return s.sent(),[2,r]}})})},t}(),kR=((CR={})["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",CR["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",CR["registration-api-key"]="Undefined API key. Check Firebase app initialization.",CR["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",CR["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",CR["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",CR["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",CR["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",CR["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",CR["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',CR["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',CR["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",CR["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",CR),OR=new Vd.ErrorFactory("remoteconfig","Remote Config",kR),TR=function(){function t(t,e,n,i,r,o){this.firebaseInstallations=t,this.sdkVersion=e,this.namespace=n,this.projectId=i,this.apiKey=r,this.appId=o}return t.prototype.fetch=function(t){return Object(Ld.__awaiter)(this,void 0,void 0,function(){var e,n,i,r,o,s,a,c,u,l,h,d,f,p,g,m;return Object(Ld.__generator)(this,function(b){switch(b.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:e=b.sent(),n=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",i=n+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,r={sdk_version:this.sdkVersion,app_instance_id:e[0],app_instance_id_token:e[1],app_id:this.appId,language_code:(void 0===_&&(_=navigator),_.languages&&_.languages[0]||_.language)},o={method:"POST",headers:{"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":t.eTag||"*"},body:JSON.stringify(r)},s=fetch(i,o),a=new Promise(function(e,n){t.signal.addEventListener(function(){var t=new Error("The operation was aborted.");t.name="AbortError",n(t)})}),b.label=2;case 2:return b.trys.push([2,5,,6]),[4,Promise.race([s,a])];case 3:return b.sent(),[4,s];case 4:return c=b.sent(),[3,6];case 5:throw u=b.sent(),l="fetch-client-network","AbortError"===u.name&&(l="fetch-timeout"),OR.create(l,{originalErrorMessage:u.message});case 6:if(h=c.status,d=c.headers.get("ETag")||void 0,200!==c.status)return[3,11];g=void 0,b.label=7;case 7:return b.trys.push([7,9,,10]),[4,c.json()];case 8:return g=b.sent(),[3,10];case 9:throw m=b.sent(),OR.create("fetch-client-parse",{originalErrorMessage:m.message});case 10:f=g.entries,p=g.state,b.label=11;case 11:if("INSTANCE_STATE_UNSPECIFIED"===p?h=500:"NO_CHANGE"===p?h=304:"NO_TEMPLATE"!==p&&"EMPTY_CONFIG"!==p||(f={}),304!==h&&200!==h)throw OR.create("fetch-status",{httpStatus:h});return[2,{status:h,eTag:d,config:f}]}var _})})},t}(),xR=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(t){this.listeners.push(t)},t.prototype.abort=function(){this.listeners.forEach(function(t){return t()})},t}(),ER=["1","true","t","yes","y","on"],IR=function(){function t(t,e){void 0===e&&(e=""),this._source=t,this._value=e}return t.prototype.asString=function(){return this._value},t.prototype.asBoolean=function(){return"static"!==this._source&&ER.indexOf(this._value.toLowerCase())>=0},t.prototype.asNumber=function(){if("static"===this._source)return 0;var t=Number(this._value);return isNaN(t)&&(t=0),t},t.prototype.getSource=function(){return this._source},t}(),AR=function(){function t(t,e,n,i,r){this.app=t,this._client=e,this._storageCache=n,this._storage=i,this._logger=r,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}return t.prototype.setLogLevel=function(t){switch(t){case"debug":this._logger.logLevel=Ud.LogLevel.DEBUG;break;case"silent":this._logger.logLevel=Ud.LogLevel.SILENT;break;default:this._logger.logLevel=Ud.LogLevel.ERROR}},Object.defineProperty(t.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),t.prototype.activate=function(){return Object(Ld.__awaiter)(this,void 0,void 0,function(){var t,e,n;return Object(Ld.__generator)(this,function(i){switch(i.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return t=i.sent(),n=t[1],(e=t[0])&&e.config&&e.eTag&&e.eTag!==n?[4,Promise.all([this._storageCache.setActiveConfig(e.config),this._storage.setActiveConfigEtag(e.eTag)])]:[2,!1];case 2:return i.sent(),[2,!0]}})})},t.prototype.ensureInitialized=function(){var t=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then(function(){t._isInitializationComplete=!0})),this._initializePromise},t.prototype.fetch=function(){return Object(Ld.__awaiter)(this,void 0,void 0,function(){var t,e,n,i=this;return Object(Ld.__generator)(this,function(r){switch(r.label){case 0:t=new xR,setTimeout(function(){return Object(Ld.__awaiter)(i,void 0,void 0,function(){return Object(Ld.__generator)(this,function(e){return t.abort(),[2]})})},this.settings.fetchTimeoutMillis),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:t})];case 2:return r.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return r.sent(),[3,6];case 4:return e=r.sent(),n=function(t,e){return t instanceof Vd.FirebaseError&&-1!==t.code.indexOf("fetch-throttle")}(e)?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(n)];case 5:throw r.sent(),e;case 6:return[2]}})})},t.prototype.fetchAndActivate=function(){return Object(Ld.__awaiter)(this,void 0,void 0,function(){return Object(Ld.__generator)(this,function(t){switch(t.label){case 0:return[4,this.fetch()];case 1:return t.sent(),[2,this.activate()]}})})},t.prototype.getAll=function(){var t,e,n=this;return(t=this._storageCache.getActiveConfig(),e=this.defaultConfig,void 0===t&&(t={}),void 0===e&&(e={}),Object.keys(Object(Ld.__assign)(Object(Ld.__assign)({},t),e))).reduce(function(t,e){return t[e]=n.getValue(e),t},{})},t.prototype.getBoolean=function(t){return this.getValue(t).asBoolean()},t.prototype.getNumber=function(t){return this.getValue(t).asNumber()},t.prototype.getString=function(t){return this.getValue(t).asString()},t.prototype.getValue=function(t){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+t+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var e=this._storageCache.getActiveConfig();return e&&void 0!==e[t]?new IR("remote",e[t]):this.defaultConfig&&void 0!==this.defaultConfig[t]?new IR("default",String(this.defaultConfig[t])):(this._logger.debug('Returning static value for key "'+t+'". Define a default or remote value if this is unintentional.'),new IR("static"))},t}();function RR(t,e){var n=t.target.error||void 0;return OR.create(e,{originalErrorMessage:n&&n.message})}var PR=function(){function t(t,e,n,i){void 0===i&&(i=new Promise(function(t,e){var n=indexedDB.open("firebase_remote_config",1);n.onerror=function(t){e(RR(t,"storage-open"))},n.onsuccess=function(e){t(e.target.result)},n.onupgradeneeded=function(t){var e=t.target.result;switch(t.oldVersion){case 0:e.createObjectStore("app_namespace_store",{keyPath:"compositeKey"})}}})),this.appId=t,this.appName=e,this.namespace=n,this.openDbPromise=i}return t.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},t.prototype.setLastFetchStatus=function(t){return this.set("last_fetch_status",t)},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},t.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.set("last_successful_fetch_timestamp_millis",t)},t.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},t.prototype.setLastSuccessfulFetchResponse=function(t){return this.set("last_successful_fetch_response",t)},t.prototype.getActiveConfig=function(){return this.get("active_config")},t.prototype.setActiveConfig=function(t){return this.set("active_config",t)},t.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},t.prototype.setActiveConfigEtag=function(t){return this.set("active_config_etag",t)},t.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},t.prototype.setThrottleMetadata=function(t){return this.set("throttle_metadata",t)},t.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},t.prototype.get=function(t){return Object(Ld.__awaiter)(this,void 0,void 0,function(){var e,n=this;return Object(Ld.__generator)(this,function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return e=i.sent(),[2,new Promise(function(i,r){var o=e.transaction(["app_namespace_store"],"readonly").objectStore("app_namespace_store"),s=n.createCompositeKey(t);try{var a=o.get(s);a.onerror=function(t){r(RR(t,"storage-get"))},a.onsuccess=function(t){var e=t.target.result;i(e?e.value:void 0)}}catch(cx){r(OR.create("storage-get",{originalErrorMessage:cx&&cx.message}))}})]}})})},t.prototype.set=function(t,e){return Object(Ld.__awaiter)(this,void 0,void 0,function(){var n,i=this;return Object(Ld.__generator)(this,function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return n=r.sent(),[2,new Promise(function(r,o){var s=n.transaction(["app_namespace_store"],"readwrite").objectStore("app_namespace_store"),a=i.createCompositeKey(t);try{var c=s.put({compositeKey:a,value:e});c.onerror=function(t){o(RR(t,"storage-set"))},c.onsuccess=function(){r()}}catch(cx){o(OR.create("storage-set",{originalErrorMessage:cx&&cx.message}))}})]}})})},t.prototype.delete=function(t){return Object(Ld.__awaiter)(this,void 0,void 0,function(){var e,n=this;return Object(Ld.__generator)(this,function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return e=i.sent(),[2,new Promise(function(i,r){var o=e.transaction(["app_namespace_store"],"readwrite").objectStore("app_namespace_store"),s=n.createCompositeKey(t);try{var a=o.delete(s);a.onerror=function(t){r(RR(t,"storage-delete"))},a.onsuccess=function(){i()}}catch(cx){r(OR.create("storage-delete",{originalErrorMessage:cx&&cx.message}))}})]}})})},t.prototype.createCompositeKey=function(t){return[this.appId,this.appName,this.namespace,t].join()},t}(),DR=function(){function t(t){this.storage=t}return t.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},t.prototype.getActiveConfig=function(){return this.activeConfig},t.prototype.loadFromStorage=function(){return Object(Ld.__awaiter)(this,void 0,void 0,function(){var t,e,n,i,r,o;return Object(Ld.__generator)(this,function(s){switch(s.label){case 0:return t=this.storage.getLastFetchStatus(),e=this.storage.getLastSuccessfulFetchTimestampMillis(),n=this.storage.getActiveConfig(),[4,t];case 1:return(i=s.sent())&&(this.lastFetchStatus=i),[4,e];case 2:return(r=s.sent())&&(this.lastSuccessfulFetchTimestampMillis=r),[4,n];case 3:return(o=s.sent())&&(this.activeConfig=o),[2]}})})},t.prototype.setLastFetchStatus=function(t){return this.lastFetchStatus=t,this.storage.setLastFetchStatus(t)},t.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.lastSuccessfulFetchTimestampMillis=t,this.storage.setLastSuccessfulFetchTimestampMillis(t)},t.prototype.setActiveConfig=function(t){return this.activeConfig=t,this.storage.setActiveConfig(t)},t}();function MR(t,e){return new Promise(function(n,i){var r=Math.max(e-Date.now(),0),o=setTimeout(n,r);t.addEventListener(function(){clearTimeout(o),i(OR.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}var NR,jR=function(){function t(t,e){this.client=t,this.storage=e}return t.prototype.fetch=function(t){return Object(Ld.__awaiter)(this,void 0,void 0,function(){var e;return Object(Ld.__generator)(this,function(n){switch(n.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return e=n.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(t,e)]}})})},t.prototype.attemptFetch=function(t,e){var n=e.throttleEndTimeMillis,i=e.backoffCount;return Object(Ld.__awaiter)(this,void 0,void 0,function(){var e,r,o;return Object(Ld.__generator)(this,function(s){switch(s.label){case 0:return[4,MR(t.signal,n)];case 1:s.sent(),s.label=2;case 2:return s.trys.push([2,5,,7]),[4,this.client.fetch(t)];case 3:return e=s.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return s.sent(),[2,e];case 5:if(!function(t){if(!(t instanceof Vd.FirebaseError&&t.customData))return!1;var e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(r=s.sent()))throw r;return o={throttleEndTimeMillis:Date.now()+Object(Vd.calculateBackoffMillis)(i),backoffCount:i+1},[4,this.storage.setThrottleMetadata(o)];case 6:return s.sent(),[2,this.attemptFetch(t,o)];case 7:return[2]}})})},t}();(NR=Fd.default).INTERNAL.registerComponent(new dx.Component("remoteConfig",function(t,e){var n=e.instanceIdentifier,i=t.getProvider("app").getImmediate(),r=t.getProvider("installations").getImmediate();if("undefined"==typeof window)throw OR.create("registration-window");var o=i.options,s=o.projectId,a=o.apiKey,c=o.appId;if(!s)throw OR.create("registration-project-id");if(!a)throw OR.create("registration-api-key");if(!c)throw OR.create("registration-app-id");var u=new PR(c,i.name,n=n||"firebase"),l=new DR(u),h=new Ud.Logger("@firebase/remote-config");h.logLevel=Ud.LogLevel.ERROR;var d=new TR(r,NR.SDK_VERSION,n,s,a,c),f=new jR(d,u),p=new SR(f,u,l,h),g=new AR(i,p,l,u,h);return g.ensureInitialized(),g},"PUBLIC").setMultipleInstances(!0)),NR.registerVersion("@firebase/remote-config","0.1.43"),n("ssf6"),Fd.default.registerVersion("firebase","8.10.1","app"),Fd.default.SDK_VERSION="8.10.1",console.warn("\nIt looks like you're using the development build of the Firebase JS SDK.\nWhen deploying Firebase apps to production, it is advisable to only import\nthe individual SDK components you intend to use.\n\nFor the module builds, these are available in the following manner\n(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):\n\nCommonJS Modules:\nconst firebase = require('firebase/app');\nrequire('firebase/<PACKAGE>');\n\nES Modules:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n\nTypescript:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n"),Fd.default.registerVersion("firebase","8.10.1");var FR=n("pxpQ"),LR=n("qgXg"),VR=n("Ylt2");class UR extends Mr.a{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new qR(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,r=n.length;let o;if(this.closed)throw new Nr.a;if(this.isStopped||this.hasError?o=Do.a.EMPTY:(this.observers.push(t),o=new VR.a(this,t)),i&&t.add(t=new FR.a(t,i)),e)for(let s=0;s<r&&!t.closed;s++)t.next(n[s]);else for(let s=0;s<r&&!t.closed;s++)t.next(n[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),o}_getNow(){return(this.scheduler||LR.a).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,i=this._events,r=i.length;let o=0;for(;o<r&&!(t-i[o].time<n);)o++;return r>e&&(o=Math.max(o,r-e)),o>0&&i.splice(0,o),i}}class qR{constructor(t,e){this.time=t,this.value=e}}function BR(t,e,n){let i;return i=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:i}){let r,o,s=0,a=!1,c=!1;return function(u){let l;s++,!r||a?(a=!1,r=new UR(t,e,i),l=r.subscribe(this),o=u.subscribe({next(t){r.next(t)},error(t){a=!0,r.error(t)},complete(){c=!0,o=void 0,r.complete()}})):l=r.subscribe(this),this.add(()=>{s--,l.unsubscribe(),o&&!c&&n&&0===s&&(o.unsubscribe(),o=void 0,r=void 0)})}}(i))}function HR(t,e){return e?go(()=>t,e):go(()=>t)}var zR=n("tf+s"),WR=n("spgP");const GR=new i.q("angularfire2.auth.use-emulator"),KR=new i.q("angularfire2.auth.settings"),$R=new i.q("angularfire2.auth.tenant-id"),YR=new i.q("angularfire2.auth.langugage-code"),QR=new i.q("angularfire2.auth.use-device-language"),ZR=new i.q("angularfire.auth.persistence");let XR=(()=>{class t{constructor(t,e,i,r,o,s,a,c,u,l){const h=new WR.d(r),d=Object(WR.h)(h),f=new Mr.a,p=Object(Dr.a)(void 0).pipe(Object(FR.b)(h.outsideAngular),go(()=>r.runOutsideAngular(()=>n.e(5).then(n.bind(null,"6nsN")))),Object(ti.a)(()=>Object(WR.g)(t,r,e)),Object(ti.a)(t=>r.runOutsideAngular(()=>{const e=o,n=s;return Object(WR.f)(t.name+".auth","AngularFireAuth",t,()=>{const i=r.runOutsideAngular(()=>t.auth());if(e&&i.useEmulator("http://"+e.join(":")),a&&(i.tenantId=a),i.languageCode=c,u&&i.useDeviceLanguage(),n)for(const[t,e]of Object.entries(n))i.settings[t]=e;return l&&i.setPersistence(l),i},[e,a,c,u,n,l])})),BR({bufferSize:1,refCount:!1}));if(function(t){return"server"===t}(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(Dr.a)(null);else{p.pipe(Ro()).subscribe();const t=p.pipe(go(t=>t.getRedirectResult().then(t=>t,()=>null)),d,BR({bufferSize:1,refCount:!1})),e=t=>new Xn.a(e=>({unsubscribe:r.runOutsideAngular(()=>t(e))})),n=p.pipe(go(t=>e(t.onAuthStateChanged.bind(t)))),i=p.pipe(go(t=>e(t.onIdTokenChanged.bind(t))));this.authState=t.pipe(HR(n),Object(zR.a)(h.outsideAngular),Object(FR.b)(h.insideAngular)),this.user=t.pipe(HR(i),Object(zR.a)(h.outsideAngular),Object(FR.b)(h.insideAngular)),this.idToken=this.user.pipe(go(t=>t?Object(ni.a)(t.getIdToken()):Object(Dr.a)(null))),this.idTokenResult=this.user.pipe(go(t=>t?Object(ni.a)(t.getIdTokenResult()):Object(Dr.a)(null))),this.credential=Object(kl.a)(t,f,this.authState.pipe(Xr(t=>!t))).pipe(Object(ti.a)(t=>(null==t?void 0:t.user)?t:null),Object(zR.a)(h.outsideAngular),Object(FR.b)(h.insideAngular))}return Object(WR.i)(this,p,r,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>f.next(t))}}})}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(WR.c),i.Wb(WR.b,8),i.Wb(i.B),i.Wb(i.z),i.Wb(GR,8),i.Wb(KR,8),i.Wb($R,8),i.Wb(YR,8),i.Wb(QR,8),i.Wb(ZR,8))},t.\u0275prov=i.Ib({factory:function(){return new t(i.Wb(WR.c),i.Wb(WR.b,8),i.Wb(i.B),i.Wb(i.z),i.Wb(GR,8),i.Wb(KR,8),i.Wb($R,8),i.Wb(YR,8),i.Wb(QR,8),i.Wb(ZR,8))},token:t,providedIn:"any"}),t})();Object(WR.e)(XR,[{app:null,applyActionCode:null,checkActionCode:null,confirmPasswordReset:null,createUserWithEmailAndPassword:null,currentUser:null,fetchSignInMethodsForEmail:null,isSignInWithEmailLink:null,getRedirectResult:null,languageCode:null,settings:null,onAuthStateChanged:null,onIdTokenChanged:null,sendSignInLinkToEmail:null,sendPasswordResetEmail:null,setPersistence:null,signInAndRetrieveDataWithCredential:null,signInAnonymously:null,signInWithCredential:null,signInWithCustomToken:null,signInWithEmailAndPassword:null,signInWithPhoneNumber:null,signInWithEmailLink:null,signInWithPopup:null,signInWithRedirect:null,signOut:null,tenantId:null,updateCurrentUser:null,useDeviceLanguage:null,useEmulator:null,verifyPasswordResetCode:null}]);var JR=Fd.default.auth.GoogleAuthProvider,tP=Fd.default.auth.OAuthProvider;const eP={apiKey:"AIzaSyCX4MQQRcVBstXjEpNKpAJQqPPkLKYxVas",authDomain:"winogavil.firebaseapp.com",projectId:"winogavil",storageBucket:"winogavil.appspot.com",messagingSenderId:"450431362263",appId:"1:450431362263:web:569e7f67d684fdbf127c92",measurementId:"G-QLM3JGLSQ8"};let nP=(()=>{class t{constructor(t,e){this.afAuth=t,this.httpClient=e,this.userLoggedIn$=new jr(null),this.userToken$=new jr(""),this.shouldLogin=!1}init(){console.log("AuthService initialized");const t=this.extractCookies(document.cookie);t.hasOwnProperty("userToken")&&t.hasOwnProperty("userEmail")||(this.shouldLogin=!0),this.afAuth.onAuthStateChanged(t=>{t||this.userLoggedIn$.next(!1),t.getIdToken().then(e=>{console.log(this.userToken$.value),document.cookie=`userToken=${e};`,document.cookie=`userEmail=${t.email};`,this.userLoggedIn$.next(!!t),this.userToken$.next(e)}).catch(t=>{console.log(t)}),console.log(t)})}login(t){switch(t){case"google":return this.googleAuth();case"yahoo":return this.yahooAuth()}}yahooAuth(){return this.AuthLogin(new tP("yahoo.com"))}googleAuth(){return this.AuthLogin(new JR)}registerUser(t){return this.httpClient.post("https://gvlab-backend.herokuapp.com/register_player",{player_name:t},this.getAuthOptions())}isUserExists(){return this.httpClient.get("https://gvlab-backend.herokuapp.com/player_status",this.getAuthOptions())}getAuthOptions(){return{withCredentials:!0,headers:(new ad).set("UserDetails",JSON.stringify(this.extractCookies(document.cookie))).set("Content-Type","application/json")}}AuthLogin(t){this.afAuth.signInWithRedirect(t).then(t=>{console.log(t),console.log("successfully logged in")}).catch(t=>{console.log(t)})}extractCookies(t){const e={};return t.split(/\s*;\s*/).forEach(function(t){t=t.split(/\s*=\s*/),e[t[0]]=t.splice(1).join("=")}),e}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(XR),i.Wb(wd))},t.\u0275prov=i.Ib({token:t,factory:t.\u0275fac}),t})();class iP{constructor(t,e,n,i,r){this.rank=t,this.username=e,this.foolTheAI=n,this.solvableByHumans=i,this.numberOfAssociationsSolved=r}}const rP=new ad({"Content-Type":"application/json",Accept:"application/json"});let oP=(()=>{class t{constructor(t,e){this.httpService=t,this.authService=e}getGiveTheCue(t,e=!1){return this.httpService.get("https://gvlab-backend.herokuapp.com/task/mturk/create/"+t,{withCredentials:!0}).pipe(Object(ti.a)(t=>this.createNewGiveTheCueTask(t)))}getRandomGiveTheCue(t=5){return this.httpService.get("https://gvlab-backend.herokuapp.com/task/example/random_create/"+t).pipe(Object(ti.a)(t=>this.createNewGiveTheCueTask(t)))}getGiveTheCueGameTask(t=5){return this.httpService.get("https://gvlab-backend.herokuapp.com/game_random_create/"+t,this.authService.getAuthOptions()).pipe(Object(ti.a)(t=>this.createNewGiveTheCueTask(t)),To(t=>(401===t.status&&this.authService.userLoggedIn$.next(!1),Object(Dr.a)(t))))}getGuessTheAssociationTask(t,e=!1){return this.httpService.get("https://gvlab-backend.herokuapp.com/task/mturk/solve_create/"+t).pipe(Object(ti.a)(t=>this.createNewGuessTheAssociationsTask(t)))}getGuessTheAssociationGameTask(t=5){return this.httpService.get("https://gvlab-backend.herokuapp.com/get_create_to_solve/"+t,this.authService.getAuthOptions()).pipe(Object(ti.a)(t=>this.createNewGuessTheAssociationsTask(t)),To(t=>(401===t.status&&this.authService.userLoggedIn$.next(!1),Object(Dr.a)(t))))}getRandomGuessTheAssociationTask(t=5){return this.httpService.get("https://gvlab-backend.herokuapp.com/task/example/random_solve/"+t).pipe(Object(ti.a)(t=>this.createNewGuessTheAssociationsTask(t)))}getCreateGuessTheAssociationTask(t){return this.httpService.get("https://gvlab-backend.herokuapp.com/task/mturk/solve_create/"+t).pipe(Object(ti.a)(t=>this.createNewGuessTheAssociationsTask(t)))}getAIPrediction(t,e=0){this.httpService.post("https://gvlab-backend.herokuapp.com/create",t.getPredictionFormat(e)).subscribe(n=>{t.setAIAnswers(n.clip_predictions,e),t.setScore(n.human_score,e)})}getAIPredictionGame(t,e=0){this.httpService.post("https://gvlab-backend.herokuapp.com/create_game",t.getGamePredictionFormat(e),this.authService.getAuthOptions()).subscribe(n=>{t.setAIAnswers(n.clip_predictions,e),t.setScore(n.human_score,e)})}solveGame(t){this.httpService.post("https://gvlab-backend.herokuapp.com/solve_game",t.getSolveFormat(),this.authService.getAuthOptions()).subscribe(t=>{console.log("Solved successfully")})}sendReportForm(t){this.httpService.post("https://gvlab-backend.herokuapp.com/report",JSON.stringify(t),{headers:rP}).subscribe(t=>{console.log("Report form was sent")})}createNewGuessTheAssociationsTask(t){const e=void 0===t.ID?t.id:t.ID;return new Ic(t.candidates.map((e,n)=>new xc(e,t.candidates_original[n],t.associations.includes(e))),[t.cue],t.num_associations,e)}createNewGiveTheCueTask(t){const e=void 0===t.ID?t.id:t.ID;return new eu([t.candidates.map((e,n)=>new xc(e,t.candidates_original[n])),t.candidates.map((e,n)=>new xc(e,t.candidates_original[n]))],["",""],e)}getLeaderboard(){return this.httpService.get("https://gvlab-backend.herokuapp.com/leaderboard").pipe(Object(ti.a)(t=>t.map((t,e)=>new iP(e+1,null==t?void 0:t.player_email,t["fool-the-ai"],t["solvable-by-humans"],t["solving-existing-associations"]))))}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(wd),i.Wb(nP))},t.\u0275prov=i.Ib({token:t,factory:t.\u0275fac}),t})();const sP=new Map;sP.set("4","Four"),sP.set("5","Five"),sP.set("6","Six"),sP.set("10","Ten"),sP.set("12","Twelve");const aP=new Map;function cP(t){let e="5";try{e=String(t.candidates[0].length)}catch(wH){console.log("[cueCalculator]: Failed to get number of candidates.")}const n=aP.get(e);return`Your goal is to create visual associations that a rival AI cannot solve, but other humans can. <br><br> ${sP.get(e)} images are presented below. <br> Choose ${n} images and enter a cue word.<br>`}aP.set("4","2-3"),aP.set("5","2-3"),aP.set("6","2-4"),aP.set("10","2-5"),aP.set("12","2-6");var uP=n("3N8a");class lP extends uP.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame(()=>t.flush(null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(cancelAnimationFrame(e),t.scheduled=void 0)}}var hP=n("IjjT");class dP extends hP.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,i=-1,r=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++i<r&&(t=e.shift()));if(this.active=!1,n){for(;++i<r&&(t=e.shift());)t.unsubscribe();throw n}}}const fP=new dP(lP);n("7Hc7");class pP{constructor(t=!1,e,n=!0){this._multiple=t,this._emitChanges=n,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new Mr.a,e&&e.length&&(t?e.forEach(t=>this._markSelected(t)):this._markSelected(e[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...t){this._verifyValueAssignment(t),t.forEach(t=>this._markSelected(t)),this._emitChangeEvent()}deselect(...t){this._verifyValueAssignment(t),t.forEach(t=>this._unmarkSelected(t)),this._emitChangeEvent()}toggle(t){this.isSelected(t)?this.deselect(t):this.select(t)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(t){return this._selection.has(t)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){this.isSelected(t)||(this._multiple||this._unmarkAll(),this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){}}let gP=(()=>{class t{constructor(t,e,n){this._ngZone=t,this._platform=e,this._scrolled=new Mr.a,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=n}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const e=this.scrollContainers.get(t);e&&(e.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new Xn.a(e=>{this._globalSubscription||this._addGlobalListener();const n=t>0?this._scrolled.pipe(mh(t)).subscribe(e):this._scrolled.subscribe(e);return this._scrolledCount++,()=>{n.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Object(Dr.a)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,e)=>this.deregister(e)),this._scrolled.complete()}ancestorScrolled(t,e){const n=this.getAncestorScrollContainers(t);return this.scrolled(e).pipe(Xr(t=>!t||n.indexOf(t)>-1))}getAncestorScrollContainers(t){const e=[];return this.scrollContainers.forEach((n,i)=>{this._scrollableContainsElement(i,t)&&e.push(i)}),e}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,e){let n=e.nativeElement,i=t.getElementRef().nativeElement;do{if(n==i)return!0}while(n=n.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Tl(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(i.z),i.Wb(fu),i.Wb(s,8))},t.\u0275prov=Object(i.Ib)({factory:function(){return new t(Object(i.Wb)(i.z),Object(i.Wb)(fu),Object(i.Wb)(s,8))},token:t,providedIn:"root"}),t})(),mP=(()=>{class t{constructor(t,e,n){this._platform=t,this._change=new Mr.a,this._changeListener=t=>{this._change.next(t)},this._document=n,e.runOutsideAngular(()=>{if(t.isBrowser){const t=this._getWindow();t.addEventListener("resize",this._changeListener),t.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._updateViewportSize())})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:e,height:n}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+n,right:t.left+e,height:n,width:e}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,e=this._getWindow(),n=t.documentElement,i=n.getBoundingClientRect();return{top:-i.top||t.body.scrollTop||e.scrollY||n.scrollTop||0,left:-i.left||t.body.scrollLeft||e.scrollX||n.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(mh(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(fu),i.Wb(i.z),i.Wb(s,8))},t.\u0275prov=Object(i.Ib)({factory:function(){return new t(Object(i.Wb)(fu),Object(i.Wb)(i.z),Object(i.Wb)(s,8))},token:t,providedIn:"root"}),t})(),bP=(()=>{class t{}return t.\u0275mod=i.Kb({type:t}),t.\u0275inj=i.Jb({factory:function(e){return new(e||t)}}),t})(),_P=(()=>{class t{}return t.\u0275mod=i.Kb({type:t}),t.\u0275inj=i.Jb({factory:function(e){return new(e||t)},imports:[[Uu,pu,bP],Uu,bP]}),t})();class vP{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class yP extends vP{constructor(t,e,n,i){super(),this.component=t,this.viewContainerRef=e,this.injector=n,this.componentFactoryResolver=i}}class wP extends vP{constructor(t,e,n){super(),this.templateRef=t,this.viewContainerRef=e,this.context=n}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class CP extends vP{constructor(t){super(),this.element=t instanceof i.l?t.nativeElement:t}}class SP{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof yP?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof wP?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof CP?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class kP extends SP{constructor(t,e,n,i,r){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=n,this._defaultInjector=i,this.attachDomPortal=t=>{const e=t.element,n=this._document.createComment("dom-portal");e.parentNode.insertBefore(n,e),this.outletElement.appendChild(e),super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(e,n)})},this._document=r}attachComponentPortal(t){const e=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let n;return t.viewContainerRef?(n=t.viewContainerRef.createComponent(e,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>n.destroy())):(n=e.create(t.injector||this._defaultInjector),this._appRef.attachView(n.hostView),this.setDisposeFn(()=>{this._appRef.detachView(n.hostView),n.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(n)),n}attachTemplatePortal(t){let e=t.viewContainerRef,n=e.createEmbeddedView(t.templateRef,t.context);return n.rootNodes.forEach(t=>this.outletElement.appendChild(t)),n.detectChanges(),this.setDisposeFn(()=>{let t=e.indexOf(n);-1!==t&&e.remove(t)}),n}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let OP=(()=>{class t extends SP{constructor(t,e,n){super(),this._componentFactoryResolver=t,this._viewContainerRef=e,this._isInitialized=!1,this.attached=new i.n,this.attachDomPortal=t=>{const e=t.element,n=this._document.createComment("dom-portal");t.setAttachedHost(this),e.parentNode.insertBefore(n,e),this._getRootNode().appendChild(e),super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(e,n)})},this._document=n}get portal(){return this._attachedPortal}set portal(t){(!this.hasAttached()||t||this._isInitialized)&&(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const e=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,n=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),i=e.createComponent(n,e.length,t.injector||e.injector);return e!==this._viewContainerRef&&this._getRootNode().appendChild(i.hostView.rootNodes[0]),super.setDisposeFn(()=>i.destroy()),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}attachTemplatePortal(t){t.setAttachedHost(this);const e=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=e,this.attached.emit(e),e}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return t.\u0275fac=function(e){return new(e||t)(i.Mb(i.j),i.Mb(i.Q),i.Mb(s))},t.\u0275dir=i.Hb({type:t,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[i.xb]}),t})(),TP=(()=>{class t{}return t.\u0275mod=i.Kb({type:t}),t.\u0275inj=i.Jb({factory:function(e){return new(e||t)}}),t})();class xP{constructor(t,e){this.predicate=t,this.inclusive=e}call(t,e){return e.subscribe(new EP(t,this.predicate,this.inclusive))}}class EP extends Lr.a{constructor(t,e,n){super(t),this.predicate=e,this.inclusive=n,this.index=0}_next(t){const e=this.destination;let n;try{n=this.predicate(t,this.index++)}catch(i){return void e.error(i)}this.nextOrComplete(t,n)}nextOrComplete(t,e){const n=this.destination;Boolean(e)?n.next(t):(this.inclusive&&n.next(t),n.complete())}}const IP=wu();class AP{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=ou(-this._previousScrollPosition.left),t.style.top=ou(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,e=t.style,n=this._document.body.style,i=e.scrollBehavior||"",r=n.scrollBehavior||"";this._isEnabled=!1,e.left=this._previousHTMLStyles.left,e.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),IP&&(e.scrollBehavior=n.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),IP&&(e.scrollBehavior=i,n.scrollBehavior=r)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,e=this._viewportRuler.getViewportSize();return t.scrollHeight>e.height||t.scrollWidth>e.width}}class RP{constructor(t,e,n,i){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=n,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class PP{enable(){}disable(){}attach(){}}function DP(t,e){return e.some(e=>t.bottom<e.top||t.top>e.bottom||t.right<e.left||t.left>e.right)}function MP(t,e){return e.some(e=>t.top<e.top||t.bottom>e.bottom||t.left<e.left||t.right>e.right)}class NP{constructor(t,e,n,i){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this._config=i,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:e,height:n}=this._viewportRuler.getViewportSize();DP(t,[{width:e,height:n,bottom:n,right:e,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let jP=(()=>{class t{constructor(t,e,n,i){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this.noop=()=>new PP,this.close=t=>new RP(this._scrollDispatcher,this._ngZone,this._viewportRuler,t),this.block=()=>new AP(this._viewportRuler,this._document),this.reposition=t=>new NP(this._scrollDispatcher,this._viewportRuler,this._ngZone,t),this._document=i}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(gP),i.Wb(mP),i.Wb(i.z),i.Wb(s))},t.\u0275prov=Object(i.Ib)({factory:function(){return new t(Object(i.Wb)(gP),Object(i.Wb)(mP),Object(i.Wb)(i.z),Object(i.Wb)(s))},token:t,providedIn:"root"}),t})();class FP{constructor(t){if(this.scrollStrategy=new PP,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const n of e)void 0!==t[n]&&(this[n]=t[n])}}}class LP{constructor(t,e,n,i,r){this.offsetX=n,this.offsetY=i,this.panelClass=r,this.originX=t.originX,this.originY=t.originY,this.overlayX=e.overlayX,this.overlayY=e.overlayY}}class VP{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let UP=(()=>{class t{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const e=this._attachedOverlays.indexOf(t);e>-1&&this._attachedOverlays.splice(e,1),0===this._attachedOverlays.length&&this.detach()}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(s))},t.\u0275prov=Object(i.Ib)({factory:function(){return new t(Object(i.Wb)(s))},token:t,providedIn:"root"}),t})(),qP=(()=>{class t extends UP{constructor(t){super(t),this._keydownListener=t=>{const e=this._attachedOverlays;for(let n=e.length-1;n>-1;n--)if(e[n]._keydownEvents.observers.length>0){e[n]._keydownEvents.next(t);break}}}add(t){super.add(t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(s))},t.\u0275prov=Object(i.Ib)({factory:function(){return new t(Object(i.Wb)(s))},token:t,providedIn:"root"}),t})(),BP=(()=>{class t extends UP{constructor(t,e){super(t),this._platform=e,this._cursorStyleIsSet=!1,this._clickListener=t=>{const e=t.composedPath?t.composedPath()[0]:t.target,n=this._attachedOverlays.slice();for(let i=n.length-1;i>-1;i--){const r=n[i];if(!(r._outsidePointerEvents.observers.length<1)&&r.hasAttached()){if(r.overlayElement.contains(e))break;r._outsidePointerEvents.next(t)}}}}add(t){super.add(t),this._isAttached||(this._document.body.addEventListener("click",this._clickListener,!0),this._document.body.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=this._document.body.style.cursor,this._document.body.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("click",this._clickListener,!0),this._document.body.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(this._document.body.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1)}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(s),i.Wb(fu))},t.\u0275prov=Object(i.Ib)({factory:function(){return new t(Object(i.Wb)(s),Object(i.Wb)(fu))},token:t,providedIn:"root"}),t})();const HP=!("undefined"==typeof window||!window||!window.__karma__&&!window.jasmine);let zP=(()=>{class t{constructor(t,e){this._platform=e,this._document=t}ngOnDestroy(){const t=this._containerElement;t&&t.parentNode&&t.parentNode.removeChild(t)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){if(this._platform.isBrowser||HP){const t=this._document.querySelectorAll('.cdk-overlay-container[platform="server"], .cdk-overlay-container[platform="test"]');for(let e=0;e<t.length;e++)t[e].parentNode.removeChild(t[e])}const t=this._document.createElement("div");t.classList.add("cdk-overlay-container"),HP?t.setAttribute("platform","test"):this._platform.isBrowser||t.setAttribute("platform","server"),this._document.body.appendChild(t),this._containerElement=t}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(s),i.Wb(fu))},t.\u0275prov=Object(i.Ib)({factory:function(){return new t(Object(i.Wb)(s),Object(i.Wb)(fu))},token:t,providedIn:"root"}),t})();class WP{constructor(t,e,n,i,r,o,s,a,c){this._portalOutlet=t,this._host=e,this._pane=n,this._config=i,this._ngZone=r,this._keyboardDispatcher=o,this._document=s,this._location=a,this._outsideClickDispatcher=c,this._backdropElement=null,this._backdropClick=new Mr.a,this._attachments=new Mr.a,this._detachments=new Mr.a,this._locationChanges=Do.a.EMPTY,this._backdropClickHandler=t=>this._backdropClick.next(t),this._keydownEvents=new Mr.a,this._outsidePointerEvents=new Mr.a,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){let e=this._portalOutlet.attach(t);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(_o(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=ou(this._config.width),t.height=ou(this._config.height),t.minWidth=ou(this._config.minWidth),t.minHeight=ou(this._config.minHeight),t.maxWidth=ou(this._config.maxWidth),t.maxHeight=ou(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"auto":"none"}_attachBackdrop(){this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add("cdk-overlay-backdrop-showing")})}):this._backdropElement.classList.add("cdk-overlay-backdrop-showing")}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let t,e=this._backdropElement;if(!e)return;let n=()=>{e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",n),e.parentNode&&e.parentNode.removeChild(e)),this._backdropElement==e&&(this._backdropElement=null),this._config.backdropClass&&this._toggleClasses(e,this._config.backdropClass,!1),clearTimeout(t)};e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",n)}),e.style.pointerEvents="none",t=this._ngZone.runOutsideAngular(()=>setTimeout(n,500))}_toggleClasses(t,e,n){const i=t.classList;ru(e).forEach(t=>{t&&(n?i.add(t):i.remove(t))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(El(Object(kl.a)(this._attachments,this._detachments))).subscribe(()=>{this._pane&&this._host&&0!==this._pane.children.length||(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}}const GP=/([A-Za-z%]+)$/;class KP{constructor(t,e,n,i,r){this._viewportRuler=e,this._document=n,this._platform=i,this._overlayContainer=r,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Mr.a,this._resizeSubscription=Do.a.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add("cdk-overlay-connected-position-bounding-box"),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const t=this._originRect,e=this._overlayRect,n=this._viewportRect,i=[];let r;for(let o of this._preferredPositions){let s=this._getOriginPoint(t,o),a=this._getOverlayPoint(s,e,o),c=this._getOverlayFit(a,e,n,o);if(c.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(o,s);this._canFitWithFlexibleDimensions(c,a,n)?i.push({position:o,origin:s,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(s,o)}):(!r||r.overlayFit.visibleArea<c.visibleArea)&&(r={overlayFit:c,overlayPoint:a,originPoint:s,position:o,overlayRect:e})}if(i.length){let t=null,e=-1;for(const n of i){const i=n.boundingBoxRect.width*n.boundingBoxRect.height*(n.position.weight||1);i>e&&(e=i,t=n)}return this._isPushed=!1,void this._applyPosition(t.position,t.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(r.position,r.originPoint);this._applyPosition(r.position,r.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&$P(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove("cdk-overlay-connected-position-bounding-box"),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,t);this._applyPosition(t,e)}}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e){let n,i;if("center"==e.originX)n=t.left+t.width/2;else{const i=this._isRtl()?t.right:t.left,r=this._isRtl()?t.left:t.right;n="start"==e.originX?i:r}return i="center"==e.originY?t.top+t.height/2:"top"==e.originY?t.top:t.bottom,{x:n,y:i}}_getOverlayPoint(t,e,n){let i,r;return i="center"==n.overlayX?-e.width/2:"start"===n.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,r="center"==n.overlayY?-e.height/2:"top"==n.overlayY?0:-e.height,{x:t.x+i,y:t.y+r}}_getOverlayFit(t,e,n,i){let{x:r,y:o}=t,s=this._getOffset(i,"x"),a=this._getOffset(i,"y");s&&(r+=s),a&&(o+=a);let c=0-o,u=o+e.height-n.height,l=this._subtractOverflows(e.width,0-r,r+e.width-n.width),h=this._subtractOverflows(e.height,c,u),d=l*h;return{visibleArea:d,isCompletelyWithinViewport:e.width*e.height===d,fitsInViewportVertically:h===e.height,fitsInViewportHorizontally:l==e.width}}_canFitWithFlexibleDimensions(t,e,n){if(this._hasFlexibleDimensions){const i=n.bottom-e.y,r=n.right-e.x,o=YP(this._overlayRef.getConfig().minHeight),s=YP(this._overlayRef.getConfig().minWidth),a=t.fitsInViewportHorizontally||null!=s&&s<=r;return(t.fitsInViewportVertically||null!=o&&o<=i)&&a}return!1}_pushOverlayOnScreen(t,e,n){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const i=this._viewportRect,r=Math.max(t.x+e.width-i.width,0),o=Math.max(t.y+e.height-i.height,0),s=Math.max(i.top-n.top-t.y,0),a=Math.max(i.left-n.left-t.x,0);let c=0,u=0;return c=e.width<=i.width?a||-r:t.x<this._viewportMargin?i.left-n.left-t.x:0,u=e.height<=i.height?s||-o:t.y<this._viewportMargin?i.top-n.top-t.y:0,this._previousPushAmount={x:c,y:u},{x:t.x+c,y:t.y+u}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const e=this._getScrollVisibility(),n=new VP(t,e);this._positionChanges.next(n)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let n,i=t.overlayY;n="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let r=0;r<e.length;r++)e[r].style.transformOrigin=`${n} ${i}`}_calculateBoundingBoxRect(t,e){const n=this._viewportRect,i=this._isRtl();let r,o,s,a,c,u;if("top"===e.overlayY)o=t.y,r=n.height-o+this._viewportMargin;else if("bottom"===e.overlayY)s=n.height-t.y+2*this._viewportMargin,r=n.height-s+this._viewportMargin;else{const e=Math.min(n.bottom-t.y+n.top,t.y),i=this._lastBoundingBoxSize.height;r=2*e,o=t.y-e,r>i&&!this._isInitialRender&&!this._growAfterOpen&&(o=t.y-i/2)}if("end"===e.overlayX&&!i||"start"===e.overlayX&&i)u=n.width-t.x+this._viewportMargin,a=t.x-this._viewportMargin;else if("start"===e.overlayX&&!i||"end"===e.overlayX&&i)c=t.x,a=n.right-t.x;else{const e=Math.min(n.right-t.x+n.left,t.x),i=this._lastBoundingBoxSize.width;a=2*e,c=t.x-e,a>i&&!this._isInitialRender&&!this._growAfterOpen&&(c=t.x-i/2)}return{top:o,left:c,bottom:s,right:u,width:a,height:r}}_setBoundingBoxStyles(t,e){const n=this._calculateBoundingBoxRect(t,e);this._isInitialRender||this._growAfterOpen||(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const t=this._overlayRef.getConfig().maxHeight,r=this._overlayRef.getConfig().maxWidth;i.height=ou(n.height),i.top=ou(n.top),i.bottom=ou(n.bottom),i.width=ou(n.width),i.left=ou(n.left),i.right=ou(n.right),i.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",i.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",t&&(i.maxHeight=ou(t)),r&&(i.maxWidth=ou(r))}this._lastBoundingBoxSize=n,$P(this._boundingBox.style,i)}_resetBoundingBoxStyles(){$P(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){$P(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const n={},i=this._hasExactPosition(),r=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(i){const i=this._viewportRuler.getViewportScrollPosition();$P(n,this._getExactOverlayY(e,t,i)),$P(n,this._getExactOverlayX(e,t,i))}else n.position="static";let s="",a=this._getOffset(e,"x"),c=this._getOffset(e,"y");a&&(s+=`translateX(${a}px) `),c&&(s+=`translateY(${c}px)`),n.transform=s.trim(),o.maxHeight&&(i?n.maxHeight=ou(o.maxHeight):r&&(n.maxHeight="")),o.maxWidth&&(i?n.maxWidth=ou(o.maxWidth):r&&(n.maxWidth="")),$P(this._pane.style,n)}_getExactOverlayY(t,e,n){let i={top:"",bottom:""},r=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(r=this._pushOverlayOnScreen(r,this._overlayRect,n));let o=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return r.y-=o,"bottom"===t.overlayY?i.bottom=this._document.documentElement.clientHeight-(r.y+this._overlayRect.height)+"px":i.top=ou(r.y),i}_getExactOverlayX(t,e,n){let i,r={left:"",right:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,n)),i=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===i?r.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":r.left=ou(o.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),n=this._scrollables.map(t=>t.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:MP(t,n),isOriginOutsideView:DP(t,n),isOverlayClipped:MP(e,n),isOverlayOutsideView:DP(e,n)}}_subtractOverflows(t,...e){return e.reduce((t,e)=>t-Math.max(e,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+t-this._viewportMargin,bottom:n.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&ru(t).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof i.l)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,n=t.height||0;return{top:t.y,bottom:t.y+n,left:t.x,right:t.x+e,height:n,width:e}}}function $P(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function YP(t){if("number"!=typeof t&&null!=t){const[e,n]=t.split(GP);return n&&"px"!==n?null:parseFloat(e)}return t||null}class QP{constructor(t,e,n,i,r,o,s){this._preferredPositions=[],this._positionStrategy=new KP(n,i,r,o,s).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(t,e),this.onPositionChange=this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(t){this._overlayRef=t,this._positionStrategy.attach(t),this._direction&&(t.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(t){this._positionStrategy.withScrollableContainers(t)}withFallbackPosition(t,e,n,i){const r=new LP(t,e,n,i);return this._preferredPositions.push(r),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(t){return this._overlayRef?this._overlayRef.setDirection(t):this._direction=t,this}withOffsetX(t){return this._positionStrategy.withDefaultOffsetX(t),this}withOffsetY(t){return this._positionStrategy.withDefaultOffsetY(t),this}withLockedPosition(t){return this._positionStrategy.withLockedPosition(t),this}withPositions(t){return this._preferredPositions=t.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(t){return this._positionStrategy.setOrigin(t),this}}class ZP{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add("cdk-global-overlay-wrapper"),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:i,height:r,maxWidth:o,maxHeight:s}=n,a=!("100%"!==i&&"100vw"!==i||o&&"100%"!==o&&"100vw"!==o),c=!("100%"!==r&&"100vh"!==r||s&&"100%"!==s&&"100vh"!==s);t.position=this._cssPosition,t.marginLeft=a?"0":this._leftOffset,t.marginTop=c?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,a?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,n=e.style;e.classList.remove("cdk-global-overlay-wrapper"),n.justifyContent=n.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let XP=(()=>{class t{constructor(t,e,n,i){this._viewportRuler=t,this._document=e,this._platform=n,this._overlayContainer=i}global(){return new ZP}connectedTo(t,e,n){return new QP(e,n,t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(t){return new KP(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(mP),i.Wb(s),i.Wb(fu),i.Wb(zP))},t.\u0275prov=Object(i.Ib)({factory:function(){return new t(Object(i.Wb)(mP),Object(i.Wb)(s),Object(i.Wb)(fu),Object(i.Wb)(zP))},token:t,providedIn:"root"}),t})(),JP=0,tD=(()=>{class t{constructor(t,e,n,i,r,o,s,a,c,u,l){this.scrollStrategies=t,this._overlayContainer=e,this._componentFactoryResolver=n,this._positionBuilder=i,this._keyboardDispatcher=r,this._injector=o,this._ngZone=s,this._document=a,this._directionality=c,this._location=u,this._outsideClickDispatcher=l}create(t){const e=this._createHostElement(),n=this._createPaneElement(e),i=this._createPortalOutlet(n),r=new FP(t);return r.direction=r.direction||this._directionality.value,new WP(i,e,n,r,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(t){const e=this._document.createElement("div");return e.id="cdk-overlay-"+JP++,e.classList.add("cdk-overlay-pane"),t.appendChild(e),e}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(i.g)),new kP(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(jP),i.Wb(zP),i.Wb(i.j),i.Wb(XP),i.Wb(qP),i.Wb(i.r),i.Wb(i.z),i.Wb(s),i.Wb(Vu),i.Wb(w),i.Wb(BP))},t.\u0275prov=i.Ib({token:t,factory:t.\u0275fac}),t})();const eD=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],nD=new i.q("cdk-connected-overlay-scroll-strategy");let iD=(()=>{class t{constructor(t){this.elementRef=t}}return t.\u0275fac=function(e){return new(e||t)(i.Mb(i.l))},t.\u0275dir=i.Hb({type:t,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),t})(),rD=(()=>{class t{constructor(t,e,n,r,o){this._overlay=t,this._dir=o,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=Do.a.EMPTY,this._attachSubscription=Do.a.EMPTY,this._detachSubscription=Do.a.EMPTY,this._positionSubscription=Do.a.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new i.n,this.positionChange=new i.n,this.attach=new i.n,this.detach=new i.n,this.overlayKeydown=new i.n,this.overlayOutsideClick=new i.n,this._templatePortal=new wP(e,n),this._scrollStrategyFactory=r,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(t){this._offsetX=t,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(t){this._offsetY=t,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=nu(t)}get lockPosition(){return this._lockPosition}set lockPosition(t){this._lockPosition=nu(t)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(t){this._flexibleDimensions=nu(t)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(t){this._growAfterOpen=nu(t)}get push(){return this._push}set push(t){this._push=nu(t)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(t){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),t.origin&&this.open&&this._position.apply()),t.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){this.positions&&this.positions.length||(this.positions=eD);const t=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=t.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=t.detachments().subscribe(()=>this.detach.emit()),t.keydownEvents().subscribe(t=>{this.overlayKeydown.next(t),27!==t.keyCode||this.disableClose||Cu(t)||(t.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(t=>{this.overlayOutsideClick.next(t)})}_buildConfig(){const t=this._position=this.positionStrategy||this._createPositionStrategy(),e=new FP({direction:this._dir,positionStrategy:t,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(e.width=this.width),(this.height||0===this.height)&&(e.height=this.height),(this.minWidth||0===this.minWidth)&&(e.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(e.minHeight=this.minHeight),this.backdropClass&&(e.backdropClass=this.backdropClass),this.panelClass&&(e.panelClass=this.panelClass),e}_updatePositionStrategy(t){const e=this.positions.map(t=>({originX:t.originX,originY:t.originY,overlayX:t.overlayX,overlayY:t.overlayY,offsetX:t.offsetX||this.offsetX,offsetY:t.offsetY||this.offsetY,panelClass:t.panelClass||void 0}));return t.setOrigin(this.origin.elementRef).withPositions(e).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const t=this._overlay.position().flexibleConnectedTo(this.origin.elementRef);return this._updatePositionStrategy(t),t}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(t=>{this.backdropClick.emit(t)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function(t,e=!1){return n=>n.lift(new xP(t,e))}(()=>this.positionChange.observers.length>0)).subscribe(t=>{this.positionChange.emit(t),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(i.Mb(tD),i.Mb(i.L),i.Mb(i.Q),i.Mb(nD),i.Mb(Vu,8))},t.\u0275dir=i.Hb({type:t,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"],positions:["cdkConnectedOverlayPositions","positions"],origin:["cdkConnectedOverlayOrigin","origin"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[i.yb]}),t})();const oD={provide:nD,deps:[tD],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};let sD=(()=>{class t{}return t.\u0275mod=i.Kb({type:t}),t.\u0275inj=i.Jb({factory:function(e){return new(e||t)},providers:[tD,oD],imports:[[Uu,TP,_P],_P]}),t})();function aD(t,e){}class cD{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus=!0,this.restoreFocus=!0,this.closeOnNavigation=!0}}const uD={dialogContainer:Et("dialogContainer",[Pt("void, exit",Rt({opacity:0,transform:"scale(0.7)"})),Pt("enter",Rt({transform:"none"})),Dt("* => enter",It("150ms cubic-bezier(0, 0, 0.2, 1)",Rt({transform:"none",opacity:1}))),Dt("* => void, * => exit",It("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",Rt({opacity:0})))])};let lD=(()=>{class t extends SP{constructor(t,e,n,r,o,s){super(),this._elementRef=t,this._focusTrapFactory=e,this._changeDetectorRef=n,this._config=o,this._focusMonitor=s,this._animationStateChanged=new i.n,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=t=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(t)),this._ariaLabelledBy=o.ariaLabelledBy||null,this._document=r}_initializeWithAttachedContent(){this._setupFocusTrap(),this._capturePreviouslyFocusedElement(),this._focusDialogContainer()}attachComponentPortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(t)}_recaptureFocus(){this._containsFocus()||(!this._config.autoFocus||!this._focusTrap.focusInitialElement())&&this._elementRef.nativeElement.focus()}_trapFocus(){this._config.autoFocus?this._focusTrap.focusInitialElementWhenReady():this._containsFocus()||this._elementRef.nativeElement.focus()}_restoreFocus(){const t=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&t&&"function"==typeof t.focus){const e=this._document.activeElement,n=this._elementRef.nativeElement;e&&e!==this._document.body&&e!==n&&!n.contains(e)||(this._focusMonitor?(this._focusMonitor.focusVia(t,this._closeInteractionType),this._closeInteractionType=null):t.focus())}this._focusTrap&&this._focusTrap.destroy()}_setupFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)}_capturePreviouslyFocusedElement(){this._document&&(this._elementFocusedBeforeDialogWasOpened=this._document.activeElement)}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,e=this._document.activeElement;return t===e||t.contains(e)}}return t.\u0275fac=function(e){return new(e||t)(i.Mb(i.l),i.Mb(Eu),i.Mb(i.h),i.Mb(s,8),i.Mb(cD),i.Mb(Nu))},t.\u0275dir=i.Hb({type:t,viewQuery:function(t,e){if(1&t&&i.yc(OP,!0),2&t){let t;i.qc(t=i.ac())&&(e._portalOutlet=t.first)}},features:[i.xb]}),t})(),hD=(()=>{class t extends lD{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:t,totalTime:e}){"enter"===t?(this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})):"exit"===t&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:e}))}_onAnimationStart({toState:t,totalTime:e}){"enter"===t?this._animationStateChanged.next({state:"opening",totalTime:e}):"exit"!==t&&"void"!==t||this._animationStateChanged.next({state:"closing",totalTime:e})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}return t.\u0275fac=function(e){return dD(e||t)},t.\u0275cmp=i.Gb({type:t,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(t,e){1&t&&i.Bc("@dialogContainer.start",function(t){return e._onAnimationStart(t)})("@dialogContainer.done",function(t){return e._onAnimationDone(t)}),2&t&&(i.Vb("id",e._id),i.Bb("role",e._config.role)("aria-labelledby",e._config.ariaLabel?null:e._ariaLabelledBy)("aria-label",e._config.ariaLabel)("aria-describedby",e._config.ariaDescribedBy||null),i.Cc("@dialogContainer",e._state))},features:[i.xb],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,e){1&t&&i.Dc(0,aD,0,0,"ng-template",0)},directives:[OP],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[uD.dialogContainer]}}),t})();const dD=i.Ub(hD);let fD=0;class pD{constructor(t,e,n="mat-dialog-"+fD++){this._overlayRef=t,this._containerInstance=e,this.id=n,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new Mr.a,this._afterClosed=new Mr.a,this._beforeClosed=new Mr.a,this._state=0,e._id=n,e._animationStateChanged.pipe(Xr(t=>"opened"===t.state),_o(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe(Xr(t=>"closed"===t.state),_o(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),t.keydownEvents().pipe(Xr(t=>27===t.keyCode&&!this.disableClose&&!Cu(t))).subscribe(t=>{t.preventDefault(),gD(this,"keyboard")}),t.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():gD(this,"mouse")})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(Xr(t=>"closing"===t.state),_o(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(t){let e=this._getPositionStrategy();return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(t="",e=""){return this._getPositionStrategy().width(t).height(e),this._overlayRef.updatePosition(),this}addPanelClass(t){return this._overlayRef.addPanelClass(t),this}removePanelClass(t){return this._overlayRef.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function gD(t,e,n){return void 0!==t._containerInstance&&(t._containerInstance._closeInteractionType=e),t.close(n)}const mD=new i.q("MatDialogData"),bD=new i.q("mat-dialog-default-options"),_D=new i.q("mat-dialog-scroll-strategy"),vD={provide:_D,deps:[tD],useFactory:function(t){return()=>t.scrollStrategies.block()}};let yD=(()=>{class t{constructor(t,e,n,i,r,o,s,a,c){this._overlay=t,this._injector=e,this._defaultOptions=n,this._parentDialog=i,this._overlayContainer=r,this._dialogRefConstructor=s,this._dialogContainerType=a,this._dialogDataToken=c,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Mr.a,this._afterOpenedAtThisLevel=new Mr.a,this._ariaHiddenElements=new Map,this.afterAllClosed=Yr(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Co(void 0))),this._scrollStrategy=o}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(t,e){(e=function(t,e){return Object.assign(Object.assign({},e),t)}(e,this._defaultOptions||new cD)).id&&this.getDialogById(e.id);const n=this._createOverlay(e),i=this._attachDialogContainer(n,e),r=this._attachDialogContent(t,i,n,e);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(r),r.afterClosed().subscribe(()=>this._removeOpenDialog(r)),this.afterOpened.next(r),i._initializeWithAttachedContent(),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(e=>e.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(t){const e=this._getOverlayConfig(t);return this._overlay.create(e)}_getOverlayConfig(t){const e=new FP({positionStrategy:this._overlay.position().global(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(e.backdropClass=t.backdropClass),e}_attachDialogContainer(t,e){const n=i.r.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:cD,useValue:e}]}),r=new yP(this._dialogContainerType,e.viewContainerRef,n,e.componentFactoryResolver);return t.attach(r).instance}_attachDialogContent(t,e,n,r){const o=new this._dialogRefConstructor(n,e,r.id);if(t instanceof i.L)e.attachTemplatePortal(new wP(t,null,{$implicit:r.data,dialogRef:o}));else{const n=this._createInjector(r,o,e),i=e.attachComponentPortal(new yP(t,r.viewContainerRef,n));o.componentInstance=i.instance}return o.updateSize(r.width,r.height).updatePosition(r.position),o}_createInjector(t,e,n){const r=t&&t.viewContainerRef&&t.viewContainerRef.injector,o=[{provide:this._dialogContainerType,useValue:n},{provide:this._dialogDataToken,useValue:t.data},{provide:this._dialogRefConstructor,useValue:e}];return!t.direction||r&&r.get(Vu,null)||o.push({provide:Vu,useValue:{value:t.direction,change:Object(Dr.a)()}}),i.r.create({parent:r||this._injector,providers:o})}_removeOpenDialog(t){const e=this.openDialogs.indexOf(t);e>-1&&(this.openDialogs.splice(e,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((t,e)=>{t?e.setAttribute("aria-hidden",t):e.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const e=t.parentElement.children;for(let n=e.length-1;n>-1;n--){let i=e[n];i===t||"SCRIPT"===i.nodeName||"STYLE"===i.nodeName||i.hasAttribute("aria-live")||(this._ariaHiddenElements.set(i,i.getAttribute("aria-hidden")),i.setAttribute("aria-hidden","true"))}}}_closeDialogs(t){let e=t.length;for(;e--;)t[e].close()}}return t.\u0275fac=function(e){return new(e||t)(i.Mb(tD),i.Mb(i.r),i.Mb(void 0),i.Mb(void 0),i.Mb(zP),i.Mb(void 0),i.Mb(i.N),i.Mb(i.N),i.Mb(i.q))},t.\u0275dir=i.Hb({type:t}),t})(),wD=(()=>{class t extends yD{constructor(t,e,n,i,r,o,s){super(t,e,i,o,s,r,pD,hD,mD)}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(tD),i.Wb(i.r),i.Wb(w,8),i.Wb(bD,8),i.Wb(_D),i.Wb(t,12),i.Wb(zP))},t.\u0275prov=i.Ib({token:t,factory:t.\u0275fac}),t})(),CD=(()=>{class t{}return t.\u0275mod=i.Kb({type:t}),t.\u0275inj=i.Jb({factory:function(e){return new(e||t)},providers:[wD,vD],imports:[[sD,TP,Ku],Ku]}),t})();const SD=["trigger"],kD=["panel"];function OD(t,e){if(1&t&&(i.Sb(0,"span",8),i.Fc(1),i.Rb()),2&t){const t=i.dc();i.Ab(1),i.Gc(t.placeholder||"\xa0")}}function TD(t,e){if(1&t&&(i.Sb(0,"span"),i.Fc(1),i.Rb()),2&t){const t=i.dc(2);i.Ab(1),i.Gc(t.triggerValue||"\xa0")}}function xD(t,e){1&t&&i.gc(0,0,["*ngSwitchCase","true"])}function ED(t,e){if(1&t&&(i.Sb(0,"span",9),i.Dc(1,TD,2,1,"span",10),i.Dc(2,xD,1,0,"ng-content",11),i.Rb()),2&t){const t=i.dc();i.ic("ngSwitch",!!t.customTrigger),i.Ab(2),i.ic("ngSwitchCase",!0)}}function ID(t,e){if(1&t){const t=i.Tb();i.Sb(0,"div",12),i.Sb(1,"div",13,14),i.Zb("@transformPanel.done",function(e){return i.tc(t),i.dc()._panelDoneAnimatingStream.next(e.toState)})("keydown",function(e){return i.tc(t),i.dc()._handleKeydown(e)}),i.gc(3,1),i.Rb(),i.Rb()}if(2&t){const t=i.dc();i.ic("@transformPanelWrap",void 0),i.Ab(1),i.Db("mat-select-panel ",t._getPanelTheme(),""),i.Ac("transform-origin",t._transformOrigin)("font-size",t._triggerFontSize,"px"),i.ic("ngClass",t.panelClass)("@transformPanel",t.multiple?"showing-multiple":"showing"),i.Bb("id",t.id+"-panel")("aria-multiselectable",t.multiple)("aria-label",t.ariaLabel||null)("aria-labelledby",t._getPanelAriaLabelledby())}}const AD=[[["mat-select-trigger"]],"*"],RD=["mat-select-trigger","*"],PD={transformPanelWrap:Et("transformPanelWrap",[Dt("* => void",Nt("@transformPanel",[Mt()],{optional:!0}))]),transformPanel:Et("transformPanel",[Pt("void",Rt({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),Pt("showing",Rt({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),Pt("showing-multiple",Rt({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),Dt("void => *",It("120ms cubic-bezier(0, 0, 0.2, 1)")),Dt("* => void",It("100ms 25ms linear",Rt({opacity:0})))])};let DD=0;const MD=new i.q("mat-select-scroll-strategy"),ND=new i.q("MAT_SELECT_CONFIG"),jD={provide:MD,deps:[tD],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};class FD{constructor(t,e){this.source=t,this.value=e}}class LD{constructor(t,e,n,i,r){this._elementRef=t,this._defaultErrorStateMatcher=e,this._parentForm=n,this._parentFormGroup=i,this.ngControl=r}}const VD=Qu(Zu($u(Xu(LD)))),UD=new i.q("MatSelectTrigger");let qD=(()=>{class t extends VD{constructor(t,e,n,r,o,s,a,c,u,l,h,d,f,p){var g,m,b;super(o,r,a,c,l),this._viewportRuler=t,this._changeDetectorRef=e,this._ngZone=n,this._dir=s,this._parentFormField=u,this.ngControl=l,this._liveAnnouncer=f,this._defaultOptions=p,this._panelOpen=!1,this._compareWith=(t,e)=>t===e,this._uid="mat-select-"+DD++,this._triggerAriaLabelledBy=null,this._destroy=new Mr.a,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+DD++,this._panelDoneAnimatingStream=new Mr.a,this._overlayPanelClass=(null===(g=this._defaultOptions)||void 0===g?void 0:g.overlayPanelClass)||"",this._focused=!1,this.controlType="mat-select",this._required=!1,this._multiple=!1,this._disableOptionCentering=null!==(b=null===(m=this._defaultOptions)||void 0===m?void 0:m.disableOptionCentering)&&void 0!==b&&b,this.ariaLabel="",this.optionSelectionChanges=Yr(()=>{const t=this.options;return t?t.changes.pipe(Co(t),go(()=>Object(kl.a)(...t.map(t=>t.onSelectionChange)))):this._ngZone.onStable.pipe(_o(1),go(()=>this.optionSelectionChanges))}),this.openedChange=new i.n,this._openedStream=this.openedChange.pipe(Xr(t=>t),Object(ti.a)(()=>{})),this._closedStream=this.openedChange.pipe(Xr(t=>!t),Object(ti.a)(()=>{})),this.selectionChange=new i.n,this.valueChange=new i.n,this.ngControl&&(this.ngControl.valueAccessor=this),null!=(null==p?void 0:p.typeaheadDebounceInterval)&&(this._typeaheadDebounceInterval=p.typeaheadDebounceInterval),this._scrollStrategyFactory=d,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(h)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(t){this._placeholder=t,this.stateChanges.next()}get required(){return this._required}set required(t){this._required=nu(t),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(t){this._multiple=nu(t)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(t){this._disableOptionCentering=nu(t)}get compareWith(){return this._compareWith}set compareWith(t){this._compareWith=t,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(t){t!==this._value&&(this.options&&this._setSelectionByValue(t),this._value=t)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(t){this._typeaheadDebounceInterval=iu(t)}get id(){return this._id}set id(t){this._id=t||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new pP(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(Xc(),El(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(El(this._destroy)).subscribe(t=>{t.added.forEach(t=>t.select()),t.removed.forEach(t=>t.deselect())}),this.options.changes.pipe(Co(null),El(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const t=this._getTriggerAriaLabelledby();if(t!==this._triggerAriaLabelledBy){const e=this._elementRef.nativeElement;this._triggerAriaLabelledBy=t,t?e.setAttribute("aria-labelledby",t):e.removeAttribute("aria-labelledby")}this.ngControl&&this.updateErrorState()}ngOnChanges(t){t.disabled&&this.stateChanges.next(),t.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(t){this.value=t}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel.selected:this._selectionModel.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const t=this._selectionModel.selected.map(t=>t.viewValue);return this._isRtl()&&t.reverse(),t.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(t){this.disabled||(this.panelOpen?this._handleOpenKeydown(t):this._handleClosedKeydown(t))}_handleClosedKeydown(t){const e=t.keyCode,n=40===e||38===e||37===e||39===e,i=13===e||32===e,r=this._keyManager;if(!r.isTyping()&&i&&!Cu(t)||(this.multiple||t.altKey)&&n)t.preventDefault(),this.open();else if(!this.multiple){const e=this.selected;r.onKeydown(t);const n=this.selected;n&&e!==n&&this._liveAnnouncer.announce(n.viewValue,1e4)}}_handleOpenKeydown(t){const e=this._keyManager,n=t.keyCode,i=40===n||38===n,r=e.isTyping();if(i&&t.altKey)t.preventDefault(),this.close();else if(r||13!==n&&32!==n||!e.activeItem||Cu(t))if(!r&&this._multiple&&65===n&&t.ctrlKey){t.preventDefault();const e=this.options.some(t=>!t.disabled&&!t.selected);this.options.forEach(t=>{t.disabled||(e?t.select():t.deselect())})}else{const n=e.activeItemIndex;e.onKeydown(t),this._multiple&&i&&t.shiftKey&&e.activeItem&&e.activeItemIndex!==n&&e.activeItem._selectViaInteraction()}else t.preventDefault(),e.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this.disabled||this.panelOpen||(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this.overlayDir.positionChange.pipe(_o(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?"mat-"+this._parentFormField.color:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this._setSelectionByValue(this.ngControl?this.ngControl.value:this._value),this.stateChanges.next()})}_setSelectionByValue(t){if(this._selectionModel.selected.forEach(t=>t.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&t)Array.isArray(t),t.forEach(t=>this._selectValue(t)),this._sortValues();else{const e=this._selectValue(t);e?this._keyManager.updateActiveItem(e):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectValue(t){const e=this.options.find(e=>{try{return null!=e.value&&this._compareWith(e.value,t)}catch(n){return!1}});return e&&this._selectionModel.select(e),e}_initKeyManager(){this._keyManager=new Su(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(El(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe(El(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):this._panelOpen||this.multiple||!this._keyManager.activeItem||this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const t=Object(kl.a)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(El(t)).subscribe(t=>{this._onSelect(t.source,t.isUserInput),t.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),Object(kl.a)(...this.options.map(t=>t._stateChanges)).pipe(El(t)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(t,e){const n=this._selectionModel.isSelected(t);null!=t.value||this._multiple?(n!==t.selected&&(t.selected?this._selectionModel.select(t):this._selectionModel.deselect(t)),e&&this._keyManager.setActiveItem(t),this.multiple&&(this._sortValues(),e&&this.focus())):(t.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(t.value)),n!==this._selectionModel.isSelected(t)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const t=this.options.toArray();this._selectionModel.sort((e,n)=>this.sortComparator?this.sortComparator(e,n,t):t.indexOf(e)-t.indexOf(n)),this.stateChanges.next()}}_propagateChanges(t){let e=null;e=this.multiple?this.selected.map(t=>t.value):this.selected?this.selected.value:t,this._value=e,this.valueChange.emit(e),this._onChange(e),this.selectionChange.emit(this._getChangeEvent(e)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){var t;return!this._panelOpen&&!this.disabled&&(null===(t=this.options)||void 0===t?void 0:t.length)>0}focus(t){this._elementRef.nativeElement.focus(t)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const t=this._getLabelId();return this.ariaLabelledby?t+" "+this.ariaLabelledby:t}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getLabelId(){var t;return(null===(t=this._parentFormField)||void 0===t?void 0:t.getLabelId())||""}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;let t=this._getLabelId()+" "+this._valueId;return this.ariaLabelledby&&(t+=" "+this.ariaLabelledby),t}_panelDoneAnimating(t){this.openedChange.emit(t)}setDescribedByIds(t){this._ariaDescribedby=t.join(" ")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty}}return t.\u0275fac=function(e){return new(e||t)(i.Mb(mP),i.Mb(i.h),i.Mb(i.z),i.Mb(Ju),i.Mb(i.l),i.Mb(Vu,8),i.Mb(br,8),i.Mb(Tr,8),i.Mb(ch,8),i.Mb(Ii,10),i.Xb("tabindex"),i.Mb(MD),i.Mb(Ru),i.Mb(ND,8))},t.\u0275dir=i.Hb({type:t,viewQuery:function(t,e){if(1&t&&(i.Ic(SD,!0),i.Ic(kD,!0),i.Ic(rD,!0)),2&t){let t;i.qc(t=i.ac())&&(e.trigger=t.first),i.qc(t=i.ac())&&(e.panel=t.first),i.qc(t=i.ac())&&(e.overlayDir=t.first)}},inputs:{ariaLabel:["aria-label","ariaLabel"],id:"id",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",typeaheadDebounceInterval:"typeaheadDebounceInterval",panelClass:"panelClass",ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",sortComparator:"sortComparator"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[i.xb,i.yb]}),t})(),BD=(()=>{class t extends qD{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(t,e,n){const i=this._getItemHeight();return Math.min(Math.max(0,i*t-e+i/2),n)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(El(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe(_o(1)).subscribe(()=>{this._triggerFontSize&&this.overlayDir.overlayRef&&this.overlayDir.overlayRef.overlayElement&&(this.overlayDir.overlayRef.overlayElement.style.fontSize=this._triggerFontSize+"px")}))}_scrollOptionIntoView(t){const e=Cl(t,this.options,this.optionGroups),n=this._getItemHeight();var i,r,o;this.panel.nativeElement.scrollTop=(r=n,(i=(t+e)*n)<(o=this.panel.nativeElement.scrollTop)?i:i+r>o+256?Math.max(0,i-256+r):o)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(t){this.panelOpen?this._scrollTop=0:(this.overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(t)}_getChangeEvent(t){return new FD(this,t)}_calculateOverlayOffsetX(){const t=this.overlayDir.overlayRef.overlayElement.getBoundingClientRect(),e=this._viewportRuler.getViewportSize(),n=this._isRtl(),i=this.multiple?56:32;let r;if(this.multiple)r=40;else{let t=this._selectionModel.selected[0]||this.options.first;r=t&&t.group?32:16}n||(r*=-1);const o=0-(t.left+r-(n?i:0)),s=t.right+r-e.width+(n?0:i);o>0?r+=o+8:s>0&&(r-=s+8),this.overlayDir.offsetX=Math.round(r),this.overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(t,e,n){const i=this._getItemHeight(),r=(i-this._triggerRect.height)/2,o=Math.floor(256/i);let s;return this.disableOptionCentering?0:(s=0===this._scrollTop?t*i:this._scrollTop===n?(t-(this._getItemCount()-o))*i+(i-(this._getItemCount()*i-256)%i):e-i/2,Math.round(-1*s-r))}_checkOverlayWithinViewport(t){const e=this._getItemHeight(),n=this._viewportRuler.getViewportSize(),i=this._triggerRect.top-8,r=n.height-this._triggerRect.bottom-8,o=Math.abs(this._offsetY),s=Math.min(this._getItemCount()*e,256)-o-this._triggerRect.height;s>r?this._adjustPanelUp(s,r):o>i?this._adjustPanelDown(o,i,t):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(t,e){const n=Math.round(t-e);this._scrollTop-=n,this._offsetY-=n,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(t,e,n){const i=Math.round(t-e);if(this._scrollTop+=i,this._offsetY+=i,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=n)return this._scrollTop=n,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const t=this._getItemHeight(),e=this._getItemCount(),n=Math.min(e*t,256),i=e*t-n;let r;r=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),r+=Cl(r,this.options,this.optionGroups);const o=n/2;this._scrollTop=this._calculateOverlayScroll(r,o,i),this._offsetY=this._calculateOverlayOffsetY(r,o,i),this._checkOverlayWithinViewport(i)}_getOriginBasedOnOption(){const t=this._getItemHeight(),e=(t-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-e+t/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return t.\u0275fac=function(e){return HD(e||t)},t.\u0275cmp=i.Gb({type:t,selectors:[["mat-select"]],contentQueries:function(t,e,n){if(1&t&&(i.Fb(n,UD,!0),i.Fb(n,wl,!0),i.Fb(n,ml,!0)),2&t){let t;i.qc(t=i.ac())&&(e.customTrigger=t.first),i.qc(t=i.ac())&&(e.options=t),i.qc(t=i.ac())&&(e.optionGroups=t)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:20,hostBindings:function(t,e){1&t&&i.Zb("keydown",function(t){return e._handleKeydown(t)})("focus",function(){return e._onFocus()})("blur",function(){return e._onBlur()}),2&t&&(i.Bb("id",e.id)("tabindex",e.tabIndex)("aria-controls",e.panelOpen?e.id+"-panel":null)("aria-expanded",e.panelOpen)("aria-label",e.ariaLabel||null)("aria-required",e.required.toString())("aria-disabled",e.disabled.toString())("aria-invalid",e.errorState)("aria-describedby",e._ariaDescribedby||null)("aria-activedescendant",e._getAriaActiveDescendant()),i.Eb("mat-select-disabled",e.disabled)("mat-select-invalid",e.errorState)("mat-select-required",e.required)("mat-select-empty",e.empty)("mat-select-multiple",e.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[i.zb([{provide:Xl,useExisting:t},{provide:vl,useExisting:t}]),i.xb],ngContentSelectors:RD,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder"],[1,"mat-select-value-text",3,"ngSwitch"],[4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(t,e){if(1&t&&(i.hc(AD),i.Sb(0,"div",0,1),i.Zb("click",function(){return e.toggle()}),i.Sb(3,"div",2),i.Dc(4,OD,2,1,"span",3),i.Dc(5,ED,3,2,"span",4),i.Rb(),i.Sb(6,"div",5),i.Nb(7,"div",6),i.Rb(),i.Rb(),i.Dc(8,ID,4,14,"ng-template",7),i.Zb("backdropClick",function(){return e.close()})("attach",function(){return e._onAttached()})("detach",function(){return e.close()})),2&t){const t=i.rc(1);i.Bb("aria-owns",e.panelOpen?e.id+"-panel":null),i.Ab(3),i.ic("ngSwitch",e.empty),i.Bb("id",e._valueId),i.Ab(1),i.ic("ngSwitchCase",!0),i.Ab(1),i.ic("ngSwitchCase",!1),i.Ab(3),i.ic("cdkConnectedOverlayPanelClass",e._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",e._scrollStrategy)("cdkConnectedOverlayOrigin",t)("cdkConnectedOverlayOpen",e.panelOpen)("cdkConnectedOverlayPositions",e._positions)("cdkConnectedOverlayMinWidth",null==e._triggerRect?null:e._triggerRect.width)("cdkConnectedOverlayOffsetY",e._offsetY)}},directives:[iD,F,L,rD,V,I],styles:[".mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-table;cursor:pointer;position:relative;box-sizing:border-box}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-select-value{display:table-cell;max-width:0;width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{display:table-cell;vertical-align:middle}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}\n"],encapsulation:2,data:{animation:[PD.transformPanelWrap,PD.transformPanel]},changeDetection:0}),t})();const HD=i.Ub(BD);let zD=(()=>{class t{}return t.\u0275mod=i.Kb({type:t}),t.\u0275inj=i.Jb({factory:function(e){return new(e||t)},providers:[jD],imports:[[K,sD,Sl,Ku],bP,lh,Sl,Ku]}),t})();const WD=["mat-button",""],GD=["*"],KD=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"];class $D{constructor(t){this._elementRef=t}}const YD=Yu($u(Qu($D)));let QD=(()=>{class t extends YD{constructor(t,e,n){super(t),this._focusMonitor=e,this._animationMode=n,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const i of KD)this._hasHostAttributes(i)&&this._getHostElement().classList.add(i);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t="program",e){this._focusMonitor.focusVia(this._getHostElement(),t,e)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(t=>this._getHostElement().hasAttribute(t))}}return t.\u0275fac=function(e){return new(e||t)(i.Mb(i.l),i.Mb(Nu),i.Mb(Yn,8))},t.\u0275cmp=i.Gb({type:t,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,e){if(1&t&&i.Ic(al,!0),2&t){let t;i.qc(t=i.ac())&&(e.ripple=t.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,e){2&t&&(i.Bb("disabled",e.disabled||null),i.Eb("_mat-animation-noopable","NoopAnimations"===e._animationMode)("mat-button-disabled",e.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[i.xb],attrs:WD,ngContentSelectors:GD,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,e){1&t&&(i.hc(),i.Sb(0,"span",0),i.gc(1),i.Rb(),i.Nb(2,"span",1),i.Nb(3,"span",2)),2&t&&(i.Ab(2),i.Eb("mat-button-ripple-round",e.isRoundButton||e.isIconButton),i.ic("matRippleDisabled",e._isRippleDisabled())("matRippleCentered",e.isIconButton)("matRippleTrigger",e._getHostElement()))},directives:[al],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:block;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),t})(),ZD=(()=>{class t{}return t.\u0275mod=i.Kb({type:t}),t.\u0275inj=i.Jb({factory:function(e){return new(e||t)},imports:[[cl,Ku],Ku]}),t})();function XD(t,e){if(1&t&&(i.Sb(0,"mat-option",13),i.Fc(1),i.Rb()),2&t){const t=e.$implicit;i.ic("value",t.value),i.Ab(1),i.Hc(" ",t.viewValue," ")}}const JD=function(t){return{"instructions-form":t}};let tM=(()=>{class t{constructor(t){this.fb=t,this.skipPersonalDetails=!1,this.submit$=new i.n,this.close$=new i.n,this.ages=[{value:"inappropriateImage",viewValue:"Inappropriate Image"},{value:"missingImage",viewValue:"Missing Image"},{value:"inappropriateCue",viewValue:"Inappropriate Cue"},{value:"other",viewValue:"Other"}],this.instructionsOk=!1,this.personalDetailsForm=this.fb.group({reason:["",gi.required],details:["",gi.required]})}ngOnInit(){}onSubmit(t){this.personalDetailsForm.valid&&(this.submit$.next(this.personalDetailsForm.value),console.log(this.personalDetailsForm.value))}}return t.\u0275fac=function(e){return new(e||t)(i.Mb(Ar))},t.\u0275cmp=i.Gb({type:t,selectors:[["app-report-form"]],inputs:{skipPersonalDetails:"skipPersonalDetails"},outputs:{submit$:"submit$",close$:"close$"},decls:20,vars:8,consts:[[1,"personal-details-form-container"],[1,"personal-details-form",3,"ngClass"],[1,"fa-solid","fa-circle-xmark",3,"click"],[3,"formGroup","submit"],[1,"input-label","main-label"],[1,"input-label"],["appearance","fill"],[3,"formControlName"],[3,"value",4,"ngFor","ngForOf"],["appearance","fill",1,"fill-container"],["matInput","",3,"formControl","matTextareaAutosize"],[1,"button-container"],["mat-raised-button",""],[3,"value"]],template:function(t,e){1&t&&(i.Sb(0,"div",0),i.Sb(1,"div",1),i.Sb(2,"i",2),i.Zb("click",function(){return e.close$.emit()}),i.Rb(),i.Sb(3,"form",3),i.Zb("submit",function(t){return e.onSubmit(t)}),i.Sb(4,"div",4),i.Fc(5,"Please fill in the following details and submit them if you encounter a problem. Our team will review the report form and act accordingly."),i.Rb(),i.Sb(6,"div",5),i.Fc(7,"Please select the report reason "),i.Rb(),i.Sb(8,"mat-form-field",6),i.Sb(9,"mat-label"),i.Fc(10,"Report reason"),i.Rb(),i.Sb(11,"mat-select",7),i.Dc(12,XD,2,2,"mat-option",8),i.Rb(),i.Rb(),i.Sb(13,"div",5),i.Fc(14,"Please provide a short description of the problem "),i.Rb(),i.Sb(15,"mat-form-field",9),i.Nb(16,"textarea",10),i.Rb(),i.Sb(17,"div",11),i.Sb(18,"button",12),i.Fc(19,"Register"),i.Rb(),i.Rb(),i.Rb(),i.Rb(),i.Rb()),2&t&&(i.Ab(1),i.ic("ngClass",i.lc(6,JD,!e.instructionsOk)),i.Ab(2),i.ic("formGroup",e.personalDetailsForm),i.Ab(8),i.ic("formControlName","reason"),i.Ab(1),i.ic("ngForOf",e.ages),i.Ab(4),i.ic("formControl",e.personalDetailsForm.controls.details)("matTextareaAutosize",!1))},directives:[I,wr,Pi,Tr,uh,th,BD,Ri,Er,R,Eh,ui,wh,kr,QD,wl],styles:[".personal-details-form[_ngcontent-%COMP%]{max-height:555px!important;overflow-y:scroll}.mat-form-field[_ngcontent-%COMP%]{width:100%!important}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.instructions[_ngcontent-%COMP%]{color:#000;font-size:16px;padding-bottom:20px}@media (max-width:450px){.instructions-form[_ngcontent-%COMP%]{width:300px!important}.personal-details-form[_ngcontent-%COMP%]{top:50%!important}}.fa-circle-xmark[_ngcontent-%COMP%]{position:absolute;right:0;font-size:18px;margin-top:-5px;color:rgba(0,0,0,.7215686274509804);cursor:pointer}[_nghost-%COMP%]     .mat-form-field-flex{background-color:#f0f0f0!important}@media (max-width:540px){  .mat-select-panel{width:300px!important;min-width:300px!important}  .cdk-overlay-pane{transform:translateX(-42px) translateY(-55px)!important}}.main-label[_ngcontent-%COMP%]{font-weight:600}.input-label[_ngcontent-%COMP%]{padding-top:10px;padding-bottom:10px}.fill-container[_ngcontent-%COMP%]     textarea{height:120px}.instructions-form[_ngcontent-%COMP%]{width:415px}"]}),t})();function eM(t,e){if(1&t){const t=i.Tb();i.Sb(0,"app-report-form",14),i.Zb("close$",function(e){return i.tc(t),i.dc().closeReportForm(e)})("submit$",function(e){return i.tc(t),i.dc().onReportFormSubmit(e)}),i.Rb()}}const nM=function(t){return{"padding-bottom":t}};function iM(t,e){if(1&t&&(i.Sb(0,"h3",15),i.Fc(1," Challenge the AI "),i.Rb()),2&t){const t=i.dc();i.ic("ngClass",i.lc(1,nM,!t.gameMode))}}function rM(t,e){if(1&t&&i.Nb(0,"app-task-board",32),2&t){const t=i.dc(2);i.ic("guessTheAssociationsTask",t.guessTheAssociationsTask)("enablePointer",!0)("testMode",t.gameMode)("submit",t._submit)("info","Several images are presented below. \n A cue word and number of associated images are given. \n                     Choose the images that best associates with the cue word.")}}function oM(t,e){if(1&t&&i.Nb(0,"app-task-board",33),2&t){const t=i.dc(2);i.ic("giveCueTask",t.giveTheCueTask)("enablePointer",!0)("testMode",t.gameMode)("submit",t._submit)("info",t.giveTheCueInfo)}}function sM(t,e){if(1&t&&(i.Sb(0,"option",34),i.Fc(1),i.Rb()),2&t){const t=e.$implicit;i.Ac("color","black"),i.ic("value",t.value),i.Ab(1),i.Hc(" ",t.viewValue," ")}}function aM(t,e){1&t&&i.Nb(0,"i",35)}function cM(t,e){1&t&&i.Nb(0,"i",36)}const uM=function(){return{color:"black !important"}},lM=function(t){return{submitted:t}},hM=function(t){return{"no-clue":t}};function dM(t,e){if(1&t){const t=i.Tb();i.Sb(0,"div",16),i.Dc(1,rM,1,5,"app-task-board",17),i.Dc(2,oM,1,5,"app-task-board",18),i.Sb(3,"div",19),i.Sb(4,"div",20),i.Sb(5,"div"),i.Sb(6,"i",21),i.Zb("click",function(){return i.tc(t),i.dc().showReportForm=!0}),i.Rb(),i.Rb(),i.Fc(7," Report "),i.Rb(),i.Sb(8,"div"),i.Sb(9,"div"),i.Fc(10,"Candidates "),i.Rb(),i.Sb(11,"select",22),i.Zb("change",function(e){return i.tc(t),i.dc().onCandidatesSelect(e.target.value)}),i.Dc(12,sM,2,4,"option",23),i.Rb(),i.Rb(),i.Sb(13,"button",24),i.Zb("click",function(){return i.tc(t),i.dc().moveLeft()}),i.Nb(14,"li",25),i.Rb(),i.Sb(15,"button",26),i.Zb("click",function(){return i.tc(t),i.dc().submit()}),i.Fc(16),i.Rb(),i.Sb(17,"button",27),i.Zb("click",function(){return i.tc(t),i.dc().restartPractice()}),i.Nb(18,"li",28),i.Rb(),i.Sb(19,"button",27),i.Zb("click",function(){return i.tc(t),i.dc().moveRight()}),i.Nb(20,"li",29),i.Rb(),i.Rb(),i.Sb(21,"div",7),i.Dc(22,aM,1,0,"i",30),i.Dc(23,cM,1,0,"i",31),i.Fc(24),i.Rb(),i.Rb()}if(2&t){const t=i.dc();i.Ab(1),i.ic("ngIf",!0===t.isGuessAssociationsTask&&t.guessTheAssociationsTask),i.Ab(1),i.ic("ngIf",!1===t.isGuessAssociationsTask&&t.giveTheCueTask),i.Ab(4),i.Ac("color","red"),i.Ab(3),i.zc(i.kc(14,uM)),i.Ab(3),i.ic("ngForOf",t.candidates),i.Ab(1),i.ic("disabled",1===t.exampleIndex),i.Ab(2),i.ic("ngClass",i.lc(15,lM,t._submit)),i.Ab(1),i.Gc(t.isGuessAssociationsTask?"Test Me":"Test AI"),i.Ab(5),i.ic("ngClass",i.lc(17,hM,""===t.hint||t.responseBackgroundColor)),i.Ab(1),i.ic("ngIf",t.isGuessAssociationsTask&&""!=t.hint&&t.hint!=t.goodJobHint),i.Ab(1),i.ic("ngIf",t.isGuessAssociationsTask&&t.hint==t.goodJobHint),i.Ab(1),i.Hc(" ",t.hint," ")}}function fM(t,e){if(1&t){const t=i.Tb();i.Sb(0,"div",37),i.Sb(1,"div",38),i.Sb(2,"div",39),i.Fc(3,"Give The Cue"),i.Rb(),i.Sb(4,"div",40),i.Sb(5,"div",41),i.Fc(6," Several images are presented below. Choose several images and enter a cue word. "),i.Rb(),i.Sb(7,"div",41),i.Fc(8," The AI will try to guess which of the images associate with your cue. "),i.Rb(),i.Sb(9,"button",42),i.Zb("click",function(){return i.tc(t),i.dc().practice(!1)}),i.Fc(10,"Practice"),i.Rb(),i.Rb(),i.Rb(),i.Sb(11,"div",38),i.Sb(12,"div",39),i.Fc(13,"Guess The Associations"),i.Rb(),i.Sb(14,"div",40),i.Sb(15,"div",41),i.Fc(16," Several images are presented below. A cue word and a number are given: (\u{1d436}\u{1d462}\u{1d452}, #\u{1d434}\u{1d460}\u{1d460}\u{1d45c}\u{1d450}\u{1d456}\u{1d44e}\u{1d461}\u{1d456}\u{1d45c}\u{1d45b}\u{1d460}) "),i.Rb(),i.Sb(17,"div",41),i.Fc(18," Choose #\u{1d434}\u{1d460}\u{1d460}\u{1d45c}\u{1d450}\u{1d456}\u{1d44e}\u{1d461}\u{1d456}\u{1d45c}\u{1d45b}\u{1d460} images that associate with the \u{1d436}\u{1d462}\u{1d452} word. "),i.Rb(),i.Sb(19,"button",42),i.Zb("click",function(){return i.tc(t),i.dc().practice(!0)}),i.Fc(20,"Practice"),i.Rb(),i.Rb(),i.Rb(),i.Rb()}}function pM(t,e){if(1&t){const t=i.Tb();i.Sb(0,"div",43),i.Sb(1,"div",44),i.Fc(2," Got It!"),i.Rb(),i.Sb(3,"div",41),i.Fc(4," Let's play the combined game!"),i.Rb(),i.Sb(5,"i",45),i.Zb("click",function(){return i.tc(t),i.dc().play()}),i.Rb(),i.Rb()}}const gM=function(t,e,n){return{"background-color":t,visibility:e,color:n}},mM=function(t){return{"guess-clue-hint":t}};let bM=(()=>{class t{constructor(t,e,n,i,r){this.router=t,this.activeRouter=e,this.changeDetectorRef=n,this.dialog=i,this.serverRequestService=r,this.hint="",this.answers=new Map,this.gameMode=!1,this.practiceMode=!1,this.isCollapsed=!0,this._submit=!1,this.goodJobHint="Good Job!",this.timerSubscription=new Do.a,this.isGuessAssociationsTask=null,this.exampleIndex=1,this.responseBackgroundColor="",this.responseTextColor="",this.cancel$=new Mr.a,this.giveTheCueInfo="",this.selectedCandidates=5,this.showReportForm=!1,this.beatTheAIMode=!1,this.candidates=[{value:"5",viewValue:"5"},{value:"6",viewValue:"6"},{value:"10",viewValue:"10"},{value:"12",viewValue:"12"},{value:"random",viewValue:"random"}]}ngOnInit(){this.changeDetectorRef.detectChanges(),window.name="WinoGAViL",this.activeRouter.snapshot.routeConfig.path===lj?this.practice(!1):this.activeRouter.snapshot.routeConfig.path===dj&&this.practice(!0)}init(){this.showReportForm=!1,this.gameMode=!1,this.practiceMode=!1,this.isGuessAssociationsTask=null,this.exampleIndex=1,this.initExample(1)}closeReportForm(t){this.showReportForm=!1}onReportFormSubmit(t){try{t.task=this.isGuessAssociationsTask?this.guessTheAssociationsTask.getJSON():this.giveTheCueTask.getJSON(),t.userID="",this.serverRequestService.sendReportForm(t)}catch(e){console.log("Failed to send report form"),console.log(e)}this.showReportForm=!1}initExample(t){this.cancel$.next(),this._submit=!1,this.showHint(""),this.isGuessAssociationsTask?this.getTaskFromServer(t).pipe(El(this.cancel$)).subscribe(t=>{this.guessTheAssociationsTask=t}):this.getTaskFromServer(t).pipe(El(this.cancel$)).subscribe(t=>{this.giveTheCueTask=t,this.giveTheCueInfo=cP(t)})}onNavbarClick(t){"beat-the-ai"===t?this.init():"explore"===t&&(this.init(),this.practice(!0))}onCandidatesSelect(t){this.selectedCandidates=t}getQualificationId(t){return this.isGuessAssociationsTask?Mc.get(t):Dc.get(t)}getTaskFromServer(t){const e=this.getQualificationId(t);return void 0===e?(this.isGuessAssociationsTask?this.serverRequestService.getRandomGuessTheAssociationTask(this.selectedCandidates):this.serverRequestService.getRandomGiveTheCue(this.selectedCandidates)).pipe(Object(Po.a)(e=>this.isGuessAssociationsTask?Mc.set(t,e.id):Dc.set(t,e.id))):this.isGuessAssociationsTask?this.serverRequestService.getGuessTheAssociationTask(e,!0):this.serverRequestService.getGiveTheCue(e,!0)}ngOnDestroy(){document.getElementsByTagName("body")[0].classList.remove("index-page")}restartPractice(){var t,e;this._submit=!1,this.showHint(""),null===(t=this.giveTheCueTask)||void 0===t||t.init(),null===(e=this.guessTheAssociationsTask)||void 0===e||e.init()}play(){this.router.navigateByUrl(hj)}submit(){var t,e,n,i;this._submit=this.isGuessAssociationsTask?null===(t=this.guessTheAssociationsTask)||void 0===t?void 0:t.isTaskSolved():null===(e=this.giveTheCueTask)||void 0===e?void 0:e.isTaskSolved(),this._submit?(this.isGuessAssociationsTask?this.showHint(this.goodJobHint):(this.showHint("Waiting for AI prediction",Math.pow(10,10)),this.giveTheCueTask.getFilteredScore().pipe(El(this.cancel$)).subscribe(t=>{100===t?this.showHint("Perfect! AI Was Fooled! \n Your score: "+t,Math.pow(10,10),"#e2f0d9","#548235"):0!==t?this.showHint("AI Was almost Fooled! \n Your score: "+t,Math.pow(10,10),"#fde3e4","#f7931e"):0===t&&this.showHint("You were beaten by the AI! \n Maybe next time!",Math.pow(10,10),"#fff2cc","#f96c7b")}),this.serverRequestService.getAIPrediction(this.giveTheCueTask)),console.log(this.isGuessAssociationsTask?this.guessTheAssociationsTask:this.giveTheCueTask)):this.showHint(this.isGuessAssociationsTask?null===(n=this.guessTheAssociationsTask)||void 0===n?void 0:n.getHint():null===(i=this.giveTheCueTask)||void 0===i?void 0:i.getHint())}showHint(t,e=3e3,n="",i="black"){this.hint=t,this.responseTextColor=i,this.responseBackgroundColor=n,this.timerSubscription.unsubscribe(),this.timerSubscription=ph(e).subscribe(()=>{this.hint="",this.responseBackgroundColor="",this.responseTextColor="black"})}moveLeft(){this.exampleIndex>1&&(this.exampleIndex--,this.move())}moveRight(){this.serverRequestService.getGiveTheCueGameTask().subscribe(t=>console.log(t)),this.exampleIndex++,this.move()}move(){var t,e;null===(t=this.guessTheAssociationsTask)||void 0===t||t.init(),null===(e=this.giveTheCueTask)||void 0===e||e.init(),this.initExample(this.exampleIndex)}practice(t){this.isGuessAssociationsTask=t,this.initExample(this.exampleIndex),this.gameMode=!0,this.practiceMode=!0}}return t.\u0275fac=function(e){return new(e||t)(i.Mb(oc),i.Mb(qs),i.Mb(i.h),i.Mb(wD),i.Mb(oP))},t.\u0275cmp=i.Gb({type:t,selectors:[["app-beat-the-ai"]],decls:17,vars:16,consts:[[3,"isCollapsed","click"],[1,"wrapper"],[1,"page-header","header-filter"],[3,"close$","submit$",4,"ngIf"],[1,"container","center-container"],[1,"content-center","brand"],["class","main-label",3,"ngClass",4,"ngIf"],[1,"label","hint",3,"ngClass"],["class","task-container",4,"ngIf"],["class","explore-nav",4,"ngIf"],["class","got-it-container",4,"ngIf"],[1,"footer"],[1,"container"],[1,"footer-row"],[3,"close$","submit$"],[1,"main-label",3,"ngClass"],[1,"task-container"],["class","analogies-board",3,"guessTheAssociationsTask","enablePointer","testMode","submit","info",4,"ngIf"],["class","analogies-board",3,"giveCueTask","enablePointer","testMode","submit","info",4,"ngIf"],[1,"test-me-container"],[1,"report-container"],[1,"fas","fa-solid","fa-triangle-exclamation",3,"click"],[3,"change"],[3,"value","color",4,"ngFor","ngForOf"],[1,"btn","btn-neutral","btn-big",3,"disabled","click"],[1,"fas","fa-arrow-left"],[1,"btn","btn-neutral","btn-big",3,"ngClass","click"],[1,"btn","btn-neutral","btn-big",3,"click"],[1,"fas","fa-redo-alt"],[1,"fas","fa-arrow-right"],["style","color: red","class","fas fa-times",4,"ngIf"],["style","color: green","class","fas fa-check",4,"ngIf"],[1,"analogies-board",3,"guessTheAssociationsTask","enablePointer","testMode","submit","info"],[1,"analogies-board",3,"giveCueTask","enablePointer","testMode","submit","info"],[3,"value"],[1,"fas","fa-times",2,"color","red"],[1,"fas","fa-check",2,"color","green"],[1,"explore-nav"],[1,"practice-box"],[1,"practice-title"],[1,"practice-text"],[1,"text-row"],[1,"btn","btn-neutral",3,"click"],[1,"got-it-container"],[1,"got-it-title"],[1,"fas","fa-play","fas-big",3,"click"]],template:function(t,e){1&t&&(i.Sb(0,"app-navbar",0),i.Zb("click",function(t){return e.onNavbarClick(t)}),i.Rb(),i.Sb(1,"div",1),i.Sb(2,"div",2),i.Dc(3,eM,1,0,"app-report-form",3),i.Sb(4,"div",4),i.Sb(5,"div",5),i.Dc(6,iM,2,3,"h3",6),i.Sb(7,"div",7),i.Fc(8),i.Rb(),i.Dc(9,dM,25,19,"div",8),i.Dc(10,fM,21,0,"div",9),i.Dc(11,pM,6,0,"div",10),i.Rb(),i.Rb(),i.Rb(),i.Sb(12,"footer",11),i.Sb(13,"div",12),i.Sb(14,"div",13),i.Sb(15,"a"),i.Fc(16,"Maintained by Ron Yosef"),i.Rb(),i.Rb(),i.Rb(),i.Rb(),i.Rb()),2&t&&(i.ic("isCollapsed",e.isCollapsed),i.Ab(3),i.ic("ngIf",e.showReportForm),i.Ab(3),i.ic("ngIf",!e.isGuessAssociationsTask),i.Ab(1),i.zc(i.nc(10,gM,e.responseBackgroundColor,e.responseBackgroundColor?"visible":"hidden",e.responseTextColor)),i.ic("ngClass",i.lc(14,mM,!1===e.isGuessAssociationsTask)),i.Ab(1),i.Hc(" ",e.hint," "),i.Ab(1),i.ic("ngIf",e.gameMode),i.Ab(1),i.ic("ngIf",!e.gameMode),i.Ab(1),i.ic("ngIf",!e.gameMode))},directives:[Wc,D,I,tM,R,Kh,Hi,Ki],styles:["h1[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{color:#4d5568!important}.stat-label[_ngcontent-%COMP%]{font-size:2rem;font-weight:700}.stat-description[_ngcontent-%COMP%], .stat-label[_ngcontent-%COMP%]{text-align:center}.abstract[_ngcontent-%COMP%]{display:flex;justify-content:center}.abstract[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{height:16rem}.content-center[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;padding-top:6rem}.test-me-container[_ngcontent-%COMP%]     select{border:1px solid #000!important;border-radius:3px}.page-header[_ngcontent-%COMP%]{max-height:-webkit-max-content!important;max-height:-moz-max-content!important;max-height:max-content!important}.sub-title[_ngcontent-%COMP%]{font-size:2rem}.test-me-container[_ngcontent-%COMP%]     .mat-form-field-wrapper{width:100px!important}@media (max-width:800px){.explore-nav[_ngcontent-%COMP%]{justify-content:center}}@media (max-width:500px){.results-nav[_ngcontent-%COMP%]{width:85vw;overflow-y:scroll}}@media (max-width:760px){.test-nav[_ngcontent-%COMP%]{width:100%!important}}.test-nav[_ngcontent-%COMP%]{width:40%;justify-content:space-between;align-items:center;display:flex;padding-top:1rem}.btn-neutral[_ngcontent-%COMP%]{background:rgba(250,177,180,.3607843137254902)!important;color:#222a42!important}.btn-neutral[_ngcontent-%COMP%]:hover{background:rgba(250,177,180,.6509803921568628)!important}@media (max-width:500px){.test-me-container[_ngcontent-%COMP%]{flex-direction:column}}.test-me-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;width:600px;padding-bottom:20px}.example-label[_ngcontent-%COMP%]{width:125%;padding-bottom:2.2rem}.explore-nav[_ngcontent-%COMP%]{width:100%;justify-content:space-between;align-items:center;display:flex;flex-wrap:wrap;padding-bottom:5rem}@media (max-width:600px){.practice-box[_ngcontent-%COMP%]{width:100%!important;height:400px!important}.explore-nav[_ngcontent-%COMP%]{flex-direction:column}}.practice-box[_ngcontent-%COMP%]{width:45%;height:300px}.got-it-container[_ngcontent-%COMP%], .practice-box[_ngcontent-%COMP%]{box-shadow:0 .5rem 1rem rgba(0,0,0,.15)}.got-it-container[_ngcontent-%COMP%]{width:400px;height:180px}.got-it-title[_ngcontent-%COMP%]{color:#fd969e!important}.practice-text[_ngcontent-%COMP%], .practice-title[_ngcontent-%COMP%]{color:#222a42!important}.got-it-container[_ngcontent-%COMP%], .practice-title[_ngcontent-%COMP%]{padding:20px;font-size:24px}.practice-title[_ngcontent-%COMP%]{font-weight:700}.got-it-container[_ngcontent-%COMP%], .practice-text[_ngcontent-%COMP%], .task-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column}.hint[_ngcontent-%COMP%]{color:#000;height:1.7rem;width:100%;font-size:1.2rem}.guess-clue-hint[_ngcontent-%COMP%]{color:#000;width:100%;height:60px;font-size:20px;border-radius:5px;display:flex;justify-content:center;align-items:center;font-weight:700}.no-clue[_ngcontent-%COMP%]{visibility:hidden!important}.submitted[_ngcontent-%COMP%]{pointer-events:none}.text-row[_ngcontent-%COMP%]{padding:20px;color:#222a42!important;font-size:.875rem}.main-label[_ngcontent-%COMP%]{font-weight:600;text-transform:none!important;font-size:4rem;color:#fd969e!important}.main-description[_ngcontent-%COMP%]{font-size:1rem;color:#222a42!important;padding-bottom:3rem}.padding-bottom[_ngcontent-%COMP%]{padding-bottom:5rem}.selected-button[_ngcontent-%COMP%]{-webkit-transform:translateY(-1px);background:rgba(250,177,180,.8196078431372549)!important}.disabled-button[_ngcontent-%COMP%], .disabled-button[_ngcontent-%COMP%]:hover{-webkit-transform:translateY(-1px);background:rgba(250,177,180,.1803921568627451)!important}.fas-big[_ngcontent-%COMP%]{font-size:2.5rem;color:#fd969e!important;display:inline-block;cursor:pointer}.report-container[_ngcontent-%COMP%]{left:0;position:absolute;color:#000;margin-top:4px;margin-left:55px}.fa-triangle-exclamation[_ngcontent-%COMP%]{color:#ff3e3e;font-size:40px;text-shadow:2px 5px rgba(0,0,0,.03);cursor:pointer}.task-container[_ngcontent-%COMP%]     .btn-big{font-size:1.5rem}.wrong-answer[_ngcontent-%COMP%], .wrong-answer[_ngcontent-%COMP%]:active   .wrong-answer[_ngcontent-%COMP%]:target, .wrong-answer[_ngcontent-%COMP%]:focus, .wrong-answer[_ngcontent-%COMP%]:hover, .wrong-answer[_ngcontent-%COMP%]:visited{background:rgba(255,60,60,.8784313725490196)!important;transform:none!important}.correct-answer[_ngcontent-%COMP%], .correct-answer[_ngcontent-%COMP%]:active, .correct-answer[_ngcontent-%COMP%]:focus, .correct-answer[_ngcontent-%COMP%]:hover, .correct-answer[_ngcontent-%COMP%]:target, .correct-answer[_ngcontent-%COMP%]:visited{background:rgba(99,255,60,.8784313725490196)!important;transform:none!important}.bs-tooltip-top[_ngcontent-%COMP%]{background:#0bf!important}.tooltip-inner[_ngcontent-%COMP%]{font-size:1rem!important}"]}),t})();class _M{constructor(){this.turkSubmitTo="",this.assignmentId="",this.id="",this.isSixCandidates=!1}showAIScore(t){100===t?this.showHint("Perfect! AI Was Fooled! \n Your score: "+t,Math.pow(10,10),"#e2f0d9","#548235"):0!==t?this.showHint("AI Was almost Fooled! \n Your score: "+t,Math.pow(10,10),"#fde3e4","#f7931e"):0===t&&this.showHint("You wre beaten by the AI! \n Maybe next time!",Math.pow(10,10),"#fff2cc","#f96c7b")}handleSubmit(t,e,n){if(console.log("JSON to send"),console.log(n),!t||!e)return void console.log("assignmentId and turkSubmitTo not good");console.log(n);const i=document.createElement("form");i.action=e+"/mturk/externalSubmit",i.method="post";const r=document.createElement("input");r.name="assignmentId",r.value=t,r.hidden=!0,i.appendChild(r);const o=document.createElement("input");o.name="summary_json",o.value=JSON.stringify(n),o.hidden=!0,i.appendChild(o),document.body.appendChild(i),i.submit()}}const vM=function(t){return{submitted:t}};function yM(t,e){if(1&t){const t=i.Tb();i.Sb(0,"button",15),i.Zb("click",function(){return i.tc(t),i.dc(2).submit()}),i.Fc(1),i.Rb()}if(2&t){const t=i.dc(2);i.ic("ngClass",i.lc(2,vM,t._submit)),i.Ab(1),i.Hc(" ","Test AI ("+(t.cueIndex+1)+"/2)"," ")}}function wM(t,e){if(1&t){const t=i.Tb();i.Sb(0,"button",16),i.Zb("click",function(){return i.tc(t),i.dc(2).moveToNextCueManually()}),i.Fc(1),i.Rb()}if(2&t){const t=i.dc(2);i.Ab(1),i.Hc(" ",t.timerMessage,"")}}const CM=function(t){return{"content-center-six":t}},SM=function(t,e,n){return{"background-color":t,visibility:e,color:n}},kM=function(t){return{"test-me-container-six":t}},OM=function(t){return{"no-clue":t}};function TM(t,e){if(1&t&&(i.Sb(0,"div",6),i.Sb(1,"div",7),i.Sb(2,"div",8),i.Fc(3),i.Rb(),i.Sb(4,"div",9),i.Nb(5,"app-task-board",10),i.Sb(6,"div",11),i.Dc(7,yM,2,4,"button",12),i.Dc(8,wM,2,1,"button",13),i.Rb(),i.Sb(9,"div",14),i.Fc(10),i.Rb(),i.Rb(),i.Rb(),i.Rb()),2&t){const t=i.dc();i.Ab(1),i.ic("ngClass",i.lc(15,CM,t.isSixCandidates)),i.Ab(1),i.zc(i.nc(17,SM,t.responseBackgroundColor,t.responseBackgroundColor?"visible":"hidden",t.responseTextColor)),i.Ab(1),i.Hc(" ",t.hint," "),i.Ab(2),i.ic("giveCueTask",t.giveTheCueTask)("enablePointer",!1)("testMode",!0)("submit",t._submit)("cueIndex",t.cueIndex)("info",t.info),i.Ab(1),i.ic("ngClass",i.lc(21,kM,t.isSixCandidates)),i.Ab(1),i.ic("ngIf",!t.timerMessage),i.Ab(1),i.ic("ngIf",t.timerMessage),i.Ab(1),i.ic("ngClass",i.lc(23,OM,""===t.hint||t.responseBackgroundColor)),i.Ab(1),i.Hc(" ",t.hint," ")}}let xM=(()=>{class t extends _M{constructor(t,e,n,i,r){super(),this.router=t,this.activeRouter=e,this.changeDetectorRef=n,this.dialog=i,this.serverRequestService=r,this.hint="",this.date=new Date,this.answers=new Map,this._submit=!1,this.timerSubscription=new Do.a,this.responseBackgroundColor="",this.responseTextColor="",this.cueIndex=0,this.timerMessage="",this.giveTheCueTask=null,this.delayInterval=5,this.moveToNextCueManually$=new Mr.a,this.info="",window.name="WinoGAViL",this.id=this.activeRouter.snapshot.params.id,this.id&&"string"==typeof this.id&&this.serverRequestService.getGiveTheCue(this.id).subscribe(t=>{this.info=cP(t),this.isSixCandidates=t.candidates[0].length>5,this.turkSubmitTo=this.activeRouter.snapshot.queryParams.turkSubmitTo,this.assignmentId=this.activeRouter.snapshot.queryParams.assignmentId,console.log(this.turkSubmitTo),console.log(this.assignmentId),this.giveTheCueTask=t}),console.log(this.activeRouter.snapshot)}ngOnInit(){this.changeDetectorRef.detectChanges(),document.getElementsByTagName("body")[0].classList.add("index-page"),window.scroll({top:0,left:0,behavior:"smooth"})}init(){this._submit=!1,this.showHint("")}ngOnDestroy(){document.getElementsByTagName("body")[0].classList.remove("index-page")}submit(){var t,e;this._submit=null===(t=this.giveTheCueTask)||void 0===t?void 0:t.isTaskSolved(this.cueIndex),this._submit?(this.showHint("Waiting for AI prediction",Math.pow(10,10)),this.giveTheCueTask.getFilteredScore(this.cueIndex).subscribe(t=>{ph(0,1e3).pipe(_o(this.delayInterval),El(this.moveToNextCueManually$)).subscribe(t=>{++t<this.delayInterval?this.updateTimer(t):0===this.cueIndex?this.nextCue():1===this.cueIndex&&(this.updateTimer(null),this.handleSubmit(this.assignmentId,this.turkSubmitTo,this.giveTheCueTask.getJSON()))}),this.showAIScore(t)}),this.serverRequestService.getAIPrediction(this.giveTheCueTask,this.cueIndex)):this.showHint(null===(e=this.giveTheCueTask)||void 0===e?void 0:e.getHint(this.cueIndex))}updateTimer(t){this.timerMessage=null===t?"":0===this.cueIndex?`Move to next cue (${this.delayInterval-t}...)`:`Submit HIT (${this.delayInterval-t}...)`}nextCue(){this.updateTimer(null),this.init(),this.cueIndex=1}moveToNextCueManually(){this.moveToNextCueManually$.next(),0===this.cueIndex?this.nextCue():1===this.cueIndex&&(this.updateTimer(null),this.handleSubmit(this.assignmentId,this.turkSubmitTo,this.giveTheCueTask.getJSON()))}showHint(t,e=3e3,n="",i="black"){this.hint=t,this.responseTextColor=i,this.responseBackgroundColor=n,this.timerSubscription.unsubscribe(),this.timerSubscription=ph(e).subscribe(()=>{this.hint="",this.responseBackgroundColor="",this.responseTextColor="black"})}}return t.\u0275fac=function(e){return new(e||t)(i.Mb(oc),i.Mb(qs),i.Mb(i.h),i.Mb(wD),i.Mb(oP))},t.\u0275cmp=i.Gb({type:t,selectors:[["app-mturk"]],features:[i.xb],decls:8,vars:1,consts:[[1,"wrapper"],[1,"page-header","header-filter"],["class","container center-container",4,"ngIf"],[1,"footer"],[1,"container"],[1,"footer-row"],[1,"container","center-container"],[1,"content-center","brand",3,"ngClass"],[1,"label","hint","guess-clue-hint"],[1,"task-container"],[1,"analogies-board",3,"giveCueTask","enablePointer","testMode","submit","cueIndex","info"],[1,"test-me-container",3,"ngClass"],["class","btn btn-neutral btn-big",3,"ngClass","click",4,"ngIf"],["class","btn btn-neutral btn-big",3,"click",4,"ngIf"],[1,"label","hint",3,"ngClass"],[1,"btn","btn-neutral","btn-big",3,"ngClass","click"],[1,"btn","btn-neutral","btn-big",3,"click"]],template:function(t,e){1&t&&(i.Sb(0,"div",0),i.Sb(1,"div",1),i.Dc(2,TM,11,25,"div",2),i.Rb(),i.Sb(3,"footer",3),i.Sb(4,"div",4),i.Sb(5,"div",5),i.Sb(6,"a"),i.Fc(7,"Maintained by Ron Yosef"),i.Rb(),i.Rb(),i.Rb(),i.Rb(),i.Rb()),2&t&&(i.Ab(2),i.ic("ngIf",e.giveTheCueTask))},directives:[D,I,Kh],styles:["h1[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{color:#4d5568!important}.stat-label[_ngcontent-%COMP%]{font-size:2rem;font-weight:700}.stat-description[_ngcontent-%COMP%], .stat-label[_ngcontent-%COMP%]{text-align:center}.abstract[_ngcontent-%COMP%]{display:flex;justify-content:center}.abstract[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{height:16rem}.content-center[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;padding-top:2.5rem}.page-header[_ngcontent-%COMP%]{max-height:-webkit-max-content!important;max-height:-moz-max-content!important;max-height:max-content!important}.sub-title[_ngcontent-%COMP%]{font-size:2rem}@media (max-width:800px){.explore-nav[_ngcontent-%COMP%]{justify-content:center}}@media (max-width:500px){.results-nav[_ngcontent-%COMP%]{width:85vw;overflow-y:scroll}}@media (max-width:760px){.test-nav[_ngcontent-%COMP%]{width:100%!important}}.test-nav[_ngcontent-%COMP%]{width:40%;justify-content:space-between;align-items:center;display:flex;padding-top:1rem}.btn-neutral[_ngcontent-%COMP%]{background:rgba(250,177,180,.3607843137254902)!important;color:#222a42!important}.btn-neutral[_ngcontent-%COMP%]:hover{background:rgba(250,177,180,.6509803921568628)!important}.test-me-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:300px;padding-bottom:20px}.example-label[_ngcontent-%COMP%]{width:125%;padding-bottom:2.2rem}.explore-nav[_ngcontent-%COMP%]{width:100%;justify-content:space-between;align-items:center;display:flex;flex-wrap:wrap;padding-bottom:5rem}.practice-box[_ngcontent-%COMP%]{width:45%;height:300px}.got-it-container[_ngcontent-%COMP%], .practice-box[_ngcontent-%COMP%]{box-shadow:0 .5rem 1rem rgba(0,0,0,.15)}.got-it-container[_ngcontent-%COMP%]{width:400px;height:180px}.got-it-title[_ngcontent-%COMP%]{color:#fd969e!important}.practice-text[_ngcontent-%COMP%], .practice-title[_ngcontent-%COMP%]{color:#222a42!important}.got-it-container[_ngcontent-%COMP%], .practice-title[_ngcontent-%COMP%]{padding:20px;font-size:24px}.practice-title[_ngcontent-%COMP%]{font-weight:700}.got-it-container[_ngcontent-%COMP%], .practice-text[_ngcontent-%COMP%], .task-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column}.hint[_ngcontent-%COMP%]{color:#000;height:1.7rem;width:100%;font-size:1.2rem}.guess-clue-hint[_ngcontent-%COMP%]{color:#000;width:100%;height:60px;font-size:20px;border-radius:5px;display:flex;justify-content:center;align-items:center;font-weight:700}.no-clue[_ngcontent-%COMP%]{visibility:hidden!important}.submitted[_ngcontent-%COMP%]{pointer-events:none}.text-row[_ngcontent-%COMP%]{padding:20px;color:#222a42!important;font-size:.875rem}.main-label[_ngcontent-%COMP%]{font-weight:600;text-transform:none!important;font-size:4rem;color:#fd969e!important}.main-description[_ngcontent-%COMP%]{font-size:1rem;color:#222a42!important;padding-bottom:3rem}.padding-bottom[_ngcontent-%COMP%]{padding-bottom:5rem}.selected-button[_ngcontent-%COMP%]{-webkit-transform:translateY(-1px);background:rgba(250,177,180,.8196078431372549)!important}.disabled-button[_ngcontent-%COMP%], .disabled-button[_ngcontent-%COMP%]:hover{-webkit-transform:translateY(-1px);background:rgba(250,177,180,.1803921568627451)!important}.fas-big[_ngcontent-%COMP%]{font-size:2.5rem;color:#fd969e!important;display:inline-block;cursor:pointer}.task-container[_ngcontent-%COMP%]     .btn-big{font-size:1.5rem}.wrong-answer[_ngcontent-%COMP%], .wrong-answer[_ngcontent-%COMP%]:active   .wrong-answer[_ngcontent-%COMP%]:target, .wrong-answer[_ngcontent-%COMP%]:focus, .wrong-answer[_ngcontent-%COMP%]:hover, .wrong-answer[_ngcontent-%COMP%]:visited{background:rgba(255,60,60,.8784313725490196)!important;transform:none!important}.correct-answer[_ngcontent-%COMP%], .correct-answer[_ngcontent-%COMP%]:active, .correct-answer[_ngcontent-%COMP%]:focus, .correct-answer[_ngcontent-%COMP%]:hover, .correct-answer[_ngcontent-%COMP%]:target, .correct-answer[_ngcontent-%COMP%]:visited{background:rgba(99,255,60,.8784313725490196)!important;transform:none!important}.bs-tooltip-top[_ngcontent-%COMP%]{background:#0bf!important}.tooltip-inner[_ngcontent-%COMP%]{font-size:1rem!important}"]}),t})();const EM=function(t){return{"content-center-six":t}},IM=function(t){return{"test-me-container-six":t}},AM=function(t){return{submitted:t}},RM=function(t){return{"no-clue":t}};function PM(t,e){if(1&t){const t=i.Tb();i.Sb(0,"div",6),i.Sb(1,"div",7),i.Sb(2,"div",8),i.Nb(3,"app-task-board",9),i.Sb(4,"div",10),i.Sb(5,"button",11),i.Zb("click",function(){return i.tc(t),i.dc().submit()}),i.Fc(6),i.Rb(),i.Rb(),i.Sb(7,"div",12),i.Fc(8),i.Rb(),i.Rb(),i.Rb(),i.Rb()}if(2&t){const t=i.dc();i.Ab(1),i.ic("ngClass",i.lc(12,EM,t.isSixCandidates)),i.Ab(2),i.ic("guessTheAssociationsTask",t.geussTheAssociationsTask)("enablePointer",!1)("testMode",!0)("submit",t._submit)("disableSolutionIcons",!t.solveCreate)("info","Several images are presented below. \n A cue word and number of associated images are given. \n                     Choose the images that best associates with the cue word."),i.Ab(1),i.ic("ngClass",i.lc(14,IM,t.isSixCandidates)),i.Ab(1),i.ic("ngClass",i.lc(16,AM,t._submit)),i.Ab(1),i.Gc("Submit"),i.Ab(1),i.ic("ngClass",i.lc(18,RM,""===t.hint)),i.Ab(1),i.Hc(" ",t.hint," ")}}let DM=(()=>{class t extends _M{constructor(t,e,n,i){super(),this.router=t,this.activeRouter=e,this.changeDetectorRef=n,this.serverRequestService=i,this.hint="",this.date=new Date,this.pagination=3,this.pagination1=1,this.answers=new Map,this.practiceMode=!1,this._submit=!1,this.turkSubmitTo="",this.assignmentId="",this.solveCreate=!1,this.timerSubscription=new Do.a,this.geussTheAssociationsTask=null,window.name="WinoGAViL",this.id=this.activeRouter.snapshot.params.id,this.solveCreate=this.activeRouter.snapshot.routeConfig.path===uj,this.solveCreate&&console.log("solve create"),this.id&&"string"==typeof this.id&&(this.solveCreate?this.serverRequestService.getCreateGuessTheAssociationTask(this.id):this.serverRequestService.getGuessTheAssociationTask(this.id)).subscribe(t=>{this.isSixCandidates=t.candidates.length>5,this.turkSubmitTo=this.activeRouter.snapshot.queryParams.turkSubmitTo,this.assignmentId=this.activeRouter.snapshot.queryParams.assignmentId,console.log(this.turkSubmitTo),console.log(this.assignmentId),this.geussTheAssociationsTask=t}),console.log(this.activeRouter.snapshot)}ngOnInit(){this.changeDetectorRef.detectChanges(),document.getElementsByTagName("body")[0].classList.add("index-page"),window.scroll({top:0,left:0,behavior:"smooth"})}ngOnDestroy(){document.getElementsByTagName("body")[0].classList.remove("index-page")}restartPractice(){var t;this._submit=!1,this.showHint(""),null===(t=this.geussTheAssociationsTask)||void 0===t||t.init()}submit(){var t;this._submit=this.geussTheAssociationsTask.isTaskSolved(!0),this._submit?this.handleSubmit(this.assignmentId,this.turkSubmitTo,this.geussTheAssociationsTask):this.showHint(null===(t=this.geussTheAssociationsTask)||void 0===t?void 0:t.getHint())}showHint(t,e=3e3){this.hint=t,this.timerSubscription.unsubscribe(),this.timerSubscription=ph(e).subscribe(()=>{this.hint=""})}}return t.\u0275fac=function(e){return new(e||t)(i.Mb(oc),i.Mb(qs),i.Mb(i.h),i.Mb(oP))},t.\u0275cmp=i.Gb({type:t,selectors:[["app-mturk-solve"]],features:[i.xb],decls:8,vars:1,consts:[[1,"wrapper"],[1,"page-header","header-filter"],["class","container center-container",4,"ngIf"],[1,"footer"],[1,"container"],[1,"footer-row"],[1,"container","center-container"],[1,"content-center","brand",3,"ngClass"],[1,"task-container"],[1,"analogies-board",3,"guessTheAssociationsTask","enablePointer","testMode","submit","disableSolutionIcons","info"],[1,"test-me-container",3,"ngClass"],[1,"btn","btn-neutral","btn-big",3,"ngClass","click"],[1,"label","hint",3,"ngClass"]],template:function(t,e){1&t&&(i.Sb(0,"div",0),i.Sb(1,"div",1),i.Dc(2,PM,9,20,"div",2),i.Rb(),i.Sb(3,"footer",3),i.Sb(4,"div",4),i.Sb(5,"div",5),i.Sb(6,"a"),i.Fc(7,"Maintained by Ron Yosef"),i.Rb(),i.Rb(),i.Rb(),i.Rb(),i.Rb()),2&t&&(i.Ab(2),i.ic("ngIf",e.geussTheAssociationsTask))},directives:[D,I,Kh],styles:["h1[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{color:#4d5568!important}.stat-label[_ngcontent-%COMP%]{font-size:2rem;font-weight:700}.stat-description[_ngcontent-%COMP%], .stat-label[_ngcontent-%COMP%]{text-align:center}.abstract[_ngcontent-%COMP%]{display:flex;justify-content:center}.abstract[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{height:16rem}.content-center[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;padding-top:2.5rem}.page-header[_ngcontent-%COMP%]{max-height:-webkit-max-content!important;max-height:-moz-max-content!important;max-height:max-content!important}.sub-title[_ngcontent-%COMP%]{font-size:2rem}@media (max-width:800px){.explore-nav[_ngcontent-%COMP%]{justify-content:center}}@media (max-width:500px){.results-nav[_ngcontent-%COMP%]{width:85vw;overflow-y:scroll}}@media (max-width:760px){.test-nav[_ngcontent-%COMP%]{width:100%!important}}.test-nav[_ngcontent-%COMP%]{width:40%;justify-content:space-between;align-items:center;display:flex;padding-top:1rem}.btn-neutral[_ngcontent-%COMP%]{background:rgba(250,177,180,.3607843137254902)!important;color:#222a42!important}.btn-neutral[_ngcontent-%COMP%]:hover{background:rgba(250,177,180,.6509803921568628)!important}.test-me-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:300px;padding-bottom:20px}.example-label[_ngcontent-%COMP%]{width:125%;padding-bottom:2.2rem}.explore-nav[_ngcontent-%COMP%]{width:100%;justify-content:space-between;align-items:center;display:flex;flex-wrap:wrap;padding-bottom:5rem}.practice-box[_ngcontent-%COMP%]{width:45%;height:300px}.got-it-container[_ngcontent-%COMP%], .practice-box[_ngcontent-%COMP%]{box-shadow:0 .5rem 1rem rgba(0,0,0,.15)}.got-it-container[_ngcontent-%COMP%]{width:400px;height:180px}.got-it-title[_ngcontent-%COMP%]{color:#fd969e!important}.practice-text[_ngcontent-%COMP%], .practice-title[_ngcontent-%COMP%]{color:#222a42!important}.got-it-container[_ngcontent-%COMP%], .practice-title[_ngcontent-%COMP%]{padding:20px;font-size:24px}.practice-title[_ngcontent-%COMP%]{font-weight:700}.got-it-container[_ngcontent-%COMP%], .practice-text[_ngcontent-%COMP%], .task-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column}.hint[_ngcontent-%COMP%]{color:#000;height:1.7rem;width:100%;font-size:1.2rem}.guess-clue-hint[_ngcontent-%COMP%]{color:#000;width:100%;height:60px;font-size:20px;border-radius:5px;display:flex;justify-content:center;align-items:center;font-weight:700}.no-clue[_ngcontent-%COMP%]{visibility:hidden!important}.submitted[_ngcontent-%COMP%]{pointer-events:none}.text-row[_ngcontent-%COMP%]{padding:20px;color:#222a42!important;font-size:.875rem}.main-label[_ngcontent-%COMP%]{font-weight:600;text-transform:none!important;font-size:4rem;color:#fd969e!important}.main-description[_ngcontent-%COMP%]{font-size:1rem;color:#222a42!important;padding-bottom:3rem}.padding-bottom[_ngcontent-%COMP%]{padding-bottom:5rem}.selected-button[_ngcontent-%COMP%]{-webkit-transform:translateY(-1px);background:rgba(250,177,180,.8196078431372549)!important}.disabled-button[_ngcontent-%COMP%], .disabled-button[_ngcontent-%COMP%]:hover{-webkit-transform:translateY(-1px);background:rgba(250,177,180,.1803921568627451)!important}.fas-big[_ngcontent-%COMP%]{font-size:2.5rem;color:#fd969e!important;display:inline-block;cursor:pointer}.task-container[_ngcontent-%COMP%]     .btn-big{font-size:1.5rem}.wrong-answer[_ngcontent-%COMP%], .wrong-answer[_ngcontent-%COMP%]:active   .wrong-answer[_ngcontent-%COMP%]:target, .wrong-answer[_ngcontent-%COMP%]:focus, .wrong-answer[_ngcontent-%COMP%]:hover, .wrong-answer[_ngcontent-%COMP%]:visited{background:rgba(255,60,60,.8784313725490196)!important;transform:none!important}.correct-answer[_ngcontent-%COMP%], .correct-answer[_ngcontent-%COMP%]:active, .correct-answer[_ngcontent-%COMP%]:focus, .correct-answer[_ngcontent-%COMP%]:hover, .correct-answer[_ngcontent-%COMP%]:target, .correct-answer[_ngcontent-%COMP%]:visited{background:rgba(99,255,60,.8784313725490196)!important;transform:none!important}.bs-tooltip-top[_ngcontent-%COMP%]{background:#0bf!important}.tooltip-inner[_ngcontent-%COMP%]{font-size:1rem!important}"]}),t})();var MM=function(t){return t.RG="RG",t.ONLY_AI="OA",t.ONLY_HUMAN="OH",t.NO_REWARD="NR",t.DEFAULT="DEFAULT",t}({});function NM(t){switch(t=null==t?void 0:t.toUpperCase()){case MM.RG:return MM.RG;case MM.ONLY_AI:return MM.ONLY_AI;case MM.ONLY_HUMAN:return MM.ONLY_HUMAN;case MM.NO_REWARD:return MM.NO_REWARD;default:return MM.DEFAULT}}class jM extends _M{constructor(t,e){super(),this.serverRequestService=t,this.qualificationIndex=1,this.tasks=new Map,this.solved=!1,this.allSubmitted=!1,this.hitSubmitted=!1,this.personalDetails=null,this.skipPersonalDetails=!1,this.numberOfTasks=10,this.experimentMode=MM.DEFAULT,this.giveTheCueInfo="",this.type=e}getQualificationId(t){return this.type===Ec.GIVE_THE_CUE?Rc.get(t):Pc.get(t)}getTaskFromServer(t){const e=this.getQualificationId(t);return this.type===Ec.GIVE_THE_CUE?this.serverRequestService.getGiveTheCue(e,!0):this.serverRequestService.getGuessTheAssociationTask(e,!0)}initQualification(t){if(this.experimentMode!==MM.DEFAULT&&(this.skipPersonalDetails=!0),this.tasks.has("qualification-"+t)){const e=this.tasks.get("qualification-"+t);this.initQualificationTask(e.task,!!e.solved)}else this.getTaskFromServer(t).subscribe(t=>this.initQualificationTask(t,!1))}initQualificationTask(t,e){this.isSixCandidates=this.type===Ec.GIVE_THE_CUE?t.candidates[0].length>5:t.candidates.length>5,this._submit=!1,this.showHint(""),this.solved=e,this._submit=this.solved,this.type===Ec.GIVE_THE_CUE?(this.giveTheCueTask=t,this.giveTheCueInfo=cP(this.giveTheCueTask)):this.geussTheAssociationsTask=t}setTask(t,e){this.tasks.has(t)||(this.tasks.set(t,{task:e,solved:!0}),this.solved=!0,this._submit=!0,this.allSubmitted=this.tasks.size===this.numberOfTasks)}getJSONformat(){return[...this.tasks.values()].map(t=>t.task.getJSON())}moveLeft(){this.qualificationIndex>1&&(this.qualificationIndex--,this.move())}moveRight(){this.qualificationIndex<this.numberOfTasks&&(this.qualificationIndex++,this.move())}move(){this.initQualification(this.qualificationIndex)}receivePersonalDetails(t){this.personalDetails=t}}function FM(t,e){1&t&&(i.Sb(0,"div",6),i.Fc(1," Please do the qualification test "),i.Sb(2,"b"),i.Fc(3,"only once"),i.Rb(),i.Fc(4,"."),i.Nb(5,"br"),i.Fc(6," You will need to solve Visual Associations. Check out our "),i.Sb(7,"a",7),i.Fc(8,"project website"),i.Rb(),i.Fc(9,", and try to solve the first example: Find two images associated with the word \u201cHoney\u201d! "),i.Nb(10,"br"),i.Nb(11,"br"),i.Fc(12," Make sure to "),i.Sb(13,"a",8),i.Fc(14,"exercise"),i.Rb(),i.Fc(15," before starting the qualification (Guess The Associations option). "),i.Nb(16,"br"),i.Nb(17,"br"),i.Fc(18," Full HITs will be published for annotators who pass the test."),i.Nb(19,"br"),i.Nb(20,"br"),i.Fc(21," Please send us an email with your worker ID when you finish the test: "),i.Sb(22,"a",9),i.Fc(23,"nlphuji@gmail.com"),i.Rb(),i.Fc(24,". "),i.Rb())}function LM(t,e){1&t&&(i.Sb(0,"div",6),i.Fc(1," Please do the qualification test "),i.Sb(2,"b"),i.Fc(3,"only once"),i.Rb(),i.Fc(4,"."),i.Nb(5,"br"),i.Fc(6," This time, your goal is to "),i.Sb(7,"b"),i.Fc(8,"create"),i.Rb(),i.Fc(9," visual associations that a rival AI cannot solve, but other humans can. You will need to compose a "),i.Sb(10,"b"),i.Fc(11,"new"),i.Rb(),i.Fc(12," cue for given images. "),i.Nb(13,"br"),i.Nb(14,"br"),i.Fc(15," The new cue should: "),i.Nb(16,"br"),i.Fc(17,"(1) fool an AI model (be creative and difficult)"),i.Nb(18,"br"),i.Fc(19," (2) still be solvable by other humans. "),i.Nb(20,"br"),i.Nb(21,"br"),i.Fc(22," Make sure to "),i.Sb(23,"a",8),i.Fc(24,"exercise"),i.Rb(),i.Fc(25," before starting the qualification (Give The Cue option). "),i.Nb(26,"br"),i.Nb(27,"br"),i.Fc(28," Full HITs will be published for annotators who pass the test. We will inform you by mail."),i.Nb(29,"br"),i.Nb(30,"br"),i.Fc(31," Please send us a message if anything is unclear: "),i.Sb(32,"a",9),i.Fc(33,"nlphuji@gmail.com"),i.Rb(),i.Fc(34,". "),i.Rb())}function VM(t,e){1&t&&(i.Sb(0,"div",6),i.Fc(1," Please do the qualification test "),i.Sb(2,"b"),i.Fc(3,"only once"),i.Rb(),i.Fc(4,"."),i.Nb(5,"br"),i.Fc(6," Your goal is to "),i.Sb(7,"b"),i.Fc(8,"create"),i.Rb(),i.Fc(9," visual associations that a rival AI cannot solve, but other humans can. You will need to compose a "),i.Sb(10,"b"),i.Fc(11,"new"),i.Rb(),i.Fc(12," cue for given images. "),i.Nb(13,"br"),i.Nb(14,"br"),i.Fc(15," The new cue should: "),i.Nb(16,"br"),i.Fc(17,"(1) fool an AI model (be creative and difficult)"),i.Nb(18,"br"),i.Fc(19," (2) still be solvable by other humans. "),i.Nb(20,"br"),i.Nb(21,"br"),i.Fc(22," Make sure to "),i.Sb(23,"a",8),i.Fc(24,"exercise"),i.Rb(),i.Fc(25," before starting the qualification (Give The Cue option). "),i.Nb(26,"br"),i.Nb(27,"br"),i.Fc(28," Full HITs will be published for annotators who pass the test. We will inform you by mail."),i.Nb(29,"br"),i.Nb(30,"br"),i.Fc(31," Please send us a message if anything is unclear: "),i.Sb(32,"a",9),i.Fc(33,"nlphuji@gmail.com"),i.Rb(),i.Fc(34,". "),i.Rb())}function UM(t,e){1&t&&(i.Sb(0,"div",6),i.Fc(1," Please do the qualification test "),i.Sb(2,"b"),i.Fc(3,"only once"),i.Rb(),i.Fc(4,"."),i.Nb(5,"br"),i.Fc(6," Your goal is to "),i.Sb(7,"b"),i.Fc(8,"create"),i.Rb(),i.Fc(9," visual associations that a rival AI cannot solve, but other humans can. You will need to compose a "),i.Sb(10,"b"),i.Fc(11,"new"),i.Rb(),i.Fc(12," cue for given images. "),i.Nb(13,"br"),i.Nb(14,"br"),i.Fc(15," The new cue should: "),i.Nb(16,"br"),i.Fc(17,"(1) fool an AI model (be creative and hard)"),i.Nb(18,"br"),i.Fc(19," (2) still be solvable by other humans ("),i.Sb(20,"u"),i.Fc(21,"we will send your associations to other annotators to solve"),i.Rb(),i.Fc(22,"). "),i.Nb(23,"br"),i.Nb(24,"br"),i.Fc(25," Make sure to "),i.Sb(26,"a",8),i.Fc(27,"exercise"),i.Rb(),i.Fc(28," before starting the qualification (Give The Cue option). "),i.Nb(29,"br"),i.Nb(30,"br"),i.Fc(31," Full HITs will be published for annotators who pass the test. We will inform you by mail."),i.Nb(32,"br"),i.Nb(33,"br"),i.Sb(34,"b"),i.Fc(35,"BONUS"),i.Rb(),i.Fc(36,": Given that 'solvable by human score' is above 80%, you will receive a bonus according to the 'fool-the-AI' score "),i.Sb(37,"b"),i.Fc(38,"for each of the associations you create"),i.Rb(),i.Fc(39,". "),i.Nb(40,"br"),i.Nb(41,"br"),i.Fc(42," If 50% <= fool-the-ai-score < 60%, you will receive 0.03$."),i.Nb(43,"br"),i.Fc(44," If 60% <= fool-the-ai-score < 67%, you will receive 0.07$."),i.Nb(45,"br"),i.Fc(46," If 67% <= fool-the-ai-score < 80%, you will receive 0.12$."),i.Nb(47,"br"),i.Fc(48," If 80% <= fool-the-ai-score, you will receive 0.18$."),i.Nb(49,"br"),i.Nb(50,"br"),i.Fc(51," The bonuses will be paid retroactively, because we'll need to compute a solver score ('solvable by human score') for the associations you create. "),i.Nb(52,"br"),i.Nb(53,"br"),i.Fc(54," Please send us a message if anything is unclear: "),i.Sb(55,"a",9),i.Fc(56,"nlphuji@gmail.com"),i.Rb(),i.Fc(57,". "),i.Rb())}function qM(t,e){1&t&&(i.Sb(0,"div",6),i.Fc(1," Please do the qualification test "),i.Sb(2,"b"),i.Fc(3,"only once"),i.Rb(),i.Fc(4,"."),i.Nb(5,"br"),i.Fc(6," Your goal is to "),i.Sb(7,"b"),i.Fc(8,"create"),i.Rb(),i.Fc(9," visual associations that a rival AI cannot solve, but other humans can. You will need to compose a "),i.Sb(10,"b"),i.Fc(11,"new"),i.Rb(),i.Fc(12," cue for given images. "),i.Nb(13,"br"),i.Nb(14,"br"),i.Fc(15," The new cue should: "),i.Nb(16,"br"),i.Sb(17,"b"),i.Fc(18,"(1) be solvable by other humans"),i.Rb(),i.Fc(19," ("),i.Sb(20,"u"),i.Fc(21,"we will send your associations to other annotators to solve"),i.Rb(),i.Fc(22,")."),i.Nb(23,"br"),i.Fc(24," (1) fool an AI model (be creative and hard) "),i.Nb(25,"br"),i.Nb(26,"br"),i.Fc(27," Make sure to "),i.Sb(28,"a",8),i.Fc(29,"exercise"),i.Rb(),i.Fc(30," before starting the qualification (Give The Cue option). "),i.Nb(31,"br"),i.Nb(32,"br"),i.Fc(33," Full HITs will be published for annotators who pass the test. We will inform you by mail."),i.Nb(34,"br"),i.Nb(35,"br"),i.Sb(36,"b"),i.Fc(37,"BONUS"),i.Rb(),i.Fc(38,": If 'solvable by human score' is above 90%, you will receive a bonus of 0.1$ "),i.Sb(39,"b"),i.Fc(40,"for each of the associations you create"),i.Rb(),i.Fc(41,". "),i.Nb(42,"br"),i.Nb(43,"br"),i.Fc(44," The bonuses will be paid retroactively, because we'll need to compute a solver score ('solvable by human score') for the associations you create. "),i.Nb(45,"br"),i.Nb(46,"br"),i.Fc(47," Please send us a message if anything is unclear: "),i.Sb(48,"a",9),i.Fc(49,"nlphuji@gmail.com"),i.Rb(),i.Fc(50,". "),i.Rb())}function BM(t,e){1&t&&(i.Sb(0,"div",6),i.Fc(1," Please do the qualification test "),i.Sb(2,"b"),i.Fc(3,"only once"),i.Rb(),i.Fc(4,"."),i.Nb(5,"br"),i.Fc(6," Your goal is to "),i.Sb(7,"b"),i.Fc(8,"create"),i.Rb(),i.Fc(9," visual associations that a rival AI cannot solve, but other humans can. You will need to compose a "),i.Sb(10,"b"),i.Fc(11,"new"),i.Rb(),i.Fc(12," cue for given images. "),i.Nb(13,"br"),i.Nb(14,"br"),i.Fc(15," The new cue should: "),i.Nb(16,"br"),i.Sb(17,"b"),i.Fc(18,"(1) fool an AI model (be creative and hard)"),i.Rb(),i.Nb(19,"br"),i.Fc(20," (2) still be solvable by other humans. "),i.Nb(21,"br"),i.Nb(22,"br"),i.Fc(23," Make sure to "),i.Sb(24,"a",8),i.Fc(25,"exercise"),i.Rb(),i.Fc(26," before starting the qualification (Give The Cue option). "),i.Nb(27,"br"),i.Nb(28,"br"),i.Fc(29," Full HITs will be published for annotators who pass the test. We will inform you by mail."),i.Nb(30,"br"),i.Nb(31,"br"),i.Sb(32,"b"),i.Fc(33,"BONUS"),i.Rb(),i.Fc(34,": You will receive a bonus according to the 'fool-the-AI' score "),i.Sb(35,"b"),i.Fc(36,"for each of the associations you create"),i.Rb(),i.Fc(37,". "),i.Nb(38,"br"),i.Nb(39,"br"),i.Fc(40," If 50% <= fool-the-ai-score < 60%, you will receive 0.03$."),i.Nb(41,"br"),i.Fc(42," If 60% <= fool-the-ai-score < 67%, you will receive 0.07$."),i.Nb(43,"br"),i.Fc(44," If 67% <= fool-the-ai-score < 80%, you will receive 0.12$."),i.Nb(45,"br"),i.Fc(46," If 80% <= fool-the-ai-score, you will receive 0.18$."),i.Nb(47,"br"),i.Nb(48,"br"),i.Fc(49," The bonuses will be paid retroactively. "),i.Nb(50,"br"),i.Nb(51,"br"),i.Fc(52," Please send us a message if anything is unclear: "),i.Sb(53,"a",9),i.Fc(54,"nlphuji@gmail.com"),i.Rb(),i.Fc(55,". "),i.Rb())}function HM(t,e){if(1&t&&(i.Sb(0,"mat-option",13),i.Fc(1),i.Rb()),2&t){const t=e.$implicit;i.ic("value",t.value),i.Ab(1),i.Hc(" ",t.viewValue," ")}}function zM(t,e){if(1&t&&(i.Sb(0,"mat-form-field",10),i.Sb(1,"mat-label"),i.Fc(2,"Age"),i.Rb(),i.Sb(3,"mat-select",11),i.Dc(4,HM,2,2,"mat-option",12),i.Rb(),i.Rb()),2&t){const t=i.dc();i.Ab(3),i.ic("formControlName","ages"),i.Ab(1),i.ic("ngForOf",t.ages)}}function WM(t,e){if(1&t&&(i.Sb(0,"mat-option",13),i.Fc(1),i.Rb()),2&t){const t=e.$implicit;i.ic("value",t.value),i.Ab(1),i.Hc(" ",t.viewValue," ")}}function GM(t,e){if(1&t&&(i.Sb(0,"mat-form-field",10),i.Sb(1,"mat-label"),i.Fc(2,"Gender"),i.Rb(),i.Sb(3,"mat-select",11),i.Dc(4,WM,2,2,"mat-option",12),i.Rb(),i.Rb()),2&t){const t=i.dc();i.Ab(3),i.ic("formControlName","gender"),i.Ab(1),i.ic("ngForOf",t.gender)}}function KM(t,e){if(1&t&&(i.Sb(0,"mat-option",13),i.Fc(1),i.Rb()),2&t){const t=e.$implicit;i.ic("value",t.value),i.Ab(1),i.Hc(" ",t.viewValue," ")}}function $M(t,e){if(1&t&&(i.Sb(0,"mat-form-field",10),i.Sb(1,"mat-label"),i.Fc(2,"Level of Education"),i.Rb(),i.Sb(3,"mat-select",11),i.Dc(4,KM,2,2,"mat-option",12),i.Rb(),i.Rb()),2&t){const t=i.dc();i.Ab(3),i.ic("formControlName","education"),i.Ab(1),i.ic("ngForOf",t.education)}}function YM(t,e){if(1&t&&(i.Sb(0,"mat-option",13),i.Fc(1),i.Rb()),2&t){const t=e.$implicit;i.ic("value",t.value),i.Ab(1),i.Hc(" ",t.viewValue," ")}}function QM(t,e){if(1&t&&(i.Sb(0,"mat-form-field",10),i.Sb(1,"mat-label"),i.Fc(2,"Are you a native English speaker?"),i.Rb(),i.Sb(3,"mat-select",11),i.Dc(4,YM,2,2,"mat-option",12),i.Rb(),i.Rb()),2&t){const t=i.dc();i.Ab(3),i.ic("formControlName","speaker"),i.Ab(1),i.ic("ngForOf",t.speaker)}}function ZM(t,e){1&t&&(i.Sb(0,"div",14),i.Sb(1,"button",15),i.Fc(2,"Submit"),i.Rb(),i.Rb())}function XM(t,e){if(1&t){const t=i.Tb();i.Sb(0,"div",14),i.Sb(1,"button",16),i.Zb("click",function(){return i.tc(t),i.dc().setInstructions()}),i.Fc(2,"OK"),i.Rb(),i.Rb()}}const JM=function(t){return{"instructions-form":t}};let tN=(()=>{class t{constructor(t){this.fb=t,this.personalDetails$=new i.n,this.isCreate=!1,this.experimentMode=MM.DEFAULT,this.skipPersonalDetails=!1,this.experimentModes=new Object(MM),this.ages=[...Array(101).keys()].slice(-93).map(t=>({value:t,viewValue:t})),this.gender=[{value:"female",viewValue:"Female"},{value:"male",viewValue:"Male"},{viewValue:"Non-binary",value:"non-binary"},{viewValue:"Transgender",value:"transgender"},{viewValue:"Intersex",value:"intersex"},{viewValue:"I prefer not to say",value:"None"}],this.education=[{value:"None",viewValue:"None"},{value:"ElementarySchool",viewValue:"Elementary School"},{value:"HighSchool",viewValue:"High School"},{value:"Bachelor",viewValue:"College or University Bachelor"},{value:"Master",viewValue:"College or University Master"}],this.speaker=[{value:"Native",viewValue:"Yes"},{value:"NoneNative",viewValue:"No"}],this.instructionsOk=!1,this.personalDetailsForm=this.fb.group({ages:["",gi.required],gender:["",gi.required],education:["",gi.required],speaker:["",gi.required]})}ngOnInit(){}onSubmit(t){this.personalDetailsForm.valid&&(this.personalDetails$.next(this.personalDetailsForm.value),console.log(this.personalDetailsForm.value))}setInstructions(){this.instructionsOk=!0,this.skipPersonalDetails&&this.personalDetails$.next({})}}return t.\u0275fac=function(e){return new(e||t)(i.Mb(Ar))},t.\u0275cmp=i.Gb({type:t,selectors:[["app-personal-details-form"]],inputs:{isCreate:"isCreate",experimentMode:"experimentMode",skipPersonalDetails:"skipPersonalDetails"},outputs:{personalDetails$:"personalDetails$"},decls:15,vars:16,consts:[[1,"personal-details-form-container"],[1,"personal-details-form",3,"ngClass"],[3,"formGroup","submit"],["class","instructions",4,"ngIf"],["appearance","fill",4,"ngIf"],["class","button-container",4,"ngIf"],[1,"instructions"],["href","https://winogavil.github.io/"],["href","https://winogavil.github.io/challenge-the-ai"],["href","mailto:nlphuji@gmail.com"],["appearance","fill"],[3,"formControlName"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"button-container"],["mat-raised-button",""],["mat-raised-button","",3,"click"]],template:function(t,e){1&t&&(i.Sb(0,"div",0),i.Sb(1,"div",1),i.Sb(2,"form",2),i.Zb("submit",function(t){return e.onSubmit(t)}),i.Dc(3,FM,25,0,"div",3),i.Dc(4,LM,35,0,"div",3),i.Dc(5,VM,35,0,"div",3),i.Dc(6,UM,58,0,"div",3),i.Dc(7,qM,51,0,"div",3),i.Dc(8,BM,56,0,"div",3),i.Dc(9,zM,5,2,"mat-form-field",4),i.Dc(10,GM,5,2,"mat-form-field",4),i.Dc(11,$M,5,2,"mat-form-field",4),i.Dc(12,QM,5,2,"mat-form-field",4),i.Dc(13,ZM,3,0,"div",5),i.Rb(),i.Dc(14,XM,3,0,"div",5),i.Rb(),i.Rb()),2&t&&(i.Ab(1),i.ic("ngClass",i.lc(14,JM,!e.instructionsOk)),i.Ab(1),i.ic("formGroup",e.personalDetailsForm),i.Ab(1),i.ic("ngIf",!e.instructionsOk&&!e.isCreate),i.Ab(1),i.ic("ngIf",!e.instructionsOk&&e.isCreate&&e.experimentMode===e.experimentModes.DEFAULT),i.Ab(1),i.ic("ngIf",!e.instructionsOk&&e.isCreate&&e.experimentMode===e.experimentModes.NO_REWARD),i.Ab(1),i.ic("ngIf",!e.instructionsOk&&e.isCreate&&e.experimentMode===e.experimentModes.RG),i.Ab(1),i.ic("ngIf",!e.instructionsOk&&e.isCreate&&e.experimentMode===e.experimentModes.ONLY_HUMAN),i.Ab(1),i.ic("ngIf",!e.instructionsOk&&e.isCreate&&e.experimentMode===e.experimentModes.ONLY_AI),i.Ab(1),i.ic("ngIf",e.instructionsOk),i.Ab(1),i.ic("ngIf",e.instructionsOk),i.Ab(1),i.ic("ngIf",e.instructionsOk),i.Ab(1),i.ic("ngIf",e.instructionsOk),i.Ab(1),i.ic("ngIf",e.instructionsOk),i.Ab(1),i.ic("ngIf",!e.instructionsOk))},directives:[I,wr,Pi,Tr,D,uh,th,BD,Ri,Er,R,wl,QD],styles:[".personal-details-form[_ngcontent-%COMP%]{max-height:555px!important;overflow-y:scroll}.mat-form-field[_ngcontent-%COMP%]{width:100%!important}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.instructions[_ngcontent-%COMP%]{color:#000;font-size:16px;padding-bottom:20px}@media (max-width:450px){.instructions-form[_ngcontent-%COMP%]{width:300px!important}.personal-details-form[_ngcontent-%COMP%]{top:50%!important}}@media (max-width:540px){  .mat-select-panel{width:300px!important;min-width:300px!important}  .cdk-overlay-pane{transform:translateX(-42px) translateY(-55px)!important}}.instructions-form[_ngcontent-%COMP%]{width:415px}"]}),t})();function eN(t,e){if(1&t){const t=i.Tb();i.Sb(0,"app-personal-details-form",7),i.Zb("personalDetails$",function(e){return i.tc(t),i.dc().receivePersonalDetails(e)}),i.Rb()}if(2&t){const t=i.dc();i.ic("isCreate",!0)("experimentMode",t.experimentMode)("skipPersonalDetails",t.skipPersonalDetails)}}const nN=function(t){return{submitted:t}};function iN(t,e){if(1&t){const t=i.Tb();i.Sb(0,"button",20),i.Zb("click",function(){return i.tc(t),i.dc(2).submit()}),i.Fc(1),i.Rb()}if(2&t){const t=i.dc(2);i.ic("ngClass",i.lc(2,nN,t._submit)),i.Ab(1),i.Hc(" ",t.requestAIResults?"Test AI":"Enter"," ")}}function rN(t,e){if(1&t){const t=i.Tb();i.Sb(0,"button",14),i.Zb("click",function(){return i.tc(t),i.dc(2).SubmitHIT()}),i.Fc(1),i.Rb()}if(2&t){const t=i.dc(2);i.ic("disabled",t.hitSubmitted),i.Ab(1),i.Hc(" ","Submit HIT","")}}const oN=function(t){return{"content-center-six":t}},sN=function(t,e,n){return{"background-color":t,visibility:e,color:n}},aN=function(t){return{"test-me-container-six":t}},cN=function(t){return{"no-clue":t}};function uN(t,e){if(1&t){const t=i.Tb();i.Sb(0,"div",8),i.Sb(1,"div",9),i.Sb(2,"div",10),i.Fc(3),i.Rb(),i.Sb(4,"div",11),i.Nb(5,"app-task-board",12),i.Sb(6,"div",13),i.Sb(7,"button",14),i.Zb("click",function(){return i.tc(t),i.dc().moveLeft()}),i.Nb(8,"li",15),i.Rb(),i.Dc(9,iN,2,4,"button",16),i.Dc(10,rN,2,2,"button",17),i.Sb(11,"button",14),i.Zb("click",function(){return i.tc(t),i.dc().moveRight()}),i.Nb(12,"li",18),i.Rb(),i.Rb(),i.Sb(13,"div",19),i.Fc(14),i.Rb(),i.Rb(),i.Rb(),i.Rb()}if(2&t){const t=i.dc();i.Ab(1),i.ic("ngClass",i.lc(17,oN,t.isSixCandidates)),i.Ab(1),i.zc(i.nc(19,sN,t.responseBackgroundColor,t.responseBackgroundColor?"visible":"hidden",t.responseTextColor)),i.Ab(1),i.Hc(" ",t.hint," "),i.Ab(2),i.ic("giveCueTask",t.giveTheCueTask)("enablePointer",!1)("testMode",t.gameMode)("submit",t._submit)("AIRequest",t.requestAIResults)("info",t.giveTheCueInfo),i.Ab(1),i.ic("ngClass",i.lc(23,aN,t.isSixCandidates)),i.Ab(1),i.ic("disabled",1===t.qualificationIndex||t.inProgress||t.hitSubmitted),i.Ab(2),i.ic("ngIf",!t.allSubmitted),i.Ab(1),i.ic("ngIf",t.allSubmitted),i.Ab(1),i.ic("disabled",t.qualificationIndex===t.numberOfTasks||!t.solved||t.hitSubmitted),i.Ab(2),i.ic("ngClass",i.lc(25,cN,""===t.hint||t.responseBackgroundColor)),i.Ab(1),i.Hc(" ",t.hint," ")}}let lN=(()=>{class t extends jM{constructor(t,e,n,i,r){var o,s,a,c,u,l;super(r,Ec.GIVE_THE_CUE),this.router=t,this.activeRouter=e,this.changeDetectorRef=n,this.dialog=i,this.serverRequestService=r,this.hint="",this.date=new Date,this.answers=new Map,this.gameMode=!0,this.practiceMode=!1,this._submit=!1,this.inProgress=!1,this.timerSubscription=new Do.a,this.responseBackgroundColor="",this.responseTextColor="",this.requestAIResults=!0,window.name="WinoGAViL",this.turkSubmitTo=null===(s=null===(o=this.activeRouter.snapshot)||void 0===o?void 0:o.queryParams)||void 0===s?void 0:s.turkSubmitTo,this.assignmentId=null===(c=null===(a=this.activeRouter.snapshot)||void 0===a?void 0:a.queryParams)||void 0===c?void 0:c.assignmentId,this.experimentMode=NM(this.activeRouter.snapshot.url[2].path),this.experimentMode!==MM.DEFAULT&&"ai"!==(null===(l=null===(u=this.activeRouter.snapshot.url[3])||void 0===u?void 0:u.path)||void 0===l?void 0:l.toLowerCase())&&(this.requestAIResults=!1),this.initQualification(this.qualificationIndex),console.log(this.experimentMode),console.log(this.turkSubmitTo),console.log(this.assignmentId),console.log(this.activeRouter.snapshot)}ngOnInit(){this.changeDetectorRef.detectChanges(),document.getElementsByTagName("body")[0].classList.add("index-page"),window.scroll({top:0,left:0,behavior:"smooth"})}ngOnDestroy(){document.getElementsByTagName("body")[0].classList.remove("index-page")}restartPractice(){var t;this._submit=!1,this.showHint(""),null===(t=this.giveTheCueTask)||void 0===t||t.init()}submit(){var t,e;this._submit=null===(t=this.giveTheCueTask)||void 0===t?void 0:t.isTaskSolved(),this._submit?(this.inProgress=!0,this.requestAIResults?(this.showHint("Waiting for AI prediction",Math.pow(10,10)),this.giveTheCueTask.getFilteredScore().subscribe(t=>{this.showAIScore(t),this.inProgress=!1,this.setTask("qualification-"+this.qualificationIndex,this.giveTheCueTask)}),this.serverRequestService.getAIPrediction(this.giveTheCueTask)):(this.inProgress=!1,this.setTask("qualification-"+this.qualificationIndex,this.giveTheCueTask))):this.showHint(null===(e=this.giveTheCueTask)||void 0===e?void 0:e.getHint())}SubmitHIT(){this.hitSubmitted=!0,this.handleSubmit(this.assignmentId,this.turkSubmitTo,{tasks:this.getJSONformat(),personalDetails:this.personalDetails})}showHint(t,e=3e3,n="",i="black"){this.hint=t,this.responseTextColor=i,this.responseBackgroundColor=n,this.timerSubscription.unsubscribe(),this.timerSubscription=ph(e).subscribe(()=>{this.hint="",this.responseBackgroundColor="",this.responseTextColor="black"})}}return t.\u0275fac=function(e){return new(e||t)(i.Mb(oc),i.Mb(qs),i.Mb(i.h),i.Mb(wD),i.Mb(oP))},t.\u0275cmp=i.Gb({type:t,selectors:[["app-mturk-create-qualification"]],features:[i.xb],decls:9,vars:2,consts:[[1,"wrapper"],[1,"page-header","header-filter"],[3,"isCreate","experimentMode","skipPersonalDetails","personalDetails$",4,"ngIf"],["class","container center-container",4,"ngIf"],[1,"footer"],[1,"container"],[1,"footer-row"],[3,"isCreate","experimentMode","skipPersonalDetails","personalDetails$"],[1,"container","center-container"],[1,"content-center","brand",3,"ngClass"],[1,"label","hint","guess-clue-hint"],[1,"task-container"],[1,"analogies-board",3,"giveCueTask","enablePointer","testMode","submit","AIRequest","info"],[1,"test-me-container",3,"ngClass"],[1,"btn","btn-neutral","btn-big",3,"disabled","click"],[1,"fas","fa-arrow-left"],["class","btn btn-neutral btn-big",3,"ngClass","click",4,"ngIf"],["class","btn btn-neutral btn-big",3,"disabled","click",4,"ngIf"],[1,"fas","fa-arrow-right"],[1,"label","hint",3,"ngClass"],[1,"btn","btn-neutral","btn-big",3,"ngClass","click"]],template:function(t,e){1&t&&(i.Sb(0,"div",0),i.Sb(1,"div",1),i.Dc(2,eN,1,3,"app-personal-details-form",2),i.Dc(3,uN,15,27,"div",3),i.Rb(),i.Sb(4,"footer",4),i.Sb(5,"div",5),i.Sb(6,"div",6),i.Sb(7,"a"),i.Fc(8,"Maintained by Ron Yosef"),i.Rb(),i.Rb(),i.Rb(),i.Rb(),i.Rb()),2&t&&(i.Ab(2),i.ic("ngIf",!e.personalDetails),i.Ab(1),i.ic("ngIf",e.giveTheCueTask))},directives:[D,tN,I,Kh],styles:["h1[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{color:#4d5568!important}.stat-label[_ngcontent-%COMP%]{font-size:2rem;font-weight:700}.stat-description[_ngcontent-%COMP%], .stat-label[_ngcontent-%COMP%]{text-align:center}.abstract[_ngcontent-%COMP%]{display:flex;justify-content:center}.abstract[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{height:16rem}.content-center[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;padding-top:2.5rem}.page-header[_ngcontent-%COMP%]{max-height:-webkit-max-content!important;max-height:-moz-max-content!important;max-height:max-content!important}.sub-title[_ngcontent-%COMP%]{font-size:2rem}@media (max-width:800px){.explore-nav[_ngcontent-%COMP%]{justify-content:center}}@media (max-width:500px){.results-nav[_ngcontent-%COMP%]{width:85vw;overflow-y:scroll}}@media (max-width:760px){.test-nav[_ngcontent-%COMP%]{width:100%!important}}.test-nav[_ngcontent-%COMP%]{width:40%;justify-content:space-between;align-items:center;display:flex;padding-top:1rem}.btn-neutral[_ngcontent-%COMP%]{background:rgba(250,177,180,.3607843137254902)!important;color:#222a42!important}.btn-neutral[_ngcontent-%COMP%]:hover{background:rgba(250,177,180,.6509803921568628)!important}@media (max-width:400px){.test-me-container[_ngcontent-%COMP%]{flex-direction:column}}.test-me-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;width:400px;padding-bottom:20px}.example-label[_ngcontent-%COMP%]{width:125%;padding-bottom:2.2rem}.explore-nav[_ngcontent-%COMP%]{width:100%;justify-content:space-between;align-items:center;display:flex;flex-wrap:wrap;padding-bottom:5rem}.practice-box[_ngcontent-%COMP%]{width:45%;height:300px}.got-it-container[_ngcontent-%COMP%], .practice-box[_ngcontent-%COMP%]{box-shadow:0 .5rem 1rem rgba(0,0,0,.15)}.got-it-container[_ngcontent-%COMP%]{width:400px;height:180px}.got-it-title[_ngcontent-%COMP%]{color:#fd969e!important}.practice-text[_ngcontent-%COMP%], .practice-title[_ngcontent-%COMP%]{color:#222a42!important}.got-it-container[_ngcontent-%COMP%], .practice-title[_ngcontent-%COMP%]{padding:20px;font-size:24px}.practice-title[_ngcontent-%COMP%]{font-weight:700}.got-it-container[_ngcontent-%COMP%], .practice-text[_ngcontent-%COMP%], .task-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column}.hint[_ngcontent-%COMP%]{color:#000;height:1.7rem;width:100%;font-size:1.2rem}.guess-clue-hint[_ngcontent-%COMP%]{color:#000;width:100%;height:60px;font-size:20px;border-radius:5px;display:flex;justify-content:center;align-items:center;font-weight:700}.no-clue[_ngcontent-%COMP%]{visibility:hidden!important}.submitted[_ngcontent-%COMP%]{pointer-events:none}.text-row[_ngcontent-%COMP%]{padding:20px;color:#222a42!important;font-size:.875rem}.main-label[_ngcontent-%COMP%]{font-weight:600;text-transform:none!important;font-size:4rem;color:#fd969e!important}.main-description[_ngcontent-%COMP%]{font-size:1rem;color:#222a42!important;padding-bottom:3rem}.padding-bottom[_ngcontent-%COMP%]{padding-bottom:5rem}.selected-button[_ngcontent-%COMP%]{-webkit-transform:translateY(-1px);background:rgba(250,177,180,.8196078431372549)!important}.disabled-button[_ngcontent-%COMP%], .disabled-button[_ngcontent-%COMP%]:hover{-webkit-transform:translateY(-1px);background:rgba(250,177,180,.1803921568627451)!important}.fas-big[_ngcontent-%COMP%]{font-size:2.5rem;color:#fd969e!important;display:inline-block;cursor:pointer}.task-container[_ngcontent-%COMP%]     .btn-big{font-size:1.5rem}.wrong-answer[_ngcontent-%COMP%], .wrong-answer[_ngcontent-%COMP%]:active   .wrong-answer[_ngcontent-%COMP%]:target, .wrong-answer[_ngcontent-%COMP%]:focus, .wrong-answer[_ngcontent-%COMP%]:hover, .wrong-answer[_ngcontent-%COMP%]:visited{background:rgba(255,60,60,.8784313725490196)!important;transform:none!important}.correct-answer[_ngcontent-%COMP%], .correct-answer[_ngcontent-%COMP%]:active, .correct-answer[_ngcontent-%COMP%]:focus, .correct-answer[_ngcontent-%COMP%]:hover, .correct-answer[_ngcontent-%COMP%]:target, .correct-answer[_ngcontent-%COMP%]:visited{background:rgba(99,255,60,.8784313725490196)!important;transform:none!important}.bs-tooltip-top[_ngcontent-%COMP%]{background:#0bf!important}.tooltip-inner[_ngcontent-%COMP%]{font-size:1rem!important}"]}),t})();function hN(t,e){if(1&t){const t=i.Tb();i.Sb(0,"app-personal-details-form",7),i.Zb("personalDetails$",function(e){return i.tc(t),i.dc().receivePersonalDetails(e)}),i.Rb()}}const dN=function(t){return{submitted:t}};function fN(t,e){if(1&t){const t=i.Tb();i.Sb(0,"button",19),i.Zb("click",function(){return i.tc(t),i.dc(2).submit()}),i.Fc(1),i.Rb()}if(2&t){const t=i.dc(2);i.ic("ngClass",i.lc(3,dN,t._submit))("disabled",t.solved),i.Ab(1),i.Hc(" ","Submit"," ")}}function pN(t,e){if(1&t){const t=i.Tb();i.Sb(0,"button",13),i.Zb("click",function(){return i.tc(t),i.dc(2).SubmitHIT()}),i.Fc(1),i.Rb()}if(2&t){const t=i.dc(2);i.ic("disabled",t.hitSubmitted),i.Ab(1),i.Hc(" ","Submit HIT","")}}const gN=function(t){return{"content-center-six":t}},mN=function(t){return{"test-me-container-six":t}},bN=function(t){return{"no-clue":t}};function _N(t,e){if(1&t){const t=i.Tb();i.Sb(0,"div",8),i.Sb(1,"div",9),i.Sb(2,"div",10),i.Nb(3,"app-task-board",11),i.Sb(4,"div",12),i.Sb(5,"button",13),i.Zb("click",function(){return i.tc(t),i.dc().moveLeft()}),i.Nb(6,"li",14),i.Rb(),i.Dc(7,fN,2,5,"button",15),i.Dc(8,pN,2,2,"button",16),i.Sb(9,"button",13),i.Zb("click",function(){return i.tc(t),i.dc().moveRight()}),i.Nb(10,"li",17),i.Rb(),i.Rb(),i.Sb(11,"div",18),i.Fc(12),i.Rb(),i.Rb(),i.Rb(),i.Rb()}if(2&t){const t=i.dc();i.Ab(1),i.ic("ngClass",i.lc(14,gN,t.isSixCandidates)),i.Ab(2),i.ic("guessTheAssociationsTask",t.geussTheAssociationsTask)("enablePointer",!1)("testMode",!0)("submit",t._submit)("disableSolutionIcons",!0)("info","Several images are presented below. \n A cue word and number of associated images are given. \n                     Choose the images that best associates with the cue word."),i.Ab(1),i.ic("ngClass",i.lc(16,mN,t.isSixCandidates)),i.Ab(1),i.ic("disabled",1===t.qualificationIndex||t.hitSubmitted),i.Ab(2),i.ic("ngIf",!t.allSubmitted),i.Ab(1),i.ic("ngIf",t.allSubmitted),i.Ab(1),i.ic("disabled",t.qualificationIndex===t.numberOfTasks||!t.solved||t.hitSubmitted),i.Ab(2),i.ic("ngClass",i.lc(18,bN,""===t.hint)),i.Ab(1),i.Hc(" ",t.hint," ")}}let vN=(()=>{class t extends jM{constructor(t,e,n,i){var r,o,s,a;super(i,Ec.GUESS_THE_ASSOCIATIONS_TASK),this.router=t,this.activeRouter=e,this.changeDetectorRef=n,this.serverRequest=i,this.hint="",this.date=new Date,this.answers=new Map,this._submit=!1,this.timerSubscription=new Do.a,window.name="WinoGAViL",this.turkSubmitTo=null===(o=null===(r=this.activeRouter.snapshot)||void 0===r?void 0:r.queryParams)||void 0===o?void 0:o.turkSubmitTo,this.assignmentId=null===(a=null===(s=this.activeRouter.snapshot)||void 0===s?void 0:s.queryParams)||void 0===a?void 0:a.assignmentId,this.experimentMode=NM(this.activeRouter.snapshot.url[2].path),this.initQualification(this.qualificationIndex),console.log(this.experimentMode),console.log(this.turkSubmitTo),console.log(this.assignmentId),console.log(this.activeRouter.snapshot)}ngOnInit(){this.changeDetectorRef.detectChanges(),document.getElementsByTagName("body")[0].classList.add("index-page"),window.scroll({top:0,left:0,behavior:"smooth"})}ngOnDestroy(){document.getElementsByTagName("body")[0].classList.remove("index-page")}SubmitHIT(){this.hitSubmitted=!0,this.handleSubmit(this.assignmentId,this.turkSubmitTo,{tasks:this.getJSONformat(),personalDetails:this.personalDetails})}submit(){var t;this._submit=this.geussTheAssociationsTask.isTaskSolved(!0),this._submit?this.setTask("qualification-"+this.qualificationIndex,this.geussTheAssociationsTask):this.showHint(null===(t=this.geussTheAssociationsTask)||void 0===t?void 0:t.getHint())}showHint(t,e=3e3){this.hint=t,this.timerSubscription.unsubscribe(),this.timerSubscription=ph(e).subscribe(()=>{this.hint=""})}}return t.\u0275fac=function(e){return new(e||t)(i.Mb(oc),i.Mb(qs),i.Mb(i.h),i.Mb(oP))},t.\u0275cmp=i.Gb({type:t,selectors:[["app-mturk-solve-qualification"]],features:[i.xb],decls:9,vars:2,consts:[[1,"wrapper"],[1,"page-header","header-filter"],[3,"personalDetails$",4,"ngIf"],["class","container center-container",4,"ngIf"],[1,"footer"],[1,"container"],[1,"footer-row"],[3,"personalDetails$"],[1,"container","center-container"],[1,"content-center","brand",3,"ngClass"],[1,"task-container"],[1,"analogies-board",3,"guessTheAssociationsTask","enablePointer","testMode","submit","disableSolutionIcons","info"],[1,"test-me-container",3,"ngClass"],[1,"btn","btn-neutral","btn-big",3,"disabled","click"],[1,"fas","fa-arrow-left"],["class","btn btn-neutral btn-big",3,"ngClass","disabled","click",4,"ngIf"],["class","btn btn-neutral btn-big",3,"disabled","click",4,"ngIf"],[1,"fas","fa-arrow-right"],[1,"label","hint",3,"ngClass"],[1,"btn","btn-neutral","btn-big",3,"ngClass","disabled","click"]],template:function(t,e){1&t&&(i.Sb(0,"div",0),i.Sb(1,"div",1),i.Dc(2,hN,1,0,"app-personal-details-form",2),i.Dc(3,_N,13,20,"div",3),i.Rb(),i.Sb(4,"footer",4),i.Sb(5,"div",5),i.Sb(6,"div",6),i.Sb(7,"a"),i.Fc(8,"Maintained by Ron Yosef"),i.Rb(),i.Rb(),i.Rb(),i.Rb(),i.Rb()),2&t&&(i.Ab(2),i.ic("ngIf",!e.personalDetails),i.Ab(1),i.ic("ngIf",e.geussTheAssociationsTask))},directives:[D,tN,I,Kh],styles:["h1[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{color:#4d5568!important}.stat-label[_ngcontent-%COMP%]{font-size:2rem;font-weight:700}.stat-description[_ngcontent-%COMP%], .stat-label[_ngcontent-%COMP%]{text-align:center}.abstract[_ngcontent-%COMP%]{display:flex;justify-content:center}.abstract[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{height:16rem}.content-center[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;padding-top:2.5rem}.page-header[_ngcontent-%COMP%]{max-height:-webkit-max-content!important;max-height:-moz-max-content!important;max-height:max-content!important}.sub-title[_ngcontent-%COMP%]{font-size:2rem}@media (max-width:800px){.explore-nav[_ngcontent-%COMP%]{justify-content:center}}@media (max-width:500px){.results-nav[_ngcontent-%COMP%]{width:85vw;overflow-y:scroll}}@media (max-width:760px){.test-nav[_ngcontent-%COMP%]{width:100%!important}}.test-nav[_ngcontent-%COMP%]{width:40%;justify-content:space-between;align-items:center;display:flex;padding-top:1rem}.btn-neutral[_ngcontent-%COMP%]{background:rgba(250,177,180,.3607843137254902)!important;color:#222a42!important}.btn-neutral[_ngcontent-%COMP%]:hover{background:rgba(250,177,180,.6509803921568628)!important}@media (max-width:400px){.test-me-container[_ngcontent-%COMP%]{flex-direction:column}}.test-me-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;width:400px;padding-bottom:20px}.example-label[_ngcontent-%COMP%]{width:125%;padding-bottom:2.2rem}.explore-nav[_ngcontent-%COMP%]{width:100%;justify-content:space-between;align-items:center;display:flex;flex-wrap:wrap;padding-bottom:5rem}.practice-box[_ngcontent-%COMP%]{width:45%;height:300px}.got-it-container[_ngcontent-%COMP%], .practice-box[_ngcontent-%COMP%]{box-shadow:0 .5rem 1rem rgba(0,0,0,.15)}.got-it-container[_ngcontent-%COMP%]{width:400px;height:180px}.got-it-title[_ngcontent-%COMP%]{color:#fd969e!important}.practice-text[_ngcontent-%COMP%], .practice-title[_ngcontent-%COMP%]{color:#222a42!important}.got-it-container[_ngcontent-%COMP%], .practice-title[_ngcontent-%COMP%]{padding:20px;font-size:24px}.practice-title[_ngcontent-%COMP%]{font-weight:700}.got-it-container[_ngcontent-%COMP%], .practice-text[_ngcontent-%COMP%], .task-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column}.hint[_ngcontent-%COMP%]{color:#000;height:1.7rem;width:100%;font-size:1.2rem}.guess-clue-hint[_ngcontent-%COMP%]{color:#000;width:100%;height:60px;font-size:20px;border-radius:5px;display:flex;justify-content:center;align-items:center;font-weight:700}.no-clue[_ngcontent-%COMP%]{visibility:hidden!important}.submitted[_ngcontent-%COMP%]{pointer-events:none}.text-row[_ngcontent-%COMP%]{padding:20px;color:#222a42!important;font-size:.875rem}.main-label[_ngcontent-%COMP%]{font-weight:600;text-transform:none!important;font-size:4rem;color:#fd969e!important}.main-description[_ngcontent-%COMP%]{font-size:1rem;color:#222a42!important;padding-bottom:3rem}.padding-bottom[_ngcontent-%COMP%]{padding-bottom:5rem}.selected-button[_ngcontent-%COMP%]{-webkit-transform:translateY(-1px);background:rgba(250,177,180,.8196078431372549)!important}.disabled-button[_ngcontent-%COMP%], .disabled-button[_ngcontent-%COMP%]:hover{-webkit-transform:translateY(-1px);background:rgba(250,177,180,.1803921568627451)!important}.fas-big[_ngcontent-%COMP%]{font-size:2.5rem;color:#fd969e!important;display:inline-block;cursor:pointer}.task-container[_ngcontent-%COMP%]     .btn-big{font-size:1.5rem}.wrong-answer[_ngcontent-%COMP%], .wrong-answer[_ngcontent-%COMP%]:active   .wrong-answer[_ngcontent-%COMP%]:target, .wrong-answer[_ngcontent-%COMP%]:focus, .wrong-answer[_ngcontent-%COMP%]:hover, .wrong-answer[_ngcontent-%COMP%]:visited{background:rgba(255,60,60,.8784313725490196)!important;transform:none!important}.correct-answer[_ngcontent-%COMP%], .correct-answer[_ngcontent-%COMP%]:active, .correct-answer[_ngcontent-%COMP%]:focus, .correct-answer[_ngcontent-%COMP%]:hover, .correct-answer[_ngcontent-%COMP%]:target, .correct-answer[_ngcontent-%COMP%]:visited{background:rgba(99,255,60,.8784313725490196)!important;transform:none!important}.bs-tooltip-top[_ngcontent-%COMP%]{background:#0bf!important}.tooltip-inner[_ngcontent-%COMP%]{font-size:1rem!important}"]}),t})();var yN=n("WMd4");class wN{constructor(t,e){this.delay=t,this.scheduler=e}call(t,e){return e.subscribe(new CN(t,this.delay,this.scheduler))}}class CN extends Lr.a{constructor(t,e,n){super(t),this.delay=e,this.scheduler=n,this.queue=[],this.active=!1,this.errored=!1}static dispatch(t){const e=t.source,n=e.queue,i=t.scheduler,r=t.destination;for(;n.length>0&&n[0].time-i.now()<=0;)n.shift().notification.observe(r);if(n.length>0){const e=Math.max(0,n[0].time-i.now());this.schedule(t,e)}else this.unsubscribe(),e.active=!1}_schedule(t){this.active=!0,this.destination.add(t.schedule(CN.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))}scheduleNotification(t){if(!0===this.errored)return;const e=this.scheduler,n=new SN(e.now()+this.delay,t);this.queue.push(n),!1===this.active&&this._schedule(e)}_next(t){this.scheduleNotification(yN.a.createNext(t))}_error(t){this.errored=!0,this.queue=[],this.destination.error(t),this.unsubscribe()}_complete(){this.scheduleNotification(yN.a.createComplete()),this.unsubscribe()}}class SN{constructor(t,e){this.time=t,this.notification=e}}const kN=["input"],ON=function(){return{enterDuration:150}},TN=["*"],xN=new i.q("mat-checkbox-default-options",{providedIn:"root",factory:EN});function EN(){return{color:"accent",clickAction:"check-indeterminate"}}let IN=0;const AN=EN(),RN={provide:ri,useExisting:Object(i.U)(()=>NN),multi:!0};class PN{}class DN{constructor(t){this._elementRef=t}}const MN=Zu(Yu(Qu($u(DN))));let NN=(()=>{class t extends MN{constructor(t,e,n,r,o,s,a){super(t),this._changeDetectorRef=e,this._focusMonitor=n,this._ngZone=r,this._animationMode=s,this._options=a,this.ariaLabel="",this.ariaLabelledby=null,this._uniqueId="mat-checkbox-"+ ++IN,this.id=this._uniqueId,this.labelPosition="after",this.name=null,this.change=new i.n,this.indeterminateChange=new i.n,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=0,this._controlValueAccessorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||AN,this.color=this.defaultColor=this._options.color||AN.color,this.tabIndex=parseInt(o)||0}get inputId(){return(this.id||this._uniqueId)+"-input"}get required(){return this._required}set required(t){this._required=nu(t)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{t||Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}),this._syncIndeterminate(this._indeterminate)}ngAfterViewChecked(){}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}get checked(){return this._checked}set checked(t){t!=this.checked&&(this._checked=t,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(t){const e=nu(t);e!==this.disabled&&(this._disabled=e,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(t){const e=t!=this._indeterminate;this._indeterminate=nu(t),e&&(this._transitionCheckState(this._indeterminate?3:this.checked?1:2),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(t){this.checked=!!t}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t}_getAriaChecked(){return this.checked?"true":this.indeterminate?"mixed":"false"}_transitionCheckState(t){let e=this._currentCheckState,n=this._elementRef.nativeElement;if(e!==t&&(this._currentAnimationClass.length>0&&n.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(e,t),this._currentCheckState=t,this._currentAnimationClass.length>0)){n.classList.add(this._currentAnimationClass);const t=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{n.classList.remove(t)},1e3)})}}_emitChangeEvent(){const t=new PN;t.source=this,t.checked=this.checked,this._controlValueAccessorChangeFn(this.checked),this.change.emit(t)}toggle(){this.checked=!this.checked}_onInputClick(t){var e;const n=null===(e=this._options)||void 0===e?void 0:e.clickAction;t.stopPropagation(),this.disabled||"noop"===n?this.disabled||"noop"!==n||(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==n&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this.toggle(),this._transitionCheckState(this._checked?1:2),this._emitChangeEvent())}focus(t="keyboard",e){this._focusMonitor.focusVia(this._inputElement,t,e)}_onInteractionEvent(t){t.stopPropagation()}_getAnimationClassForCheckStateTransition(t,e){if("NoopAnimations"===this._animationMode)return"";let n="";switch(t){case 0:if(1===e)n="unchecked-checked";else{if(3!=e)return"";n="unchecked-indeterminate"}break;case 2:n=1===e?"unchecked-checked":"unchecked-indeterminate";break;case 1:n=2===e?"checked-unchecked":"checked-indeterminate";break;case 3:n=1===e?"indeterminate-checked":"indeterminate-unchecked"}return"mat-checkbox-anim-"+n}_syncIndeterminate(t){const e=this._inputElement;e&&(e.nativeElement.indeterminate=t)}}return t.\u0275fac=function(e){return new(e||t)(i.Mb(i.l),i.Mb(i.h),i.Mb(Nu),i.Mb(i.z),i.Xb("tabindex"),i.Mb(Yn,8),i.Mb(xN,8))},t.\u0275cmp=i.Gb({type:t,selectors:[["mat-checkbox"]],viewQuery:function(t,e){if(1&t&&(i.Ic(kN,!0),i.Ic(al,!0)),2&t){let t;i.qc(t=i.ac())&&(e._inputElement=t.first),i.qc(t=i.ac())&&(e.ripple=t.first)}},hostAttrs:[1,"mat-checkbox"],hostVars:12,hostBindings:function(t,e){2&t&&(i.Vb("id",e.id),i.Bb("tabindex",null),i.Eb("mat-checkbox-indeterminate",e.indeterminate)("mat-checkbox-checked",e.checked)("mat-checkbox-disabled",e.disabled)("mat-checkbox-label-before","before"==e.labelPosition)("_mat-animation-noopable","NoopAnimations"===e._animationMode))},inputs:{disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],id:"id",labelPosition:"labelPosition",name:"name",required:"required",checked:"checked",disabled:"disabled",indeterminate:"indeterminate",ariaDescribedby:["aria-describedby","ariaDescribedby"],value:"value"},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],features:[i.zb([RN]),i.xb],ngContentSelectors:TN,decls:17,vars:20,consts:[[1,"mat-checkbox-layout"],["label",""],[1,"mat-checkbox-inner-container"],["type","checkbox",1,"mat-checkbox-input","cdk-visually-hidden",3,"id","required","checked","disabled","tabIndex","change","click"],["input",""],["matRipple","",1,"mat-checkbox-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleRadius","matRippleCentered","matRippleAnimation"],[1,"mat-ripple-element","mat-checkbox-persistent-ripple"],[1,"mat-checkbox-frame"],[1,"mat-checkbox-background"],["version","1.1","focusable","false","viewBox","0 0 24 24",0,"xml","space","preserve",1,"mat-checkbox-checkmark"],["fill","none","stroke","white","d","M4.1,12.7 9,17.6 20.3,6.3",1,"mat-checkbox-checkmark-path"],[1,"mat-checkbox-mixedmark"],[1,"mat-checkbox-label",3,"cdkObserveContent"],["checkboxLabel",""],[2,"display","none"]],template:function(t,e){if(1&t&&(i.hc(),i.Sb(0,"label",0,1),i.Sb(2,"span",2),i.Sb(3,"input",3,4),i.Zb("change",function(t){return e._onInteractionEvent(t)})("click",function(t){return e._onInputClick(t)}),i.Rb(),i.Sb(5,"span",5),i.Nb(6,"span",6),i.Rb(),i.Nb(7,"span",7),i.Sb(8,"span",8),i.cc(),i.Sb(9,"svg",9),i.Nb(10,"path",10),i.Rb(),i.bc(),i.Nb(11,"span",11),i.Rb(),i.Rb(),i.Sb(12,"span",12,13),i.Zb("cdkObserveContent",function(){return e._onLabelTextChange()}),i.Sb(14,"span",14),i.Fc(15,"\xa0"),i.Rb(),i.gc(16),i.Rb(),i.Rb()),2&t){const t=i.rc(1),n=i.rc(13);i.Bb("for",e.inputId),i.Ab(2),i.Eb("mat-checkbox-inner-container-no-side-margin",!n.textContent||!n.textContent.trim()),i.Ab(1),i.ic("id",e.inputId)("required",e.required)("checked",e.checked)("disabled",e.disabled)("tabIndex",e.tabIndex),i.Bb("value",e.value)("name",e.name)("aria-label",e.ariaLabel||null)("aria-labelledby",e.ariaLabelledby)("aria-checked",e._getAriaChecked())("aria-describedby",e.ariaDescribedby),i.Ab(2),i.ic("matRippleTrigger",t)("matRippleDisabled",e._isRippleDisabled())("matRippleRadius",20)("matRippleCentered",!0)("matRippleAnimation",i.kc(19,ON))}},directives:[al,lu],styles:["@keyframes mat-checkbox-fade-in-background{0%{opacity:0}50%{opacity:1}}@keyframes mat-checkbox-fade-out-background{0%,50%{opacity:1}100%{opacity:0}}@keyframes mat-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:22.910259}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1)}100%{stroke-dashoffset:0}}@keyframes mat-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mat-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);stroke-dashoffset:0}to{stroke-dashoffset:-22.910259}}@keyframes mat-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(45deg)}}@keyframes mat-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:0;transform:rotate(45deg)}to{opacity:1;transform:rotate(360deg)}}@keyframes mat-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:0;transform:rotate(-45deg)}to{opacity:1;transform:rotate(0deg)}}@keyframes mat-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(315deg)}}@keyframes mat-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;opacity:1;transform:scaleX(1)}32.8%,100%{opacity:0;transform:scaleX(0)}}.mat-checkbox-background,.mat-checkbox-frame{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:2px;box-sizing:border-box;pointer-events:none}.mat-checkbox{display:inline-block;transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);cursor:pointer;-webkit-tap-highlight-color:transparent}._mat-animation-noopable.mat-checkbox{transition:none;animation:none}.mat-checkbox .mat-ripple-element:not(.mat-checkbox-persistent-ripple){opacity:.16}.mat-checkbox-layout{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:inherit;align-items:baseline;vertical-align:middle;display:inline-flex;white-space:nowrap}.mat-checkbox-label{-webkit-user-select:auto;-moz-user-select:auto;-ms-user-select:auto;user-select:auto}.mat-checkbox-inner-container{display:inline-block;height:16px;line-height:0;margin:auto;margin-right:8px;order:0;position:relative;vertical-align:middle;white-space:nowrap;width:16px;flex-shrink:0}[dir=rtl] .mat-checkbox-inner-container{margin-left:8px;margin-right:auto}.mat-checkbox-inner-container-no-side-margin{margin-left:0;margin-right:0}.mat-checkbox-frame{background-color:transparent;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1);border-width:2px;border-style:solid}._mat-animation-noopable .mat-checkbox-frame{transition:none}.cdk-high-contrast-active .mat-checkbox.cdk-keyboard-focused .mat-checkbox-frame{border-style:dotted}.mat-checkbox-background{align-items:center;display:inline-flex;justify-content:center;transition:background-color 90ms cubic-bezier(0, 0, 0.2, 0.1),opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}._mat-animation-noopable .mat-checkbox-background{transition:none}.cdk-high-contrast-active .mat-checkbox .mat-checkbox-background{background:none}.mat-checkbox-persistent-ripple{display:block;width:100%;height:100%;transform:none}.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:.04}.mat-checkbox.cdk-keyboard-focused .mat-checkbox-persistent-ripple{opacity:.12}.mat-checkbox-persistent-ripple,.mat-checkbox.mat-checkbox-disabled .mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:0}@media(hover: none){.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{display:none}}.mat-checkbox-checkmark{top:0;left:0;right:0;bottom:0;position:absolute;width:100%}.mat-checkbox-checkmark-path{stroke-dashoffset:22.910259;stroke-dasharray:22.910259;stroke-width:2.1333333333px}.cdk-high-contrast-black-on-white .mat-checkbox-checkmark-path{stroke:#000 !important}.mat-checkbox-mixedmark{width:calc(100% - 6px);height:2px;opacity:0;transform:scaleX(0) rotate(0deg);border-radius:2px}.cdk-high-contrast-active .mat-checkbox-mixedmark{height:0;border-top:solid 2px;margin-top:2px}.mat-checkbox-label-before .mat-checkbox-inner-container{order:1;margin-left:8px;margin-right:auto}[dir=rtl] .mat-checkbox-label-before .mat-checkbox-inner-container{margin-left:auto;margin-right:8px}.mat-checkbox-checked .mat-checkbox-checkmark{opacity:1}.mat-checkbox-checked .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-checked .mat-checkbox-mixedmark{transform:scaleX(1) rotate(-45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark{opacity:0;transform:rotate(45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-indeterminate .mat-checkbox-mixedmark{opacity:1;transform:scaleX(1) rotate(0deg)}.mat-checkbox-unchecked .mat-checkbox-background{background-color:transparent}.mat-checkbox-disabled{cursor:default}.cdk-high-contrast-active .mat-checkbox-disabled{opacity:.5}.mat-checkbox-anim-unchecked-checked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-checked .mat-checkbox-checkmark-path{animation:180ms linear 0ms mat-checkbox-unchecked-checked-checkmark-path}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-unchecked-indeterminate-mixedmark}.mat-checkbox-anim-checked-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-checked-unchecked .mat-checkbox-checkmark-path{animation:90ms linear 0ms mat-checkbox-checked-unchecked-checkmark-path}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-checkmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-checkmark}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-mixedmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-checkmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-checkmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-mixedmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-mixedmark}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-mixedmark{animation:300ms linear 0ms mat-checkbox-indeterminate-unchecked-mixedmark}.mat-checkbox-input{bottom:0;left:50%}.mat-checkbox .mat-checkbox-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}\n"],encapsulation:2,changeDetection:0}),t})(),jN=(()=>{class t{}return t.\u0275mod=i.Kb({type:t}),t.\u0275inj=i.Jb({factory:function(e){return new(e||t)}}),t})(),FN=(()=>{class t{}return t.\u0275mod=i.Kb({type:t}),t.\u0275inj=i.Jb({factory:function(e){return new(e||t)},imports:[[cl,Ku,hu,jN],Ku,jN]}),t})();function LN(t,e){1&t&&(i.Sb(0,"div",3),i.Nb(1,"div"),i.Nb(2,"div"),i.Nb(3,"div"),i.Nb(4,"div"),i.Nb(5,"div"),i.Nb(6,"div"),i.Nb(7,"div"),i.Nb(8,"div"),i.Rb())}const VN=function(t){return{"instructions-form":t}};function UN(t,e){if(1&t){const t=i.Tb();i.Sb(0,"div",4),i.Sb(1,"h1"),i.Sb(2,"b"),i.Fc(3," Login "),i.Rb(),i.Rb(),i.Sb(4,"div",5),i.Sb(5,"div",6),i.Zb("click",function(){return i.tc(t),i.dc().login("google")}),i.Sb(6,"div",7),i.Nb(7,"img",8),i.Rb(),i.Sb(8,"p",9),i.Sb(9,"b"),i.Fc(10,"Sign in with google"),i.Rb(),i.Rb(),i.Rb(),i.Sb(11,"img",10),i.Zb("click",function(){return i.tc(t),i.dc().login("yahoo")}),i.Rb(),i.Rb(),i.Rb()}if(2&t){const t=i.dc();i.ic("ngClass",i.lc(1,VN,!t.instructionsOk))}}function qN(t,e){if(1&t){const t=i.Tb();i.Sb(0,"div",4),i.Sb(1,"div",11),i.Fc(2," This is your first time signing in. Please enter a username to complete the registration. The username will be displayed on the game leaderboard. "),i.Rb(),i.Sb(3,"form",12),i.Zb("submit",function(e){return i.tc(t),i.dc().onSubmit(e)}),i.Sb(4,"mat-form-field",13),i.Nb(5,"input",14),i.Rb(),i.Sb(6,"div",15),i.Sb(7,"button",16),i.Fc(8,"Submit"),i.Rb(),i.Rb(),i.Sb(9,"div",17),i.Fc(10),i.Rb(),i.Sb(11,"div",18),i.Sb(12,"mat-checkbox",19),i.Zb("change",function(){return i.tc(t),i.dc().detectChanges()}),i.Rb(),i.Sb(13,"b"),i.Fc(14," In registering, you agree that the associations you create will be stored in our database and used for future research. "),i.Nb(15,"br"),i.Nb(16,"br"),i.Fc(17," Please be aware that we do not distribute image files, we redirect to the original URL. If you notice a missing / inappropriate image, please report with the report button. "),i.Rb(),i.Rb(),i.Rb(),i.Rb()}if(2&t){const t=i.dc();i.ic("ngClass",i.lc(5,VN,!t.instructionsOk)),i.Ab(3),i.ic("formGroup",t.userDetailsForm),i.Ab(2),i.ic("formControl",t.userDetailsForm.controls.username),i.Ab(5),i.Gc(t.hint),i.Ab(2),i.ic("formControl",t.userDetailsForm.controls.consentForm)}}let BN=(()=>{class t{constructor(t,e,n){this.fb=t,this.authService=e,this.changeDetectionRef=n,this.skipPersonalDetails=!1,this.enterUserName=!1,this.loading=!1,this.registeredSuccessfully$=new i.n,this.submit$=new i.n,this.close$=new i.n,this.ages=[{value:"inappropriateImage",viewValue:"Inappropriate Image"},{value:"missingImage",viewValue:"Missing Image"},{value:"inappropriateCue",viewValue:"Inappropriate Cue"},{value:"other",viewValue:"Other"}],this.instructionsOk=!1,this.cueValueChangesSubscription=new Do.a,this.clearHintSubscription=new Do.a,this.hint="",this.userDetailsForm=this.fb.group({username:new dr("",[gi.required,gi.minLength(1),gi.maxLength(20),gi.pattern(/^[a-zA-Z0-9]*$/)]),consentForm:new dr("",[gi.required])})}ngOnInit(){}onSubmit(t){var e,n,i;this.userDetailsForm.valid?(this.loading=!0,this.detectChanges(),this.authService.registerUser(this.userDetailsForm.controls.username.value).pipe(To(()=>Object(Dr.a)("Signup is unavailable at the moment"))).subscribe(t=>{"EMAIL_EXISTS"===(null==t?void 0:t.status)?this.hint="Email already exists":"USERNAME_EXISTS"===(null==t?void 0:t.status)?this.hint="Username already exists":"SUCCESS"===(null==t?void 0:t.status)?this.registeredSuccessfully$.next():this.hint="Signup is unavailable at the moment",this.loading=!1,this.detectChanges()})):(this.clearHintSubscription.unsubscribe(),this.hint=(null===(i=null===(n=null===(e=this.userDetailsForm)||void 0===e?void 0:e.controls)||void 0===n?void 0:n.username)||void 0===i?void 0:i.valid)?"Please accept the terms of use":"The username should contain only English letters, and should not exceed 20 characters.",this.changeDetectionRef.markForCheck(),this.changeDetectionRef.detectChanges(),this.clearHintSubscription=ph(5e3).subscribe(()=>{this.hint="",this.detectChanges()}))}detectChanges(){this.changeDetectionRef.markForCheck(),this.changeDetectionRef.detectChanges()}login(t){this.authService.login(t)}}return t.\u0275fac=function(e){return new(e||t)(i.Mb(Ar),i.Mb(nP),i.Mb(i.h))},t.\u0275cmp=i.Gb({type:t,selectors:[["app-login-form"]],inputs:{skipPersonalDetails:"skipPersonalDetails",enterUserName:"enterUserName",loading:"loading"},outputs:{registeredSuccessfully$:"registeredSuccessfully$",submit$:"submit$",close$:"close$"},decls:4,vars:3,consts:[[1,"personal-details-form-container"],["class","lds-roller",4,"ngIf"],["class","personal-details-form flex-between",3,"ngClass",4,"ngIf"],[1,"lds-roller"],[1,"personal-details-form","flex-between",3,"ngClass"],[1,"login-button-container","flex-center"],[1,"google-btn",3,"click"],[1,"google-icon-wrapper"],["src","https://upload.wikimedia.org/wikipedia/commons/5/53/Google_%22G%22_Logo.svg",1,"google-icon"],[1,"btn-text"],["src","assets/img/yahoo-login-btn.png",1,"yahoo-btn",3,"click"],[2,"margin-bottom","35px"],[2,"width","100%",3,"formGroup","submit"],["appearance","fill",1,"fill-container"],["matInput","",3,"formControl"],[1,"button-container"],["mat-raised-button","","type","submit",1,"btn","btn-neutral","btn-big"],[1,"hint"],[2,"margin-top","35px"],[1,"consent-checkbox",3,"formControl","change"]],template:function(t,e){1&t&&(i.Sb(0,"div",0),i.Dc(1,LN,9,0,"div",1),i.Dc(2,UN,12,3,"div",2),i.Dc(3,qN,18,7,"div",2),i.Rb()),2&t&&(i.Ab(1),i.ic("ngIf",e.loading),i.Ab(1),i.ic("ngIf",!e.enterUserName&&!e.loading),i.Ab(1),i.ic("ngIf",e.enterUserName&&!e.loading))},directives:[D,I,wr,Pi,Tr,uh,Eh,ui,Ri,kr,QD,NN],styles:['@import url(https://fonts.googleapis.com/css?family=Roboto:500);.personal-details-form[_ngcontent-%COMP%]{max-height:575px!important;overflow-y:scroll}.mat-form-field[_ngcontent-%COMP%]{width:100%!important}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.instructions[_ngcontent-%COMP%]{color:#000;font-size:16px;padding-bottom:20px}@media (max-width:480px){.instructions-form[_ngcontent-%COMP%]{width:300px!important}.personal-details-form[_ngcontent-%COMP%]{top:50%!important}}.fa-circle-xmark[_ngcontent-%COMP%]{position:absolute;right:0;font-size:18px;margin-top:-5px;color:rgba(0,0,0,.7215686274509804);cursor:pointer}[_nghost-%COMP%]     .mat-form-field-flex{background-color:#f0f0f0!important}@media (max-width:540px){  .mat-select-panel{width:300px!important;min-width:300px!important}  .cdk-overlay-pane{transform:translateX(-42px) translateY(-55px)!important}}.main-label[_ngcontent-%COMP%]{font-weight:600}.input-label[_ngcontent-%COMP%]{padding-top:10px;padding-bottom:10px}.fill-container[_ngcontent-%COMP%]     textarea{height:120px}h1[_ngcontent-%COMP%]{padding-top:5px;padding-bottom:12px}.login-button-container[_ngcontent-%COMP%]{padding-bottom:10px}.instructions-form[_ngcontent-%COMP%]{width:474px}.google-btn[_ngcontent-%COMP%], .yahoo-btn[_ngcontent-%COMP%]{cursor:pointer;width:184px;height:42px;background-color:#4285f4;box-shadow:0 3px 4px 0 rgba(0,0,0,.25)}.google-btn[_ngcontent-%COMP%]{margin-bottom:12px;border-radius:2px}.google-btn[_ngcontent-%COMP%]   .google-icon-wrapper[_ngcontent-%COMP%]{position:absolute;margin-top:1px;margin-left:1px;width:40px;height:40px;border-radius:2px;background-color:#fff}.google-btn[_ngcontent-%COMP%]   .google-icon[_ngcontent-%COMP%]{position:absolute;margin-top:11px;margin-left:11px;width:18px;height:18px}.google-btn[_ngcontent-%COMP%]   .btn-text[_ngcontent-%COMP%]{float:right;margin:11px 11px 0 0;color:#fff;font-size:14px;letter-spacing:.2px;font-family:Roboto}.google-btn[_ngcontent-%COMP%]:hover{box-shadow:0 0 6px #4285f4}.google-btn[_ngcontent-%COMP%]:active{background:#1669f2}.hint[_ngcontent-%COMP%]{text-align:center;width:100%;color:red;font-size:11px;padding-top:14px}.btn-neutral[_ngcontent-%COMP%]{background:rgba(250,177,180,.3607843137254902)!important;color:#222a42!important}input[_ngcontent-%COMP%]{padding-left:8px;background-color:transparent!important}.lds-roller[_ngcontent-%COMP%]{display:inline-block;position:relative;width:80px;height:80px;left:50%;top:35%;transform:translate(-50%,-50%);z-index:1000}  .mat-checkbox-inner-container{margin-right:5px!important}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{-webkit-animation:lds-roller 1.2s cubic-bezier(.5,0,.5,1) infinite;animation:lds-roller 1.2s cubic-bezier(.5,0,.5,1) infinite;transform-origin:40px 40px}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:after{content:" ";display:block;position:absolute;width:7px;height:7px;border-radius:50%;background:#fda6ac;margin:-4px 0 0 -4px}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:first-child{-webkit-animation-delay:-36ms;animation-delay:-36ms}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:first-child:after{top:63px;left:63px}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-delay:-72ms;animation-delay:-72ms}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2):after{top:68px;left:56px}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:-.108s;animation-delay:-.108s}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(3):after{top:71px;left:48px}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(4){-webkit-animation-delay:-.144s;animation-delay:-.144s}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(4):after{top:72px;left:40px}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(5){-webkit-animation-delay:-.18s;animation-delay:-.18s}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(5):after{top:71px;left:32px}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(6){-webkit-animation-delay:-.216s;animation-delay:-.216s}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(6):after{top:68px;left:24px}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(7){-webkit-animation-delay:-.252s;animation-delay:-.252s}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(7):after{top:63px;left:17px}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(8){-webkit-animation-delay:-.288s;animation-delay:-.288s}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(8):after{top:56px;left:12px}@-webkit-keyframes lds-roller{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}@keyframes lds-roller{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}']}),t})(),HN=(()=>{class t{constructor(){}ngOnInit(){}onSubmit(t){}detectChanges(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Gb({type:t,selectors:[["app-no-more-tasks-modal"]],decls:2,vars:0,consts:[[1,"no-more-tasks-container"]],template:function(t,e){1&t&&(i.Sb(0,"div",0),i.Fc(1," No more tasks to solve\n"),i.Rb())},styles:[".no-more-tasks-container[_ngcontent-%COMP%]{font-size:52px;color:#000;padding-top:185px;padding-bottom:200px;width:80vw}"]}),t})();const zN=["candidatesOptionElement"];function WN(t,e){if(1&t){const t=i.Tb();i.Sb(0,"app-login-form",7),i.Zb("registeredSuccessfully$",function(){return i.tc(t),i.dc().onRegister()}),i.Rb()}if(2&t){const t=i.dc();i.ic("enterUserName",t.enterUserName)("loading",t.loading)}}function GN(t,e){if(1&t){const t=i.Tb();i.Sb(0,"app-report-form",14),i.Zb("close$",function(e){return i.tc(t),i.dc(2).closeReportForm(e)})("submit$",function(e){return i.tc(t),i.dc(2).onReportFormSubmit(e)}),i.Rb()}}function KN(t,e){1&t&&i.Nb(0,"app-no-more-tasks-modal")}function $N(t,e){if(1&t&&i.Nb(0,"app-task-board",28),2&t){const t=i.dc(3);i.ic("guessTheAssociationsTask",t.guessTheAssociationsTask)("enablePointer",!0)("testMode",t.gameMode)("submit",t._submit)("disableSolutionIcons",!0)("info","Several images are presented below. \n A cue word and number of associated images are given. \n                     Choose the images that best associates with the cue word.")}}function YN(t,e){if(1&t&&i.Nb(0,"app-task-board",29),2&t){const t=i.dc(3);i.ic("giveCueTask",t.giveTheCueTask)("enablePointer",!0)("testMode",t.gameMode)("submit",t._submit)("info",t.giveTheCueInfo)}}function QN(t,e){if(1&t&&(i.Sb(0,"option",30),i.Fc(1),i.Rb()),2&t){const t=e.$implicit;i.Ac("color","black"),i.ic("value",t.value),i.Ab(1),i.Hc(" ",t.viewValue," ")}}const ZN=function(){return{color:"black !important"}},XN=function(t){return{submitted:t}},JN=function(t){return{"no-clue":t}};function tj(t,e){if(1&t){const t=i.Tb();i.Sb(0,"div",15),i.Dc(1,KN,1,0,"app-no-more-tasks-modal",16),i.Dc(2,$N,1,6,"app-task-board",17),i.Dc(3,YN,1,5,"app-task-board",18),i.Sb(4,"div",19),i.Sb(5,"div",20),i.Sb(6,"div"),i.Sb(7,"i",21),i.Zb("click",function(){return i.tc(t),i.dc(2).showReportForm=!0}),i.Rb(),i.Rb(),i.Fc(8," Report "),i.Rb(),i.Sb(9,"div"),i.Sb(10,"div"),i.Fc(11,"Candidates "),i.Rb(),i.Sb(12,"select",22,23),i.Zb("change",function(e){return i.tc(t),i.dc(2).onCandidatesSelect(e.target.value)}),i.Dc(14,QN,2,4,"option",24),i.Rb(),i.Rb(),i.Sb(15,"button",25),i.Zb("click",function(){return i.tc(t),i.dc(2).submit()}),i.Fc(16),i.Rb(),i.Sb(17,"button",26),i.Zb("click",function(){return i.tc(t),i.dc(2).moveRight()}),i.Nb(18,"li",27),i.Rb(),i.Rb(),i.Sb(19,"div",12),i.Fc(20),i.Rb(),i.Rb()}if(2&t){const t=i.dc(2);i.Ab(1),i.ic("ngIf",t.noMoreTasksToSolve),i.Ab(1),i.ic("ngIf",!0===t.isGuessAssociationsTask&&t.guessTheAssociationsTask),i.Ab(1),i.ic("ngIf",!1===t.isGuessAssociationsTask&&t.giveTheCueTask),i.Ab(4),i.Ac("color","red"),i.Ab(3),i.zc(i.kc(12,ZN)),i.Ab(4),i.ic("ngForOf",t.candidates),i.Ab(1),i.ic("ngClass",i.lc(13,XN,t._submit)),i.Ab(1),i.Gc(t.isGuessAssociationsTask?"Solve":"Test AI"),i.Ab(3),i.ic("ngClass",i.lc(15,JN,""===t.hint||t.responseBackgroundColor)),i.Ab(1),i.Hc(" ",t.hint," ")}}const ej=function(t,e,n){return{"background-color":t,visibility:e,color:n}},nj=function(t){return{"guess-clue-hint":t}};function ij(t,e){if(1&t&&(i.Sb(0,"div",8),i.Dc(1,GN,1,0,"app-report-form",9),i.Sb(2,"div",10),i.Sb(3,"div",11),i.Sb(4,"div",12),i.Fc(5),i.Rb(),i.Dc(6,tj,21,17,"div",13),i.Rb(),i.Rb(),i.Rb()),2&t){const t=i.dc();i.Ab(1),i.ic("ngIf",t.showReportForm),i.Ab(3),i.zc(i.nc(6,ej,t.responseBackgroundColor,t.responseBackgroundColor?"visible":"hidden",t.responseTextColor)),i.ic("ngClass",i.lc(10,nj,!1===t.isGuessAssociationsTask)),i.Ab(1),i.Hc(" ",t.hint," "),i.Ab(1),i.ic("ngIf",t.gameMode)}}let rj=(()=>{class t{constructor(t,e,n,i,r,o){this.router=t,this.activeRouter=e,this.authService=n,this.changeDetectorRef=i,this.dialog=r,this.serverRequestService=o,this.hint="",this.answers=new Map,this.gameMode=!0,this.practiceMode=!1,this.isCollapsed=!0,this._submit=!1,this.goodJobHint="Good Job!",this.timerSubscription=new Do.a,this.isGuessAssociationsTask=null,this.exampleIndex=1,this.responseBackgroundColor="",this.responseTextColor="",this.cancel$=new Mr.a,this.giveTheCueInfo="",this.selectedCandidates=5,this.showReportForm=!1,this.providerLoggedIn=!1,this.enterUserName=!1,this.loading=!1,this.noMoreTasksToSolve=!1,this.candidates=[{value:"5",viewValue:"5"},{value:"6",viewValue:"6"},{value:"10",viewValue:"10"},{value:"12",viewValue:"12"},{value:"random",viewValue:"random"}]}ngOnInit(){this.loading=!0,this.authService.userLoggedIn$.pipe(Xr(t=>null!==t)).subscribe(t=>{this.providerLoggedIn=t,this.loading=!1,this.providerLoggedIn&&(this.detectChanges(),this.authService.isUserExists().pipe(function(t,e=Kc.a){var n;const i=(n=t)instanceof Date&&!isNaN(+n)?+t-e.now():Math.abs(t);return t=>t.lift(new wN(i,e))}(500),Object(ti.a)(t=>t.user_exists)).subscribe(t=>{t?this.logIn():this.enterUserName=!0,this.detectChanges()})),this.detectChanges()})}logIn(){this.providerLoggedIn=!0,window.name="WinoGAViL",this.practice(!1),this.changeDetectorRef.detectChanges()}init(){this.showReportForm=!1,this.gameMode=!1,this.practiceMode=!1,this.isGuessAssociationsTask=null,this.exampleIndex=1,this.initExample(1)}closeReportForm(t){this.showReportForm=!1}onReportFormSubmit(t){try{t.task=this.isGuessAssociationsTask?this.guessTheAssociationsTask.getJSON():this.giveTheCueTask.getJSON(),t.userID="",this.serverRequestService.sendReportForm(t)}catch(e){console.log("Failed to send report form"),console.log(e)}this.showReportForm=!1}initExample(t){this.cancel$.next(),this._submit=!1,this.showHint(""),this.isGuessAssociationsTask?this.getTaskFromServer(t).pipe(El(this.cancel$)).subscribe(t=>{var e;t instanceof Error?(this.guessTheAssociationsTask=null,this.noMoreTasksToSolve=!0,this.detectChanges()):(this.noMoreTasksToSolve=!1,this.selectedCandidates=(null===(e=null==t?void 0:t.candidates)||void 0===e?void 0:e.length)||5,this.candidatesOptionElement.nativeElement.value=this.selectedCandidates,this.guessTheAssociationsTask=t,this.detectChanges())}):this.getTaskFromServer(t).pipe(El(this.cancel$)).subscribe(t=>{this.noMoreTasksToSolve=!1,this.giveTheCueTask=t,console.log(this.giveTheCueTask),this.giveTheCueInfo=cP(t),this.detectChanges()})}onNavbarClick(t){"beat-the-ai"===t?this.init():"explore"===t&&(this.init(),this.practice(!0))}onCandidatesSelect(t){this.selectedCandidates=t}getQualificationId(t){return this.isGuessAssociationsTask?Mc.get(t):Dc.get(t)}getTaskFromServer(t){return this.isGuessAssociationsTask?this.serverRequestService.getGuessTheAssociationGameTask(this.selectedCandidates):this.serverRequestService.getGiveTheCueGameTask(this.selectedCandidates)}ngOnDestroy(){document.getElementsByTagName("body")[0].classList.remove("index-page")}restartPractice(){var t,e;this._submit=!1,this.showHint(""),null===(t=this.giveTheCueTask)||void 0===t||t.init(),null===(e=this.guessTheAssociationsTask)||void 0===e||e.init(),this.detectChanges()}submit(){var t,e,n,i;this._submit=this.isGuessAssociationsTask?null===(t=this.guessTheAssociationsTask)||void 0===t?void 0:t.isTaskSolved(!0):null===(e=this.giveTheCueTask)||void 0===e?void 0:e.isTaskSolved(),this._submit?(this.isGuessAssociationsTask?this.serverRequestService.solveGame(this.guessTheAssociationsTask):(this.showHint("Waiting for AI prediction",Math.pow(10,10)),this.giveTheCueTask.getFilteredScore().pipe(El(this.cancel$)).subscribe(t=>{100===t?this.showHint("Perfect! AI Was Fooled! \n Your score: "+t,Math.pow(10,10),"#e2f0d9","#548235"):0!==t?this.showHint("AI Was almost Fooled! \n Your score: "+t,Math.pow(10,10),"#fde3e4","#f7931e"):0===t&&this.showHint("You were beaten by the AI! \n Maybe next time!",Math.pow(10,10),"#fff2cc","#f96c7b"),this.detectChanges()}),this.serverRequestService.getAIPredictionGame(this.giveTheCueTask),this.detectChanges()),console.log(this.isGuessAssociationsTask?this.guessTheAssociationsTask:this.giveTheCueTask)):this.showHint(this.isGuessAssociationsTask?null===(n=this.guessTheAssociationsTask)||void 0===n?void 0:n.getHint(!0):null===(i=this.giveTheCueTask)||void 0===i?void 0:i.getHint()),this.detectChanges()}showHint(t,e=3e3,n="",i="black"){this.hint=t,this.responseTextColor=i,this.responseBackgroundColor=n,this.timerSubscription.unsubscribe(),this.timerSubscription=ph(e).subscribe(()=>{this.hint="",this.responseBackgroundColor="",this.responseTextColor="black"})}moveRight(){this.isGuessAssociationsTask=!!(this.exampleIndex%4),this.exampleIndex++,this.move()}move(){var t,e;null===(t=this.guessTheAssociationsTask)||void 0===t||t.init(),null===(e=this.giveTheCueTask)||void 0===e||e.init(),this.initExample(this.exampleIndex)}practice(t){this.isGuessAssociationsTask=t,this.initExample(this.exampleIndex),this.gameMode=!0,this.practiceMode=!0}onRegister(){this.providerLoggedIn=!0,this.enterUserName=!1,this.detectChanges(),location.reload()}detectChanges(){this.changeDetectorRef.markForCheck(),this.changeDetectorRef.detectChanges()}}return t.\u0275fac=function(e){return new(e||t)(i.Mb(oc),i.Mb(qs),i.Mb(nP),i.Mb(i.h),i.Mb(wD),i.Mb(oP))},t.\u0275cmp=i.Gb({type:t,selectors:[["app-beat-the-ai-game"]],viewQuery:function(t,e){if(1&t&&i.Ic(zN,!0),2&t){let t;i.qc(t=i.ac())&&(e.candidatesOptionElement=t.first)}},decls:9,vars:3,consts:[[3,"isCollapsed","click"],[3,"enterUserName","loading","registeredSuccessfully$",4,"ngIf"],[1,"wrapper"],["class","page-header header-filter",4,"ngIf"],[1,"footer"],[1,"container"],[1,"footer-row"],[3,"enterUserName","loading","registeredSuccessfully$"],[1,"page-header","header-filter"],[3,"close$","submit$",4,"ngIf"],[1,"container","center-container"],[1,"content-center","brand"],[1,"label","hint",3,"ngClass"],["class","task-container",4,"ngIf"],[3,"close$","submit$"],[1,"task-container"],[4,"ngIf"],["class","analogies-board",3,"guessTheAssociationsTask","enablePointer","testMode","submit","disableSolutionIcons","info",4,"ngIf"],["class","analogies-board",3,"giveCueTask","enablePointer","testMode","submit","info",4,"ngIf"],[1,"test-me-container"],[1,"report-container"],[1,"fas","fa-solid","fa-triangle-exclamation",3,"click"],[3,"change"],["candidatesOptionElement",""],[3,"value","color",4,"ngFor","ngForOf"],[1,"btn","btn-neutral","btn-big",3,"ngClass","click"],[1,"btn","btn-neutral","btn-big",3,"click"],[1,"fas","fa-arrow-right"],[1,"analogies-board",3,"guessTheAssociationsTask","enablePointer","testMode","submit","disableSolutionIcons","info"],[1,"analogies-board",3,"giveCueTask","enablePointer","testMode","submit","info"],[3,"value"]],template:function(t,e){1&t&&(i.Sb(0,"app-navbar",0),i.Zb("click",function(t){return e.onNavbarClick(t)}),i.Rb(),i.Dc(1,WN,1,2,"app-login-form",1),i.Sb(2,"div",2),i.Dc(3,ij,7,12,"div",3),i.Sb(4,"footer",4),i.Sb(5,"div",5),i.Sb(6,"div",6),i.Sb(7,"a"),i.Fc(8,"Maintained by Ron Yosef"),i.Rb(),i.Rb(),i.Rb(),i.Rb(),i.Rb()),2&t&&(i.ic("isCollapsed",e.isCollapsed),i.Ab(1),i.ic("ngIf",!e.providerLoggedIn||e.enterUserName),i.Ab(2),i.ic("ngIf",e.providerLoggedIn))},directives:[Wc,D,BN,I,tM,R,HN,Kh,Hi,Ki],styles:["h1[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{color:#4d5568!important}.stat-label[_ngcontent-%COMP%]{font-size:2rem;font-weight:700}.stat-description[_ngcontent-%COMP%], .stat-label[_ngcontent-%COMP%]{text-align:center}.abstract[_ngcontent-%COMP%]{display:flex;justify-content:center}.abstract[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{height:16rem}.content-center[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;padding-top:6rem}.test-me-container[_ngcontent-%COMP%]     select{border:1px solid #000!important;border-radius:3px}.page-header[_ngcontent-%COMP%]{max-height:-webkit-max-content!important;max-height:-moz-max-content!important;max-height:max-content!important}.sub-title[_ngcontent-%COMP%]{font-size:2rem}.test-me-container[_ngcontent-%COMP%]     .mat-form-field-wrapper{width:100px!important}@media (max-width:800px){.explore-nav[_ngcontent-%COMP%]{justify-content:center}}@media (max-width:500px){.results-nav[_ngcontent-%COMP%]{width:85vw;overflow-y:scroll}}@media (max-width:760px){.test-nav[_ngcontent-%COMP%]{width:100%!important}}.test-nav[_ngcontent-%COMP%]{width:40%;justify-content:space-between;align-items:center;display:flex;padding-top:1rem}.btn-neutral[_ngcontent-%COMP%]{background:rgba(250,177,180,.3607843137254902)!important;color:#222a42!important}.btn-neutral[_ngcontent-%COMP%]:hover{background:rgba(250,177,180,.6509803921568628)!important}@media (max-width:500px){.test-me-container[_ngcontent-%COMP%]{flex-direction:column}}.test-me-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;width:600px;padding-bottom:20px}.example-label[_ngcontent-%COMP%]{width:125%;padding-bottom:2.2rem}.explore-nav[_ngcontent-%COMP%]{width:100%;justify-content:space-between;align-items:center;display:flex;flex-wrap:wrap;padding-bottom:5rem}@media (max-width:600px){.practice-box[_ngcontent-%COMP%]{width:100%!important;height:400px!important}.explore-nav[_ngcontent-%COMP%]{flex-direction:column}}.practice-box[_ngcontent-%COMP%]{width:45%;height:300px}.got-it-container[_ngcontent-%COMP%], .practice-box[_ngcontent-%COMP%]{box-shadow:0 .5rem 1rem rgba(0,0,0,.15)}.got-it-container[_ngcontent-%COMP%]{width:400px;height:180px}.got-it-title[_ngcontent-%COMP%]{color:#fd969e!important}.practice-text[_ngcontent-%COMP%], .practice-title[_ngcontent-%COMP%]{color:#222a42!important}.got-it-container[_ngcontent-%COMP%], .practice-title[_ngcontent-%COMP%]{padding:20px;font-size:24px}.practice-title[_ngcontent-%COMP%]{font-weight:700}.got-it-container[_ngcontent-%COMP%], .practice-text[_ngcontent-%COMP%], .task-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column}.hint[_ngcontent-%COMP%]{color:#000;height:1.7rem;width:100%;font-size:1.2rem}.guess-clue-hint[_ngcontent-%COMP%]{color:#000;width:100%;height:60px;font-size:20px;border-radius:5px;display:flex;justify-content:center;align-items:center;font-weight:700}.no-clue[_ngcontent-%COMP%]{visibility:hidden!important}.submitted[_ngcontent-%COMP%]{pointer-events:none}.text-row[_ngcontent-%COMP%]{padding:20px;color:#222a42!important;font-size:.875rem}.main-label[_ngcontent-%COMP%]{font-weight:600;text-transform:none!important;font-size:4rem;color:#fd969e!important}.main-description[_ngcontent-%COMP%]{font-size:1rem;color:#222a42!important;padding-bottom:3rem}.padding-bottom[_ngcontent-%COMP%]{padding-bottom:5rem}.selected-button[_ngcontent-%COMP%]{-webkit-transform:translateY(-1px);background:rgba(250,177,180,.8196078431372549)!important}.disabled-button[_ngcontent-%COMP%], .disabled-button[_ngcontent-%COMP%]:hover{-webkit-transform:translateY(-1px);background:rgba(250,177,180,.1803921568627451)!important}.fas-big[_ngcontent-%COMP%]{font-size:2.5rem;color:#fd969e!important;display:inline-block;cursor:pointer}.report-container[_ngcontent-%COMP%]{left:0;position:absolute;color:#000;margin-top:4px;margin-left:55px}.fa-triangle-exclamation[_ngcontent-%COMP%]{color:#ff3e3e;font-size:40px;text-shadow:2px 5px rgba(0,0,0,.03);cursor:pointer}.task-container[_ngcontent-%COMP%]     .btn-big{font-size:1.5rem}.wrong-answer[_ngcontent-%COMP%], .wrong-answer[_ngcontent-%COMP%]:active   .wrong-answer[_ngcontent-%COMP%]:target, .wrong-answer[_ngcontent-%COMP%]:focus, .wrong-answer[_ngcontent-%COMP%]:hover, .wrong-answer[_ngcontent-%COMP%]:visited{background:rgba(255,60,60,.8784313725490196)!important;transform:none!important}.correct-answer[_ngcontent-%COMP%], .correct-answer[_ngcontent-%COMP%]:active, .correct-answer[_ngcontent-%COMP%]:focus, .correct-answer[_ngcontent-%COMP%]:hover, .correct-answer[_ngcontent-%COMP%]:target, .correct-answer[_ngcontent-%COMP%]:visited{background:rgba(99,255,60,.8784313725490196)!important;transform:none!important}.bs-tooltip-top[_ngcontent-%COMP%]{background:#0bf!important}.tooltip-inner[_ngcontent-%COMP%]{font-size:1rem!important}"]}),t})(),oj=(()=>{class t{constructor(t){this.requestService=t,this.pollInterval=3e4,this.leaderboard=new jr([])}init(){ph(0,this.pollInterval).pipe(go(t=>this.requestService.getLeaderboard())).subscribe(t=>this.leaderboard.next(t))}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(oP))},t.\u0275prov=i.Ib({token:t,factory:t.\u0275fac}),t})();function sj(t,e){if(1&t&&(i.Sb(0,"li",21),i.Sb(1,"div",22),i.Fc(2),i.Rb(),i.Sb(3,"div",23),i.Fc(4),i.Rb(),i.Sb(5,"div",24),i.Fc(6),i.Rb(),i.Sb(7,"div",25),i.Fc(8),i.Rb(),i.Sb(9,"div",26),i.Fc(10),i.Rb(),i.Rb()),2&t){const t=e.$implicit;i.Ab(2),i.Gc(t.rank),i.Ab(2),i.Gc(t.username),i.Ab(2),i.Gc(t.foolTheAI),i.Ab(2),i.Gc(t.solvableByHumans),i.Ab(2),i.Gc(t.numberOfAssociationsSolved)}}function aj(t,e){if(1&t&&(i.Sb(0,"li",21),i.Sb(1,"div",27),i.Fc(2),i.Rb(),i.Sb(3,"div",28),i.Fc(4),i.Rb(),i.Sb(5,"div",29),i.Fc(6),i.Rb(),i.Sb(7,"div",30),i.Fc(8),i.Rb(),i.Rb()),2&t){const t=e.$implicit;i.Ab(2),i.Gc(t.name),i.Ab(2),i.Gc(t["10&12"]),i.Ab(2),i.Gc(t["5&6"]),i.Ab(2),i.Gc(t["5&6SWOW"])}}let cj=(()=>{class t{constructor(t){this.leaderboardService=t,this.isCollapsed=!0,this.models=[{name:"Humans","10&12":"90","5&6":"92","5&6SWOW":"95"},{name:"CLIP-RN50x64/14","10&12":"38","5&6":"50","5&6SWOW":"70"},{name:"CLIP-VIT-L/14","10&12":"40","5&6":"53","5&6SWOW":"74"},{name:"CLIP-VIT-B/32","10&12":"41","5&6":"53","5&6SWOW":"74"},{name:"CLIP-RN50","10&12":"35","5&6":"50","5&6SWOW":"73"},{name:"CLIP-VIL","10&12":"15","5&6":"47","5&6SWOW":"66"},{name:"ViLT","10&12":"52","5&6":"55","5&6SWOW":"59"},{name:"X-VLM","10&12":"46","5&6":"53","5&6SWOW":"68"}],this.leaderboard$=this.leaderboardService.leaderboard}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(i.Mb(oj))},t.\u0275cmp=i.Gb({type:t,selectors:[["app-leaderboard"]],decls:46,vars:5,consts:[[3,"isCollapsed"],[1,"wrapper"],[1,"page-header","header-filter"],[1,"container","center-container"],[1,"content-center","brand"],[1,"main-label","padding-bottom"],[1,"leaderboard-container"],[1,"container"],[1,"responsive-table"],[1,"table-header"],[1,"col-leaderboard","col-1-leaderboard"],[1,"col-leaderboard","col-2-leaderboard"],[1,"col-leaderboard","col-3-leaderboard"],[1,"col-leaderboard","col-4-leaderboard"],[1,"col-leaderboard","col-5-leaderboard"],["class","table-row",4,"ngFor","ngForOf"],[1,"small-note"],[1,"content-center","brand","ai-leaderboard"],[1,"col-leaderboard","col-2-AI-leaderboard"],[1,"footer"],[1,"footer-row"],[1,"table-row"],["data-label","Rank",1,"col-leaderboard","col-1-leaderboard"],["data-label","User",1,"col-leaderboard","col-2-leaderboard"],["data-label","Fool the AI",1,"col-leaderboard","col-3-leaderboard"],["data-label","Solvable by Humans",1,"col-leaderboard","col-4-leaderboard"],["data-label","Solving Associations",1,"col-leaderboard","col-5-leaderboard"],["data-label","Model",1,"col-leaderboard","col-2-AI-leaderboard"],["data-label","10 & 12",1,"col-leaderboard","col-3-leaderboard"],["data-label","5 & 6",1,"col-leaderboard","col-4-leaderboard"],["data-label","5 & 6 SWOW",1,"col-leaderboard","col-5-leaderboard"]],template:function(t,e){1&t&&(i.Nb(0,"app-navbar",0),i.Sb(1,"div",1),i.Sb(2,"div",2),i.Sb(3,"div",3),i.Sb(4,"div",4),i.Sb(5,"h4",5),i.Fc(6," Players Leaderboard \u{1f3c6} "),i.Rb(),i.Sb(7,"div",6),i.Sb(8,"div",7),i.Sb(9,"ul",8),i.Sb(10,"li",9),i.Sb(11,"div",10),i.Fc(12,"Rank"),i.Rb(),i.Sb(13,"div",11),i.Fc(14,"User"),i.Rb(),i.Sb(15,"div",12),i.Fc(16,"Fool The AI"),i.Rb(),i.Sb(17,"div",13),i.Fc(18,"Solvable by Humans"),i.Rb(),i.Sb(19,"div",14),i.Fc(20,"Solving Associations"),i.Rb(),i.Rb(),i.Dc(21,sj,11,5,"li",15),i.ec(22,"async"),i.Rb(),i.Rb(),i.Rb(),i.Sb(23,"div",16),i.Fc(24,"* Scores are Jaccard Index (%)"),i.Rb(),i.Rb(),i.Sb(25,"div",17),i.Sb(26,"h4",5),i.Fc(27," AI Models Leaderboard \u{1f3c6} "),i.Rb(),i.Sb(28,"div",6),i.Sb(29,"div",7),i.Sb(30,"ul",8),i.Sb(31,"li",9),i.Sb(32,"div",18),i.Fc(33,"Model"),i.Rb(),i.Sb(34,"div",12),i.Fc(35,"10 & 12"),i.Rb(),i.Sb(36,"div",13),i.Fc(37,"5 & 6"),i.Rb(),i.Sb(38,"div",14),i.Fc(39,"5 & 6 SWOW"),i.Rb(),i.Rb(),i.Dc(40,aj,9,4,"li",15),i.Rb(),i.Rb(),i.Rb(),i.Rb(),i.Rb(),i.Rb(),i.Sb(41,"footer",19),i.Sb(42,"div",7),i.Sb(43,"div",20),i.Sb(44,"a"),i.Fc(45,"Maintained by Ron Yosef"),i.Rb(),i.Rb(),i.Rb(),i.Rb(),i.Rb()),2&t&&(i.ic("isCollapsed",e.isCollapsed),i.Ab(21),i.ic("ngForOf",i.fc(22,3,e.leaderboard$)),i.Ab(19),i.ic("ngForOf",e.models))},directives:[Wc,R],pipes:[G],styles:[".page-header[_ngcontent-%COMP%]   .content-center[_ngcontent-%COMP%]{color:#000!important}.content-center[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;padding-top:7rem}.padding-bottom[_ngcontent-%COMP%]{padding-bottom:5rem}.main-label[_ngcontent-%COMP%]{font-weight:600;text-transform:none!important;font-size:3.6rem;color:#fd969e!important}.leaderboard-container[_ngcontent-%COMP%]{width:100%;min-height:400px;box-shadow:0 .5rem .5rem rgba(0,0,0,.05)}ol[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{color:#000}body[_ngcontent-%COMP%]{font-family:lato,sans-serif}.container[_ngcontent-%COMP%]{max-width:1000px;margin-left:auto;margin-right:auto;padding-left:10px;padding-right:10px}h2[_ngcontent-%COMP%]{font-size:26px;margin:20px 0;text-align:center}h2[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:.5em}@media (max-width:767px){.main-label[_ngcontent-%COMP%]{font-size:3rem!important}}.ai-leaderboard[_ngcontent-%COMP%]{padding-top:3rem!important}.ai-leaderboard[_ngcontent-%COMP%] > .main-label[_ngcontent-%COMP%]{font-size:3.5rem}.col-2-AI-leaderboard[_ngcontent-%COMP%]{width:55%;text-align:left;margin-left:16px}.small-note[_ngcontent-%COMP%]{margin-top:15px;color:grey;font-size:.8rem}.responsive-table[_ngcontent-%COMP%]{padding:0}.responsive-table[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{border-radius:3px;padding:25px 30px;display:flex;justify-content:space-between;margin-bottom:25px}.responsive-table[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%], .responsive-table[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]{width:100%;background-color:#fbdddf;box-shadow:0 0 9px 0 rgba(0,0,0,.1)}.responsive-table[_ngcontent-%COMP%]   .col-1-leaderboard[_ngcontent-%COMP%]{width:5%}.responsive-table[_ngcontent-%COMP%]   .col-2-leaderboard[_ngcontent-%COMP%]{width:50%;text-align:left;margin-left:16px}.responsive-table[_ngcontent-%COMP%]   .col-3-leaderboard[_ngcontent-%COMP%], .responsive-table[_ngcontent-%COMP%]   .col-4-leaderboard[_ngcontent-%COMP%], .responsive-table[_ngcontent-%COMP%]   .col-5-leaderboard[_ngcontent-%COMP%]{width:15%}.responsive-table[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]   .col-3-leaderboard[_ngcontent-%COMP%], .responsive-table[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]   .col-4-leaderboard[_ngcontent-%COMP%], .responsive-table[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]   .col-5-leaderboard[_ngcontent-%COMP%]{font-size:12px}@media (max-width:767px){.responsive-table[_ngcontent-%COMP%]   .col-2-leaderboard[_ngcontent-%COMP%]{margin-left:0}.responsive-table[_ngcontent-%COMP%]   .col-1-leaderboard[_ngcontent-%COMP%], .responsive-table[_ngcontent-%COMP%]   .col-2-leaderboard[_ngcontent-%COMP%], .responsive-table[_ngcontent-%COMP%]   .col-3-leaderboard[_ngcontent-%COMP%], .responsive-table[_ngcontent-%COMP%]   .col-4-leaderboard[_ngcontent-%COMP%], .responsive-table[_ngcontent-%COMP%]   .col-5-leaderboard[_ngcontent-%COMP%]{width:134px}.responsive-table[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]{display:none}.responsive-table[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:block}.responsive-table[_ngcontent-%COMP%]   .col-leaderboard[_ngcontent-%COMP%]{flex-basis:100%;display:flex;padding:10px 0;justify-content:space-between}.responsive-table[_ngcontent-%COMP%]   .col-leaderboard[_ngcontent-%COMP%]:before{color:#6c7a89;width:20px;content:attr(data-label);text-align:right}}"]}),t})();const uj="mturk/solve/create/:id",lj="challenge-the-ai/create",hj="game",dj="explore",fj=[{path:"*",component:$h},{path:"main",component:$h},{path:"download",component:rd},{path:"challenge-the-ai",component:bM},{path:lj,component:bM},{path:dj,component:bM},{path:hj,component:rj},{path:"leaderboard",component:cj},{path:"mturk/create/:id",component:xM},{path:"mturk/solve/:id",component:DM},{path:uj,component:DM},{path:"mturk/qualification/create",component:lN},{path:"mturk/qualification/solve",component:vN},{path:"mturk/qualification/rg/create",component:lN},{path:"mturk/qualification/rg/ai/create",component:lN},{path:"mturk/qualification/oa/create",component:lN},{path:"mturk/qualification/oa/ai/create",component:lN},{path:"mturk/qualification/oh/create",component:lN},{path:"mturk/qualification/oh/ai/create",component:lN},{path:"mturk/qualification/nr/create",component:lN},{path:"mturk/qualification/nr/ai/create",component:lN}];let pj=(()=>{class t{}return t.\u0275mod=i.Kb({type:t}),t.\u0275inj=i.Jb({factory:function(e){return new(e||t)},imports:[[K,Tt,_c.forRoot(fj,{useHash:!0,onSameUrlNavigation:"reload"})]]}),t})(),gj=(()=>{class t{constructor(t,e,n){this.renderer=t,this.location=e}onWindowScroll(t){if(window.pageYOffset>100){let t=document.getElementById("navbar-top");t&&(t.classList.remove("navbar-transparent"),t.classList.add("bg-danger"))}else{let t=document.getElementById("navbar-top");t&&(t.classList.add("navbar-transparent"),t.classList.remove("bg-danger"))}}ngOnInit(){this.onWindowScroll(event)}}return t.\u0275fac=function(e){return new(e||t)(i.Mb(i.E),i.Mb(w),i.Mb(s))},t.\u0275cmp=i.Gb({type:t,selectors:[["app-root"]],hostBindings:function(t,e){1&t&&i.Zb("scroll",function(t){return e.onWindowScroll(t)},!1,i.sc)},decls:1,vars:0,template:function(t,e){1&t&&i.Nb(0,"router-outlet")},directives:[cc],styles:[""]}),t})();class mj{constructor(t,e){this.open=t,this.close=e||t}isManual(){return"manual"===this.open||"manual"===this.close}}const bj={hover:["mouseover","mouseout"],focus:["focusin","focusout"]};function _j(t,e=bj){const n=(t||"").trim();if(0===n.length)return[];const i=n.split(/\s+/).map(t=>t.split(":")).map(t=>{const n=e[t[0]]||t;return new mj(n[0],n[1])}),r=i.filter(t=>t.isManual());if(r.length>1)throw new Error("Triggers parse error: only one manual trigger is allowed");if(1===r.length&&i.length>1)throw new Error("Triggers parse error: manual trigger can't be mixed with other triggers");return i}const vj="undefined"!=typeof window&&window||{};let yj;function wj(){return void 0===vj||(void 0===vj.__theme?(yj||(yj=function(){if("undefined"==typeof document)return null;const t=document.createElement("span");t.innerText="test bs version",document.body.appendChild(t),t.classList.add("d-none");const e=t.getBoundingClientRect();return document.body.removeChild(t),e&&0===e.top?"bs4":"bs3"}()),"bs3"===yj):"bs4"!==vj.__theme)}const Cj={},Sj="undefined"==typeof console||!("warn"in console);function kj(t){!Object(i.W)()||Sj||t in Cj||(Cj[t]=!0,console.warn(t))}function Oj(t,e){if(1!==t.nodeType)return[];const n=t.ownerDocument.defaultView.getComputedStyle(t,null);return e?n[e]:n}function Tj(t){return"HTML"===t.nodeName?t:t.parentNode||t.host}function xj(t){if(!t)return document.body;switch(t.nodeName){case"HTML":case"BODY":return t.ownerDocument.body;case"#document":return t.body}const{overflow:e,overflowX:n,overflowY:i}=Oj(t);return/(auto|scroll|overlay)/.test(String(e)+String(i)+String(n))?t:xj(Tj(t))}const Ej="undefined"!=typeof window&&"undefined"!=typeof document,Ij=Ej&&!(!window.MSInputMethodContext||!document.documentMode),Aj=Ej&&!(!window.MSInputMethodContext||!/MSIE 10/.test(navigator.userAgent));function Rj(t){return 11===t?Ij:10===t?Aj:Ij||Aj}function Pj(t){if(!t)return document.documentElement;const e=Rj(10)?document.body:null;let n,i=t.offsetParent||null;for(;i===e&&t.nextElementSibling&&n!==t.nextElementSibling;)n=t.nextElementSibling,i=n.offsetParent;const r=i&&i.nodeName;return r&&"BODY"!==r&&"HTML"!==r?-1!==["TH","TD","TABLE"].indexOf(i.nodeName)&&"static"===Oj(i,"position")?Pj(i):i:n?n.ownerDocument.documentElement:document.documentElement}function Dj(t){return null!==t.parentNode?Dj(t.parentNode):t}function Mj(t,e){if(!(t&&t.nodeType&&e&&e.nodeType))return document.documentElement;const n=t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING,i=n?t:e,r=n?e:t,o=document.createRange();o.setStart(i,0),o.setEnd(r,0);const{commonAncestorContainer:s}=o;if(t!==s&&e!==s||i.contains(r))return function(t){const{nodeName:e}=t;return"BODY"!==e&&("HTML"===e||Pj(t.firstElementChild)===t)}(s)?s:Pj(s);const a=Dj(t);return a.host?Mj(a.host,e):Mj(t,Dj(e).host)}function Nj(t,e){const n="x"===e?"Left":"Top",i="Left"===n?"Right":"Bottom";return parseFloat(t[`border${n}Width`])+parseFloat(t[`border${i}Width`])}function jj(t,e,n,i){return Math.max(e["offset"+t],e["scroll"+t],n["client"+t],n["offset"+t],n["scroll"+t],Rj(10)?parseInt(n["offset"+t],10)+parseInt(i["margin"+("Height"===t?"Top":"Left")],10)+parseInt(i["margin"+("Height"===t?"Bottom":"Right")],10):0)}function Fj(t){const e=t.body,n=t.documentElement,i=Rj(10)&&getComputedStyle(n);return{height:jj("Height",e,n,i),width:jj("Width",e,n,i)}}function Lj(t,e="top"){const n="top"===e?"scrollTop":"scrollLeft",i=t.nodeName;if("BODY"===i||"HTML"===i){const e=t.ownerDocument.documentElement;return(t.ownerDocument.scrollingElement||e)[n]}return t[n]}function Vj(t){return Object.assign(Object.assign({},t),{right:t.left+t.width,bottom:t.top+t.height})}function Uj(t){let e={};try{if(Rj(10)){e=t.getBoundingClientRect();const n=Lj(t,"top"),i=Lj(t,"left");e.top+=n,e.left+=i,e.bottom+=n,e.right+=i}else e=t.getBoundingClientRect()}catch(cx){return}const n={left:e.left,top:e.top,width:e.right-e.left,height:e.bottom-e.top},i="HTML"===t.nodeName?Fj(t.ownerDocument):{};let r=t.offsetWidth-(i.width||t.clientWidth||n.right-n.left),o=t.offsetHeight-(i.height||t.clientHeight||n.bottom-n.top);if(r||o){const e=Oj(t);r-=Nj(e,"x"),o-=Nj(e,"y"),n.width-=r,n.height-=o}return Vj(n)}function qj(t,e,n=!1){const i=Rj(10),r="HTML"===e.nodeName,o=Uj(t),s=Uj(e),a=xj(t),c=Oj(e),u=parseFloat(c.borderTopWidth),l=parseFloat(c.borderLeftWidth);n&&r&&(s.top=Math.max(s.top,0),s.left=Math.max(s.left,0));let h=Vj({top:o.top-s.top-u,left:o.left-s.left-l,width:o.width,height:o.height});if(h.marginTop=0,h.marginLeft=0,!i&&r){const t=parseFloat(c.marginTop),e=parseFloat(c.marginLeft);h.top-=u-t,h.bottom-=u-t,h.left-=l-e,h.right-=l-e,h.marginTop=t,h.marginLeft=e}return(i&&!n?e.contains(a):e===a&&"BODY"!==a.nodeName)&&(h=function(t,e,n=!1){const i=Lj(e,"top"),r=Lj(e,"left"),o=n?-1:1;return t.top+=i*o,t.bottom+=i*o,t.left+=r*o,t.right+=r*o,t}(h,e)),h}function Bj(t){const e=t.nodeName;return"BODY"!==e&&"HTML"!==e&&("fixed"===Oj(t,"position")||Bj(Tj(t)))}function Hj(t){if(!t||!t.parentElement||Rj())return document.documentElement;let e=t.parentElement;for(;e&&"none"===Oj(e,"transform");)e=e.parentElement;return e||document.documentElement}function zj(t,e,n=0,i,r=!1){let o={top:0,left:0};const s=r?Hj(t):Mj(t,e);if("viewport"===i)o=function(t,e=!1){const n=t.ownerDocument.documentElement,i=qj(t,n),r=Math.max(n.clientWidth,window.innerWidth||0),o=Math.max(n.clientHeight,window.innerHeight||0),s=e?0:Lj(n),a=e?0:Lj(n,"left");return Vj({top:s-Number(i.top)+Number(i.marginTop),left:a-Number(i.left)+Number(i.marginLeft),width:r,height:o})}(s,r);else{let n;"scrollParent"===i?(n=xj(Tj(e)),"BODY"===n.nodeName&&(n=t.ownerDocument.documentElement)):n="window"===i?t.ownerDocument.documentElement:i;const a=qj(n,s,r);if("HTML"!==n.nodeName||Bj(s))o=a;else{const{height:e,width:n}=Fj(t.ownerDocument);o.top+=a.top-a.marginTop,o.bottom=Number(e)+Number(a.top),o.left+=a.left-a.marginLeft,o.right=Number(n)+Number(a.left)}}return o.left+=n,o.top+=n,o.right-=n,o.bottom-=n,o}function Wj({width:t,height:e}){return t*e}function Gj(t,e,n,i,r=["top","bottom","right","left"],o="viewport",s=0){if(-1===t.indexOf("auto"))return t;const a=zj(n,i,s,o),c={top:{width:a.width,height:e.top-a.top},right:{width:a.right-e.right,height:a.height},bottom:{width:a.width,height:a.bottom-e.bottom},left:{width:e.left-a.left,height:a.height}},u=Object.keys(c).map(t=>Object.assign(Object.assign({key:t},c[t]),{area:Wj(c[t])})).sort((t,e)=>e.area-t.area);let l=u.filter(({width:t,height:e})=>t>=n.clientWidth&&e>=n.clientHeight);l=l.filter(t=>r.some(e=>e===t.key));const h=l.length>0?l[0].key:u[0].key,d=t.split(" ")[1];return n.className=n.className.replace(/bs-tooltip-auto/g,"bs-tooltip-"+h),h+(d?"-"+d:"")}function Kj(t){const e=t.ownerDocument.defaultView.getComputedStyle(t),n=parseFloat(e.marginTop||0)+parseFloat(e.marginBottom||0),i=parseFloat(e.marginLeft||0)+parseFloat(e.marginRight||0);return{width:Number(t.offsetWidth)+i,height:Number(t.offsetHeight)+n}}function $j(t,e,n=null){return qj(e,n?Hj(t):Mj(t,e),n)}function Yj(t,e,n){const i=n.split(" ")[0],r=Kj(t),o={width:r.width,height:r.height},s=-1!==["right","left"].indexOf(i),a=s?"top":"left",c=s?"left":"top",u=s?"height":"width",l=s?"width":"height";return o[a]=e[a]+e[u]/2-r[u]/2,o[c]=i===c?e[c]-r[l]:e[function(t){const e={left:"right",right:"left",bottom:"top",top:"bottom"};return t.replace(/left|right|bottom|top/g,t=>e[t])}(c)],o}function Qj(t,e){return t&&t.modifiers&&t.modifiers[e]&&t.modifiers[e].enabled}function Zj(t,e,n){Object.keys(e).forEach(i=>{let r="";var o;-1!==["width","height","top","right","bottom","left"].indexOf(i)&&""!==(o=e[i])&&!isNaN(parseFloat(o))&&isFinite(o)&&(r="px"),n?n.setStyle(t,i,`${String(e[i])}${r}`):t.style[i]=String(e[i])+r})}function Xj(t){let e=t.offsets.target;const n=t.instance.target.querySelector(".arrow");if(!n)return t;const i=-1!==["left","right"].indexOf(t.placement.split(" ")[0]),r=i?"height":"width",o=i?"Top":"Left",s=o.toLowerCase(),a=i?"left":"top",c=i?"bottom":"right",u=Kj(n)[r],l=t.placement.split(" ")[1];t.offsets.host[c]-u<e[s]&&(e[s]-=e[s]-(t.offsets.host[c]-u)),Number(t.offsets.host[s])+Number(u)>e[c]&&(e[s]+=Number(t.offsets.host[s])+Number(u)-Number(e[c])),e=Vj(e);const h=Oj(t.instance.target),d=parseFloat(h["margin"+o]),f=parseFloat(h[`border${o}Width`]);let p;if(l){const e=parseFloat(h.borderRadius),n=Number(d+f+e);p=s===l?Number(t.offsets.host[s])+n:Number(t.offsets.host[s])+Number(t.offsets.host[r]-n)}else p=Number(t.offsets.host[s])+Number(t.offsets.host[r]/2-u/2);let g=p-e[s]-d-f;return g=Math.max(Math.min(e[r]-u,g),0),t.offsets.arrow={[s]:Math.round(g),[a]:""},t.instance.arrow=n,t}function Jj(t){if(t.offsets.target=Vj(t.offsets.target),!Qj(t.options,"flip"))return t.offsets.target=Object.assign(Object.assign({},t.offsets.target),Yj(t.instance.target,t.offsets.host,t.placement)),t;const e=zj(t.instance.target,t.instance.host,0,"viewport",!1);let n=t.placement.split(" ")[0],i=t.placement.split(" ")[1]||"";const r=Gj("auto",t.offsets.host,t.instance.target,t.instance.host,t.options.allowedPositions),o=[n,r];return o.forEach((r,s)=>{if(n!==r||o.length===s+1)return t;n=t.placement.split(" ")[0];const a="left"===n&&Math.floor(t.offsets.target.right)>Math.floor(t.offsets.host.left)||"right"===n&&Math.floor(t.offsets.target.left)<Math.floor(t.offsets.host.right)||"top"===n&&Math.floor(t.offsets.target.bottom)>Math.floor(t.offsets.host.top)||"bottom"===n&&Math.floor(t.offsets.target.top)<Math.floor(t.offsets.host.bottom),c=Math.floor(t.offsets.target.left)<Math.floor(e.left),u=Math.floor(t.offsets.target.right)>Math.floor(e.right),l=Math.floor(t.offsets.target.top)<Math.floor(e.top),h=Math.floor(t.offsets.target.bottom)>Math.floor(e.bottom),d="left"===n&&c||"right"===n&&u||"top"===n&&l||"bottom"===n&&h,f=-1!==["top","bottom"].indexOf(n),p=f&&"left"===i&&c||f&&"right"===i&&u||!f&&"left"===i&&l||!f&&"right"===i&&h;(a||d||p)&&((a||d)&&(n=o[s+1]),p&&(i=function(t){return"right"===t?"left":"left"===t?"right":t}(i)),t.placement=n+(i?" "+i:""),t.offsets.target=Object.assign(Object.assign({},t.offsets.target),Yj(t.instance.target,t.offsets.host,t.placement)))}),t}function tF(t){if(!Qj(t.options,"preventOverflow"))return t;const e="transform",n=t.instance.target.style,{top:i,left:r,[e]:o}=n;n.top="",n.left="",n[e]="";const s=zj(t.instance.target,t.instance.host,0,"scrollParent",!1);n.top=i,n.left=r,n[e]=o;const a={primary(e){let n=t.offsets.target[e];return t.offsets.target[e]<s[e]&&(n=Math.max(t.offsets.target[e],s[e])),{[e]:n}},secondary(e){const n="right"===e?"left":"top";let i=t.offsets.target[n];return t.offsets.target[e]>s[e]&&(i=Math.min(t.offsets.target[n],s[e]-("right"===e?t.offsets.target.width:t.offsets.target.height))),{[n]:i}}};let c;return["left","right","top","bottom"].forEach(e=>{c=-1!==["left","top"].indexOf(e)?"primary":"secondary",t.offsets.target=Object.assign(Object.assign({},t.offsets.target),a[c](e))}),t}function eF(t){const e=t.placement,n=e.split(" ")[0],i=e.split(" ")[1];if(i){const{host:e,target:r}=t.offsets,o=-1!==["bottom","top"].indexOf(n),s=o?"left":"top",a=o?"width":"height",c={start:{[s]:e[s]},end:{[s]:e[s]+e[a]-r[a]}};t.offsets.target=Object.assign(Object.assign({},r),{[s]:s===i?c.start[s]:c.end[s]})}return t}const nF=new class{position(t,e,n=!0){return this.offset(t,e,!1)}offset(t,e,n=!0){return $j(e,t)}positionElements(t,e,n,i,r){return[Jj,eF,tF,Xj].reduce((t,e)=>e(t),function(t,e,n,i){const r=$j(t,e);n.match(/^(auto)*\s*(left|right|top|bottom)*$/)||n.match(/^(left|right|top|bottom)*(?: (left|right|top|bottom))?\s*(start|end)*$/)||(n="auto");const o=!!n.match(/auto/g);let s=n.match(/auto\s(left|right|top|bottom)/)?n.split(" ")[1]||"auto":n;const a=s.match(/^(left|right|top|bottom)* ?(?!\1)(left|right|top|bottom)?/);a&&(s=a[1]+(a[2]?" "+a[2]:"")),-1!==["left right","right left","top bottom","bottom top"].indexOf(s)&&(s="auto");const c=Yj(t,r,s);return s=Gj(s,r,t,e,i?i.allowedPositions:void 0),{options:i,instance:{target:t,host:e,arrow:null},offsets:{target:c,host:r,arrow:null},positionFixed:!1,placement:s,placementAuto:o}}(e,t,n,r))}};let iF=(()=>{class t{constructor(t,e,n){this.update$$=new Mr.a,this.positionElements=new Map,this.isDisabled=!1,$(n)&&t.runOutsideAngular(()=>{this.triggerEvent$=Object(kl.a)(Tl(window,"scroll",{passive:!0}),Tl(window,"resize",{passive:!0}),Object(Dr.a)(0,fP),this.update$$),this.triggerEvent$.subscribe(()=>{this.isDisabled||this.positionElements.forEach(t=>{!function(t,e,n,i,r,o){const s=nF.positionElements(t,e,n,i,r),a=function(t){return{width:t.offsets.target.width,height:t.offsets.target.height,left:Math.floor(t.offsets.target.left),top:Math.round(t.offsets.target.top),bottom:Math.round(t.offsets.target.bottom),right:Math.floor(t.offsets.target.right)}}(s);Zj(e,{"will-change":"transform",top:"0px",left:"0px",transform:`translate3d(${a.left}px, ${a.top}px, 0px)`},o),s.instance.arrow&&Zj(s.instance.arrow,s.offsets.arrow,o),function(t,e){const n=t.instance.target;let i=n.className;t.placementAuto&&(i=i.replace(/bs-popover-auto/g,"bs-popover-"+t.placement),i=i.replace(/bs-tooltip-auto/g,"bs-tooltip-"+t.placement),i=i.replace(/\sauto/g," "+t.placement),-1!==i.indexOf("popover")&&-1===i.indexOf("popover-auto")&&(i+=" popover-auto"),-1!==i.indexOf("tooltip")&&-1===i.indexOf("tooltip-auto")&&(i+=" tooltip-auto")),i=i.replace(/left|right|top|bottom/g,""+t.placement.split(" ")[0]),e?e.setAttribute(n,"class",i):n.className=i}(s,o)}(rF(t.target),rF(t.element),t.attachment,t.appendToBody,this.options,e.createRenderer(null,null))})})})}position(t){this.addPositionElement(t)}get event$(){return this.triggerEvent$}disable(){this.isDisabled=!0}enable(){this.isDisabled=!1}addPositionElement(t){this.positionElements.set(rF(t.element),t)}calcPosition(){this.update$$.next()}deletePositionElement(t){this.positionElements.delete(rF(t))}setOptions(t){this.options=t}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(i.z),i.Wb(i.F),i.Wb(i.B))},t.\u0275prov=i.Ib({token:t,factory:t.\u0275fac}),t})();function rF(t){return"string"==typeof t?document.querySelector(t):t instanceof i.l?t.nativeElement:t}class oF{constructor(t,e,n){this.nodes=t,this.viewRef=e,this.componentRef=n}}class sF{constructor(t,e,n,r,o,s,a,c){this._viewContainerRef=t,this._renderer=e,this._elementRef=n,this._injector=r,this._componentFactoryResolver=o,this._ngZone=s,this._applicationRef=a,this._posService=c,this.onBeforeShow=new i.n,this.onShown=new i.n,this.onBeforeHide=new i.n,this.onHidden=new i.n,this._providers=[],this._isHiding=!1,this.containerDefaultSelector="body",this._listenOpts={},this._globalListener=Function.prototype}get isShown(){return!this._isHiding&&!!this._componentRef}attach(t){return this._componentFactory=this._componentFactoryResolver.resolveComponentFactory(t),this}to(t){return this.container=t||this.container,this}position(t){return this.attachment=t.attachment||this.attachment,this._elementRef=t.target||this._elementRef,this}provide(t){return this._providers.push(t),this}show(t={}){if(this._subscribePositioning(),this._innerComponent=null,!this._componentRef){this.onBeforeShow.emit(),this._contentRef=this._getContentRef(t.content,t.context,t.initialState);const e=i.r.create({providers:this._providers,parent:this._injector});this._componentRef=this._componentFactory.create(e,this._contentRef.nodes),this._applicationRef.attachView(this._componentRef.hostView),this.instance=this._componentRef.instance,Object.assign(this._componentRef.instance,t),this.container instanceof i.l&&this.container.nativeElement.appendChild(this._componentRef.location.nativeElement),"string"==typeof this.container&&"undefined"!=typeof document&&(document.querySelector(this.container)||document.querySelector(this.containerDefaultSelector)).appendChild(this._componentRef.location.nativeElement),!this.container&&this._elementRef&&this._elementRef.nativeElement.parentElement&&this._elementRef.nativeElement.parentElement.appendChild(this._componentRef.location.nativeElement),this._contentRef.componentRef&&(this._innerComponent=this._contentRef.componentRef.instance,this._contentRef.componentRef.changeDetectorRef.markForCheck(),this._contentRef.componentRef.changeDetectorRef.detectChanges()),this._componentRef.changeDetectorRef.markForCheck(),this._componentRef.changeDetectorRef.detectChanges(),this.onShown.emit(t.id?{id:t.id}:this._componentRef.instance)}return this._registerOutsideClick(),this._componentRef}hide(t){if(!this._componentRef)return this;this._posService.deletePositionElement(this._componentRef.location),this.onBeforeHide.emit(this._componentRef.instance);const e=this._componentRef.location.nativeElement;return e.parentNode.removeChild(e),this._contentRef.componentRef&&this._contentRef.componentRef.destroy(),this._viewContainerRef&&this._contentRef.viewRef&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._contentRef.viewRef)),this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._contentRef=null,this._componentRef=null,this._removeGlobalListener(),this.onHidden.emit(t?{id:t}:null),this}toggle(){this.isShown?this.hide():this.show()}dispose(){this.isShown&&this.hide(),this._unsubscribePositioning(),this._unregisterListenersFn&&this._unregisterListenersFn()}listen(t){this.triggers=t.triggers||this.triggers,this._listenOpts.outsideClick=t.outsideClick,this._listenOpts.outsideEsc=t.outsideEsc,t.target=t.target||this._elementRef.nativeElement;const e=this._listenOpts.hide=()=>t.hide?t.hide():void this.hide(),n=this._listenOpts.show=e=>{t.show?t.show(e):this.show(e),e()};return this._unregisterListenersFn=function(t,e){const n=_j(e.triggers),i=e.target;if(1===n.length&&n[0].isManual())return Function.prototype;const r=[],o=[],s=()=>{o.forEach(t=>r.push(t())),o.length=0};return n.forEach(n=>{const a=n.open===n.close,c=a?e.toggle:e.show;a||o.push(()=>t.listen(i,n.close,e.hide)),r.push(t.listen(i,n.open,()=>c(s)))}),()=>{r.forEach(t=>t())}}(this._renderer,{target:t.target,triggers:t.triggers,show:n,hide:e,toggle:t=>{this.isShown?e():n(t)}}),this}_removeGlobalListener(){this._globalListener&&(this._globalListener(),this._globalListener=null)}attachInline(t,e){return this._inlineViewRef=t.createEmbeddedView(e),this}_registerOutsideClick(){if(this._componentRef&&this._componentRef.location){if(this._listenOpts.outsideClick){const t=this._componentRef.location.nativeElement;setTimeout(()=>{var e;this._globalListener=(e={targets:[t,this._elementRef.nativeElement],outsideClick:this._listenOpts.outsideClick,hide:()=>this._listenOpts.hide()}).outsideClick?this._renderer.listen("document","click",t=>{e.target&&e.target.contains(t.target)||e.targets&&e.targets.some(e=>e.contains(t.target))||e.hide()}):Function.prototype})}var t;this._listenOpts.outsideEsc&&(this._globalListener=(t={targets:[this._componentRef.location.nativeElement,this._elementRef.nativeElement],outsideEsc:this._listenOpts.outsideEsc,hide:()=>this._listenOpts.hide()}).outsideEsc?this._renderer.listen("document","keyup.esc",e=>{t.target&&t.target.contains(e.target)||t.targets&&t.targets.some(t=>t.contains(e.target))||t.hide()}):Function.prototype)}}getInnerComponent(){return this._innerComponent}_subscribePositioning(){!this._zoneSubscription&&this.attachment&&(this.onShown.subscribe(()=>{this._posService.position({element:this._componentRef.location,target:this._elementRef,attachment:this.attachment,appendToBody:"body"===this.container})}),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>{this._componentRef&&this._posService.calcPosition()}))}_unsubscribePositioning(){this._zoneSubscription&&(this._zoneSubscription.unsubscribe(),this._zoneSubscription=null)}_getContentRef(t,e,n){if(!t)return new oF([]);if(t instanceof i.L){if(this._viewContainerRef){const n=this._viewContainerRef.createEmbeddedView(t,e);return n.markForCheck(),new oF([n.rootNodes],n)}const n=t.createEmbeddedView({});return this._applicationRef.attachView(n),new oF([n.rootNodes],n)}if("function"==typeof t){const e=this._componentFactoryResolver.resolveComponentFactory(t),r=i.r.create({providers:this._providers,parent:this._injector}),o=e.create(r);return Object.assign(o.instance,n),this._applicationRef.attachView(o.hostView),new oF([[o.location.nativeElement]],o.hostView,o)}return new oF([[this._renderer.createText(""+t)]])}}let aF=(()=>{class t{constructor(t,e,n,i,r){this._componentFactoryResolver=t,this._ngZone=e,this._injector=n,this._posService=i,this._applicationRef=r}createLoader(t,e,n){return new sF(e,n,t,this._injector,this._componentFactoryResolver,this._ngZone,this._applicationRef,this._posService)}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(i.j),i.Wb(i.z),i.Wb(i.r),i.Wb(iF),i.Wb(i.g))},t.\u0275prov=i.Ib({token:t,factory:t.\u0275fac}),t})(),cF=(()=>{class t{constructor(){this.direction="down",this.isOpenChange=new i.n,this.isDisabledChange=new i.n,this.toggleClick=new i.n,this.dropdownMenu=new Promise(t=>{this.resolveDropdownMenu=t})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Ib({token:t,factory:t.\u0275fac}),t})();Rt({height:0,overflow:"hidden"}),It("220ms cubic-bezier(0, 0, 0.2, 1)",Rt({height:"*",overflow:"hidden"}));let uF=(()=>{class t{static forRoot(e){return{ngModule:t,providers:[aF,iF,cF]}}}return t.\u0275mod=i.Kb({type:t}),t.\u0275inj=i.Jb({factory:function(e){return new(e||t)}}),t})(),lF=(()=>{class t{static forRoot(){return{ngModule:t,providers:[]}}}return t.\u0275mod=i.Kb({type:t}),t.\u0275inj=i.Jb({factory:function(e){return new(e||t)},imports:[[K]]}),t})();function hF(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}const dF=["*"];let fF=(()=>{class t{constructor(){this.adaptivePosition=!0,this.placement="top",this.triggers="hover focus",this.delay=0}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(i.Ib)({factory:function(){return new t},token:t,providedIn:"root"}),t})(),pF=(()=>{class t{constructor(t){Object.assign(this,t)}get isBs3(){return wj()}ngAfterViewInit(){this.classMap={in:!1,fade:!1},this.classMap[this.placement]=!0,this.classMap["tooltip-"+this.placement]=!0,this.classMap.in=!0,this.animation&&(this.classMap.fade=!0),this.containerClass&&(this.classMap[this.containerClass]=!0)}}return t.\u0275fac=function(e){return new(e||t)(i.Mb(fF))},t.\u0275cmp=i.Gb({type:t,selectors:[["bs-tooltip-container"]],hostAttrs:["role","tooltip"],hostVars:7,hostBindings:function(t,e){2&t&&(i.Bb("id",e.id),i.Cb("tooltip in tooltip-"+e.placement+" bs-tooltip-"+e.placement+" "+e.placement+" "+e.containerClass),i.Eb("show",!e.isBs3)("bs3",e.isBs3))},ngContentSelectors:dF,decls:3,vars:0,consts:[[1,"tooltip-arrow","arrow"],[1,"tooltip-inner"]],template:function(t,e){1&t&&(i.hc(),i.Nb(0,"div",0),i.Sb(1,"div",1),i.gc(2),i.Rb())},styles:[".tooltip[_nghost-%COMP%] {\n      display: block;\n      pointer-events: none;\n    }\n    .bs3.tooltip.top[_nghost-%COMP%] > .arrow[_ngcontent-%COMP%] {\n      margin-left: -2px;\n    }\n    .bs3.tooltip.bottom[_nghost-%COMP%] {\n      margin-top: 0px;\n    }\n    .bs3.bs-tooltip-left[_nghost-%COMP%], .bs3.bs-tooltip-right[_nghost-%COMP%]{\n      margin: 0px;\n    }\n    .bs3.bs-tooltip-right[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%], .bs3.bs-tooltip-left[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%] {\n      margin: .3rem 0;\n    }"],changeDetection:0}),t})(),gF=0,mF=(()=>{class t{constructor(t,e,n,r,o,s){this._elementRef=r,this._renderer=o,this._positionService=s,this.tooltipId=gF++,this.tooltipChange=new i.n,this.containerClass="",this.tooltipAnimation=!0,this.tooltipFadeDuration=150,this.tooltipStateChanged=new i.n,this._tooltip=e.createLoader(this._elementRef,t,this._renderer).provide({provide:fF,useValue:n}),Object.assign(this,n),this.onShown=this._tooltip.onShown,this.onHidden=this._tooltip.onHidden}get isOpen(){return this._tooltip.isShown}set isOpen(t){t?this.show():this.hide()}set htmlContent(t){kj("tooltipHtml was deprecated, please use `tooltip` instead"),this.tooltip=t}set _placement(t){kj("tooltipPlacement was deprecated, please use `placement` instead"),this.placement=t}set _isOpen(t){kj("tooltipIsOpen was deprecated, please use `isOpen` instead"),this.isOpen=t}get _isOpen(){return kj("tooltipIsOpen was deprecated, please use `isOpen` instead"),this.isOpen}set _enable(t){kj("tooltipEnable was deprecated, please use `isDisabled` instead"),this.isDisabled=!t}get _enable(){return kj("tooltipEnable was deprecated, please use `isDisabled` instead"),this.isDisabled}set _appendToBody(t){kj('tooltipAppendToBody was deprecated, please use `container="body"` instead'),this.container=t?"body":this.container}get _appendToBody(){return kj('tooltipAppendToBody was deprecated, please use `container="body"` instead'),"body"===this.container}set _popupClass(t){kj("tooltipClass deprecated")}set _tooltipContext(t){kj("tooltipContext deprecated")}set _tooltipPopupDelay(t){kj("tooltipPopupDelay is deprecated, use `delay` instead"),this.delay=t}get _tooltipTrigger(){return kj("tooltipTrigger was deprecated, please use `triggers` instead"),this.triggers}set _tooltipTrigger(t){kj("tooltipTrigger was deprecated, please use `triggers` instead"),this.triggers=(t||"").toString()}ngOnInit(){this._tooltip.listen({triggers:this.triggers,show:()=>this.show()}),this.tooltipChange.subscribe(t=>{t||this._tooltip.hide()}),this.onShown.subscribe(()=>{this.setAriaDescribedBy()}),this.onHidden.subscribe(()=>{this.setAriaDescribedBy()})}setAriaDescribedBy(){this._ariaDescribedby=this.isOpen?"tooltip-"+this.tooltipId:null,this._ariaDescribedby?this._renderer.setAttribute(this._elementRef.nativeElement,"aria-describedby",this._ariaDescribedby):this._renderer.removeAttribute(this._elementRef.nativeElement,"aria-describedby")}toggle(){if(this.isOpen)return this.hide();this.show()}show(){if(this._positionService.setOptions({modifiers:{flip:{enabled:this.adaptivePosition},preventOverflow:{enabled:this.adaptivePosition}}}),this.isOpen||this.isDisabled||this._delayTimeoutId||!this.tooltip)return;const t=()=>{this._delayTimeoutId&&(this._delayTimeoutId=void 0),this._tooltip.attach(pF).to(this.container).position({attachment:this.placement}).show({content:this.tooltip,placement:this.placement,containerClass:this.containerClass,id:"tooltip-"+this.tooltipId})},e=()=>{this._tooltipCancelShowFn&&this._tooltipCancelShowFn()};this.delay?(this._delaySubscription&&this._delaySubscription.unsubscribe(),this._delaySubscription=ph(this.delay).subscribe(()=>{t(),e()}),this.triggers&&_j(this.triggers).forEach(t=>{this._tooltipCancelShowFn=this._renderer.listen(this._elementRef.nativeElement,t.close,()=>{this._delaySubscription.unsubscribe(),e()})})):t()}hide(){this._delayTimeoutId&&(clearTimeout(this._delayTimeoutId),this._delayTimeoutId=void 0),this._tooltip.isShown&&(this._tooltip.instance.classMap.in=!1,setTimeout(()=>{this._tooltip.hide()},this.tooltipFadeDuration))}ngOnDestroy(){this._tooltip.dispose(),this.tooltipChange.unsubscribe(),this._delaySubscription&&this._delaySubscription.unsubscribe(),this.onShown.unsubscribe(),this.onHidden.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(i.Mb(i.Q),i.Mb(aF),i.Mb(fF),i.Mb(i.l),i.Mb(i.E),i.Mb(iF))},t.\u0275dir=i.Hb({type:t,selectors:[["","tooltip",""],["","tooltipHtml",""]],inputs:{containerClass:"containerClass",tooltipAnimation:"tooltipAnimation",tooltipFadeDuration:"tooltipFadeDuration",isOpen:"isOpen",htmlContent:["tooltipHtml","htmlContent"],tooltip:"tooltip",_placement:["tooltipPlacement","_placement"],placement:"placement",_isOpen:["tooltipIsOpen","_isOpen"],_enable:["tooltipEnable","_enable"],isDisabled:"isDisabled",_appendToBody:["tooltipAppendToBody","_appendToBody"],container:"container",_popupClass:["tooltipClass","_popupClass"],_tooltipContext:["tooltipContext","_tooltipContext"],_tooltipPopupDelay:["tooltipPopupDelay","_tooltipPopupDelay"],delay:"delay",_tooltipTrigger:["tooltipTrigger","_tooltipTrigger"],triggers:"triggers",adaptivePosition:"adaptivePosition"},outputs:{tooltipChange:"tooltipChange",tooltipStateChanged:"tooltipStateChanged",onShown:"onShown",onHidden:"onHidden"},exportAs:["bs-tooltip"]}),function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);o>3&&s&&Object.defineProperty(e,n,s)}([function(t,e){const n=` __${e}Value`;Object.defineProperty(t,e,{get(){return this[n]},set(t){const i=this[n];this[n]=t,i!==t&&this[e+"Change"]&&this[e+"Change"].emit(t)}})},hF("design:type",Object)],t.prototype,"tooltip",void 0),t})(),bF=(()=>{class t{static forRoot(){return{ngModule:t,providers:[aF,iF]}}}return t.\u0275mod=i.Kb({type:t}),t.\u0275inj=i.Jb({factory:function(e){return new(e||t)},imports:[[K]]}),t})();const _F=function(t,e){return{"pull-left":t,"float-left":e}},vF=function(t,e){return{"pull-right":t,"float-right":e}},yF=function(t,e){return{disabled:t,currentPage:e}};function wF(t,e){if(1&t){const t=i.Tb();i.Sb(0,"li",11),i.Sb(1,"a",12),i.Zb("click",function(e){return i.tc(t),i.dc().selectPage(1,e)}),i.Ob(2,13),i.Rb(),i.Rb()}if(2&t){const t=i.dc(),e=i.rc(13);i.Eb("disabled",t.noPrevious()||t.disabled),i.Ab(2),i.ic("ngTemplateOutlet",t.customFirstTemplate||e)("ngTemplateOutletContext",i.mc(4,yF,t.noPrevious()||t.disabled,t.page))}}function CF(t,e){if(1&t){const t=i.Tb();i.Sb(0,"li",14),i.Sb(1,"a",12),i.Zb("click",function(e){i.tc(t);const n=i.dc();return n.selectPage(n.page-1,e)}),i.Ob(2,13),i.Rb(),i.Rb()}if(2&t){const t=i.dc(),e=i.rc(11);i.Eb("disabled",t.noPrevious()||t.disabled),i.Ab(2),i.ic("ngTemplateOutlet",t.customPreviousTemplate||e)("ngTemplateOutletContext",i.mc(4,yF,t.noPrevious()||t.disabled,t.page))}}const SF=function(t,e,n){return{disabled:t,$implicit:e,currentPage:n}};function kF(t,e){if(1&t){const t=i.Tb();i.Sb(0,"li",15),i.Sb(1,"a",12),i.Zb("click",function(n){i.tc(t);const r=e.$implicit;return i.dc().selectPage(r.number,n)}),i.Ob(2,13),i.Rb(),i.Rb()}if(2&t){const t=e.$implicit,n=i.dc(),r=i.rc(7);i.Eb("active",t.active)("disabled",n.disabled&&!t.active),i.Ab(2),i.ic("ngTemplateOutlet",n.customPageTemplate||r)("ngTemplateOutletContext",i.nc(6,SF,n.disabled,t,n.page))}}function OF(t,e){if(1&t){const t=i.Tb();i.Sb(0,"li",16),i.Sb(1,"a",12),i.Zb("click",function(e){i.tc(t);const n=i.dc();return n.selectPage(n.page+1,e)}),i.Ob(2,13),i.Rb(),i.Rb()}if(2&t){const t=i.dc(),e=i.rc(9);i.Eb("disabled",t.noNext()||t.disabled),i.Ab(2),i.ic("ngTemplateOutlet",t.customNextTemplate||e)("ngTemplateOutletContext",i.mc(4,yF,t.noNext()||t.disabled,t.page))}}function TF(t,e){if(1&t){const t=i.Tb();i.Sb(0,"li",17),i.Sb(1,"a",12),i.Zb("click",function(e){i.tc(t);const n=i.dc();return n.selectPage(n.totalPages,e)}),i.Ob(2,13),i.Rb(),i.Rb()}if(2&t){const t=i.dc(),e=i.rc(15);i.Eb("disabled",t.noNext()||t.disabled),i.Ab(2),i.ic("ngTemplateOutlet",t.customLastTemplate||e)("ngTemplateOutletContext",i.mc(4,yF,t.noNext()||t.disabled,t.page))}}function xF(t,e){1&t&&i.Fc(0),2&t&&i.Gc(e.$implicit.text)}function EF(t,e){if(1&t&&i.Fc(0),2&t){const t=i.dc();i.Gc(t.getText("next"))}}function IF(t,e){if(1&t&&i.Fc(0),2&t){const t=i.dc();i.Gc(t.getText("previous"))}}function AF(t,e){if(1&t&&i.Fc(0),2&t){const t=i.dc();i.Gc(t.getText("first"))}}function RF(t,e){if(1&t&&i.Fc(0),2&t){const t=i.dc();i.Gc(t.getText("last"))}}let PF=(()=>{class t{constructor(){this.main={maxSize:void 0,itemsPerPage:10,boundaryLinks:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",pageBtnClass:"",rotate:!0},this.pager={itemsPerPage:15,previousText:"\xab Previous",nextText:"Next \xbb",pageBtnClass:"",align:!0}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(i.Ib)({factory:function(){return new t},token:t,providedIn:"root"}),t})();const DF={provide:ri,useExisting:Object(i.U)(()=>MF),multi:!0};let MF=(()=>{class t{constructor(t,e,n){this.elementRef=t,this.changeDetection=n,this.numPages=new i.n,this.pageChanged=new i.n,this.onChange=Function.prototype,this.onTouched=Function.prototype,this.inited=!1,this._page=1,this.elementRef=t,this.config||this.configureOptions(Object.assign({},e.main,e.pager))}get itemsPerPage(){return this._itemsPerPage}set itemsPerPage(t){this._itemsPerPage=t,this.totalPages=this.calculateTotalPages()}get totalItems(){return this._totalItems}set totalItems(t){this._totalItems=t,this.totalPages=this.calculateTotalPages()}get totalPages(){return this._totalPages}set totalPages(t){this._totalPages=t,this.numPages.emit(t),this.inited&&this.selectPage(this.page)}set page(t){const e=this._page;this._page=t>this.totalPages?this.totalPages:t||1,this.changeDetection.markForCheck(),e!==this._page&&void 0!==e&&this.pageChanged.emit({page:this._page,itemsPerPage:this.itemsPerPage})}get page(){return this._page}configureOptions(t){this.config=Object.assign({},t)}ngOnInit(){"undefined"!=typeof window&&(this.classMap=this.elementRef.nativeElement.getAttribute("class")||""),this.maxSize=void 0!==this.maxSize?this.maxSize:this.config.maxSize,this.rotate=void 0!==this.rotate?this.rotate:this.config.rotate,this.boundaryLinks=void 0!==this.boundaryLinks?this.boundaryLinks:this.config.boundaryLinks,this.directionLinks=void 0!==this.directionLinks?this.directionLinks:this.config.directionLinks,this.pageBtnClass=void 0!==this.pageBtnClass?this.pageBtnClass:this.config.pageBtnClass,this.itemsPerPage=void 0!==this.itemsPerPage?this.itemsPerPage:this.config.itemsPerPage,this.totalPages=this.calculateTotalPages(),this.pages=this.getPages(this.page,this.totalPages),this.inited=!0}writeValue(t){this.page=t,this.pages=this.getPages(this.page,this.totalPages)}getText(t){return this[t+"Text"]||this.config[t+"Text"]}noPrevious(){return 1===this.page}noNext(){return this.page===this.totalPages}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}selectPage(t,e){e&&e.preventDefault(),this.disabled||(e&&e.target&&e.target.blur(),this.writeValue(t),this.onChange(this.page))}makePage(t,e,n){return{text:e,number:t,active:n}}getPages(t,e){const n=[];let i=1,r=e;const o=void 0!==this.maxSize&&this.maxSize<e;o&&(this.rotate?(i=Math.max(t-Math.floor(this.maxSize/2),1),r=i+this.maxSize-1,r>e&&(r=e,i=r-this.maxSize+1)):(i=(Math.ceil(t/this.maxSize)-1)*this.maxSize+1,r=Math.min(i+this.maxSize-1,e)));for(let s=i;s<=r;s++){const e=this.makePage(s,s.toString(),s===t);n.push(e)}if(o&&!this.rotate){if(i>1){const t=this.makePage(i-1,"...",!1);n.unshift(t)}if(r<e){const t=this.makePage(r+1,"...",!1);n.push(t)}}return n}calculateTotalPages(){const t=this.itemsPerPage<1?1:Math.ceil(this.totalItems/this.itemsPerPage);return Math.max(t||0,1)}}return t.\u0275fac=function(e){return new(e||t)(i.Mb(i.l),i.Mb(PF),i.Mb(i.h))},t.\u0275cmp=i.Gb({type:t,selectors:[["pager"]],inputs:{itemsPerPage:"itemsPerPage",totalItems:"totalItems",maxSize:"maxSize",rotate:"rotate",boundaryLinks:"boundaryLinks",directionLinks:"directionLinks",pageBtnClass:"pageBtnClass",align:"align",firstText:"firstText",previousText:"previousText",nextText:"nextText",lastText:"lastText",disabled:"disabled"},outputs:{numPages:"numPages",pageChanged:"pageChanged"},features:[i.zb([DF])],decls:7,vars:24,consts:[[1,"pager"],[3,"ngClass"],["href","",3,"click"]],template:function(t,e){1&t&&(i.Sb(0,"ul",0),i.Sb(1,"li",1),i.Sb(2,"a",2),i.Zb("click",function(t){return e.selectPage(e.page-1,t)}),i.Fc(3),i.Rb(),i.Rb(),i.Sb(4,"li",1),i.Sb(5,"a",2),i.Zb("click",function(t){return e.selectPage(e.page+1,t)}),i.Fc(6),i.Rb(),i.Rb(),i.Rb()),2&t&&(i.Ab(1),i.Cb(e.pageBtnClass),i.Eb("disabled",e.noPrevious())("previous",e.align),i.ic("ngClass",i.mc(18,_F,e.align,e.align)),i.Ab(2),i.Gc(e.getText("previous")),i.Ab(1),i.Cb(e.pageBtnClass),i.Eb("disabled",e.noNext())("next",e.align),i.ic("ngClass",i.mc(21,vF,e.align,e.align)),i.Ab(2),i.Gc(e.getText("next")))},directives:[I],encapsulation:2}),t})();const NF={provide:ri,useExisting:Object(i.U)(()=>jF),multi:!0};let jF=(()=>{class t{constructor(t,e,n){this.elementRef=t,this.changeDetection=n,this.numPages=new i.n,this.pageChanged=new i.n,this.onChange=Function.prototype,this.onTouched=Function.prototype,this.inited=!1,this._page=1,this.elementRef=t,this.config||this.configureOptions(e.main)}get itemsPerPage(){return this._itemsPerPage}set itemsPerPage(t){this._itemsPerPage=t,this.totalPages=this.calculateTotalPages()}get totalItems(){return this._totalItems}set totalItems(t){this._totalItems=t,this.totalPages=this.calculateTotalPages()}get totalPages(){return this._totalPages}set totalPages(t){this._totalPages=t,this.numPages.emit(t),this.inited&&this.selectPage(this.page)}set page(t){const e=this._page;this._page=t>this.totalPages?this.totalPages:t||1,this.changeDetection.markForCheck(),e!==this._page&&void 0!==e&&this.pageChanged.emit({page:this._page,itemsPerPage:this.itemsPerPage})}get page(){return this._page}configureOptions(t){this.config=Object.assign({},t)}ngOnInit(){"undefined"!=typeof window&&(this.classMap=this.elementRef.nativeElement.getAttribute("class")||""),this.maxSize=void 0!==this.maxSize?this.maxSize:this.config.maxSize,this.rotate=void 0!==this.rotate?this.rotate:this.config.rotate,this.boundaryLinks=void 0!==this.boundaryLinks?this.boundaryLinks:this.config.boundaryLinks,this.directionLinks=void 0!==this.directionLinks?this.directionLinks:this.config.directionLinks,this.pageBtnClass=void 0!==this.pageBtnClass?this.pageBtnClass:this.config.pageBtnClass,this.itemsPerPage=void 0!==this.itemsPerPage?this.itemsPerPage:this.config.itemsPerPage,this.totalPages=this.calculateTotalPages(),this.pages=this.getPages(this.page,this.totalPages),this.inited=!0}writeValue(t){this.page=t,this.pages=this.getPages(this.page,this.totalPages)}getText(t){return this[t+"Text"]||this.config[t+"Text"]}noPrevious(){return 1===this.page}noNext(){return this.page===this.totalPages}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}selectPage(t,e){e&&e.preventDefault(),this.disabled||(e&&e.target&&e.target.blur(),this.writeValue(t),this.onChange(this.page))}makePage(t,e,n){return{text:e,number:t,active:n}}getPages(t,e){const n=[];let i=1,r=e;const o=void 0!==this.maxSize&&this.maxSize<e;o&&(this.rotate?(i=Math.max(t-Math.floor(this.maxSize/2),1),r=i+this.maxSize-1,r>e&&(r=e,i=r-this.maxSize+1)):(i=(Math.ceil(t/this.maxSize)-1)*this.maxSize+1,r=Math.min(i+this.maxSize-1,e)));for(let s=i;s<=r;s++){const e=this.makePage(s,s.toString(),s===t);n.push(e)}if(o&&!this.rotate){if(i>1){const t=this.makePage(i-1,"...",!1);n.unshift(t)}if(r<e){const t=this.makePage(r+1,"...",!1);n.push(t)}}return n}calculateTotalPages(){const t=this.itemsPerPage<1?1:Math.ceil(this.totalItems/this.itemsPerPage);return Math.max(t||0,1)}}return t.\u0275fac=function(e){return new(e||t)(i.Mb(i.l),i.Mb(PF),i.Mb(i.h))},t.\u0275cmp=i.Gb({type:t,selectors:[["pagination"]],inputs:{itemsPerPage:"itemsPerPage",totalItems:"totalItems",maxSize:"maxSize",rotate:"rotate",boundaryLinks:"boundaryLinks",directionLinks:"directionLinks",pageBtnClass:"pageBtnClass",align:"align",firstText:"firstText",previousText:"previousText",nextText:"nextText",lastText:"lastText",disabled:"disabled",customPageTemplate:"customPageTemplate",customNextTemplate:"customNextTemplate",customPreviousTemplate:"customPreviousTemplate",customFirstTemplate:"customFirstTemplate",customLastTemplate:"customLastTemplate"},outputs:{numPages:"numPages",pageChanged:"pageChanged"},features:[i.zb([NF])],decls:16,vars:6,consts:[[1,"pagination",3,"ngClass"],["class","pagination-first page-item",3,"disabled",4,"ngIf"],["class","pagination-prev page-item",3,"disabled",4,"ngIf"],["class","pagination-page page-item",3,"active","disabled",4,"ngFor","ngForOf"],["class","pagination-next page-item",3,"disabled",4,"ngIf"],["class","pagination-last page-item",3,"disabled",4,"ngIf"],["defaultPageTemplate",""],["defaultNextTemplate",""],["defaultPreviousTemplate",""],["defaultFirstTemplate",""],["defaultLastTemplate",""],[1,"pagination-first","page-item"],["href","",1,"page-link",3,"click"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"pagination-prev","page-item"],[1,"pagination-page","page-item"],[1,"pagination-next","page-item"],[1,"pagination-last","page-item"]],template:function(t,e){1&t&&(i.Sb(0,"ul",0),i.Dc(1,wF,3,7,"li",1),i.Dc(2,CF,3,7,"li",2),i.Dc(3,kF,3,10,"li",3),i.Dc(4,OF,3,7,"li",4),i.Dc(5,TF,3,7,"li",5),i.Rb(),i.Dc(6,xF,1,1,"ng-template",null,6,i.Ec),i.Dc(8,EF,1,1,"ng-template",null,7,i.Ec),i.Dc(10,IF,1,1,"ng-template",null,8,i.Ec),i.Dc(12,AF,1,1,"ng-template",null,9,i.Ec),i.Dc(14,RF,1,1,"ng-template",null,10,i.Ec)),2&t&&(i.ic("ngClass",e.classMap),i.Ab(1),i.ic("ngIf",e.boundaryLinks),i.Ab(1),i.ic("ngIf",e.directionLinks),i.Ab(1),i.ic("ngForOf",e.pages),i.Ab(1),i.ic("ngIf",e.directionLinks),i.Ab(1),i.ic("ngIf",e.boundaryLinks))},directives:[I,D,R,q],encapsulation:2}),t})(),FF=(()=>{class t{static forRoot(){return{ngModule:t,providers:[]}}}return t.\u0275mod=i.Kb({type:t}),t.\u0275inj=i.Jb({factory:function(e){return new(e||t)},imports:[[K]]}),t})(),LF=(()=>{class t{static forRoot(){return{ngModule:t,providers:[]}}}return t.\u0275mod=i.Kb({type:t}),t.\u0275inj=i.Jb({factory:function(e){return new(e||t)},imports:[[K]]}),t})();function VF(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function UF(t){return"string"==typeof t}function qF(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function BF(t){return t&&t.getTime&&!isNaN(t.getTime())}function HF(t){return t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function zF(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)}function WF(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function GF(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function KF(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function $F(t){return void 0===t}function YF(t){const e=+t;let n=0;return 0!==e&&isFinite(e)&&(n=VF(e)),n}const QF={},ZF={date:"day",hour:"hours",minute:"minutes",second:"seconds",millisecond:"milliseconds"};function XF(t,e){const n=t.toLowerCase();let i=t;n in ZF&&(i=ZF[n]),QF[n]=QF[n+"s"]=QF[e]=i}function JF(t){return UF(t)?QF[t]||QF[t.toLowerCase()]:void 0}function tL(t,e,n){const i=""+Math.abs(t);return(t>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,e-i.length)).toString().substr(1)+i}let eL={},nL={};const iL=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g;function rL(t,e,n,i){t&&(nL[t]=i),e&&(nL[e[0]]=function(){return tL(i.apply(null,arguments),e[1],e[2])}),n&&(nL[n]=function(e,n){return n.locale.ordinal(i.apply(null,arguments),t)})}function oL(t,e,n){const i=new Date(Date.UTC.apply(null,arguments));return t<100&&t>=0&&isFinite(i.getUTCFullYear())&&i.setUTCFullYear(t),i}function sL(t,e=0,n=1,i=0,r=0,o=0,s=0){const a=new Date(t,e,n,i,r,o,s);return t<100&&t>=0&&isFinite(a.getFullYear())&&a.setFullYear(t),a}function aL(t,e=!1){return e?t.getUTCHours():t.getHours()}function cL(t,e=!1){return e?t.getUTCMinutes():t.getMinutes()}function uL(t,e=!1){return e?t.getUTCSeconds():t.getSeconds()}function lL(t,e=!1){return e?t.getUTCMilliseconds():t.getMilliseconds()}function hL(t,e=!1){return e?t.getUTCDay():t.getDay()}function dL(t,e=!1){return e?t.getUTCDate():t.getDate()}function fL(t,e=!1){return e?t.getUTCMonth():t.getMonth()}function pL(t,e=!1){return e?t.getUTCFullYear():t.getFullYear()}function gL(t,e){return!(!t||!e)&&mL(t,e)&&fL(t)===fL(e)}function mL(t,e){return!(!t||!e)&&pL(t)===pL(e)}function bL(t,e){return!(!t||!e)&&mL(t,e)&&gL(t,e)&&dL(t)===dL(e)}const _L=/\d/,vL=/\d\d/,yL=/\d{3}/,wL=/\d{4}/,CL=/[+-]?\d{6}/,SL=/\d\d?/,kL=/\d\d\d\d?/,OL=/\d\d\d\d\d\d?/,TL=/\d{1,3}/,xL=/\d{1,4}/,EL=/[+-]?\d{1,6}/,IL=/\d+/,AL=/[+-]?\d+/,RL=/Z|[+-]\d\d(?::?\d\d)?/gi,PL=/[+-]?\d+(\.\d{1,3})?/,DL=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,ML={};function NL(t,e,n){ML[t]=HF(e)?e:function(t,i){return t&&n?n:e}}function jL(t,e){return GF(ML,t)?ML[t](!1,e):new RegExp(FL(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(t,e,n,i,r)=>e||n||i||r)))}function FL(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}const LL={};function VL(t,e){const n=UF(t)?[t]:t;let i=e;if(zF(e)&&(i=function(t,n,i){return n[e]=YF(t),i}),WF(n)&&HF(i)){let t;for(t=0;t<n.length;t++)LL[n[t]]=i}}function UL(t,e){VL(t,function(t,n,i,r){return i._w=i._w||{},e(t,i._w,i,r)})}function qL(t,e,n){return null!=e&&GF(LL,t)&&LL[t](e,n._a,n,t),n}const BL={};function HL(t,e){BL[t]=e}function zL(t){return null==t._pf&&(t._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),t._pf}function WL(t,e){return e.locale.getFullYear?e.locale.getFullYear(t,e.isUTC).toString():pL(t,e.isUTC).toString()}function GL(t){return YF(t)+(YF(t)>68?1900:2e3)}function KL(t){return $L(t)?366:365}function $L(t){return t%4==0&&t%100!=0||t%400==0}function YL(t,e){if(isNaN(t)||isNaN(e))return NaN;const n=(e%12+12)%12;return 1===n?$L(t+(e-n)/12)?29:28:31-n%7%2}const QL={year:0,month:0,day:0,hour:0,minute:0,seconds:0};function ZL(t,e){const n=Object.assign({},QL,e),i=t.getFullYear()+(n.year||0),r=t.getMonth()+(n.month||0);let o=t.getDate()+(n.day||0);return n.month&&!n.day&&(o=Math.min(o,YL(i,r))),sL(i,r,o,t.getHours()+(n.hour||0),t.getMinutes()+(n.minute||0),t.getSeconds()+(n.seconds||0))}function XL(t,e){return zF(e)?e:t}function JL(t,e,n){const i=Math.min(dL(t),YL(pL(t),e));return n?t.setUTCMonth(e,i):t.setMonth(e,i),t}function tV(t,e,n){return n?t.setUTCDate(e):t.setDate(e),t}function eV(t){return new Date(t.getTime())}function nV(t,e,n){const i=eV(t);switch(e){case"year":JL(i,0,n);case"quarter":case"month":tV(i,1,n);case"week":case"isoWeek":case"day":case"date":!function(t,e,n){n?t.setUTCHours(0):t.setHours(0)}(i,0,n);case"hours":!function(t,e,n){n?t.setUTCMinutes(0):t.setMinutes(0)}(i,0,n);case"minutes":!function(t,e,n){n?t.setUTCSeconds(0):t.setSeconds(0)}(i,0,n);case"seconds":!function(t,e,n){n?t.setUTCMilliseconds(0):t.setMilliseconds(0)}(i,0,n)}return"week"===e&&function(t,e,n={}){vU(t,0-CU(t,n.locale,n.isUTC),"day")}(i,0,{isUTC:n}),"isoWeek"===e&&function(t,e,n={}){const i=function(t,e=MV()){return UF(t)?e.weekdaysParse(t)%7||7:zF(t)&&isNaN(t)?null:t}(1,n.locale);wU(t,function(t,e){return hL(t,void 0)}(t)%7?i:i-7)}(i),"quarter"===e&&JL(i,3*Math.floor(fL(i,n)/3),n),i}function iV(t,e,n){let i=e;return"date"===i&&(i="day"),function(t,e,n,i){return yU(t,mU(1,"milliseconds"),-1,i)}(vU(nV(t,i,n),1,"isoWeek"===i?"week":i,n),0,0,n)}function rV(t,e){const n=+nV(t,"day",e),i=+nV(t,"year",e);return Math.round((n-i)/864e5)+1}function oV(t,e,n){const i=e-n+7;return-(oL(t,0,i).getUTCDay()-e+7)%7+i-1}function sV(t,e,n,i){const r=oV(pL(t,i),e,n),o=Math.floor((rV(t,i)-r-1)/7)+1;let s,a;return o<1?(a=pL(t,i)-1,s=o+aV(a,e,n)):o>aV(pL(t,i),e,n)?(s=o-aV(pL(t,i),e,n),a=pL(t,i)+1):(a=pL(t,i),s=o),{week:s,year:a}}function aV(t,e,n){const i=oV(t,e,n),r=oV(t+1,e,n);return(KL(t)-i+r)/7}const cV=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,uV="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),lV="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),hV="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),dV="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),fV="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),pV={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},gV=DL,mV=DL;class bV{constructor(t){t&&this.set(t)}set(t){let e;for(e in t){if(!t.hasOwnProperty(e))continue;const n=t[e];this[HF(n)?e:"_"+e]=n}this._config=t}calendar(t,e,n){const i=this._calendar[t]||this._calendar.sameElse;return HF(i)?i.call(null,e,n):i}longDateFormat(t){const e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t])}get invalidDate(){return this._invalidDate}set invalidDate(t){this._invalidDate=t}ordinal(t,e){return this._ordinal.replace("%d",t.toString(10))}preparse(t,e){return t}getFullYear(t,e=!1){return pL(t,e)}postformat(t){return t}relativeTime(t,e,n,i){const r=this._relativeTime[n];return HF(r)?r(t,e,n,i):r.replace(/%d/i,t.toString(10))}pastFuture(t,e){const n=this._relativeTime[t>0?"future":"past"];return HF(n)?n(e):n.replace(/%s/i,e)}months(t,e,n=!1){if(!t)return WF(this._months)?this._months:this._months.standalone;if(WF(this._months))return this._months[fL(t,n)];const i=(this._months.isFormat||cV).test(e)?"format":"standalone";return this._months[i][fL(t,n)]}monthsShort(t,e,n=!1){if(!t)return WF(this._monthsShort)?this._monthsShort:this._monthsShort.standalone;if(WF(this._monthsShort))return this._monthsShort[fL(t,n)];const i=cV.test(e)?"format":"standalone";return this._monthsShort[i][fL(t,n)]}monthsParse(t,e,n){let i,r,o;if(this._monthsParseExact)return this.handleMonthStrictParse(t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),o=0;o<12;o++){if(i=new Date(Date.UTC(2e3,o)),n&&!this._longMonthsParse[o]){const t=this.months(i,"",!0).replace(".",""),e=this.monthsShort(i,"",!0).replace(".","");this._longMonthsParse[o]=new RegExp(`^${t}$`,"i"),this._shortMonthsParse[o]=new RegExp(`^${e}$`,"i")}if(n||this._monthsParse[o]||(r=`^${this.months(i,"",!0)}|^${this.monthsShort(i,"",!0)}`,this._monthsParse[o]=new RegExp(r.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[o].test(t))return o;if(n&&"MMM"===e&&this._shortMonthsParse[o].test(t))return o;if(!n&&this._monthsParse[o].test(t))return o}}monthsRegex(t){return this._monthsParseExact?(GF(this,"_monthsRegex")||this.computeMonthsParse(),t?this._monthsStrictRegex:this._monthsRegex):(GF(this,"_monthsRegex")||(this._monthsRegex=mV),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}monthsShortRegex(t){return this._monthsParseExact?(GF(this,"_monthsRegex")||this.computeMonthsParse(),t?this._monthsShortStrictRegex:this._monthsShortRegex):(GF(this,"_monthsShortRegex")||(this._monthsShortRegex=gV),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}week(t,e){return sV(t,this._week.dow,this._week.doy,e).week}firstDayOfWeek(){return this._week.dow}firstDayOfYear(){return this._week.doy}weekdays(t,e,n){if(!t)return WF(this._weekdays)?this._weekdays:this._weekdays.standalone;if(WF(this._weekdays))return this._weekdays[hL(t,n)];const i=this._weekdays.isFormat.test(e)?"format":"standalone";return this._weekdays[i][hL(t,n)]}weekdaysMin(t,e,n){return t?this._weekdaysMin[hL(t,n)]:this._weekdaysMin}weekdaysShort(t,e,n){return t?this._weekdaysShort[hL(t,n)]:this._weekdaysShort}weekdaysParse(t,e,n){let i,r;if(this._weekdaysParseExact)return this.handleWeekStrictParse(t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){const o=wU(new Date(Date.UTC(2e3,1)),i,null,!0);if(n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp(`^${this.weekdays(o,"",!0).replace(".",".?")}$`,"i"),this._shortWeekdaysParse[i]=new RegExp(`^${this.weekdaysShort(o,"",!0).replace(".",".?")}$`,"i"),this._minWeekdaysParse[i]=new RegExp(`^${this.weekdaysMin(o,"",!0).replace(".",".?")}$`,"i")),this._weekdaysParse[i]||(r=`^${this.weekdays(o,"",!0)}|^${this.weekdaysShort(o,"",!0)}|^${this.weekdaysMin(o,"",!0)}`,this._weekdaysParse[i]=new RegExp(r.replace(".",""),"i")),!(WF(this._fullWeekdaysParse)&&WF(this._shortWeekdaysParse)&&WF(this._minWeekdaysParse)&&WF(this._weekdaysParse)))return;if(n&&"dddd"===e&&this._fullWeekdaysParse[i].test(t))return i;if(n&&"ddd"===e&&this._shortWeekdaysParse[i].test(t))return i;if(n&&"dd"===e&&this._minWeekdaysParse[i].test(t))return i;if(!n&&this._weekdaysParse[i].test(t))return i}}weekdaysRegex(t){return this._weekdaysParseExact?(GF(this,"_weekdaysRegex")||this.computeWeekdaysParse(),t?this._weekdaysStrictRegex:this._weekdaysRegex):(GF(this,"_weekdaysRegex")||(this._weekdaysRegex=DL),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}weekdaysShortRegex(t){return this._weekdaysParseExact?(GF(this,"_weekdaysRegex")||this.computeWeekdaysParse(),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(GF(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=DL),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}weekdaysMinRegex(t){return this._weekdaysParseExact?(GF(this,"_weekdaysRegex")||this.computeWeekdaysParse(),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(GF(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=DL),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}isPM(t){return"p"===t.toLowerCase().charAt(0)}meridiem(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"}formatLongDate(t){this._longDateFormat=this._longDateFormat?this._longDateFormat:pV;const e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.replace(/MMMM|MM|DD|dddd/g,t=>t.slice(1)),this._longDateFormat[t])}handleMonthStrictParse(t,e,n){const i=t.toLocaleLowerCase();let r,o,s;if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)s=new Date(2e3,r),this._shortMonthsParse[r]=this.monthsShort(s,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(s,"").toLocaleLowerCase();return n?"MMM"===e?(o=this._shortMonthsParse.indexOf(i),-1!==o?o:null):(o=this._longMonthsParse.indexOf(i),-1!==o?o:null):"MMM"===e?(o=this._shortMonthsParse.indexOf(i),-1!==o?o:(o=this._longMonthsParse.indexOf(i),-1!==o?o:null)):(o=this._longMonthsParse.indexOf(i),-1!==o?o:(o=this._shortMonthsParse.indexOf(i),-1!==o?o:null))}handleWeekStrictParse(t,e,n){let i;const r=t.toLocaleLowerCase();if(!this._weekdaysParse){let t;for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],t=0;t<7;++t){const e=wU(new Date(Date.UTC(2e3,1)),t,null,!0);this._minWeekdaysParse[t]=this.weekdaysMin(e).toLocaleLowerCase(),this._shortWeekdaysParse[t]=this.weekdaysShort(e).toLocaleLowerCase(),this._weekdaysParse[t]=this.weekdays(e,"").toLocaleLowerCase()}}if(WF(this._weekdaysParse)&&WF(this._shortWeekdaysParse)&&WF(this._minWeekdaysParse))return n?"dddd"===e?(i=this._weekdaysParse.indexOf(r),-1!==i?i:null):"ddd"===e?(i=this._shortWeekdaysParse.indexOf(r),-1!==i?i:null):(i=this._minWeekdaysParse.indexOf(r),-1!==i?i:null):"dddd"===e?(i=this._weekdaysParse.indexOf(r),-1!==i?i:(i=this._shortWeekdaysParse.indexOf(r),-1!==i?i:(i=this._minWeekdaysParse.indexOf(r),-1!==i?i:null))):"ddd"===e?(i=this._shortWeekdaysParse.indexOf(r),-1!==i?i:(i=this._weekdaysParse.indexOf(r),-1!==i?i:(i=this._minWeekdaysParse.indexOf(r),-1!==i?i:null))):(i=this._minWeekdaysParse.indexOf(r),-1!==i?i:(i=this._weekdaysParse.indexOf(r),-1!==i?i:(i=this._shortWeekdaysParse.indexOf(r),-1!==i?i:null)))}computeMonthsParse(){const t=[],e=[],n=[];let i,r;for(r=0;r<12;r++)i=new Date(2e3,r),t.push(this.monthsShort(i,"")),e.push(this.months(i,"")),n.push(this.months(i,"")),n.push(this.monthsShort(i,""));for(t.sort(_V),e.sort(_V),n.sort(_V),r=0;r<12;r++)t[r]=FL(t[r]),e[r]=FL(e[r]);for(r=0;r<24;r++)n[r]=FL(n[r]);this._monthsRegex=new RegExp(`^(${n.join("|")})`,"i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp(`^(${e.join("|")})`,"i"),this._monthsShortStrictRegex=new RegExp(`^(${t.join("|")})`,"i")}computeWeekdaysParse(){const t=[],e=[],n=[],i=[];let r;for(r=0;r<7;r++){const o=wU(new Date(Date.UTC(2e3,1)),r,null,!0),s=this.weekdaysMin(o),a=this.weekdaysShort(o),c=this.weekdays(o);t.push(s),e.push(a),n.push(c),i.push(s),i.push(a),i.push(c)}for(t.sort(_V),e.sort(_V),n.sort(_V),i.sort(_V),r=0;r<7;r++)e[r]=FL(e[r]),n[r]=FL(n[r]),i[r]=FL(i[r]);this._weekdaysRegex=new RegExp(`^(${i.join("|")})`,"i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp(`^(${n.join("|")})`,"i"),this._weekdaysShortStrictRegex=new RegExp(`^(${e.join("|")})`,"i"),this._weekdaysMinStrictRegex=new RegExp(`^(${t.join("|")})`,"i")}}function _V(t,e){return e.length-t.length}const vV={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:pV,invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:uV,monthsShort:lV,week:{dow:0,doy:6},weekdays:hV,weekdaysMin:fV,weekdaysShort:dV,meridiemParse:/[ap]\.?m?\.?/i};function yV(t,e,n){const i=Math.min(t.length,e.length),r=Math.abs(t.length-e.length);let o,s=0;for(o=0;o<i;o++)(n&&t[o]!==e[o]||!n&&YF(t[o])!==YF(e[o]))&&s++;return s+r}function wV(t,e){rL(null,[t,t.length,!1],null,e)}function CV(t,e){return kV(t,e.locale).toString()}function SV(t){return OV(t).toString()}function kV(t,e=MV(),n){return sV(t,e.firstDayOfWeek(),e.firstDayOfYear(),n).year}function OV(t,e){return sV(t,1,4,e).year}function TV(t,e){rL(t,null,null,function(t,n){let i=function(t,e={}){return e._isUTC?e._offset||0:function(t){return 15*-Math.round(t.getTimezoneOffset()/15)}(t)}(t,{_isUTC:n.isUTC,_offset:n.offset}),r="+";return i<0&&(i=-i,r="-"),r+tL(~~(i/60),2)+e+tL(~~i%60,2)})}const xV=/([\+\-]|\d\d)/gi,EV={},IV={};let AV;function RV(t){return t?t.toLowerCase().replace("_","-"):t}function PV(t,e){let n;return t&&($F(e)?n=MV(t):UF(t)&&(n=DV(t,e)),n&&(AV=n)),AV&&AV._abbr}function DV(t,e){if(null===e)return delete EV[t],AV=MV("en"),null;if(!e)return;let n=vV;if(e.abbr=t,null!=e.parentLocale){if(null==EV[e.parentLocale])return IV[e.parentLocale]||(IV[e.parentLocale]=[]),IV[e.parentLocale].push({name:t,config:e}),null;n=EV[e.parentLocale]._config}return EV[t]=new bV(function(t,e){const n=Object.assign({},t);for(const i in e)GF(e,i)&&(KF(t[i])&&KF(e[i])?(n[i]={},Object.assign(n[i],t[i]),Object.assign(n[i],e[i])):null!=e[i]?n[i]=e[i]:delete n[i]);for(const i in t)GF(t,i)&&!GF(e,i)&&KF(t[i])&&(n[i]=Object.assign({},n[i]));return n}(n,e)),IV[t]&&IV[t].forEach(function(t){DV(t.name,t.config)}),PV(t),EV[t]}function MV(t){return EV.en||(PV("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal(t){const e=t%10;return t+(1===YF(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}}),rL("w",["ww",2,!1],"wo",function(t,e){return function(t,e=MV(),n){return e.week(t,void 0)}(t,e.locale).toString(10)}),rL("W",["WW",2,!1],"Wo",function(t){return function(t,e){return sV(t,1,4,void 0).week}(t).toString(10)}),XF("week","w"),XF("isoWeek","W"),HL("week",5),HL("isoWeek",5),NL("w",SL),NL("ww",SL,vL),NL("W",SL),NL("WW",SL,vL),UL(["w","ww","W","WW"],function(t,e,n,i){return e[i.substr(0,1)]=YF(t),n}),rL(null,["gg",2,!1],null,function(t,e){return(kV(t,e.locale)%100).toString()}),rL(null,["GG",2,!1],null,function(t){return(OV(t)%100).toString()}),wV("gggg",CV),wV("ggggg",CV),wV("GGGG",SV),wV("GGGGG",SV),XF("weekYear","gg"),XF("isoWeekYear","GG"),HL("weekYear",1),HL("isoWeekYear",1),NL("G",AL),NL("g",AL),NL("GG",SL,vL),NL("gg",SL,vL),NL("GGGG",xL,wL),NL("gggg",xL,wL),NL("GGGGG",EL,CL),NL("ggggg",EL,CL),UL(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,i){return e[i.substr(0,2)]=YF(t),n}),UL(["gg","GG"],function(t,e,n,i){return e[i]=GL(t),n}),rL("Y",null,null,function(t,e){const n=pL(t,e.isUTC);return n<=9999?n.toString(10):"+"+n}),rL(null,["YY",2,!1],null,function(t,e){return(pL(t,e.isUTC)%100).toString(10)}),rL(null,["YYYY",4,!1],null,WL),rL(null,["YYYYY",5,!1],null,WL),rL(null,["YYYYYY",6,!0],null,WL),XF("year","y"),HL("year",1),NL("Y",AL),NL("YY",SL,vL),NL("YYYY",xL,wL),NL("YYYYY",EL,CL),NL("YYYYYY",EL,CL),VL(["YYYYY","YYYYYY"],0),VL("YYYY",function(t,e,n){return e[0]=2===t.length?GL(t):YF(t),n}),VL("YY",function(t,e,n){return e[0]=GL(t),n}),VL("Y",function(t,e,n){return e[0]=parseInt(t,10),n}),rL("z",null,null,function(t,e){return e.isUTC?"UTC":""}),rL("zz",null,null,function(t,e){return e.isUTC?"Coordinated Universal Time":""}),rL("X",null,null,function(t){return function(t){return Math.floor(t.valueOf()/1e3)}(t).toString(10)}),rL("x",null,null,function(t){return t.valueOf().toString(10)}),NL("x",AL),NL("X",PL),VL("X",function(t,e,n){return n._d=new Date(1e3*parseFloat(t)),n}),VL("x",function(t,e,n){return n._d=new Date(YF(t)),n}),rL("s",["ss",2,!1],null,function(t,e){return uL(t,e.isUTC).toString(10)}),XF("second","s"),HL("second",15),NL("s",SL),NL("ss",SL,vL),VL(["s","ss"],5),rL("Q",null,"Qo",function(t,e){return function(t,e=!1){return Math.ceil((fL(t,e)+1)/3)}(t,e.isUTC).toString(10)}),XF("quarter","Q"),HL("quarter",7),NL("Q",_L),VL("Q",function(t,e,n){return e[1]=3*(YF(t)-1),n}),TV("Z",":"),TV("ZZ",""),NL("Z",RL),NL("ZZ",RL),VL(["Z","ZZ"],function(t,e,n){return n._useUTC=!0,n._tzm=function(t,e){const n=(e||"").match(t);if(null===n)return null;const i=n[n.length-1].match(xV)||["-","0","0"],r=60*parseInt(i[1],10)+YF(i[2]);return 0===r?0:"+"===i[0]?r:-r}(RL,t),n}),rL("M",["MM",2,!1],"Mo",function(t,e){return(fL(t,e.isUTC)+1).toString(10)}),rL("MMM",null,null,function(t,e){return e.locale.monthsShort(t,e.format,e.isUTC)}),rL("MMMM",null,null,function(t,e){return e.locale.months(t,e.format,e.isUTC)}),XF("month","M"),HL("month",8),NL("M",SL),NL("MM",SL,vL),NL("MMM",function(t,e){return e.monthsShortRegex(t)}),NL("MMMM",function(t,e){return e.monthsRegex(t)}),VL(["M","MM"],function(t,e,n){return e[1]=YF(t)-1,n}),VL(["MMM","MMMM"],function(t,e,n,i){const r=n._locale.monthsParse(t,i,n._strict);return null!=r?e[1]=r:zL(n).invalidMonth=!!t,n}),rL("m",["mm",2,!1],null,function(t,e){return cL(t,e.isUTC).toString(10)}),XF("minute","m"),HL("minute",14),NL("m",SL),NL("mm",SL,vL),VL(["m","mm"],4),function(){let t;for(rL("S",null,null,function(t,e){return(~~(lL(t,e.isUTC)/100)).toString(10)}),rL(null,["SS",2,!1],null,function(t,e){return(~~(lL(t,e.isUTC)/10)).toString(10)}),rL(null,["SSS",3,!1],null,function(t,e){return lL(t,e.isUTC).toString(10)}),rL(null,["SSSS",4,!1],null,function(t,e){return(10*lL(t,e.isUTC)).toString(10)}),rL(null,["SSSSS",5,!1],null,function(t,e){return(100*lL(t,e.isUTC)).toString(10)}),rL(null,["SSSSSS",6,!1],null,function(t,e){return(1e3*lL(t,e.isUTC)).toString(10)}),rL(null,["SSSSSSS",7,!1],null,function(t,e){return(1e4*lL(t,e.isUTC)).toString(10)}),rL(null,["SSSSSSSS",8,!1],null,function(t,e){return(1e5*lL(t,e.isUTC)).toString(10)}),rL(null,["SSSSSSSSS",9,!1],null,function(t,e){return(1e6*lL(t,e.isUTC)).toString(10)}),XF("millisecond","ms"),HL("millisecond",16),NL("S",TL,_L),NL("SS",TL,vL),NL("SSS",TL,yL),t="SSSS";t.length<=9;t+="S")NL(t,IL);function e(t,e,n){return e[6]=YF(1e3*parseFloat("0."+t)),n}for(t="S";t.length<=9;t+="S")VL(t,e)}(),function(){function t(t,e){return aL(t,e)%12||12}function e(t,e){rL(t,null,null,function(t,n){return n.locale.meridiem(aL(t,n.isUTC),cL(t,n.isUTC),e)})}function n(t,e){return e._meridiemParse}rL("H",["HH",2,!1],null,function(t,e){return aL(t,e.isUTC).toString(10)}),rL("h",["hh",2,!1],null,function(e,n){return t(e,n.isUTC).toString(10)}),rL("k",["kk",2,!1],null,function(t,e){return function(t,e){return aL(t,e)||24}(t,e.isUTC).toString(10)}),rL("hmm",null,null,function(e,n){return`${t(e,n.isUTC)}${tL(cL(e,n.isUTC),2)}`}),rL("hmmss",null,null,function(e,n){return`${t(e,n.isUTC)}${tL(cL(e,n.isUTC),2)}${tL(uL(e,n.isUTC),2)}`}),rL("Hmm",null,null,function(t,e){return`${aL(t,e.isUTC)}${tL(cL(t,e.isUTC),2)}`}),rL("Hmmss",null,null,function(t,e){return`${aL(t,e.isUTC)}${tL(cL(t,e.isUTC),2)}${tL(uL(t,e.isUTC),2)}`}),e("a",!0),e("A",!1),XF("hour","h"),HL("hour",13),NL("a",n),NL("A",n),NL("H",SL),NL("h",SL),NL("k",SL),NL("HH",SL,vL),NL("hh",SL,vL),NL("kk",SL,vL),NL("hmm",kL),NL("hmmss",OL),NL("Hmm",kL),NL("Hmmss",OL),VL(["H","HH"],3),VL(["k","kk"],function(t,e,n){const i=YF(t);return e[3]=24===i?0:i,n}),VL(["a","A"],function(t,e,n){return n._isPm=n._locale.isPM(t),n._meridiem=t,n}),VL(["h","hh"],function(t,e,n){return e[3]=YF(t),zL(n).bigHour=!0,n}),VL("hmm",function(t,e,n){const i=t.length-2;return e[3]=YF(t.substr(0,i)),e[4]=YF(t.substr(i)),zL(n).bigHour=!0,n}),VL("hmmss",function(t,e,n){const i=t.length-4,r=t.length-2;return e[3]=YF(t.substr(0,i)),e[4]=YF(t.substr(i,2)),e[5]=YF(t.substr(r)),zL(n).bigHour=!0,n}),VL("Hmm",function(t,e,n){const i=t.length-2;return e[3]=YF(t.substr(0,i)),e[4]=YF(t.substr(i)),n}),VL("Hmmss",function(t,e,n){const i=t.length-4,r=t.length-2;return e[3]=YF(t.substr(0,i)),e[4]=YF(t.substr(i,2)),e[5]=YF(t.substr(r)),n})}(),rL("DDD",["DDDD",3,!1],"DDDo",function(t){return rV(t).toString(10)}),XF("dayOfYear","DDD"),HL("dayOfYear",4),NL("DDD",TL),NL("DDDD",yL),VL(["DDD","DDDD"],function(t,e,n){return n._dayOfYear=YF(t),n}),rL("d",null,"do",function(t,e){return hL(t,e.isUTC).toString(10)}),rL("dd",null,null,function(t,e){return e.locale.weekdaysMin(t,e.format,e.isUTC)}),rL("ddd",null,null,function(t,e){return e.locale.weekdaysShort(t,e.format,e.isUTC)}),rL("dddd",null,null,function(t,e){return e.locale.weekdays(t,e.format,e.isUTC)}),rL("e",null,null,function(t,e){return CU(t,e.locale,e.isUTC).toString(10)}),rL("E",null,null,function(t,e){return function(t,e){return hL(t,e)||7}(t,e.isUTC).toString(10)}),XF("day","d"),XF("weekday","e"),XF("isoWeekday","E"),HL("day",11),HL("weekday",11),HL("isoWeekday",11),NL("d",SL),NL("e",SL),NL("E",SL),NL("dd",function(t,e){return e.weekdaysMinRegex(t)}),NL("ddd",function(t,e){return e.weekdaysShortRegex(t)}),NL("dddd",function(t,e){return e.weekdaysRegex(t)}),UL(["dd","ddd","dddd"],function(t,e,n,i){const r=n._locale.weekdaysParse(t,i,n._strict);return null!=r?e.d=r:zL(n).invalidWeekday=!!t,n}),UL(["d","e","E"],function(t,e,n,i){return e[i]=YF(t),n}),rL("D",["DD",2,!1],"Do",function(t,e){return dL(t,e.isUTC).toString(10)}),XF("date","D"),HL("date",9),NL("D",SL),NL("DD",SL,vL),NL("Do",function(t,e){return e._dayOfMonthOrdinalParse||e._ordinalParse}),VL(["D","DD"],2),VL("Do",function(t,e,n){return e[2]=YF(t.match(SL)[0]),n})),t?function(t){let e,n,i=0;for(;i<t.length;){const o=RV(t[i]).split("-");let s=o.length;for(e=RV(t[i+1]),e=e?e.split("-"):null;s>0;){if(r=o.slice(0,s).join("-"),EV[r]||console.error(`Khronos locale error: please load locale "${r}" before using it`),n=EV[r],n)return n;if(e&&e.length>=s&&yV(o,e,!0)>=s-1)break;s--}i++}var r;return null}(WF(t)?t:[t]):AV}const NV=["year","quarter","month","week","day","hours","minutes","seconds","milliseconds"],jV=NV.reduce((t,e)=>(t[e]=!0,t),{});function FV(t){return t<0?Math.floor(t):Math.ceil(t)}function LV(t){return 4800*t/146097}function VV(t){return 146097*t/4800}let UV=Math.round;function qV(t,e,n,i,r){return r.relativeTime(e||1,!!n,t,i)}class BV{constructor(t,e={}){this._data={},this._locale=MV(),this._locale=e&&e._locale||MV();const n=t.year||0,i=t.quarter||0,r=t.month||0,o=t.week||0,s=t.day||0,a=t.hours||0,c=t.minutes||0,u=t.seconds||0,l=t.milliseconds||0;return this._isValid=function(t){if(Object.keys(t).some(e=>e in jV&&null===t[e]||isNaN(t[e])))return!1;let e=!1;for(let n=0;n<NV.length;++n)if(t[NV[n]]){if(e)return!1;t[NV[n]]!==YF(t[NV[n]])&&(e=!0)}return!0}(t),this._milliseconds=+l+1e3*u+60*c*1e3+1e3*a*60*60,this._days=+s+7*o,this._months=+r+3*i+12*n,function(t){let e=t._milliseconds,n=t._days,i=t._months;const r=t._data;e>=0&&n>=0&&i>=0||e<=0&&n<=0&&i<=0||(e+=864e5*FV(VV(i)+n),n=0,i=0),r.milliseconds=e%1e3;const o=VF(e/1e3);r.seconds=o%60;const s=VF(o/60);r.minutes=s%60;const a=VF(s/60);r.hours=a%24,n+=VF(a/24);const c=VF(LV(n));i+=c,n-=FV(VV(c));const u=VF(i/12);return i%=12,r.day=n,r.month=i,r.year=u,t}(this)}isValid(){return this._isValid}humanize(t){if(!this.isValid())return this.localeData().invalidDate;const e=this.localeData();let n=function(t,e,n){const i=mU(t).abs(),r=UV(i.as("s")),o=UV(i.as("m")),s=UV(i.as("h")),a=UV(i.as("d")),c=UV(i.as("M")),u=UV(i.as("y")),l=r<=44&&["s",r]||r<45&&["ss",r]||o<=1&&["m"]||o<45&&["mm",o]||s<=1&&["h"]||s<22&&["hh",s]||a<=1&&["d"]||a<26&&["dd",a]||c<=1&&["M"]||c<11&&["MM",c]||u<=1&&["y"]||["yy",u];return qV.apply(null,[l[0],l[1],e,+t>0,n])}(this,!t,e);return t&&(n=e.pastFuture(+this,n)),e.postformat(n)}localeData(){return this._locale}locale(t){return t?(this._locale=MV(t)||this._locale,this):this._locale._abbr}abs(){const t=Math.abs,e=this._data;return this._milliseconds=t(this._milliseconds),this._days=t(this._days),this._months=t(this._months),e.milliseconds=t(e.milliseconds),e.seconds=t(e.seconds),e.minutes=t(e.minutes),e.hours=t(e.hours),e.month=t(e.month),e.year=t(e.year),this}as(t){if(!this.isValid())return NaN;let e,n;const i=this._milliseconds,r=JF(t);if("month"===r||"year"===r)return e=this._days+i/864e5,n=this._months+LV(e),"month"===r?n:n/12;switch(e=this._days+Math.round(VV(this._months)),r){case"week":return e/7+i/6048e5;case"day":return e+i/864e5;case"hours":return 24*e+i/36e5;case"minutes":return 1440*e+i/6e4;case"seconds":return 86400*e+i/1e3;case"milliseconds":return Math.floor(864e5*e)+i;default:throw new Error("Unknown unit "+r)}}valueOf(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*YF(this._months/12):NaN}}function HV(t){if(null==t._isValid){const e=zL(t),n=Array.prototype.some.call(e.parsedDateParts,function(t){return null!=t});let i=!isNaN(t._d&&t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n);if(t._strict&&(i=i&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour),null!=Object.isFrozen&&Object.isFrozen(t))return i;t._isValid=i}return t._isValid}function zV(t,e){return t._d=new Date(NaN),Object.assign(zL(t),e||{userInvalidated:!0}),t}const WV=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,GV=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,KV=/Z|[+-]\d\d(?::?\d\d)?/,$V=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/,!0],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/,!0],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/,!0],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/,!0],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/,!0],["YYYYMMDD",/\d{8}/,!0],["GGGG[W]WWE",/\d{4}W\d{3}/,!0],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/,!0]],YV=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],QV=/^\/?Date\((\-?\d+)/i,ZV={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480},XV=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;function JV(t){if(!UF(t._i))return t;const e=t._i,n=WV.exec(e)||GV.exec(e);let i,r,o,s,a,c;if(!n)return t._isValid=!1,t;for(a=0,c=$V.length;a<c;a++)if($V[a][1].exec(n[1])){r=$V[a][0],i=!1!==$V[a][2];break}if(null==r)return t._isValid=!1,t;if(n[3]){for(a=0,c=YV.length;a<c;a++)if(YV[a][1].exec(n[3])){o=(n[2]||" ")+YV[a][0];break}if(null==o)return t._isValid=!1,t}if(!i&&null!=o)return t._isValid=!1,t;if(n[4]){if(!KV.exec(n[4]))return t._isValid=!1,t;s="Z"}return t._f=r+(o||"")+(s||""),aU(t)}function tU(t){const e=parseInt(t,10);return e<=49?e+2e3:e}function eU(t){if(!UF(t._i))return t;const e=XV.exec(t._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim());if(!e)return function(t){return t._isValid=!1,t}(t);const n=function(t,e,n,i,r,o){const s=[tU(t),lV.indexOf(e),parseInt(n,10),parseInt(i,10),parseInt(r,10)];return o&&s.push(parseInt(o,10)),s}(e[4],e[3],e[2],e[5],e[6],e[7]);return function(t,e,n){return!t||dV.indexOf(t)===new Date(e[0],e[1],e[2]).getDay()||(zL(n).weekdayMismatch=!0,n._isValid=!1,!1)}(e[1],n,t)?(t._a=n,t._tzm=function(t,e,n){if(t)return ZV[t];if(e)return 0;{const t=parseInt(n,10),e=t%100;return(t-e)/100*60+e}}(e[8],e[9],e[10]),t._d=oL.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),zL(t).rfc2822=!0,t):t}function nU(t,e,n,i,r=0){const o=MV(n||"en");if(!o)throw new Error(`Locale "${n}" is not defined, please add it with "defineLocale(...)"`);const s=function(t,e,n,i,r=0){if(!BF(t))return n.invalidDate;const o=iU(e,n);return eL[o]=eL[o]||function(t){const e=t.match(iL),n=e.length,i=new Array(n);for(let o=0;o<n;o++)i[o]=nL[e[o]]?nL[e[o]]:(r=e[o]).match(/\[[\s\S]/)?r.replace(/^\[|\]$/g,""):r.replace(/\\/g,"");var r;return function(e,r,o,s=0){let a="";for(let c=0;c<n;c++)a+=HF(i[c])?i[c].call(null,e,{format:t,locale:r,isUTC:o,offset:s}):i[c];return a}}(o),eL[o](t,n,i,r)}(t,e||(i?"YYYY-MM-DDTHH:mm:ss[Z]":"YYYY-MM-DDTHH:mm:ssZ"),o,i,r);return s?o.postformat(s):s}function iU(t,e){let n=t,i=5;const r=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,o=t=>e.formatLongDate(t)||t;for(r.lastIndex=0;i>=0&&r.test(n);)n=n.replace(r,o),r.lastIndex=0,i-=1;return n}function rU(t,e,n){return null!=t?t:null!=e?e:n}function oU(t){const e=[];let n,i,r,o,s;if(t._d)return t;for(r=function(t){const e=new Date;return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}(t),t._w&&null==t._a[2]&&null==t._a[1]&&function(t){let e,n,i,r,o,s,a,c;if(e=t._w,null!=e.GG||null!=e.W||null!=e.E)o=1,s=4,n=rU(e.GG,t._a[0],sV(new Date,1,4).year),i=rU(e.W,1),r=rU(e.E,1),(r<1||r>7)&&(c=!0);else{o=t._locale._week.dow,s=t._locale._week.doy;const a=sV(new Date,o,s);n=rU(e.gg,t._a[0],a.year),i=rU(e.w,a.week),null!=e.d?(r=e.d,(r<0||r>6)&&(c=!0)):null!=e.e?(r=e.e+o,(e.e<0||e.e>6)&&(c=!0)):r=o}i<1||i>aV(n,o,s)?zL(t)._overflowWeeks=!0:null!=c?zL(t)._overflowWeekday=!0:(a=function(t,e,n,i,r){const o=1+7*(e-1)+(7+n-i)%7+oV(t,i,r);let s,a;return o<=0?(s=t-1,a=KL(s)+o):o>KL(t)?(s=t+1,a=o-KL(t)):(s=t,a=o),{year:s,dayOfYear:a}}(n,i,r,o,s),t._a[0]=a.year,t._dayOfYear=a.dayOfYear)}(t),null!=t._dayOfYear&&(s=rU(t._a[0],r[0]),(t._dayOfYear>KL(s)||0===t._dayOfYear)&&(zL(t)._overflowDayOfYear=!0),i=new Date(Date.UTC(s,0,t._dayOfYear)),t._a[1]=i.getUTCMonth(),t._a[2]=i.getUTCDate()),n=0;n<3&&null==t._a[n];++n)t._a[n]=e[n]=r[n];for(;n<7;n++)t._a[n]=e[n]=null==t._a[n]?2===n?1:0:t._a[n];return 24===t._a[3]&&0===t._a[4]&&0===t._a[5]&&0===t._a[6]&&(t._nextDay=!0,t._a[3]=0),t._d=(t._useUTC?oL:sL).apply(null,e),o=t._useUTC?t._d.getUTCDay():t._d.getDay(),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[3]=24),t._w&&void 0!==t._w.d&&t._w.d!==o&&(zL(t).weekdayMismatch=!0),t}function sU(t){let e;const n=t._a;return n&&-2===zL(t).overflow&&(e=n[1]<0||n[1]>11?1:n[2]<1||n[2]>YL(n[0],n[1])?2:n[3]<0||n[3]>24||24===n[3]&&(0!==n[4]||0!==n[5]||0!==n[6])?3:n[4]<0||n[4]>59?4:n[5]<0||n[5]>59?5:n[6]<0||n[6]>999?6:-1,zL(t)._overflowDayOfYear&&(e<0||e>2)&&(e=2),zL(t)._overflowWeeks&&-1===e&&(e=7),zL(t)._overflowWeekday&&-1===e&&(e=8),zL(t).overflow=e),t}function aU(t){if("ISO_8601"===t._f)return JV(t);if("RFC_2822"===t._f)return eU(t);if(t._a=[],zL(t).empty=!0,WF(t._f)||!t._i&&0!==t._i)return t;let e=t._i.toString(),n=0;const i=e.length,r=iU(t._f,t._locale).match(iL)||[];let o,s,a,c;for(o=0;o<r.length;o++)s=r[o],a=(e.match(jL(s,t._locale))||[])[0],a&&(c=e.substr(0,e.indexOf(a)),c.length>0&&zL(t).unusedInput.push(c),e=e.slice(e.indexOf(a)+a.length),n+=a.length),nL[s]?(a?zL(t).empty=!1:zL(t).unusedTokens.push(s),qL(s,a,t)):t._strict&&!a&&zL(t).unusedTokens.push(s);return zL(t).charsLeftOver=i-n,e.length>0&&zL(t).unusedInput.push(e),t._a[3]<=12&&!0===zL(t).bigHour&&t._a[3]>0&&(zL(t).bigHour=void 0),zL(t).parsedDateParts=t._a.slice(0),zL(t).meridiem=t._meridiem,t._a[3]=function(t,e,n){let i=e;if(null==n)return i;if(null!=t.meridiemHour)return t.meridiemHour(i,n);if(null==t.isPM)return i;const r=t.isPM(n);return r&&i<12&&(i+=12),r||12!==i||(i=0),i}(t._locale,t._a[3],t._meridiem),oU(t),sU(t)}function cU(t,e,n,i,r){return qF(t)?t:function(t,e,n,i,r){const o={};let s=t;return(KF(s)&&function(t){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(t).length;let e;for(e in t)if(t.hasOwnProperty(e))return!1;return!0}(s)||WF(s)&&0===s.length)&&(s=void 0),o._useUTC=o._isUTC=r,o._l=n,o._i=s,o._f=e,o._strict=i,function(t){const e=sU(function(t){let e=t._i;const n=t._f;return t._locale=t._locale||MV(t._l),null===e||void 0===n&&""===e?zV(t,{nullInput:!0}):(UF(e)&&(t._i=e=t._locale.preparse(e,n)),qF(e)?(t._d=eV(e),t):(WF(n)?function(t){let e,n,i,r,o;if(!t._f||0===t._f.length)return zL(t).invalidFormat=!0,zV(t);for(o=0;o<t._f.length;o++)r=0,e=Object.assign({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[o],aU(e),HV(e)&&(r+=zL(e).charsLeftOver,r+=10*zL(e).unusedTokens.length,zL(e).score=r,(null==i||r<i)&&(i=r,n=e));Object.assign(t,n||e)}(t):n?aU(t):function(t){const e=t._i;if($F(e))t._d=new Date;else if(qF(e))t._d=eV(e);else if(UF(e))!function(t){if(!UF(t._i))return t;const e=QV.exec(t._i);null!==e?t._d=new Date(+e[1]):(JV(t),!1!==t._isValid||(delete t._isValid,eU(t),!1!==t._isValid||(delete t._isValid,zV(t))))}(t);else if(WF(e)&&e.length){const n=e.slice(0);t._a=n.map(t=>UF(t)?parseInt(t,10):t),oU(t)}else if(KF(e))!function(t){if(t._d)return t;const e=t._i;if(KF(e)){const n=function(t){const e={};let n,i;for(i in t)GF(t,i)&&(n=JF(i),n&&(e[n]=t[i]));return e}(e);t._a=[n.year,n.month,n.day,n.hours,n.minutes,n.seconds,n.milliseconds].map(t=>UF(t)?parseInt(t,10):t)}oU(t)}(t);else{if(!zF(e))return zV(t);t._d=new Date(e)}}(t),HV(t)||(t._d=null),t))}(t));return e._d=new Date(null!=e._d?e._d.getTime():NaN),HV(Object.assign({},e,{_isValid:null}))||(e._d=new Date(NaN)),e}(o)}(t,e,n,i,r)._d}function uU(t){return t instanceof Date?new Date(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds()):null}function lU(t){return t<0?-1*Math.round(-1*t):Math.round(t)}function hU(t,e,n="milliseconds"){return!(!t||!e)&&("milliseconds"===n?t.valueOf()>e.valueOf():e.valueOf()<nV(t,n).valueOf())}function dU(t,e,n="milliseconds"){return!(!t||!e)&&("milliseconds"===n?t.valueOf()<e.valueOf():iV(t,n).valueOf()<e.valueOf())}function fU(t,e,n="milliseconds"){if(!t||!e)return!1;if("milliseconds"===n)return t.valueOf()===e.valueOf();const i=e.valueOf();return nV(t,n).valueOf()<=i&&i<=iV(t,n).valueOf()}const pU=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,gU=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function mU(t,e,n={}){const i=function(t,e){if(null==t)return{};if(t instanceof BV)return{milliseconds:t._milliseconds,day:t._days,month:t._months};if(zF(t))return e?{[e]:t}:{milliseconds:t};if(UF(t)){let e=pU.exec(t);if(e){const t="-"===e[1]?-1:1;return{year:0,day:YF(e[2])*t,hours:YF(e[3])*t,minutes:YF(e[4])*t,seconds:YF(e[5])*t,milliseconds:YF(lU(1e3*YF(e[6])))*t}}if(e=gU.exec(t),e){const t="-"===e[1]?-1:1;return{year:bU(e[2],t),month:bU(e[3],t),week:bU(e[4],t),day:bU(e[5],t),hours:bU(e[6],t),minutes:bU(e[7],t),seconds:bU(e[8],t)}}}if(KF(t)&&("from"in t||"to"in t)){const e=function(t,e){if(!BF(t)||!BF(e))return{milliseconds:0,months:0};let n;const i=function(t,e,n={}){if(!n._isUTC)return t;const i=eV(e),r=6e4*(n._offset||0),o=t.valueOf()-i.valueOf()+r;return i.setTime(i.valueOf()+o),i}(e,t,{_offset:t.getTimezoneOffset()});return dU(t,i)?n=_U(t,i):(n=_U(i,t),n.milliseconds=-n.milliseconds,n.months=-n.months),n}(cU(t.from),cU(t.to));return{milliseconds:e.milliseconds,month:e.months}}return t}(t,e);return new BV(i,n)}function bU(t,e){const n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function _U(t,e){const n={milliseconds:0,months:0};return n.months=fL(e)-fL(t)+12*(pL(e)-pL(t)),hU(vU(eV(t),n.months,"month"),e)&&--n.months,n.milliseconds=+e-+vU(eV(t),n.months,"month"),n}function vU(t,e,n,i){return yU(t,mU(e,n),1,i)}function yU(t,e,n,i){const r=e._milliseconds,o=lU(e._days),s=lU(e._months);return s&&JL(t,fL(t,i)+s*n,i),o&&tV(t,dL(t,i)+o*n,i),r&&function(t,e){t.setTime(e)}(t,function(t){return t.getTime()}(t)+r*n),eV(t)}function wU(t,e,n=MV(),i){const r=hL(t,i);return vU(t,function(t,e){if(!UF(t))return t;const n=parseInt(t,10);if(!isNaN(n))return n;const i=e.weekdaysParse(t);return zF(i)?i:null}(e,n)-r,"day")}function CU(t,e=MV(),n){return(hL(t,n)+7-e.firstDayOfWeek())%7}const SU=function(t){return 0===t?0:1===t?1:2===t?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5},kU={s:["\u0623\u0642\u0644 \u0645\u0646 \u062b\u0627\u0646\u064a\u0629","\u062b\u0627\u0646\u064a\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062b\u0627\u0646\u064a\u062a\u0627\u0646","\u062b\u0627\u0646\u064a\u062a\u064a\u0646"],"%d \u062b\u0648\u0627\u0646","%d \u062b\u0627\u0646\u064a\u0629","%d \u062b\u0627\u0646\u064a\u0629"],m:["\u0623\u0642\u0644 \u0645\u0646 \u062f\u0642\u064a\u0642\u0629","\u062f\u0642\u064a\u0642\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062f\u0642\u064a\u0642\u062a\u0627\u0646","\u062f\u0642\u064a\u0642\u062a\u064a\u0646"],"%d \u062f\u0642\u0627\u0626\u0642","%d \u062f\u0642\u064a\u0642\u0629","%d \u062f\u0642\u064a\u0642\u0629"],h:["\u0623\u0642\u0644 \u0645\u0646 \u0633\u0627\u0639\u0629","\u0633\u0627\u0639\u0629 \u0648\u0627\u062d\u062f\u0629",["\u0633\u0627\u0639\u062a\u0627\u0646","\u0633\u0627\u0639\u062a\u064a\u0646"],"%d \u0633\u0627\u0639\u0627\u062a","%d \u0633\u0627\u0639\u0629","%d \u0633\u0627\u0639\u0629"],d:["\u0623\u0642\u0644 \u0645\u0646 \u064a\u0648\u0645","\u064a\u0648\u0645 \u0648\u0627\u062d\u062f",["\u064a\u0648\u0645\u0627\u0646","\u064a\u0648\u0645\u064a\u0646"],"%d \u0623\u064a\u0627\u0645","%d \u064a\u0648\u0645\u064b\u0627","%d \u064a\u0648\u0645"],M:["\u0623\u0642\u0644 \u0645\u0646 \u0634\u0647\u0631","\u0634\u0647\u0631 \u0648\u0627\u062d\u062f",["\u0634\u0647\u0631\u0627\u0646","\u0634\u0647\u0631\u064a\u0646"],"%d \u0623\u0634\u0647\u0631","%d \u0634\u0647\u0631\u0627","%d \u0634\u0647\u0631"],y:["\u0623\u0642\u0644 \u0645\u0646 \u0639\u0627\u0645","\u0639\u0627\u0645 \u0648\u0627\u062d\u062f",["\u0639\u0627\u0645\u0627\u0646","\u0639\u0627\u0645\u064a\u0646"],"%d \u0623\u0639\u0648\u0627\u0645","%d \u0639\u0627\u0645\u064b\u0627","%d \u0639\u0627\u0645"]},OU=function(t){return function(e,n){const i=SU(e);let r=kU[t][SU(e)];return 2===i&&(r=r[n?0:1]),r.replace(/%d/i,e.toString())}};"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),OU("s"),OU("s"),OU("m"),OU("m"),OU("h"),OU("h"),OU("d"),OU("d"),OU("M"),OU("M"),OU("y"),OU("y"),"\u044f\u043d\u0443\u0430\u0440\u0438_\u0444\u0435\u0432\u0440\u0443\u0430\u0440\u0438_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0438\u043b_\u043c\u0430\u0439_\u044e\u043d\u0438_\u044e\u043b\u0438_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043f\u0442\u0435\u043c\u0432\u0440\u0438_\u043e\u043a\u0442\u043e\u043c\u0432\u0440\u0438_\u043d\u043e\u0435\u043c\u0432\u0440\u0438_\u0434\u0435\u043a\u0435\u043c\u0432\u0440\u0438".split("_"),"\u044f\u043d\u0440_\u0444\u0435\u0432_\u043c\u0430\u0440_\u0430\u043f\u0440_\u043c\u0430\u0439_\u044e\u043d\u0438_\u044e\u043b\u0438_\u0430\u0432\u0433_\u0441\u0435\u043f_\u043e\u043a\u0442_\u043d\u043e\u0435_\u0434\u0435\u043a".split("_"),"\u043d\u0435\u0434\u0435\u043b\u044f_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u044f\u0434\u0430_\u0447\u0435\u0442\u0432\u044a\u0440\u0442\u044a\u043a_\u043f\u0435\u0442\u044a\u043a_\u0441\u044a\u0431\u043e\u0442\u0430".split("_"),"\u043d\u0435\u0434_\u043f\u043e\u043d_\u0432\u0442\u043e_\u0441\u0440\u044f_\u0447\u0435\u0442_\u043f\u0435\u0442_\u0441\u044a\u0431".split("_"),"\u043d\u0434_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),"gen._feb._mar._abr._mai._jun._jul._ago._set._oct._nov._des.".split("_"),"ene_feb_mar_abr_mai_jun_jul_ago_set_oct_nov_des".split("_"),"gener_febrer_mar\xe7_abril_maig_juny_juliol_agost_setembre_octubre_novembre_desembre".split("_"),"diumenge_dilluns_dimarts_dimecres_dijous_divendres_dissabte".split("_"),"diu._dil._dim._dix._dij._div._dis.".split("_"),"dg_dl_dt_dc_dj_dv_ds".split("_");const TU="leden_\xfanor_b\u0159ezen_duben_kv\u011bten_\u010derven_\u010dervenec_srpen_z\xe1\u0159\xed_\u0159\xedjen_listopad_prosinec".split("_"),xU="led_\xfano_b\u0159e_dub_kv\u011b_\u010dvn_\u010dvc_srp_z\xe1\u0159_\u0159\xedj_lis_pro".split("_");(function(t,e){let n,i=[];for(n=0;n<12;n++)i[n]=new RegExp("^"+t[n]+"$|^"+e[n]+"$","i")})(TU,xU),function(t){let e,n=[];for(e=0;e<12;e++)n[e]=new RegExp("^"+t[e]+"$","i")}(xU),function(t){let e,n=[];for(e=0;e<12;e++)n[e]=new RegExp("^"+t[e]+"$","i")}(TU),"ned\u011ble_pond\u011bl\xed_\xfater\xfd_st\u0159eda_\u010dtvrtek_p\xe1tek_sobota".split("_"),"ne_po_\xfat_st_\u010dt_p\xe1_so".split("_"),"ne_po_\xfat_st_\u010dt_p\xe1_so".split("_"),"Januar_Februar_Marts_April_Maj_Juni_Juli_August_September_Oktober_November_December".split("_"),"Jan_Feb_Mar_Apr_Maj_Jun_Jul_Aug_Sep_Okt_Nov_Dec".split("_"),"S\xf8ndag_Mandag_Tirsdag_Onsdag_Torsdag_Fredag_L\xf8rdag".split("_"),"S\xf8n_Man_Tir_Ons_Tor_Fre_L\xf8r".split("_"),"S\xf8_Ma_Ti_On_To_Fr_L\xf8".split("_"),"Januar_Februar_M\xe4rz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),"Jan._Feb._M\xe4rz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),"ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),"do_lu_ma_mi_ju_vi_s\xe1".split("_"),"ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),"do_lu_ma_mi_ju_vi_s\xe1".split("_"),"ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),"do_lu_ma_mi_ju_vi_s\xe1".split("_"),"jaanuar_veebruar_m\xe4rts_aprill_mai_juuni_juuli_august_september_oktoober_november_detsember".split("_"),"jaan_veebr_m\xe4rts_apr_mai_juuni_juuli_aug_sept_okt_nov_dets".split("_"),"p\xfchap\xe4ev_esmasp\xe4ev_teisip\xe4ev_kolmap\xe4ev_neljap\xe4ev_reede_laup\xe4ev".split("_"),"P_E_T_K_N_R_L".split("_"),"P_E_T_K_N_R_L".split("_"),"nolla yksi kaksi kolme nelj\xe4 viisi kuusi seitsem\xe4n kahdeksan yhdeks\xe4n".split(" "),"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_kes\xe4kuu_hein\xe4kuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),"tammi_helmi_maalis_huhti_touko_kes\xe4_hein\xe4_elo_syys_loka_marras_joulu".split("_"),"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),"su_ma_ti_ke_to_pe_la".split("_"),"su_ma_ti_ke_to_pe_la".split("_"),"janvier_f\xe9vrier_mars_avril_mai_juin_juillet_ao\xfbt_septembre_octobre_novembre_d\xe9cembre".split("_"),"janv._f\xe9vr._mars_avr._mai_juin_juil._ao\xfbt_sept._oct._nov._d\xe9c.".split("_"),"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),"dim._lun._mar._mer._jeu._ven._sam.".split("_"),"di_lu_ma_me_je_ve_sa".split("_"),"xan._feb._mar._abr._mai._xu\xf1._xul._ago._set._out._nov._dec.".split("_"),"xan_feb_mar_abr_mai_xu\xf1_xul_ago_set_out_nov_dec".split("_"),"xaneiro_febreiro_marzo_abril_maio_xu\xf1o_xullo_agosto_setembro_outubro_novembro_decembro".split("_"),"domingo_luns_martes_m\xe9rcores_xoves_venres_s\xe1bado".split("_"),"dom._lun._mar._m\xe9r._xov._ven._s\xe1b.".split("_"),"do_lu_ma_m\xe9_xo_ve_s\xe1".split("_"),"\u05d9\u05e0\u05d5\u05d0\u05e8_\u05e4\u05d1\u05e8\u05d5\u05d0\u05e8_\u05de\u05e8\u05e5_\u05d0\u05e4\u05e8\u05d9\u05dc_\u05de\u05d0\u05d9_\u05d9\u05d5\u05e0\u05d9_\u05d9\u05d5\u05dc\u05d9_\u05d0\u05d5\u05d2\u05d5\u05e1\u05d8_\u05e1\u05e4\u05d8\u05de\u05d1\u05e8_\u05d0\u05d5\u05e7\u05d8\u05d5\u05d1\u05e8_\u05e0\u05d5\u05d1\u05de\u05d1\u05e8_\u05d3\u05e6\u05de\u05d1\u05e8".split("_"),"\u05d9\u05e0\u05d5\u05f3_\u05e4\u05d1\u05e8\u05f3_\u05de\u05e8\u05e5_\u05d0\u05e4\u05e8\u05f3_\u05de\u05d0\u05d9_\u05d9\u05d5\u05e0\u05d9_\u05d9\u05d5\u05dc\u05d9_\u05d0\u05d5\u05d2\u05f3_\u05e1\u05e4\u05d8\u05f3_\u05d0\u05d5\u05e7\u05f3_\u05e0\u05d5\u05d1\u05f3_\u05d3\u05e6\u05de\u05f3".split("_"),"\u05e8\u05d0\u05e9\u05d5\u05df_\u05e9\u05e0\u05d9_\u05e9\u05dc\u05d9\u05e9\u05d9_\u05e8\u05d1\u05d9\u05e2\u05d9_\u05d7\u05de\u05d9\u05e9\u05d9_\u05e9\u05d9\u05e9\u05d9_\u05e9\u05d1\u05ea".split("_"),"\u05d0\u05f3_\u05d1\u05f3_\u05d2\u05f3_\u05d3\u05f3_\u05d4\u05f3_\u05d5\u05f3_\u05e9\u05f3".split("_"),"\u05d0_\u05d1_\u05d2_\u05d3_\u05d4_\u05d5_\u05e9".split("_"),"\u091c\u0928\u0935\u0930\u0940_\u092b\u093c\u0930\u0935\u0930\u0940_\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u0948\u0932_\u092e\u0908_\u091c\u0942\u0928_\u091c\u0941\u0932\u093e\u0908_\u0905\u0917\u0938\u094d\u0924_\u0938\u093f\u0924\u092e\u094d\u092c\u0930_\u0905\u0915\u094d\u091f\u0942\u092c\u0930_\u0928\u0935\u092e\u094d\u092c\u0930_\u0926\u093f\u0938\u092e\u094d\u092c\u0930".split("_"),"\u091c\u0928._\u092b\u093c\u0930._\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u0948._\u092e\u0908_\u091c\u0942\u0928_\u091c\u0941\u0932._\u0905\u0917._\u0938\u093f\u0924._\u0905\u0915\u094d\u091f\u0942._\u0928\u0935._\u0926\u093f\u0938.".split("_"),"\u0930\u0935\u093f\u0935\u093e\u0930_\u0938\u094b\u092e\u0935\u093e\u0930_\u092e\u0902\u0917\u0932\u0935\u093e\u0930_\u092c\u0941\u0927\u0935\u093e\u0930_\u0917\u0941\u0930\u0942\u0935\u093e\u0930_\u0936\u0941\u0915\u094d\u0930\u0935\u093e\u0930_\u0936\u0928\u093f\u0935\u093e\u0930".split("_"),"\u0930\u0935\u093f_\u0938\u094b\u092e_\u092e\u0902\u0917\u0932_\u092c\u0941\u0927_\u0917\u0941\u0930\u0942_\u0936\u0941\u0915\u094d\u0930_\u0936\u0928\u093f".split("_"),"\u0930_\u0938\u094b_\u092e\u0902_\u092c\u0941_\u0917\u0941_\u0936\u0941_\u0936".split("_"),"vas\xe1rnap h\xe9tf\u0151n kedden szerd\xe1n cs\xfct\xf6rt\xf6k\xf6n p\xe9nteken szombaton".split(" "),"janu\xe1r_febru\xe1r_m\xe1rcius_\xe1prilis_m\xe1jus_j\xfanius_j\xfalius_augusztus_szeptember_okt\xf3ber_november_december".split("_"),"jan_feb_m\xe1rc_\xe1pr_m\xe1j_j\xfan_j\xfal_aug_szept_okt_nov_dec".split("_"),"vas\xe1rnap_h\xe9tf\u0151_kedd_szerda_cs\xfct\xf6rt\xf6k_p\xe9ntek_szombat".split("_"),"vas_h\xe9t_kedd_sze_cs\xfct_p\xe9n_szo".split("_"),"v_h_k_sze_cs_p_szo".split("_"),"Sije\u010danj_Velja\u010da_O\u017eujak_Travanj_Svibanj_Lipanj_Srpanj_Kolovoz_Rujan_Listopad_Studeni_Prosinac".split("_"),"Sij_Velj_O\u017eu_Tra_Svi_Lip_Srp_Kol_Ruj_Lis_Stu_Pro".split("_"),"Nedjelja_Ponedjeljak_Utorak_Srijeda_\u010cetvrtak_Petak_Subota".split("_"),"Ned_Pon_Uto_Sri_\u010cet_Pet_Sub".split("_"),"Ne_Po_Ut_Sr_\u010ce_Pe_Su".split("_"),"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nov_Des".split("_"),"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),"domenica_luned\xec_marted\xec_mercoled\xec_gioved\xec_venerd\xec_sabato".split("_"),"dom_lun_mar_mer_gio_ven_sab".split("_"),"do_lu_ma_me_gi_ve_sa".split("_"),"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),"\u65e5\u66dc\u65e5_\u6708\u66dc\u65e5_\u706b\u66dc\u65e5_\u6c34\u66dc\u65e5_\u6728\u66dc\u65e5_\u91d1\u66dc\u65e5_\u571f\u66dc\u65e5".split("_"),"\u65e5_\u6708_\u706b_\u6c34_\u6728_\u91d1_\u571f".split("_"),"\u65e5_\u6708_\u706b_\u6c34_\u6728_\u91d1_\u571f".split("_"),"\u10d8\u10d0\u10dc\u10d5\u10d0\u10e0\u10e1_\u10d7\u10d4\u10d1\u10d4\u10e0\u10d5\u10d0\u10da\u10e1_\u10db\u10d0\u10e0\u10e2\u10e1_\u10d0\u10de\u10e0\u10d8\u10da\u10d8\u10e1_\u10db\u10d0\u10d8\u10e1\u10e1_\u10d8\u10d5\u10dc\u10d8\u10e1\u10e1_\u10d8\u10d5\u10da\u10d8\u10e1\u10e1_\u10d0\u10d2\u10d5\u10d8\u10e1\u10e2\u10e1_\u10e1\u10d4\u10e5\u10e2\u10d4\u10db\u10d1\u10d4\u10e0\u10e1_\u10dd\u10e5\u10e2\u10dd\u10db\u10d1\u10d4\u10e0\u10e1_\u10dc\u10dd\u10d4\u10db\u10d1\u10d4\u10e0\u10e1_\u10d3\u10d4\u10d9\u10d4\u10db\u10d1\u10d4\u10e0\u10e1".split("_"),"\u10d8\u10d0\u10dc\u10d5\u10d0\u10e0\u10d8_\u10d7\u10d4\u10d1\u10d4\u10e0\u10d5\u10d0\u10da\u10d8_\u10db\u10d0\u10e0\u10e2\u10d8_\u10d0\u10de\u10e0\u10d8\u10da\u10d8_\u10db\u10d0\u10d8\u10e1\u10d8_\u10d8\u10d5\u10dc\u10d8\u10e1\u10d8_\u10d8\u10d5\u10da\u10d8\u10e1\u10d8_\u10d0\u10d2\u10d5\u10d8\u10e1\u10e2\u10dd_\u10e1\u10d4\u10e5\u10e2\u10d4\u10db\u10d1\u10d4\u10e0\u10d8_\u10dd\u10e5\u10e2\u10dd\u10db\u10d1\u10d4\u10e0\u10d8_\u10dc\u10dd\u10d4\u10db\u10d1\u10d4\u10e0\u10d8_\u10d3\u10d4\u10d9\u10d4\u10db\u10d1\u10d4\u10e0\u10d8".split("_"),"\u10d8\u10d0\u10dc_\u10d7\u10d4\u10d1_\u10db\u10d0\u10e0_\u10d0\u10de\u10e0_\u10db\u10d0\u10d8_\u10d8\u10d5\u10dc_\u10d8\u10d5\u10da_\u10d0\u10d2\u10d5_\u10e1\u10d4\u10e5_\u10dd\u10e5\u10e2_\u10dc\u10dd\u10d4_\u10d3\u10d4\u10d9".split("_"),"\u10d9\u10d5\u10d8\u10e0\u10d0_\u10dd\u10e0\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10e1\u10d0\u10db\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10dd\u10d7\u10ee\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10ee\u10e3\u10d7\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10de\u10d0\u10e0\u10d0\u10e1\u10d9\u10d4\u10d5\u10d8_\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8".split("_"),"\u10d9\u10d5\u10d8\u10e0\u10d0\u10e1_\u10dd\u10e0\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10e1\u10d0\u10db\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10dd\u10d7\u10ee\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10ee\u10e3\u10d7\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10de\u10d0\u10e0\u10d0\u10e1\u10d9\u10d4\u10d5\u10e1_\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1".split("_"),"\u10d9\u10d5\u10d8_\u10dd\u10e0\u10e8_\u10e1\u10d0\u10db_\u10dd\u10d7\u10ee_\u10ee\u10e3\u10d7_\u10de\u10d0\u10e0_\u10e8\u10d0\u10d1".split("_"),"\u10d9\u10d5_\u10dd\u10e0_\u10e1\u10d0_\u10dd\u10d7_\u10ee\u10e3_\u10de\u10d0_\u10e8\u10d0".split("_"),"\u049b\u0430\u04a3\u0442\u0430\u0440_\u0430\u049b\u043f\u0430\u043d_\u043d\u0430\u0443\u0440\u044b\u0437_\u0441\u04d9\u0443\u0456\u0440_\u043c\u0430\u043c\u044b\u0440_\u043c\u0430\u0443\u0441\u044b\u043c_\u0448\u0456\u043b\u0434\u0435_\u0442\u0430\u043c\u044b\u0437_\u049b\u044b\u0440\u043a\u04af\u0439\u0435\u043a_\u049b\u0430\u0437\u0430\u043d_\u049b\u0430\u0440\u0430\u0448\u0430_\u0436\u0435\u043b\u0442\u043e\u049b\u0441\u0430\u043d".split("_"),"\u049b\u0430\u04a3_\u0430\u049b\u043f_\u043d\u0430\u0443_\u0441\u04d9\u0443_\u043c\u0430\u043c_\u043c\u0430\u0443_\u0448\u0456\u043b_\u0442\u0430\u043c_\u049b\u044b\u0440_\u049b\u0430\u0437_\u049b\u0430\u0440_\u0436\u0435\u043b".split("_"),"\u0436\u0435\u043a\u0441\u0435\u043d\u0431\u0456_\u0434\u04af\u0439\u0441\u0435\u043d\u0431\u0456_\u0441\u0435\u0439\u0441\u0435\u043d\u0431\u0456_\u0441\u04d9\u0440\u0441\u0435\u043d\u0431\u0456_\u0431\u0435\u0439\u0441\u0435\u043d\u0431\u0456_\u0436\u04b1\u043c\u0430_\u0441\u0435\u043d\u0431\u0456".split("_"),"\u0436\u0435\u043a_\u0434\u04af\u0439_\u0441\u0435\u0439_\u0441\u04d9\u0440_\u0431\u0435\u0439_\u0436\u04b1\u043c_\u0441\u0435\u043d".split("_"),"\u0436\u043a_\u0434\u0439_\u0441\u0439_\u0441\u0440_\u0431\u0439_\u0436\u043c_\u0441\u043d".split("_"),"1\uc6d4_2\uc6d4_3\uc6d4_4\uc6d4_5\uc6d4_6\uc6d4_7\uc6d4_8\uc6d4_9\uc6d4_10\uc6d4_11\uc6d4_12\uc6d4".split("_"),"1\uc6d4_2\uc6d4_3\uc6d4_4\uc6d4_5\uc6d4_6\uc6d4_7\uc6d4_8\uc6d4_9\uc6d4_10\uc6d4_11\uc6d4_12\uc6d4".split("_"),"\uc77c\uc694\uc77c_\uc6d4\uc694\uc77c_\ud654\uc694\uc77c_\uc218\uc694\uc77c_\ubaa9\uc694\uc77c_\uae08\uc694\uc77c_\ud1a0\uc694\uc77c".split("_"),"\uc77c_\uc6d4_\ud654_\uc218_\ubaa9_\uae08_\ud1a0".split("_"),"\uc77c_\uc6d4_\ud654_\uc218_\ubaa9_\uae08_\ud1a0".split("_"),"sausio_vasario_kovo_baland\u017eio_gegu\u017e\u0117s_bir\u017eelio_liepos_rugpj\u016b\u010dio_rugs\u0117jo_spalio_lapkri\u010dio_gruod\u017eio".split("_"),"sausis_vasaris_kovas_balandis_gegu\u017e\u0117_bir\u017eelis_liepa_rugpj\u016btis_rugs\u0117jis_spalis_lapkritis_gruodis".split("_"),"sau_vas_kov_bal_geg_bir_lie_rgp_rgs_spa_lap_grd".split("_"),"sekmadien\u012f_pirmadien\u012f_antradien\u012f_tre\u010diadien\u012f_ketvirtadien\u012f_penktadien\u012f_\u0161e\u0161tadien\u012f".split("_"),"sekmadienis_pirmadienis_antradienis_tre\u010diadienis_ketvirtadienis_penktadienis_\u0161e\u0161tadienis".split("_"),"Sek_Pir_Ant_Tre_Ket_Pen_\u0160e\u0161".split("_"),"S_P_A_T_K_Pn_\u0160".split("_"),"Janv\u0101ris_Febru\u0101ris_Marts_Apr\u012blis_Maijs_J\u016bnijs_J\u016blijs_Augusts_Septembris_Oktobris_Novembris_Decembris".split("_"),"Jan_Feb_Mar_Apr_Mai_J\u016bn_J\u016bl_Aug_Sep_Okt_Nov_Dec".split("_"),"Sv\u0113tdiena_Pirmdiena_Otrdiena_Tre\u0161diena_Ceturtdiena_Piektdiena_Sestdiena".split("_"),"Sv\u0113td_Pirmd_Otrd_Tre\u0161d_Ceturtd_Piektd_Sestd".split("_"),"Sv_Pi_Ot_Tr_Ce_Pk_Se".split("_"),"\u041d\u044d\u0433\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0425\u043e\u0451\u0440\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0413\u0443\u0440\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0414\u04e9\u0440\u04e9\u0432\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0422\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0417\u0443\u0440\u0433\u0430\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0414\u043e\u043b\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u041d\u0430\u0439\u043c\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0415\u0441\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0410\u0440\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0410\u0440\u0432\u0430\u043d \u043d\u044d\u0433\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0410\u0440\u0432\u0430\u043d \u0445\u043e\u0451\u0440\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440".split("_"),"1 \u0441\u0430\u0440_2 \u0441\u0430\u0440_3 \u0441\u0430\u0440_4 \u0441\u0430\u0440_5 \u0441\u0430\u0440_6 \u0441\u0430\u0440_7 \u0441\u0430\u0440_8 \u0441\u0430\u0440_9 \u0441\u0430\u0440_10 \u0441\u0430\u0440_11 \u0441\u0430\u0440_12 \u0441\u0430\u0440".split("_"),"\u041d\u044f\u043c_\u0414\u0430\u0432\u0430\u0430_\u041c\u044f\u0433\u043c\u0430\u0440_\u041b\u0445\u0430\u0433\u0432\u0430_\u041f\u04af\u0440\u044d\u0432_\u0411\u0430\u0430\u0441\u0430\u043d_\u0411\u044f\u043c\u0431\u0430".split("_"),"\u041d\u044f\u043c_\u0414\u0430\u0432_\u041c\u044f\u0433_\u041b\u0445\u0430_\u041f\u04af\u0440_\u0411\u0430\u0430_\u0411\u044f\u043c".split("_"),"\u041d\u044f_\u0414\u0430_\u041c\u044f_\u041b\u0445_\u041f\u04af_\u0411\u0430_\u0411\u044f".split("_"),"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),"jan._feb._mars_april_mai_juni_juli_aug._sep._okt._nov._des.".split("_"),"s\xf8ndag_mandag_tirsdag_onsdag_torsdag_fredag_l\xf8rdag".split("_"),"s\xf8._ma._ti._on._to._fr._l\xf8.".split("_"),"s\xf8_ma_ti_on_to_fr_l\xf8".split("_"),"jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),"jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),"zo._ma._di._wo._do._vr._za.".split("_"),"zo_ma_di_wo_do_vr_za".split("_"),"jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),"jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),"zo._ma._di._wo._do._vr._za.".split("_"),"zo_ma_di_wo_do_vr_za".split("_"),"stycze\u0144_luty_marzec_kwiecie\u0144_maj_czerwiec_lipiec_sierpie\u0144_wrzesie\u0144_pa\u017adziernik_listopad_grudzie\u0144".split("_"),"stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_wrze\u015bnia_pa\u017adziernika_listopada_grudnia".split("_"),"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_pa\u017a_lis_gru".split("_"),"niedziela_poniedzia\u0142ek_wtorek_\u015broda_czwartek_pi\u0105tek_sobota".split("_"),"ndz_pon_wt_\u015br_czw_pt_sob".split("_"),"Nd_Pn_Wt_\u015ar_Cz_Pt_So".split("_"),"Janeiro_Fevereiro_Mar\xe7o_Abril_Maio_Junho_Julho_Agosto_Setembro_Outubro_Novembro_Dezembro".split("_"),"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),"Domingo_Segunda-feira_Ter\xe7a-feira_Quarta-feira_Quinta-feira_Sexta-feira_S\xe1bado".split("_"),"Dom_Seg_Ter_Qua_Qui_Sex_S\xe1b".split("_"),"Do_2\xaa_3\xaa_4\xaa_5\xaa_6\xaa_S\xe1".split("_"),"ianuarie_februarie_martie_aprilie_mai_iunie_iulie_august_septembrie_octombrie_noiembrie_decembrie".split("_"),"ian._febr._mart._apr._mai_iun._iul._aug._sept._oct._nov._dec.".split("_"),"duminic\u0103_luni_mar\u021bi_miercuri_joi_vineri_s\xe2mb\u0103t\u0103".split("_"),"Dum_Lun_Mar_Mie_Joi_Vin_S\xe2m".split("_"),"Du_Lu_Ma_Mi_Jo_Vi_S\xe2".split("_"),"\u044f\u043d\u0432\u0430\u0440\u044f_\u0444\u0435\u0432\u0440\u0430\u043b\u044f_\u043c\u0430\u0440\u0442\u0430_\u0430\u043f\u0440\u0435\u043b\u044f_\u043c\u0430\u044f_\u0438\u044e\u043d\u044f_\u0438\u044e\u043b\u044f_\u0430\u0432\u0433\u0443\u0441\u0442\u0430_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044f_\u043e\u043a\u0442\u044f\u0431\u0440\u044f_\u043d\u043e\u044f\u0431\u0440\u044f_\u0434\u0435\u043a\u0430\u0431\u0440\u044f".split("_"),"\u044f\u043d\u0432\u0430\u0440\u044c_\u0444\u0435\u0432\u0440\u0430\u043b\u044c_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0435\u043b\u044c_\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044c_\u043e\u043a\u0442\u044f\u0431\u0440\u044c_\u043d\u043e\u044f\u0431\u0440\u044c_\u0434\u0435\u043a\u0430\u0431\u0440\u044c".split("_"),"\u044f\u043d\u0432._\u0444\u0435\u0432\u0440._\u043c\u0430\u0440._\u0430\u043f\u0440._\u043c\u0430\u044f_\u0438\u044e\u043d\u044f_\u0438\u044e\u043b\u044f_\u0430\u0432\u0433._\u0441\u0435\u043d\u0442._\u043e\u043a\u0442._\u043d\u043e\u044f\u0431._\u0434\u0435\u043a.".split("_"),"\u044f\u043d\u0432._\u0444\u0435\u0432\u0440._\u043c\u0430\u0440\u0442_\u0430\u043f\u0440._\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433._\u0441\u0435\u043d\u0442._\u043e\u043a\u0442._\u043d\u043e\u044f\u0431._\u0434\u0435\u043a.".split("_"),"\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u0435\u0434\u0430_\u0447\u0435\u0442\u0432\u0435\u0440\u0433_\u043f\u044f\u0442\u043d\u0438\u0446\u0430_\u0441\u0443\u0431\u0431\u043e\u0442\u0430".split("_"),"\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u0435\u0434\u0443_\u0447\u0435\u0442\u0432\u0435\u0440\u0433_\u043f\u044f\u0442\u043d\u0438\u0446\u0443_\u0441\u0443\u0431\u0431\u043e\u0442\u0443".split("_"),"\u0432\u0441_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),"\u0432\u0441_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),"janu\xe1r_febru\xe1r_marec_apr\xedl_m\xe1j_j\xfan_j\xfal_august_september_okt\xf3ber_november_december".split("_"),"jan_feb_mar_apr_m\xe1j_j\xfan_j\xfal_aug_sep_okt_nov_dec".split("_"),"nede\u013ea_pondelok_utorok_streda_\u0161tvrtok_piatok_sobota".split("_"),"ne_po_ut_st_\u0161t_pi_so".split("_"),"ne_po_ut_st_\u0161t_pi_so".split("_"),"januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december".split("_"),"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),"nedelja_ponedeljek_torek_sreda_\u010detrtek_petek_sobota".split("_"),"ned._pon._tor._sre._\u010det._pet._sob.".split("_"),"ne_po_to_sr_\u010de_pe_so".split("_"),"Janar_Shkurt_Mars_Prill_Maj_Qershor_Korrik_Gusht_Shtator_Tetor_N\xebntor_Dhjetor".split("_"),"Jan_Shk_Mar_Pri_Maj_Qer_Kor_Gus_Sht_Tet_N\xebn_Dhj".split("_"),"E Diel\xeb_E H\xebn\xeb_E Mart\xeb_E M\xebrkur\xeb_E Enjte_E Premte_E Shtun\xeb".split("_"),"Die_H\xebn_Mar_M\xebr_Enj_Pre_Sht".split("_"),"Di_He_Ma_Me_En_Pr_Sh".split("_"),"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),"s\xf6ndag_m\xe5ndag_tisdag_onsdag_torsdag_fredag_l\xf6rdag".split("_"),"s\xf6n_m\xe5n_tis_ons_tor_fre_l\xf6r".split("_"),"s\xf6_m\xe5_ti_on_to_fr_l\xf6".split("_"),"\u0e21\u0e01\u0e23\u0e32\u0e04\u0e21_\u0e01\u0e38\u0e21\u0e20\u0e32\u0e1e\u0e31\u0e19\u0e18\u0e4c_\u0e21\u0e35\u0e19\u0e32\u0e04\u0e21_\u0e40\u0e21\u0e29\u0e32\u0e22\u0e19_\u0e1e\u0e24\u0e29\u0e20\u0e32\u0e04\u0e21_\u0e21\u0e34\u0e16\u0e38\u0e19\u0e32\u0e22\u0e19_\u0e01\u0e23\u0e01\u0e0e\u0e32\u0e04\u0e21_\u0e2a\u0e34\u0e07\u0e2b\u0e32\u0e04\u0e21_\u0e01\u0e31\u0e19\u0e22\u0e32\u0e22\u0e19_\u0e15\u0e38\u0e25\u0e32\u0e04\u0e21_\u0e1e\u0e24\u0e28\u0e08\u0e34\u0e01\u0e32\u0e22\u0e19_\u0e18\u0e31\u0e19\u0e27\u0e32\u0e04\u0e21".split("_"),"\u0e21.\u0e04._\u0e01.\u0e1e._\u0e21\u0e35.\u0e04._\u0e40\u0e21.\u0e22._\u0e1e.\u0e04._\u0e21\u0e34.\u0e22._\u0e01.\u0e04._\u0e2a.\u0e04._\u0e01.\u0e22._\u0e15.\u0e04._\u0e1e.\u0e22._\u0e18.\u0e04.".split("_"),"\u0e2d\u0e32\u0e17\u0e34\u0e15\u0e22\u0e4c_\u0e08\u0e31\u0e19\u0e17\u0e23\u0e4c_\u0e2d\u0e31\u0e07\u0e04\u0e32\u0e23_\u0e1e\u0e38\u0e18_\u0e1e\u0e24\u0e2b\u0e31\u0e2a\u0e1a\u0e14\u0e35_\u0e28\u0e38\u0e01\u0e23\u0e4c_\u0e40\u0e2a\u0e32\u0e23\u0e4c".split("_"),"\u0e2d\u0e32._\u0e08._\u0e2d._\u0e1e._\u0e1e\u0e24._\u0e28._\u0e2a.".split("_"),"\u0e2d\u0e32._\u0e08._\u0e2d._\u0e1e._\u0e1e\u0e24._\u0e28._\u0e2a.".split("_");const EU={abbr:"th-be",months:"\u0e21\u0e01\u0e23\u0e32\u0e04\u0e21_\u0e01\u0e38\u0e21\u0e20\u0e32\u0e1e\u0e31\u0e19\u0e18\u0e4c_\u0e21\u0e35\u0e19\u0e32\u0e04\u0e21_\u0e40\u0e21\u0e29\u0e32\u0e22\u0e19_\u0e1e\u0e24\u0e29\u0e20\u0e32\u0e04\u0e21_\u0e21\u0e34\u0e16\u0e38\u0e19\u0e32\u0e22\u0e19_\u0e01\u0e23\u0e01\u0e0e\u0e32\u0e04\u0e21_\u0e2a\u0e34\u0e07\u0e2b\u0e32\u0e04\u0e21_\u0e01\u0e31\u0e19\u0e22\u0e32\u0e22\u0e19_\u0e15\u0e38\u0e25\u0e32\u0e04\u0e21_\u0e1e\u0e24\u0e28\u0e08\u0e34\u0e01\u0e32\u0e22\u0e19_\u0e18\u0e31\u0e19\u0e27\u0e32\u0e04\u0e21".split("_"),monthsShort:"\u0e21.\u0e04._\u0e01.\u0e1e._\u0e21\u0e35.\u0e04._\u0e40\u0e21.\u0e22._\u0e1e.\u0e04._\u0e21\u0e34.\u0e22._\u0e01.\u0e04._\u0e2a.\u0e04._\u0e01.\u0e22._\u0e15.\u0e04._\u0e1e.\u0e22._\u0e18.\u0e04.".split("_"),monthsParseExact:!0,weekdays:"\u0e2d\u0e32\u0e17\u0e34\u0e15\u0e22\u0e4c_\u0e08\u0e31\u0e19\u0e17\u0e23\u0e4c_\u0e2d\u0e31\u0e07\u0e04\u0e32\u0e23_\u0e1e\u0e38\u0e18_\u0e1e\u0e24\u0e2b\u0e31\u0e2a\u0e1a\u0e14\u0e35_\u0e28\u0e38\u0e01\u0e23\u0e4c_\u0e40\u0e2a\u0e32\u0e23\u0e4c".split("_"),weekdaysShort:"\u0e2d\u0e32._\u0e08._\u0e2d._\u0e1e._\u0e1e\u0e24._\u0e28._\u0e2a.".split("_"),weekdaysMin:"\u0e2d\u0e32._\u0e08._\u0e2d._\u0e1e._\u0e1e\u0e24._\u0e28._\u0e2a.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY \u0e40\u0e27\u0e25\u0e32 H:mm",LLLL:"\u0e27\u0e31\u0e19dddd\u0e17\u0e35\u0e48 D MMMM YYYY \u0e40\u0e27\u0e25\u0e32 H:mm"},meridiemParse:/\u0e01\u0e48\u0e2d\u0e19\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07|\u0e2b\u0e25\u0e31\u0e07\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07/,isPM:t=>"\u0e2b\u0e25\u0e31\u0e07\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07"===t,meridiem:(t,e,n)=>t<12?"\u0e01\u0e48\u0e2d\u0e19\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07":"\u0e2b\u0e25\u0e31\u0e07\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07",calendar:{sameDay:"[\u0e27\u0e31\u0e19\u0e19\u0e35\u0e49 \u0e40\u0e27\u0e25\u0e32] LT",nextDay:"[\u0e1e\u0e23\u0e38\u0e48\u0e07\u0e19\u0e35\u0e49 \u0e40\u0e27\u0e25\u0e32] LT",nextWeek:"dddd[\u0e2b\u0e19\u0e49\u0e32 \u0e40\u0e27\u0e25\u0e32] LT",lastDay:"[\u0e40\u0e21\u0e37\u0e48\u0e2d\u0e27\u0e32\u0e19\u0e19\u0e35\u0e49 \u0e40\u0e27\u0e25\u0e32] LT",lastWeek:"[\u0e27\u0e31\u0e19]dddd[\u0e17\u0e35\u0e48\u0e41\u0e25\u0e49\u0e27 \u0e40\u0e27\u0e25\u0e32] LT",sameElse:"L"},relativeTime:{future:"\u0e2d\u0e35\u0e01 %s",past:"%s\u0e17\u0e35\u0e48\u0e41\u0e25\u0e49\u0e27",s:"\u0e44\u0e21\u0e48\u0e01\u0e35\u0e48\u0e27\u0e34\u0e19\u0e32\u0e17\u0e35",ss:"%d \u0e27\u0e34\u0e19\u0e32\u0e17\u0e35",m:"1 \u0e19\u0e32\u0e17\u0e35",mm:"%d \u0e19\u0e32\u0e17\u0e35",h:"1 \u0e0a\u0e31\u0e48\u0e27\u0e42\u0e21\u0e07",hh:"%d \u0e0a\u0e31\u0e48\u0e27\u0e42\u0e21\u0e07",d:"1 \u0e27\u0e31\u0e19",dd:"%d \u0e27\u0e31\u0e19",M:"1 \u0e40\u0e14\u0e37\u0e2d\u0e19",MM:"%d \u0e40\u0e14\u0e37\u0e2d\u0e19",y:"1 \u0e1b\u0e35",yy:"%d \u0e1b\u0e35"},preparse(t,e){const n=EU.longDateFormat[e]?EU.longDateFormat[e]:e;return-1!==n.indexOf("YYYY",n.length-"YYYY".length)?t.substr(0,t.length-4)+(parseInt(t.substr(t.length-4),10)-543):t},getFullYear:(t,e=!1)=>543+(e?t.getUTCFullYear():t.getFullYear())};function IU(t){return function(e){return t+"\u043e"+(11===aL(e)?"\u0431":"")+"] LT"}}"Ocak_\u015eubat_Mart_Nisan_May\u0131s_Haziran_Temmuz_A\u011fustos_Eyl\xfcl_Ekim_Kas\u0131m_Aral\u0131k".split("_"),"Oca_\u015eub_Mar_Nis_May_Haz_Tem_A\u011fu_Eyl_Eki_Kas_Ara".split("_"),"Pazar_Pazartesi_Sal\u0131_\xc7ar\u015famba_Per\u015fembe_Cuma_Cumartesi".split("_"),"Paz_Pts_Sal_\xc7ar_Per_Cum_Cts".split("_"),"Pz_Pt_Sa_\xc7a_Pe_Cu_Ct".split("_"),"\u0441\u0456\u0447\u043d\u044f_\u043b\u044e\u0442\u043e\u0433\u043e_\u0431\u0435\u0440\u0435\u0437\u043d\u044f_\u043a\u0432\u0456\u0442\u043d\u044f_\u0442\u0440\u0430\u0432\u043d\u044f_\u0447\u0435\u0440\u0432\u043d\u044f_\u043b\u0438\u043f\u043d\u044f_\u0441\u0435\u0440\u043f\u043d\u044f_\u0432\u0435\u0440\u0435\u0441\u043d\u044f_\u0436\u043e\u0432\u0442\u043d\u044f_\u043b\u0438\u0441\u0442\u043e\u043f\u0430\u0434\u0430_\u0433\u0440\u0443\u0434\u043d\u044f".split("_"),"\u0441\u0456\u0447\u0435\u043d\u044c_\u043b\u044e\u0442\u0438\u0439_\u0431\u0435\u0440\u0435\u0437\u0435\u043d\u044c_\u043a\u0432\u0456\u0442\u0435\u043d\u044c_\u0442\u0440\u0430\u0432\u0435\u043d\u044c_\u0447\u0435\u0440\u0432\u0435\u043d\u044c_\u043b\u0438\u043f\u0435\u043d\u044c_\u0441\u0435\u0440\u043f\u0435\u043d\u044c_\u0432\u0435\u0440\u0435\u0441\u0435\u043d\u044c_\u0436\u043e\u0432\u0442\u0435\u043d\u044c_\u043b\u0438\u0441\u0442\u043e\u043f\u0430\u0434_\u0433\u0440\u0443\u0434\u0435\u043d\u044c".split("_"),"\u0441\u0456\u0447_\u043b\u044e\u0442_\u0431\u0435\u0440_\u043a\u0432\u0456\u0442_\u0442\u0440\u0430\u0432_\u0447\u0435\u0440\u0432_\u043b\u0438\u043f_\u0441\u0435\u0440\u043f_\u0432\u0435\u0440_\u0436\u043e\u0432\u0442_\u043b\u0438\u0441\u0442_\u0433\u0440\u0443\u0434".split("_"),"\u043d\u0434_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),"\u043d\u0434_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),IU("[\u0421\u044c\u043e\u0433\u043e\u0434\u043d\u0456 "),IU("[\u0417\u0430\u0432\u0442\u0440\u0430 "),IU("[\u0412\u0447\u043e\u0440\u0430 "),IU("[\u0423] dddd ["),"th\xe1ng 1_th\xe1ng 2_th\xe1ng 3_th\xe1ng 4_th\xe1ng 5_th\xe1ng 6_th\xe1ng 7_th\xe1ng 8_th\xe1ng 9_th\xe1ng 10_th\xe1ng 11_th\xe1ng 12".split("_"),"Th01_Th02_Th03_Th04_Th05_Th06_Th07_Th08_Th09_Th10_Th11_Th12".split("_"),"ch\u1ee7 nh\u1eadt_th\u1ee9 hai_th\u1ee9 ba_th\u1ee9 t\u01b0_th\u1ee9 n\u0103m_th\u1ee9 s\xe1u_th\u1ee9 b\u1ea3y".split("_"),"CN_T2_T3_T4_T5_T6_T7".split("_"),"CN_T2_T3_T4_T5_T6_T7".split("_"),"\u4e00\u6708_\u4e8c\u6708_\u4e09\u6708_\u56db\u6708_\u4e94\u6708_\u516d\u6708_\u4e03\u6708_\u516b\u6708_\u4e5d\u6708_\u5341\u6708_\u5341\u4e00\u6708_\u5341\u4e8c\u6708".split("_"),"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),"\u661f\u671f\u65e5_\u661f\u671f\u4e00_\u661f\u671f\u4e8c_\u661f\u671f\u4e09_\u661f\u671f\u56db_\u661f\u671f\u4e94_\u661f\u671f\u516d".split("_"),"\u5468\u65e5_\u5468\u4e00_\u5468\u4e8c_\u5468\u4e09_\u5468\u56db_\u5468\u4e94_\u5468\u516d".split("_"),"\u65e5_\u4e00_\u4e8c_\u4e09_\u56db_\u4e94_\u516d".split("_");class AU extends jr{constructor(t,e,n){super(t),e.pipe(Object(FR.b)(LR.b)).pipe(So((t,e)=>e?n(t,e):t,t)).subscribe(t=>this.next(t))}}class RU extends Xn.a{constructor(t,e,n){super(),this._dispatcher=t,this._reducer=e,this.source=n}select(t){return this.source.pipe(Object(ti.a)(t)).pipe(Xc())}lift(t){const e=new RU(this._dispatcher,this._reducer,this);return e.operator=t,e}dispatch(t){this._dispatcher.next(t)}next(t){this._dispatcher.next(t)}error(t){this._dispatcher.error(t)}complete(){}}function PU(t,e){if(1&t){const t=i.Tb();i.Sb(0,"bs-days-calendar-view",9),i.Zb("onNavigate",function(e){return i.tc(t),i.dc(3).navigateTo(e)})("onViewMode",function(e){return i.tc(t),i.dc(3).setViewMode(e)})("onHover",function(e){return i.tc(t),i.dc(3).dayHoverHandler(e)})("onHoverWeek",function(e){return i.tc(t),i.dc(3).weekHoverHandler(e)})("onSelect",function(e){return i.tc(t),i.dc(3).daySelectHandler(e)}),i.ec(1,"async"),i.ec(2,"async"),i.Rb()}if(2&t){const t=e.$implicit,n=i.dc(3);let r=null;i.Eb("bs-datepicker-multiple",(null==(r=i.fc(1,4,n.daysCalendar))?null:r.length)>1),i.ic("calendar",t)("options",i.fc(2,6,n.options))}}function DU(t,e){if(1&t&&(i.Sb(0,"div",7),i.Dc(1,PU,3,8,"bs-days-calendar-view",8),i.ec(2,"async"),i.Rb()),2&t){const t=i.dc(2);i.Ab(1),i.ic("ngForOf",i.fc(2,1,t.daysCalendar))}}function MU(t,e){if(1&t){const t=i.Tb();i.Sb(0,"bs-month-calendar-view",11),i.Zb("onNavigate",function(e){return i.tc(t),i.dc(3).navigateTo(e)})("onViewMode",function(e){return i.tc(t),i.dc(3).setViewMode(e)})("onHover",function(e){return i.tc(t),i.dc(3).monthHoverHandler(e)})("onSelect",function(e){return i.tc(t),i.dc(3).monthSelectHandler(e)}),i.ec(1,"async"),i.Rb()}if(2&t){const t=e.$implicit,n=i.dc(3);let r=null;i.Eb("bs-datepicker-multiple",(null==(r=i.fc(1,3,n.daysCalendar))?null:r.length)>1),i.ic("calendar",t)}}function NU(t,e){if(1&t&&(i.Sb(0,"div",7),i.Dc(1,MU,2,5,"bs-month-calendar-view",10),i.ec(2,"async"),i.Rb()),2&t){const t=i.dc(2);i.Ab(1),i.ic("ngForOf",i.fc(2,1,t.monthsCalendar))}}function jU(t,e){if(1&t){const t=i.Tb();i.Sb(0,"bs-years-calendar-view",11),i.Zb("onNavigate",function(e){return i.tc(t),i.dc(3).navigateTo(e)})("onViewMode",function(e){return i.tc(t),i.dc(3).setViewMode(e)})("onHover",function(e){return i.tc(t),i.dc(3).yearHoverHandler(e)})("onSelect",function(e){return i.tc(t),i.dc(3).yearSelectHandler(e)}),i.ec(1,"async"),i.Rb()}if(2&t){const t=e.$implicit,n=i.dc(3);let r=null;i.Eb("bs-datepicker-multiple",(null==(r=i.fc(1,3,n.daysCalendar))?null:r.length)>1),i.ic("calendar",t)}}function FU(t,e){if(1&t&&(i.Sb(0,"div",7),i.Dc(1,jU,2,5,"bs-years-calendar-view",10),i.ec(2,"async"),i.Rb()),2&t){const t=i.dc(2);i.Ab(1),i.ic("ngForOf",i.fc(2,1,t.yearsCalendar))}}function LU(t,e){1&t&&(i.Sb(0,"div",12),i.Sb(1,"button",13),i.Fc(2,"Apply"),i.Rb(),i.Sb(3,"button",14),i.Fc(4,"Cancel"),i.Rb(),i.Rb())}function VU(t,e){if(1&t){const t=i.Tb();i.Sb(0,"div",17),i.Sb(1,"button",18),i.Zb("click",function(){return i.tc(t),i.dc(3).setToday()}),i.Fc(2),i.Rb(),i.Rb()}if(2&t){const t=i.dc(3);i.Eb("today-left","left"===t.todayPos)("today-right","right"===t.todayPos)("today-center","center"===t.todayPos),i.Ab(2),i.Gc(t.todayBtnLbl)}}function UU(t,e){if(1&t){const t=i.Tb();i.Sb(0,"div",19),i.Sb(1,"button",18),i.Zb("click",function(){return i.tc(t),i.dc(3).clearDate()}),i.Fc(2),i.Rb(),i.Rb()}if(2&t){const t=i.dc(3);i.Eb("clear-left","left"===t.clearPos)("clear-right","right"===t.clearPos)("clear-center","center"===t.clearPos),i.Ab(2),i.Gc(t.clearBtnLbl)}}function qU(t,e){if(1&t&&(i.Sb(0,"div",12),i.Dc(1,VU,3,7,"div",15),i.Dc(2,UU,3,7,"div",16),i.Rb()),2&t){const t=i.dc(2);i.Ab(1),i.ic("ngIf",t.showTodayBtn),i.Ab(1),i.ic("ngIf",t.showClearBtn)}}function BU(t,e){if(1&t){const t=i.Tb();i.Sb(0,"div",20),i.Sb(1,"bs-custom-date-view",21),i.Zb("onSelect",function(e){return i.tc(t),i.dc(2).setRangeOnCalendar(e)}),i.Rb(),i.Rb()}if(2&t){const t=i.dc(2);i.Ab(1),i.ic("selectedRange",t.chosenRange)("ranges",t.customRanges)("customRangeLabel",t.customRangeBtnLbl)}}function HU(t,e){if(1&t){const t=i.Tb();i.Sb(0,"div",1),i.Sb(1,"div",2),i.Zb("@datepickerAnimation.done",function(){return i.tc(t),i.dc().positionServiceEnable()}),i.Sb(2,"div",3),i.ec(3,"async"),i.Dc(4,DU,3,3,"div",4),i.Dc(5,NU,3,3,"div",4),i.Dc(6,FU,3,3,"div",4),i.Rb(),i.Dc(7,LU,5,0,"div",5),i.Dc(8,qU,3,2,"div",5),i.Rb(),i.Dc(9,BU,2,3,"div",6),i.Rb()}if(2&t){const t=i.dc();i.ic("ngClass",t.containerClass),i.Ab(1),i.ic("@datepickerAnimation",t.animationState),i.Ab(1),i.ic("ngSwitch",i.fc(3,9,t.viewMode)),i.Ab(2),i.ic("ngSwitchCase","day"),i.Ab(1),i.ic("ngSwitchCase","month"),i.Ab(1),i.ic("ngSwitchCase","year"),i.Ab(1),i.ic("ngIf",!1),i.Ab(1),i.ic("ngIf",t.showTodayBtn||t.showClearBtn),i.Ab(1),i.ic("ngIf",(null==t.customRanges?null:t.customRanges.length)>0)}}function zU(t,e){if(1&t){const t=i.Tb();i.Sb(0,"bs-days-calendar-view",9),i.Zb("onNavigate",function(e){return i.tc(t),i.dc(3).navigateTo(e)})("onViewMode",function(e){return i.tc(t),i.dc(3).setViewMode(e)})("onHover",function(e){return i.tc(t),i.dc(3).dayHoverHandler(e)})("onHoverWeek",function(e){return i.tc(t),i.dc(3).weekHoverHandler(e)})("onSelect",function(e){return i.tc(t),i.dc(3).daySelectHandler(e)}),i.ec(1,"async"),i.ec(2,"async"),i.Rb()}if(2&t){const t=e.$implicit,n=i.dc(3);let r=null;i.Eb("bs-datepicker-multiple",(null==(r=i.fc(1,4,n.daysCalendar))?null:r.length)>1),i.ic("calendar",t)("options",i.fc(2,6,n.options))}}function WU(t,e){if(1&t&&(i.Sb(0,"div",7),i.Dc(1,zU,3,8,"bs-days-calendar-view",8),i.ec(2,"async"),i.Rb()),2&t){const t=i.dc(2);i.Ab(1),i.ic("ngForOf",i.fc(2,1,t.daysCalendar))}}function GU(t,e){if(1&t){const t=i.Tb();i.Sb(0,"bs-month-calendar-view",11),i.Zb("onNavigate",function(e){return i.tc(t),i.dc(3).navigateTo(e)})("onViewMode",function(e){return i.tc(t),i.dc(3).setViewMode(e)})("onHover",function(e){return i.tc(t),i.dc(3).monthHoverHandler(e)})("onSelect",function(e){return i.tc(t),i.dc(3).monthSelectHandler(e)}),i.ec(1,"async"),i.Rb()}if(2&t){const t=e.$implicit,n=i.dc(3);let r=null;i.Eb("bs-datepicker-multiple",(null==(r=i.fc(1,3,n.daysCalendar))?null:r.length)>1),i.ic("calendar",t)}}function KU(t,e){if(1&t&&(i.Sb(0,"div",7),i.Dc(1,GU,2,5,"bs-month-calendar-view",10),i.ec(2,"async"),i.Rb()),2&t){const t=i.dc(2);i.Ab(1),i.ic("ngForOf",i.fc(2,1,t.monthsCalendar))}}function $U(t,e){if(1&t){const t=i.Tb();i.Sb(0,"bs-years-calendar-view",11),i.Zb("onNavigate",function(e){return i.tc(t),i.dc(3).navigateTo(e)})("onViewMode",function(e){return i.tc(t),i.dc(3).setViewMode(e)})("onHover",function(e){return i.tc(t),i.dc(3).yearHoverHandler(e)})("onSelect",function(e){return i.tc(t),i.dc(3).yearSelectHandler(e)}),i.ec(1,"async"),i.Rb()}if(2&t){const t=e.$implicit,n=i.dc(3);let r=null;i.Eb("bs-datepicker-multiple",(null==(r=i.fc(1,3,n.daysCalendar))?null:r.length)>1),i.ic("calendar",t)}}function YU(t,e){if(1&t&&(i.Sb(0,"div",7),i.Dc(1,$U,2,5,"bs-years-calendar-view",10),i.ec(2,"async"),i.Rb()),2&t){const t=i.dc(2);i.Ab(1),i.ic("ngForOf",i.fc(2,1,t.yearsCalendar))}}function QU(t,e){1&t&&(i.Sb(0,"div",12),i.Sb(1,"button",13),i.Fc(2,"Apply"),i.Rb(),i.Sb(3,"button",14),i.Fc(4,"Cancel"),i.Rb(),i.Rb())}function ZU(t,e){if(1&t){const t=i.Tb();i.Sb(0,"div",17),i.Sb(1,"button",18),i.Zb("click",function(){return i.tc(t),i.dc(3).setToday()}),i.Fc(2),i.Rb(),i.Rb()}if(2&t){const t=i.dc(3);i.Eb("today-left","left"===t.todayPos)("today-right","right"===t.todayPos)("today-center","center"===t.todayPos),i.Ab(2),i.Gc(t.todayBtnLbl)}}function XU(t,e){if(1&t){const t=i.Tb();i.Sb(0,"div",19),i.Sb(1,"button",18),i.Zb("click",function(){return i.tc(t),i.dc(3).clearDate()}),i.Fc(2),i.Rb(),i.Rb()}if(2&t){const t=i.dc(3);i.Eb("clear-left","left"===t.clearPos)("clear-right","right"===t.clearPos)("clear-center","center"===t.clearPos),i.Ab(2),i.Gc(t.clearBtnLbl)}}function JU(t,e){if(1&t&&(i.Sb(0,"div",12),i.Dc(1,ZU,3,7,"div",15),i.Dc(2,XU,3,7,"div",16),i.Rb()),2&t){const t=i.dc(2);i.Ab(1),i.ic("ngIf",t.showTodayBtn),i.Ab(1),i.ic("ngIf",t.showClearBtn)}}function tq(t,e){if(1&t){const t=i.Tb();i.Sb(0,"div",20),i.Sb(1,"bs-custom-date-view",21),i.Zb("onSelect",function(e){return i.tc(t),i.dc(2).setRangeOnCalendar(e)}),i.Rb(),i.Rb()}if(2&t){const t=i.dc(2);i.Ab(1),i.ic("selectedRange",t.chosenRange)("ranges",t.customRanges)("customRangeLabel",t.customRangeBtnLbl)}}function eq(t,e){if(1&t){const t=i.Tb();i.Sb(0,"div",1),i.Sb(1,"div",2),i.Zb("@datepickerAnimation.done",function(){return i.tc(t),i.dc().positionServiceEnable()}),i.Sb(2,"div",3),i.ec(3,"async"),i.Dc(4,WU,3,3,"div",4),i.Dc(5,KU,3,3,"div",4),i.Dc(6,YU,3,3,"div",4),i.Rb(),i.Dc(7,QU,5,0,"div",5),i.Dc(8,JU,3,2,"div",5),i.Rb(),i.Dc(9,tq,2,3,"div",6),i.Rb()}if(2&t){const t=i.dc();i.ic("ngClass",t.containerClass),i.Ab(1),i.ic("@datepickerAnimation",t.animationState),i.Ab(1),i.ic("ngSwitch",i.fc(3,9,t.viewMode)),i.Ab(2),i.ic("ngSwitchCase","day"),i.Ab(1),i.ic("ngSwitchCase","month"),i.Ab(1),i.ic("ngSwitchCase","year"),i.Ab(1),i.ic("ngIf",!1),i.Ab(1),i.ic("ngIf",t.showTodayBtn||t.showClearBtn),i.Ab(1),i.ic("ngIf",(null==t.customRanges?null:t.customRanges.length)>0)}}function nq(t,e){1&t&&i.Nb(0,"bs-current-date",4)}function iq(t,e){1&t&&i.Nb(0,"bs-timepicker")}const rq=[[["bs-datepicker-navigation-view"]],"*"],oq=["bs-datepicker-navigation-view","*"];function sq(t,e){if(1&t){const t=i.Tb();i.Sb(0,"button",2),i.Zb("click",function(){i.tc(t);const n=e.$implicit;return i.dc().selectFromRanges(n)}),i.Fc(1),i.Rb()}if(2&t){const t=e.$implicit,n=i.dc();i.Eb("selected",t.value===n.selectedRange),i.Ab(1),i.Hc(" ",t.label," ")}}const aq=["bsDatepickerDayDecorator",""];function cq(t,e){if(1&t){const t=i.Tb();i.Qb(0),i.Fc(1," \u200b "),i.Sb(2,"button",2),i.Zb("click",function(){return i.tc(t),i.dc().view("month")}),i.Sb(3,"span"),i.Fc(4),i.Rb(),i.Rb(),i.Pb()}if(2&t){const t=i.dc();i.Ab(4),i.Gc(t.calendar.monthTitle)}}function uq(t,e){1&t&&i.Nb(0,"th")}function lq(t,e){if(1&t&&(i.Sb(0,"th",5),i.Fc(1),i.Rb()),2&t){const t=e.index,n=i.dc();i.Ab(1),i.Hc("",n.calendar.weekdays[t]," ")}}function hq(t,e){if(1&t){const t=i.Tb();i.Sb(0,"span",11),i.Zb("click",function(){i.tc(t);const e=i.dc(2).$implicit;return i.dc().selectWeek(e)}),i.Fc(1),i.Rb()}if(2&t){const t=i.dc(2).index,e=i.dc();i.Ab(1),i.Gc(e.calendar.weekNumbers[t])}}function dq(t,e){if(1&t){const t=i.Tb();i.Sb(0,"span",12),i.Zb("click",function(){i.tc(t);const e=i.dc(2).$implicit;return i.dc().selectWeek(e)})("mouseenter",function(){i.tc(t);const e=i.dc(2).$implicit;return i.dc().weekHoverHandler(e,!0)})("mouseleave",function(){i.tc(t);const e=i.dc(2).$implicit;return i.dc().weekHoverHandler(e,!1)}),i.Fc(1),i.Rb()}if(2&t){const t=i.dc(2).index,e=i.dc();i.Ab(1),i.Gc(e.calendar.weekNumbers[t])}}function fq(t,e){if(1&t&&(i.Sb(0,"td",8),i.Dc(1,hq,2,1,"span",9),i.Dc(2,dq,2,1,"span",10),i.Rb()),2&t){const t=i.dc(2);i.Eb("active-week",t.isWeekHovered),i.Ab(1),i.ic("ngIf",t.isiOS),i.Ab(1),i.ic("ngIf",!t.isiOS)}}function pq(t,e){if(1&t){const t=i.Tb();i.Sb(0,"span",17),i.Zb("click",function(){i.tc(t);const e=i.dc().$implicit;return i.dc(2).selectDay(e)})("mouseenter",function(){i.tc(t);const e=i.dc().$implicit;return i.dc(2).hoverDay(e,!0)})("mouseleave",function(){i.tc(t);const e=i.dc().$implicit;return i.dc(2).hoverDay(e,!1)}),i.Fc(1),i.Rb()}if(2&t){const t=i.dc().$implicit;i.jc("tooltip",t.tooltipText),i.ic("day",t),i.Ab(1),i.Hc("",t.label," 3")}}function gq(t,e){if(1&t){const t=i.Tb();i.Sb(0,"span",18),i.Zb("click",function(){i.tc(t);const e=i.dc().$implicit;return i.dc(2).selectDay(e)})("mouseenter",function(){i.tc(t);const e=i.dc().$implicit;return i.dc(2).hoverDay(e,!0)})("mouseleave",function(){i.tc(t);const e=i.dc().$implicit;return i.dc(2).hoverDay(e,!1)}),i.Fc(1),i.Rb()}if(2&t){const t=i.dc().$implicit;i.ic("day",t),i.Ab(1),i.Hc("",t.label," 2")}}function mq(t,e){if(1&t){const t=i.Tb();i.Sb(0,"span",19),i.Zb("click",function(){i.tc(t);const e=i.dc().$implicit;return i.dc(2).selectDay(e)}),i.Fc(1),i.Rb()}if(2&t){const t=i.dc().$implicit;i.ic("day",t),i.Ab(1),i.Hc("",t.label," 1")}}function bq(t,e){if(1&t&&(i.Sb(0,"td",13),i.Dc(1,pq,2,3,"span",14),i.Dc(2,gq,2,2,"span",15),i.Dc(3,mq,2,2,"span",16),i.Rb()),2&t){const t=i.dc(2);i.Ab(1),i.ic("ngIf",!t.isiOS&&t.isShowTooltip),i.Ab(1),i.ic("ngIf",!t.isiOS&&!t.isShowTooltip),i.Ab(1),i.ic("ngIf",t.isiOS)}}function _q(t,e){if(1&t&&(i.Sb(0,"tr"),i.Dc(1,fq,3,4,"td",6),i.Dc(2,bq,4,3,"td",7),i.Rb()),2&t){const t=e.$implicit,n=i.dc();i.Ab(1),i.ic("ngIf",n.options.showWeekNumbers),i.Ab(1),i.ic("ngForOf",t.days)}}function vq(t,e){if(1&t){const t=i.Tb();i.Sb(0,"td",4),i.Zb("click",function(){i.tc(t);const n=e.$implicit;return i.dc(2).viewMonth(n)})("mouseenter",function(){i.tc(t);const n=e.$implicit;return i.dc(2).hoverMonth(n,!0)})("mouseleave",function(){i.tc(t);const n=e.$implicit;return i.dc(2).hoverMonth(n,!1)}),i.Sb(1,"span"),i.Fc(2),i.Rb(),i.Rb()}if(2&t){const t=e.$implicit;i.Eb("disabled",t.isDisabled)("is-highlighted",t.isHovered),i.Ab(1),i.Eb("selected",t.isSelected),i.Ab(1),i.Gc(t.label)}}function yq(t,e){if(1&t&&(i.Sb(0,"tr"),i.Dc(1,vq,3,7,"td",3),i.Rb()),2&t){const t=e.$implicit;i.Ab(1),i.ic("ngForOf",t)}}function wq(t,e){if(1&t){const t=i.Tb();i.Sb(0,"td",4),i.Zb("click",function(){i.tc(t);const n=e.$implicit;return i.dc(2).viewYear(n)})("mouseenter",function(){i.tc(t);const n=e.$implicit;return i.dc(2).hoverYear(n,!0)})("mouseleave",function(){i.tc(t);const n=e.$implicit;return i.dc(2).hoverYear(n,!1)}),i.Sb(1,"span"),i.Fc(2),i.Rb(),i.Rb()}if(2&t){const t=e.$implicit;i.Eb("disabled",t.isDisabled)("is-highlighted",t.isHovered),i.Ab(1),i.Eb("selected",t.isSelected),i.Ab(1),i.Gc(t.label)}}function Cq(t,e){if(1&t&&(i.Sb(0,"tr"),i.Dc(1,wq,3,7,"td",3),i.Rb()),2&t){const t=e.$implicit;i.Ab(1),i.ic("ngForOf",t)}}function Sq(t,e){1&t&&(i.Sb(0,"div",1),i.gc(1),i.Rb())}const kq=["*"];function Oq(t,e){if(1&t){const t=i.Tb();i.Sb(0,"button",8),i.Zb("click",function(){return i.tc(t),i.dc(2).datePicker.move(-1)}),i.Fc(1,"\u2039"),i.Rb()}}function Tq(t,e){if(1&t){const t=i.Tb();i.Sb(0,"button",8),i.Zb("click",function(){return i.tc(t),i.dc(2).datePicker.move(-1)}),i.Fc(1,"<"),i.Rb()}}function xq(t,e){if(1&t){const t=i.Tb();i.Sb(0,"button",9),i.Zb("click",function(){return i.tc(t),i.dc(2).datePicker.move(1)}),i.Fc(1,"\u203a"),i.Rb()}}function Eq(t,e){if(1&t){const t=i.Tb();i.Sb(0,"button",9),i.Zb("click",function(){return i.tc(t),i.dc(2).datePicker.move(1)}),i.Fc(1,"> "),i.Rb()}}function Iq(t,e){1&t&&i.Nb(0,"th")}function Aq(t,e){if(1&t&&(i.Sb(0,"th",10),i.Sb(1,"small",11),i.Sb(2,"b"),i.Fc(3),i.Rb(),i.Rb(),i.Rb()),2&t){const t=e.$implicit;i.Ab(3),i.Gc(t.abbr)}}function Rq(t,e){if(1&t&&(i.Sb(0,"td",10),i.Sb(1,"em"),i.Fc(2),i.Rb(),i.Rb()),2&t){const t=i.dc(2).index,e=i.dc(2);i.Ab(2),i.Gc(e.weekNumbers[t])}}const Pq=function(t,e,n,i,r){return{"btn-secondary":t,"btn-info":e,disabled:n,active:i,"btn-default":r}},Dq=function(t,e){return{"text-muted":t,"text-info":e}};function Mq(t,e){if(1&t){const t=i.Tb();i.Sb(0,"button",16),i.Zb("click",function(){i.tc(t);const e=i.dc().$implicit;return i.dc(4).datePicker.select(e.date)}),i.Sb(1,"span",17),i.Fc(2),i.Rb(),i.Rb()}if(2&t){const t=i.dc().$implicit,e=i.dc(4);i.Db("btn btn-sm ",t.customClass,""),i.ic("ngClass",i.pc(7,Pq,e.isBs4&&!t.selected&&!e.datePicker.isActive(t),t.selected,t.disabled,!e.isBs4&&e.datePicker.isActive(t),!e.isBs4))("disabled",t.disabled),i.Ab(1),i.ic("ngClass",i.mc(13,Dq,t.secondary||t.current,!e.isBs4&&t.current)),i.Ab(1),i.Gc(t.label)}}function Nq(t,e){if(1&t&&(i.Sb(0,"td",14),i.Dc(1,Mq,3,16,"button",15),i.Rb()),2&t){const t=e.$implicit,n=i.dc(4);i.ic("id",t.uid),i.Ab(1),i.ic("ngIf",!(n.datePicker.onlyCurrentMonth&&t.secondary))}}function jq(t,e){if(1&t&&(i.Sb(0,"tr"),i.Dc(1,Rq,3,1,"td",12),i.Dc(2,Nq,2,2,"td",13),i.Rb()),2&t){const t=i.dc().$implicit,e=i.dc(2);i.Ab(1),i.ic("ngIf",e.datePicker.showWeeks),i.Ab(1),i.ic("ngForOf",t)}}function Fq(t,e){if(1&t&&i.Dc(0,jq,3,2,"tr",5),2&t){const t=e.$implicit,n=i.dc(2);i.ic("ngIf",!(n.datePicker.onlyCurrentMonth&&t[0].secondary&&t[6].secondary))}}const Lq=function(t){return{disabled:t}};function Vq(t,e){if(1&t){const t=i.Tb();i.Sb(0,"table",1),i.Sb(1,"thead"),i.Sb(2,"tr"),i.Sb(3,"th"),i.Dc(4,Oq,2,0,"button",2),i.Dc(5,Tq,2,0,"button",2),i.Rb(),i.Sb(6,"th"),i.Sb(7,"button",3),i.Zb("click",function(){return i.tc(t),i.dc().datePicker.toggleMode(0)}),i.Sb(8,"strong"),i.Fc(9),i.Rb(),i.Rb(),i.Rb(),i.Sb(10,"th"),i.Dc(11,xq,2,0,"button",4),i.Dc(12,Eq,2,0,"button",4),i.Rb(),i.Rb(),i.Sb(13,"tr"),i.Dc(14,Iq,1,0,"th",5),i.Dc(15,Aq,4,1,"th",6),i.Rb(),i.Rb(),i.Sb(16,"tbody"),i.Dc(17,Fq,1,1,"ng-template",7),i.Rb(),i.Rb()}if(2&t){const t=i.dc();i.Bb("aria-labelledby",t.datePicker.uniqueId+"-title"),i.Ab(4),i.ic("ngIf",!t.isBs4),i.Ab(1),i.ic("ngIf",t.isBs4),i.Ab(1),i.Bb("colspan",5+(t.datePicker.showWeeks?1:0)),i.Ab(1),i.ic("id",t.datePicker.uniqueId+"-title")("disabled",t.datePicker.datepickerMode===t.datePicker.maxMode)("ngClass",i.lc(13,Lq,t.datePicker.datepickerMode===t.datePicker.maxMode)),i.Ab(2),i.Gc(t.title),i.Ab(2),i.ic("ngIf",!t.isBs4),i.Ab(1),i.ic("ngIf",t.isBs4),i.Ab(2),i.ic("ngIf",t.datePicker.showWeeks),i.Ab(1),i.ic("ngForOf",t.labels),i.Ab(2),i.ic("ngForOf",t.rows)}}const Uq=function(t,e,n,i){return{"btn-link":t,"btn-info":e,disabled:n,active:i}},qq=function(t,e){return{"text-success":t,"text-info":e}};function Bq(t,e){if(1&t){const t=i.Tb();i.Sb(0,"td",7),i.Sb(1,"button",8),i.Zb("click",function(){i.tc(t);const n=e.$implicit;return i.dc(3).datePicker.select(n.date)}),i.Sb(2,"span",9),i.Fc(3),i.Rb(),i.Rb(),i.Rb()}if(2&t){const t=e.$implicit,n=i.dc(3);i.ic("ngClass",t.customClass),i.Bb("id",t.uid),i.Ab(1),i.ic("ngClass",i.oc(6,Uq,n.isBs4&&!t.selected&&!n.datePicker.isActive(t),t.selected||n.isBs4&&!t.selected&&n.datePicker.isActive(t),t.disabled,!n.isBs4&&n.datePicker.isActive(t)))("disabled",t.disabled),i.Ab(1),i.ic("ngClass",i.mc(11,qq,n.isBs4&&t.current,!n.isBs4&&t.current)),i.Ab(1),i.Gc(t.label)}}function Hq(t,e){if(1&t&&(i.Sb(0,"tr"),i.Dc(1,Bq,4,14,"td",6),i.Rb()),2&t){const t=e.$implicit;i.Ab(1),i.ic("ngForOf",t)}}function zq(t,e){if(1&t){const t=i.Tb();i.Sb(0,"table",1),i.Sb(1,"thead"),i.Sb(2,"tr"),i.Sb(3,"th"),i.Sb(4,"button",2),i.Zb("click",function(){return i.tc(t),i.dc().datePicker.move(-1)}),i.Fc(5,"\u2039"),i.Rb(),i.Rb(),i.Sb(6,"th"),i.Sb(7,"button",3),i.Zb("click",function(){return i.tc(t),i.dc().datePicker.toggleMode(0)}),i.Sb(8,"strong"),i.Fc(9),i.Rb(),i.Rb(),i.Rb(),i.Sb(10,"th"),i.Sb(11,"button",4),i.Zb("click",function(){return i.tc(t),i.dc().datePicker.move(1)}),i.Fc(12,"\u203a"),i.Rb(),i.Rb(),i.Rb(),i.Rb(),i.Sb(13,"tbody"),i.Dc(14,Hq,2,1,"tr",5),i.Rb(),i.Rb()}if(2&t){const t=i.dc();i.Ab(6),i.Bb("colspan",t.datePicker.monthColLimit-2<=0?1:t.datePicker.monthColLimit-2),i.Ab(1),i.ic("id",t.datePicker.uniqueId+"-title")("disabled",t.datePicker.datepickerMode===t.maxMode)("ngClass",i.lc(6,Lq,t.datePicker.datepickerMode===t.maxMode)),i.Ab(2),i.Gc(t.title),i.Ab(5),i.ic("ngForOf",t.rows)}}function Wq(t,e){if(1&t){const t=i.Tb();i.Sb(0,"td",7),i.Sb(1,"button",8),i.Zb("click",function(){i.tc(t);const n=e.$implicit;return i.dc(3).datePicker.select(n.date)}),i.Sb(2,"span",9),i.Fc(3),i.Rb(),i.Rb(),i.Rb()}if(2&t){const t=e.$implicit,n=i.dc(3);i.Bb("id",t.uid),i.Ab(1),i.ic("ngClass",i.oc(5,Uq,n.isBs4&&!t.selected&&!n.datePicker.isActive(t),t.selected||n.isBs4&&!t.selected&&n.datePicker.isActive(t),t.disabled,!n.isBs4&&n.datePicker.isActive(t)))("disabled",t.disabled),i.Ab(1),i.ic("ngClass",i.mc(10,qq,n.isBs4&&t.current,!n.isBs4&&t.current)),i.Ab(1),i.Gc(t.label)}}function Gq(t,e){if(1&t&&(i.Sb(0,"tr"),i.Dc(1,Wq,4,13,"td",6),i.Rb()),2&t){const t=e.$implicit;i.Ab(1),i.ic("ngForOf",t)}}function Kq(t,e){if(1&t){const t=i.Tb();i.Sb(0,"table",1),i.Sb(1,"thead"),i.Sb(2,"tr"),i.Sb(3,"th"),i.Sb(4,"button",2),i.Zb("click",function(){return i.tc(t),i.dc().datePicker.move(-1)}),i.Fc(5,"\u2039"),i.Rb(),i.Rb(),i.Sb(6,"th"),i.Sb(7,"button",3),i.Zb("click",function(){return i.tc(t),i.dc().datePicker.toggleMode(0)}),i.Sb(8,"strong"),i.Fc(9),i.Rb(),i.Rb(),i.Rb(),i.Sb(10,"th"),i.Sb(11,"button",4),i.Zb("click",function(){return i.tc(t),i.dc().datePicker.move(1)}),i.Fc(12,"\u203a"),i.Rb(),i.Rb(),i.Rb(),i.Rb(),i.Sb(13,"tbody"),i.Dc(14,Gq,2,1,"tr",5),i.Rb(),i.Rb()}if(2&t){const t=i.dc();i.Ab(6),i.Bb("colspan",t.datePicker.yearColLimit-2<=0?1:t.datePicker.yearColLimit-2),i.Ab(1),i.ic("id",t.datePicker.uniqueId+"-title")("disabled",t.datePicker.datepickerMode===t.datePicker.maxMode)("ngClass",i.lc(6,Lq,t.datePicker.datepickerMode===t.datePicker.maxMode)),i.Ab(2),i.Gc(t.title),i.Ab(5),i.ic("ngForOf",t.rows)}}const $q="[_nghost-%COMP%]   .btn-info[_ngcontent-%COMP%]   .text-success[_ngcontent-%COMP%] {\n      color: #fff !important;\n    }";let Yq=(()=>{class t{constructor(){this.adaptivePosition=!1,this.useUtc=!1,this.isAnimated=!1,this.startView="day",this.returnFocusToInput=!1,this.containerClass="theme-green",this.displayMonths=1,this.showWeekNumbers=!0,this.dateInputFormat="L",this.rangeSeparator=" - ",this.rangeInputFormat="L",this.monthTitle="MMMM",this.yearTitle="YYYY",this.dayLabel="D",this.monthLabel="MMMM",this.yearLabel="YYYY",this.weekNumbers="w",this.showTodayButton=!1,this.showClearButton=!1,this.todayPosition="center",this.clearPosition="right",this.todayButtonLabel="Today",this.clearButtonLabel="Clear",this.customRangeButtonLabel="Custom Range"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(i.Ib)({factory:function(){return new t},token:t,providedIn:"root"}),t})();const Qq=Et("datepickerAnimation",[Pt("animated-down",Rt({height:"*",overflow:"hidden"})),Dt("* => animated-down",[Rt({height:0,overflow:"hidden"}),It("220ms cubic-bezier(0, 0, 0.2, 1)")]),Pt("animated-up",Rt({height:"*",overflow:"hidden"})),Dt("* => animated-up",[Rt({height:"*",overflow:"hidden"}),It("220ms cubic-bezier(0, 0, 0.2, 1)")]),Dt("* => unanimated",It("0s"))]);class Zq{constructor(){this.customRanges=[],this.chosenRange=[]}set minDate(t){this._effects.setMinDate(t)}set maxDate(t){this._effects.setMaxDate(t)}set daysDisabled(t){this._effects.setDaysDisabled(t)}set datesDisabled(t){this._effects.setDatesDisabled(t)}set datesEnabled(t){this._effects.setDatesEnabled(t)}set isDisabled(t){this._effects.setDisabled(t)}set dateCustomClasses(t){this._effects.setDateCustomClasses(t)}set dateTooltipTexts(t){this._effects.setDateTooltipTexts(t)}setViewMode(t){}navigateTo(t){}dayHoverHandler(t){}weekHoverHandler(t){}monthHoverHandler(t){}yearHoverHandler(t){}daySelectHandler(t){}monthSelectHandler(t){}yearSelectHandler(t){}setRangeOnCalendar(t){}setToday(){}clearDate(){}_stopPropagation(t){t.stopPropagation()}}let Xq=(()=>{class t{calculate(){return{type:t.CALCULATE}}format(){return{type:t.FORMAT}}flag(){return{type:t.FLAG}}select(e){return{type:t.SELECT,payload:e}}changeViewMode(e){return{type:t.CHANGE_VIEWMODE,payload:e}}navigateTo(e){return{type:t.NAVIGATE_TO,payload:e}}navigateStep(e){return{type:t.NAVIGATE_OFFSET,payload:e}}setOptions(e){return{type:t.SET_OPTIONS,payload:e}}selectRange(e){return{type:t.SELECT_RANGE,payload:e}}hoverDay(e){return{type:t.HOVER,payload:e.isHovered?e.cell.date:null}}minDate(e){return{type:t.SET_MIN_DATE,payload:e}}maxDate(e){return{type:t.SET_MAX_DATE,payload:e}}daysDisabled(e){return{type:t.SET_DAYSDISABLED,payload:e}}datesDisabled(e){return{type:t.SET_DATESDISABLED,payload:e}}datesEnabled(e){return{type:t.SET_DATESENABLED,payload:e}}isDisabled(e){return{type:t.SET_IS_DISABLED,payload:e}}setDateCustomClasses(e){return{type:t.SET_DATE_CUSTOM_CLASSES,payload:e}}setDateTooltipTexts(e){return{type:t.SET_DATE_TOOLTIP_TEXTS,payload:e}}setLocale(e){return{type:t.SET_LOCALE,payload:e}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Ib({token:t,factory:t.\u0275fac}),t.CALCULATE="[datepicker] calculate dates matrix",t.FORMAT="[datepicker] format datepicker values",t.FLAG="[datepicker] set flags",t.SELECT="[datepicker] select date",t.NAVIGATE_OFFSET="[datepicker] shift view date",t.NAVIGATE_TO="[datepicker] change view date",t.SET_OPTIONS="[datepicker] update render options",t.HOVER="[datepicker] hover date",t.CHANGE_VIEWMODE="[datepicker] switch view mode",t.SET_MIN_DATE="[datepicker] set min date",t.SET_MAX_DATE="[datepicker] set max date",t.SET_DAYSDISABLED="[datepicker] set days disabled",t.SET_DATESDISABLED="[datepicker] set dates disabled",t.SET_DATESENABLED="[datepicker] set dates enabled",t.SET_IS_DISABLED="[datepicker] set is disabled",t.SET_DATE_CUSTOM_CLASSES="[datepicker] set date custom classes",t.SET_DATE_TOOLTIP_TEXTS="[datepicker] set date tooltip texts",t.SET_LOCALE="[datepicker] set datepicker locale",t.SELECT_RANGE="[daterangepicker] select dates range",t})(),Jq=(()=>{class t{constructor(){this._defaultLocale="en",this._locale=new jr(this._defaultLocale),this._localeChange=this._locale.asObservable()}get locale(){return this._locale}get localeChange(){return this._localeChange}get currentLocale(){return this._locale.getValue()}use(t){t!==this.currentLocale&&this._locale.next(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Ib({token:t,factory:t.\u0275fac}),t})(),tB=(()=>{class t{constructor(t,e){this._actions=t,this._localeService=e,this._subs=[]}init(t){return this._store=t,this}setValue(t){this._store.dispatch(this._actions.select(t))}setRangeValue(t){this._store.dispatch(this._actions.selectRange(t))}setMinDate(t){return this._store.dispatch(this._actions.minDate(t)),this}setMaxDate(t){return this._store.dispatch(this._actions.maxDate(t)),this}setDaysDisabled(t){return this._store.dispatch(this._actions.daysDisabled(t)),this}setDatesDisabled(t){return this._store.dispatch(this._actions.datesDisabled(t)),this}setDatesEnabled(t){return this._store.dispatch(this._actions.datesEnabled(t)),this}setDisabled(t){return this._store.dispatch(this._actions.isDisabled(t)),this}setDateCustomClasses(t){return this._store.dispatch(this._actions.setDateCustomClasses(t)),this}setDateTooltipTexts(t){return this._store.dispatch(this._actions.setDateTooltipTexts(t)),this}setOptions(t){const e=Object.assign({locale:this._localeService.currentLocale},t);return this._store.dispatch(this._actions.setOptions(e)),this}setBindings(t){return t.daysCalendar=this._store.select(t=>t.flaggedMonths).pipe(Xr(t=>!!t)),t.monthsCalendar=this._store.select(t=>t.flaggedMonthsCalendar).pipe(Xr(t=>!!t)),t.yearsCalendar=this._store.select(t=>t.yearsCalendarFlagged).pipe(Xr(t=>!!t)),t.viewMode=this._store.select(t=>t.view.mode),t.options=this._store.select(t=>t.showWeekNumbers).pipe(Object(ti.a)(t=>({showWeekNumbers:t}))),this}setEventHandlers(t){return t.setViewMode=t=>{this._store.dispatch(this._actions.changeViewMode(t))},t.navigateTo=t=>{this._store.dispatch(this._actions.navigateStep(t.step))},t.dayHoverHandler=t=>{const e=t.cell;e.isOtherMonth||e.isDisabled||(this._store.dispatch(this._actions.hoverDay(t)),e.isHovered=t.isHovered)},t.monthHoverHandler=t=>{t.cell.isHovered=t.isHovered},t.yearHoverHandler=t=>{t.cell.isHovered=t.isHovered},this}registerDatepickerSideEffects(){return this._subs.push(this._store.select(t=>t.view).subscribe(t=>{this._store.dispatch(this._actions.calculate())})),this._subs.push(this._store.select(t=>t.monthsModel).pipe(Xr(t=>!!t)).subscribe(t=>this._store.dispatch(this._actions.format()))),this._subs.push(this._store.select(t=>t.formattedMonths).pipe(Xr(t=>!!t)).subscribe(t=>this._store.dispatch(this._actions.flag()))),this._subs.push(this._store.select(t=>t.selectedDate).pipe(Xr(t=>!!t)).subscribe(t=>this._store.dispatch(this._actions.flag()))),this._subs.push(this._store.select(t=>t.selectedRange).pipe(Xr(t=>!!t)).subscribe(t=>this._store.dispatch(this._actions.flag()))),this._subs.push(this._store.select(t=>t.monthsCalendar).subscribe(()=>this._store.dispatch(this._actions.flag()))),this._subs.push(this._store.select(t=>t.yearsCalendarModel).pipe(Xr(t=>!!t)).subscribe(()=>this._store.dispatch(this._actions.flag()))),this._subs.push(this._store.select(t=>t.hoveredDate).pipe(Xr(t=>!!t)).subscribe(t=>this._store.dispatch(this._actions.flag()))),this._subs.push(this._store.select(t=>t.dateCustomClasses).pipe(Xr(t=>!!t)).subscribe(t=>this._store.dispatch(this._actions.flag()))),this._subs.push(this._store.select(t=>t.dateTooltipTexts).pipe(Xr(t=>!!t)).subscribe(t=>this._store.dispatch(this._actions.flag()))),this._subs.push(this._localeService.localeChange.subscribe(t=>this._store.dispatch(this._actions.setLocale(t)))),this}destroy(){for(const t of this._subs)t.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(Xq),i.Wb(Jq))},t.\u0275prov=i.Ib({token:t,factory:t.\u0275fac}),t})();const eB={date:new Date,mode:"day"},nB=Object.assign(new Yq,{locale:"en",view:eB,selectedRange:[],monthViewOptions:{width:7,height:6}});function iB(t,e,n){const i=e&&dU(iV(t,"month"),e,"day"),r=n&&hU(nV(t,"month"),n,"day");return i||r}function rB(t,e,n){const i=e&&dU(iV(t,"year"),e,"day"),r=n&&hU(nV(t,"year"),n,"day");return i||r}function oB(t,e=0){const n=t&&t.yearsCalendarModel&&t.yearsCalendarModel[e];return n&&n.years&&n.years[0]&&n.years[0][0]&&n.years[0][0].date}function sB(t,e){let n=t.initialDate;const i=new Array(t.height);for(let r=0;r<t.height;r++){i[r]=new Array(t.width);for(let o=0;o<t.width;o++)i[r][o]=e(n),n=ZL(n,t.shift)}return i}function aB(t,e){const n=sL((i=t).getFullYear(),i.getMonth(),1,i.getHours(),i.getMinutes(),i.getSeconds());var i;const r=function(t,e){return function(t,e){return t.getDay()===e}(t,e.firstDayOfWeek)?t:ZL(t,{day:-function(t,e){if(0===e)return t;const n=t-e%7;return n<0?n+7:n}(hL(t),e.firstDayOfWeek)})}(n,e);return{daysMatrix:sB({width:e.width,height:e.height,initialDate:r,shift:{day:1}},t=>t),month:n}}function cB(t){const e=MV(t),n=e.weekdaysShort(),i=e.firstDayOfWeek();return[...n.slice(i),...n.slice(0,i)]}function uB(t,e){return!e||t>=e}const lB={month:1};function hB(t,e){return{months:sB({width:3,height:4,initialDate:nV(t,"year"),shift:lB},t=>({date:t,label:nU(t,e.monthLabel,e.locale)})),monthTitle:"",yearTitle:nU(t,e.yearTitle,e.locale)}}const dB=-1*(Math.floor(8)-1),fB={year:1};function pB(t,e,n){const i=sB({width:4,height:4,initialDate:function(t,e){return e&&t.getFullYear()>=e.getFullYear()&&t.getFullYear()<e.getFullYear()+16?e:ZL(t,{year:dB})}(t,n),shift:fB},t=>({date:t,label:nU(t,e.yearLabel,e.locale)}));return{years:i,monthTitle:"",yearTitle:function(t,e){return`${nU(t[0][0].date,e.yearTitle,e.locale)} - ${nU(t[3][3].date,e.yearTitle,e.locale)}`}(i,e)}}function gB(t=nB,e){switch(e.type){case Xq.CALCULATE:return function(t){const e=t.displayOneMonthRange&&vB(t.view.date,t.minDate,t.maxDate)?1:t.displayMonths;let n=t.view.date;if("day"===t.view.mode){t.showPreviousMonth&&t.selectedRange&&0===t.selectedRange.length&&(n=ZL(n,{month:-1})),t.monthViewOptions.firstDayOfWeek=MV(t.locale).firstDayOfWeek();const i=new Array(e);for(let r=0;r<e;r++)i[r]=aB(n,t.monthViewOptions),n=ZL(n,{month:1});return Object.assign({},t,{monthsModel:i})}if("month"===t.view.mode){const i=new Array(e);for(let r=0;r<e;r++)i[r]=hB(n,bB(t)),n=ZL(n,{year:1});return Object.assign({},t,{monthsCalendar:i})}if("year"===t.view.mode){const i=new Array(e);for(let r=0;r<e;r++)i[r]=pB(n,bB(t),"year"===t.minMode?oB(t,r):void 0),n=ZL(n,{year:16});return Object.assign({},t,{yearsCalendarModel:i})}return t}(t);case Xq.FORMAT:return function(t,e){if("day"===t.view.mode){const e=t.monthsModel.map((e,n)=>function(t,e,n){return{month:t.month,monthTitle:nU(t.month,e.monthTitle,e.locale),yearTitle:nU(t.month,e.yearTitle,e.locale),weekNumbers:(i=t.daysMatrix,r=e.weekNumbers,o=e.locale,i.map(t=>t[0]?nU(t[0],r,o):"")),weekdays:cB(e.locale),weeks:t.daysMatrix.map((t,i)=>({days:t.map((t,r)=>({date:t,label:nU(t,e.dayLabel,e.locale),monthIndex:n,weekIndex:i,dayIndex:r}))}))};var i,r,o}(e,bB(t),n));return Object.assign({},t,{formattedMonths:e})}const n=t.displayMonths;let i=t.view.date;if("month"===t.view.mode){const e=new Array(n);for(let r=0;r<n;r++)e[r]=hB(i,bB(t)),i=ZL(i,{year:1});return Object.assign({},t,{monthsCalendar:e})}if("year"===t.view.mode){const e=new Array(n);for(let r=0;r<n;r++)e[r]=pB(i,bB(t)),i=ZL(i,{year:16});return Object.assign({},t,{yearsCalendarModel:e})}return t}(t);case Xq.FLAG:return function(t,e){const n=vB(t.view.date,t.minDate,t.maxDate)?1:t.displayMonths;if("day"===t.view.mode){const e=t.formattedMonths.map((e,i)=>function(t,e){return t.weeks.forEach(n=>{n.days.forEach((i,r)=>{const o=!gL(i.date,t.month),s=!o&&bL(i.date,e.hoveredDate),a=!o&&e.selectedRange&&bL(i.date,e.selectedRange[0]),c=!o&&e.selectedRange&&bL(i.date,e.selectedRange[1]),u=!o&&bL(i.date,e.selectedDate)||a||c,l=!o&&e.selectedRange&&function(t,e,n){return!(!t||!e[0])&&(e[1]?t>e[0]&&t<=e[1]:!!n&&t>e[0]&&t<=n)}(i.date,e.selectedRange,e.hoveredDate),h=e.isDisabled||dU(i.date,e.minDate,"day")||hU(i.date,e.maxDate,"day")||(d=i.date,!(void 0===(f=e.daysDisabled)||!f||!f.length)&&f.some(t=>t===d.getDay()))||function(t,e){return!!(e&&WF(e)&&e.length)&&e.some(e=>fU(t,e,"date"))}(i.date,e.datesDisabled)||function(t,e){return!!(e&&WF(e)&&e.length)&&!e.some(e=>fU(t,e,"date"))}(i.date,e.datesEnabled);var d,f;const p=new Date,g=!o&&bL(i.date,p),m=e.dateCustomClasses&&e.dateCustomClasses.map(t=>bL(i.date,t.date)?t.classes:[]).reduce((t,e)=>t.concat(e),[]).join(" ")||"",b=e.dateTooltipTexts&&e.dateTooltipTexts.map(t=>bL(i.date,t.date)?t.tooltipText:"").reduce((t,e)=>t.concat(e),[]).join(" ")||"",_=Object.assign({},i,{isOtherMonth:o,isHovered:s,isSelected:u,isSelectionStart:a,isSelectionEnd:c,isInRange:l,isDisabled:h,isToday:g,customClasses:m,tooltipText:b});i.isOtherMonth===_.isOtherMonth&&i.isHovered===_.isHovered&&i.isSelected===_.isSelected&&i.isSelectionStart===_.isSelectionStart&&i.isSelectionEnd===_.isSelectionEnd&&i.isDisabled===_.isDisabled&&i.isInRange===_.isInRange&&i.customClasses===_.customClasses&&i.tooltipText===_.tooltipText||(n.days[r]=_)})}),t.hideLeftArrow=e.isDisabled||e.monthIndex>0&&e.monthIndex!==e.displayMonths,t.hideRightArrow=e.isDisabled||e.monthIndex<e.displayMonths&&e.monthIndex+1!==e.displayMonths,t.disableLeftArrow=iB(ZL(t.month,{month:-1}),e.minDate,e.maxDate),t.disableRightArrow=iB(ZL(t.month,{month:1}),e.minDate,e.maxDate),t}(e,{isDisabled:t.isDisabled,minDate:t.minDate,maxDate:t.maxDate,daysDisabled:t.daysDisabled,datesDisabled:t.datesDisabled,datesEnabled:t.datesEnabled,hoveredDate:t.hoveredDate,selectedDate:t.selectedDate,selectedRange:t.selectedRange,displayMonths:n,dateCustomClasses:t.dateCustomClasses,dateTooltipTexts:t.dateTooltipTexts,monthIndex:i}));return Object.assign({},t,{flaggedMonths:e})}if("month"===t.view.mode){const e=t.monthsCalendar.map((e,i)=>{return o={isDisabled:t.isDisabled,minDate:t.minDate,maxDate:t.maxDate,hoveredMonth:t.hoveredMonth,selectedDate:t.selectedDate,selectedRange:t.selectedRange,displayMonths:n,monthIndex:i},(r=e).months.forEach((t,e)=>{t.forEach((t,n)=>{let i;const s=gL(t.date,o.hoveredMonth),a=o.isDisabled||iB(t.date,o.minDate,o.maxDate);!o.selectedDate&&o.selectedRange?(i=gL(t.date,o.selectedRange[0]),i||(i=gL(t.date,o.selectedRange[1]))):i=gL(t.date,o.selectedDate);const c=Object.assign(t,{isHovered:s,isDisabled:a,isSelected:i});t.isHovered===c.isHovered&&t.isDisabled===c.isDisabled&&t.isSelected===c.isSelected||(r.months[e][n]=c)})}),r.hideLeftArrow=o.monthIndex>0&&o.monthIndex!==o.displayMonths,r.hideRightArrow=o.monthIndex<o.displayMonths&&o.monthIndex+1!==o.displayMonths,r.disableLeftArrow=rB(ZL(r.months[0][0].date,{year:-1}),o.minDate,o.maxDate),r.disableRightArrow=rB(ZL(r.months[0][0].date,{year:1}),o.minDate,o.maxDate),r;var r,o});return Object.assign({},t,{flaggedMonthsCalendar:e})}if("year"===t.view.mode){const e=t.yearsCalendarModel.map((e,i)=>function(t,e){t.years.forEach((n,i)=>{n.forEach((n,r)=>{let o;const s=mL(n.date,e.hoveredYear),a=e.isDisabled||rB(n.date,e.minDate,e.maxDate);!e.selectedDate&&e.selectedRange?(o=mL(n.date,e.selectedRange[0]),o||(o=mL(n.date,e.selectedRange[1]))):o=mL(n.date,e.selectedDate);const c=Object.assign(n,{isHovered:s,isDisabled:a,isSelected:o});n.isHovered===c.isHovered&&n.isDisabled===c.isDisabled&&n.isSelected===c.isSelected||(t.years[i][r]=c)})}),t.hideLeftArrow=e.yearIndex>0&&e.yearIndex!==e.displayMonths,t.hideRightArrow=e.yearIndex<e.displayMonths&&e.yearIndex+1!==e.displayMonths,t.disableLeftArrow=rB(ZL(t.years[0][0].date,{year:-1}),e.minDate,e.maxDate);const n=t.years.length-1;return t.disableRightArrow=rB(ZL(t.years[n][t.years[n].length-1].date,{year:1}),e.minDate,e.maxDate),t}(e,{isDisabled:t.isDisabled,minDate:t.minDate,maxDate:t.maxDate,hoveredYear:t.hoveredYear,selectedDate:t.selectedDate,selectedRange:t.selectedRange,displayMonths:n,yearIndex:i}));return Object.assign({},t,{yearsCalendarFlagged:e})}return t}(t);case Xq.NAVIGATE_OFFSET:return function(t,e){const n={view:{mode:t.view.mode,date:mB(t,e)}};return Object.assign({},t,n)}(t,e);case Xq.NAVIGATE_TO:{const n=e.payload,i=function(t,e){return sL(XL(t.getFullYear(),e.year),XL(t.getMonth(),e.month),1,XL(t.getHours(),e.hour),XL(t.getMinutes(),e.minute),XL(t.getSeconds(),e.seconds),XL(t.getMilliseconds(),e.milliseconds))}(t.view.date,n.unit);let r,o;return uB(n.viewMode,t.minMode)?(o=n.viewMode,r={view:{date:i,mode:o}}):(o=t.view.mode,r={selectedDate:i,view:{date:i,mode:o}}),Object.assign({},t,r)}case Xq.CHANGE_VIEWMODE:return uB(e.payload,t.minMode)?Object.assign({},t,{view:{date:t.view.date,mode:e.payload}}):t;case Xq.HOVER:return Object.assign({},t,{hoveredDate:e.payload});case Xq.SELECT:{const n={selectedDate:e.payload,view:t.view},i=t.view.mode,r=_B(e.payload||t.view.date,t.minDate,t.maxDate);return n.view={mode:i,date:r},Object.assign({},t,n)}case Xq.SET_OPTIONS:{const n=e.payload,i=n.minMode?n.minMode:t.view.mode,r=_B(BF(n.value)&&n.value||WF(n.value)&&BF(n.value[0])&&n.value[0]||t.view.date,n.minDate,n.maxDate);return n.view={mode:i,date:r},n.value&&(WF(n.value)&&(n.selectedRange=n.value),n.value instanceof Date&&(n.selectedDate=n.value)),Object.assign({},t,n)}case Xq.SELECT_RANGE:{const n={selectedRange:e.payload,view:t.view},i=t.view.mode,r=_B(e.payload&&e.payload[0]||t.view.date,t.minDate,t.maxDate);return n.view={mode:i,date:r},Object.assign({},t,n)}case Xq.SET_MIN_DATE:return Object.assign({},t,{minDate:e.payload});case Xq.SET_MAX_DATE:return Object.assign({},t,{maxDate:e.payload});case Xq.SET_IS_DISABLED:return Object.assign({},t,{isDisabled:e.payload});case Xq.SET_DATE_CUSTOM_CLASSES:return Object.assign({},t,{dateCustomClasses:e.payload});case Xq.SET_DATE_TOOLTIP_TEXTS:return Object.assign({},t,{dateTooltipTexts:e.payload});default:return t}}function mB(t,e){if("year"===t.view.mode&&"year"===t.minMode){const n=ZL(oB(t,0),{year:-dB});return ZL(n,e.payload)}return ZL(nV(t.view.date,"month"),e.payload)}function bB(t){return{locale:t.locale,monthTitle:t.monthTitle,yearTitle:t.yearTitle,dayLabel:t.dayLabel,monthLabel:t.monthLabel,yearLabel:t.yearLabel,weekNumbers:t.weekNumbers}}function _B(t,e,n){const i=Array.isArray(t)?t[0]:t;return e&&hU(e,i,"day")?e:n&&dU(n,i,"day")?n:i}function vB(t,e,n){return!(!n||!fU(n,t,"day"))||!(!e||!n||e.getMonth()!==n.getMonth())}let yB=(()=>{class t extends RU{constructor(){const t=new jr({type:"[datepicker] dispatcher init"});super(t,gB,new AU(nB,t,gB))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Ib({token:t,factory:t.\u0275fac}),t})(),wB=(()=>{class t extends Zq{constructor(t,e,n,r,o,s,a){super(),this._config=e,this._store=n,this._element=r,this._actions=o,this._positionService=a,this.valueChange=new i.n,this.animationState="void",this._subs=[],this._effects=s,t.setStyle(r.nativeElement,"display","block"),t.setStyle(r.nativeElement,"position","absolute")}set value(t){this._effects.setValue(t)}ngOnInit(){this._positionService.setOptions({modifiers:{flip:{enabled:this._config.adaptivePosition}},allowedPositions:["top","bottom"]}),this._positionService.event$.pipe(_o(1)).subscribe(()=>{this._positionService.disable(),this.animationState=this._config.isAnimated?this.isTopPosition?"animated-up":"animated-down":"unanimated"}),this.isOtherMonthsActive=this._config.selectFromOtherMonth,this.containerClass=this._config.containerClass,this.showTodayBtn=this._config.showTodayButton,this.todayBtnLbl=this._config.todayButtonLabel,this.todayPos=this._config.todayPosition,this.showClearBtn=this._config.showClearButton,this.clearBtnLbl=this._config.clearButtonLabel,this.clearPos=this._config.clearPosition,this.customRangeBtnLbl=this._config.customRangeButtonLabel,this._effects.init(this._store).setOptions(this._config).setBindings(this).setEventHandlers(this).registerDatepickerSideEffects(),this._subs.push(this._store.select(t=>t.selectedDate).subscribe(t=>this.valueChange.emit(t))),this._store.dispatch(this._actions.changeViewMode(this._config.startView))}get isTopPosition(){return this._element.nativeElement.classList.contains("top")}positionServiceEnable(){this._positionService.enable()}daySelectHandler(t){t&&((this.isOtherMonthsActive?t.isDisabled:t.isOtherMonth||t.isDisabled)||this._store.dispatch(this._actions.select(t.date)))}monthSelectHandler(t){t&&!t.isDisabled&&this._store.dispatch(this._actions.navigateTo({unit:{month:fL(t.date),year:pL(t.date)},viewMode:"day"}))}yearSelectHandler(t){t&&!t.isDisabled&&this._store.dispatch(this._actions.navigateTo({unit:{year:pL(t.date)},viewMode:"month"}))}setToday(){this._store.dispatch(this._actions.select(new Date))}clearDate(){this._store.dispatch(this._actions.select(void 0))}ngOnDestroy(){for(const t of this._subs)t.unsubscribe();this._effects.destroy()}}return t.\u0275fac=function(e){return new(e||t)(i.Mb(i.E),i.Mb(Yq),i.Mb(yB),i.Mb(i.l),i.Mb(Xq),i.Mb(tB),i.Mb(iF))},t.\u0275cmp=i.Gb({type:t,selectors:[["bs-datepicker-container"]],hostAttrs:["role","dialog","aria-label","calendar",1,"bottom"],hostBindings:function(t,e){1&t&&i.Zb("click",function(t){return e._stopPropagation(t)})},features:[i.zb([yB,tB]),i.xb],decls:2,vars:3,consts:[["class","bs-datepicker",3,"ngClass",4,"ngIf"],[1,"bs-datepicker",3,"ngClass"],[1,"bs-datepicker-container"],["role","application",1,"bs-calendar-container",3,"ngSwitch"],["class","bs-media-container",4,"ngSwitchCase"],["class","bs-datepicker-buttons",4,"ngIf"],["class","bs-datepicker-custom-range",4,"ngIf"],[1,"bs-media-container"],[3,"bs-datepicker-multiple","calendar","options","onNavigate","onViewMode","onHover","onHoverWeek","onSelect",4,"ngFor","ngForOf"],[3,"calendar","options","onNavigate","onViewMode","onHover","onHoverWeek","onSelect"],[3,"bs-datepicker-multiple","calendar","onNavigate","onViewMode","onHover","onSelect",4,"ngFor","ngForOf"],[3,"calendar","onNavigate","onViewMode","onHover","onSelect"],[1,"bs-datepicker-buttons"],["type","button",1,"btn","btn-success"],["type","button",1,"btn","btn-default"],["class","btn-today-wrapper",3,"today-left","today-right","today-center",4,"ngIf"],["class","btn-clear-wrapper",3,"clear-left","clear-right","clear-center",4,"ngIf"],[1,"btn-today-wrapper"],[1,"btn","btn-success",3,"click"],[1,"btn-clear-wrapper"],[1,"bs-datepicker-custom-range"],[3,"selectedRange","ranges","customRangeLabel","onSelect"]],template:function(t,e){1&t&&(i.Dc(0,HU,10,11,"div",0),i.ec(1,"async")),2&t&&i.ic("ngIf",i.fc(1,1,e.viewMode))},directives:function(){return[D,I,F,L,R,VB,UB,BB,NB]},pipes:function(){return[G]},encapsulation:2,data:{animation:[Qq]}}),t})(),CB=(()=>{class t{constructor(t,e,n,r,o){this._config=t,this._elementRef=e,this._renderer=n,this.placement="bottom",this.triggers="click",this.outsideClick=!0,this.container="body",this.outsideEsc=!0,this.bsValueChange=new i.n,this._subs=[],this._dateInputFormat$=new Mr.a,Object.assign(this,this._config),this._datepicker=o.createLoader(e,r,n),this.onShown=this._datepicker.onShown,this.onHidden=this._datepicker.onHidden,this.isOpen$=new jr(this.isOpen)}get isOpen(){return this._datepicker.isShown}set isOpen(t){this.isOpen$.next(t)}set bsValue(t){this._bsValue&&t&&this._bsValue.getTime()===t.getTime()||(this._bsValue=t,this.bsValueChange.emit(t))}set bsConfig(t){this._bsConfig=t,this.setConfig(),this._dateInputFormat$.next(t&&t.dateInputFormat)}get bsConfig(){return this._bsConfig}get dateInputFormat$(){return this._dateInputFormat$}ngOnInit(){this.isDestroy$=new Mr.a,this._datepicker.listen({outsideClick:this.outsideClick,outsideEsc:this.outsideEsc,triggers:this.triggers,show:()=>this.show()}),this.setConfig()}ngOnChanges(t){this._datepickerRef&&this._datepickerRef.instance&&(t.minDate&&(this._datepickerRef.instance.minDate=this.minDate),t.maxDate&&(this._datepickerRef.instance.maxDate=this.maxDate),t.daysDisabled&&(this._datepickerRef.instance.daysDisabled=this.daysDisabled),t.datesDisabled&&(this._datepickerRef.instance.datesDisabled=this.datesDisabled),t.datesEnabled&&(this._datepickerRef.instance.datesEnabled=this.datesEnabled),t.isDisabled&&(this._datepickerRef.instance.isDisabled=this.isDisabled),t.dateCustomClasses&&(this._datepickerRef.instance.dateCustomClasses=this.dateCustomClasses),t.dateTooltipTexts&&(this._datepickerRef.instance.dateTooltipTexts=this.dateTooltipTexts))}ngAfterViewInit(){this.isOpen$.pipe(Xr(t=>t!==this.isOpen),El(this.isDestroy$)).subscribe(()=>this.toggle())}show(){this._datepicker.isShown||(this.setConfig(),this._datepickerRef=this._datepicker.provide({provide:Yq,useValue:this._config}).attach(wB).to(this.container).position({attachment:this.placement}).show({placement:this.placement}),this._subs.push(this.bsValueChange.subscribe(t=>{this._datepickerRef.instance.value=t})),this._subs.push(this._datepickerRef.instance.valueChange.subscribe(t=>{this.bsValue=t,this.hide()})))}hide(){this.isOpen&&this._datepicker.hide();for(const t of this._subs)t.unsubscribe();this._config.returnFocusToInput&&this._renderer.selectRootElement(this._elementRef.nativeElement).focus()}toggle(){if(this.isOpen)return this.hide();this.show()}setConfig(){this._config=Object.assign({},this._config,this.bsConfig,{value:this._bsValue,isDisabled:this.isDisabled,minDate:this.minDate||this.bsConfig&&this.bsConfig.minDate,maxDate:this.maxDate||this.bsConfig&&this.bsConfig.maxDate,daysDisabled:this.daysDisabled||this.bsConfig&&this.bsConfig.daysDisabled,dateCustomClasses:this.dateCustomClasses||this.bsConfig&&this.bsConfig.dateCustomClasses,dateTooltipTexts:this.dateTooltipTexts||this.bsConfig&&this.bsConfig.dateTooltipTexts,datesDisabled:this.datesDisabled||this.bsConfig&&this.bsConfig.datesDisabled,datesEnabled:this.datesEnabled||this.bsConfig&&this.bsConfig.datesEnabled,minMode:this.minMode||this.bsConfig&&this.bsConfig.minMode})}ngOnDestroy(){this._datepicker.dispose(),this.isOpen$.next(!1),this.isDestroy$&&(this.isDestroy$.next(),this.isDestroy$.complete())}}return t.\u0275fac=function(e){return new(e||t)(i.Mb(Yq),i.Mb(i.l),i.Mb(i.E),i.Mb(i.Q),i.Mb(aF))},t.\u0275dir=i.Hb({type:t,selectors:[["","bsDatepicker",""]],inputs:{placement:"placement",triggers:"triggers",outsideClick:"outsideClick",container:"container",outsideEsc:"outsideEsc",isOpen:"isOpen",bsValue:"bsValue",bsConfig:"bsConfig",isDisabled:"isDisabled",minDate:"minDate",maxDate:"maxDate",minMode:"minMode",daysDisabled:"daysDisabled",datesDisabled:"datesDisabled",datesEnabled:"datesEnabled",dateCustomClasses:"dateCustomClasses",dateTooltipTexts:"dateTooltipTexts"},outputs:{bsValueChange:"bsValueChange",onShown:"onShown",onHidden:"onHidden"},exportAs:["bsDatepicker"],features:[i.yb]}),t})(),SB=(()=>{class t extends Zq{constructor(t,e,n,r,o,s,a){super(),this._config=e,this._store=n,this._element=r,this._actions=o,this._positionService=a,this.valueChange=new i.n,this.animationState="void",this._rangeStack=[],this.chosenRange=[],this._subs=[],this._effects=s,this.customRanges=this._config.ranges,this.customRangeBtnLbl=this._config.customRangeButtonLabel,t.setStyle(r.nativeElement,"display","block"),t.setStyle(r.nativeElement,"position","absolute")}set value(t){this._effects.setRangeValue(t)}ngOnInit(){this._positionService.setOptions({modifiers:{flip:{enabled:this._config.adaptivePosition}},allowedPositions:["top","bottom"]}),this._positionService.event$.pipe(_o(1)).subscribe(()=>{this._positionService.disable(),this.animationState=this._config.isAnimated?this.isTopPosition?"animated-up":"animated-down":"unanimated"}),this.containerClass=this._config.containerClass,this.isOtherMonthsActive=this._config.selectFromOtherMonth,this._effects.init(this._store).setOptions(this._config).setBindings(this).setEventHandlers(this).registerDatepickerSideEffects(),this._subs.push(this._store.select(t=>t.selectedRange).subscribe(t=>{this.valueChange.emit(t),this.chosenRange=t}))}get isTopPosition(){return this._element.nativeElement.classList.contains("top")}positionServiceEnable(){this._positionService.enable()}daySelectHandler(t){t&&((this.isOtherMonthsActive?t.isDisabled:t.isOtherMonth||t.isDisabled)||this.rangesProcessing(t))}monthSelectHandler(t){if(t)if(t.isSelected=!0,"month"===this._config.minMode)this.rangesProcessing(t);else{if(t.isDisabled)return;this._store.dispatch(this._actions.navigateTo({unit:{month:fL(t.date),year:pL(t.date)},viewMode:"day"}))}}yearSelectHandler(t){if(t)if(t.isSelected=!0,"year"===this._config.minMode)this.rangesProcessing(t);else{if(t.isDisabled)return;this._store.dispatch(this._actions.navigateTo({unit:{year:pL(t.date)},viewMode:"month"}))}}rangesProcessing(t){1===this._rangeStack.length&&(this._rangeStack=t.date>=this._rangeStack[0]?[this._rangeStack[0],t.date]:[t.date]),0===this._rangeStack.length&&(this._rangeStack=[t.date],this._config.maxDateRange&&this.setMaxDateRangeOnCalendar(t.date)),this._store.dispatch(this._actions.selectRange(this._rangeStack)),2===this._rangeStack.length&&(this._rangeStack=[])}ngOnDestroy(){for(const t of this._subs)t.unsubscribe();this._effects.destroy()}setRangeOnCalendar(t){this._rangeStack=null===t?[]:t.value instanceof Date?[t.value]:t.value,this._store.dispatch(this._actions.selectRange(this._rangeStack))}setMaxDateRangeOnCalendar(t){const e=new Date(t);e.setDate(t.getDate()+this._config.maxDateRange),this._effects.setMaxDate(e)}}return t.\u0275fac=function(e){return new(e||t)(i.Mb(i.E),i.Mb(Yq),i.Mb(yB),i.Mb(i.l),i.Mb(Xq),i.Mb(tB),i.Mb(iF))},t.\u0275cmp=i.Gb({type:t,selectors:[["bs-daterangepicker-container"]],hostAttrs:["role","dialog","aria-label","calendar",1,"bottom"],hostBindings:function(t,e){1&t&&i.Zb("click",function(t){return e._stopPropagation(t)})},features:[i.zb([yB,tB]),i.xb],decls:2,vars:3,consts:[["class","bs-datepicker",3,"ngClass",4,"ngIf"],[1,"bs-datepicker",3,"ngClass"],[1,"bs-datepicker-container"],["role","application",1,"bs-calendar-container",3,"ngSwitch"],["class","bs-media-container",4,"ngSwitchCase"],["class","bs-datepicker-buttons",4,"ngIf"],["class","bs-datepicker-custom-range",4,"ngIf"],[1,"bs-media-container"],[3,"bs-datepicker-multiple","calendar","options","onNavigate","onViewMode","onHover","onHoverWeek","onSelect",4,"ngFor","ngForOf"],[3,"calendar","options","onNavigate","onViewMode","onHover","onHoverWeek","onSelect"],[3,"bs-datepicker-multiple","calendar","onNavigate","onViewMode","onHover","onSelect",4,"ngFor","ngForOf"],[3,"calendar","onNavigate","onViewMode","onHover","onSelect"],[1,"bs-datepicker-buttons"],["type","button",1,"btn","btn-success"],["type","button",1,"btn","btn-default"],["class","btn-today-wrapper",3,"today-left","today-right","today-center",4,"ngIf"],["class","btn-clear-wrapper",3,"clear-left","clear-right","clear-center",4,"ngIf"],[1,"btn-today-wrapper"],[1,"btn","btn-success",3,"click"],[1,"btn-clear-wrapper"],[1,"bs-datepicker-custom-range"],[3,"selectedRange","ranges","customRangeLabel","onSelect"]],template:function(t,e){1&t&&(i.Dc(0,eq,10,11,"div",0),i.ec(1,"async")),2&t&&i.ic("ngIf",i.fc(1,1,e.viewMode))},directives:function(){return[D,I,F,L,R,VB,UB,BB,NB]},pipes:function(){return[G]},encapsulation:2,data:{animation:[Qq]}}),t})();const kB={provide:ri,useExisting:Object(i.U)(()=>TB),multi:!0},OB={provide:di,useExisting:Object(i.U)(()=>TB),multi:!0};let TB=(()=>{class t{constructor(t,e,n,i,r){this._picker=t,this._localeService=e,this._renderer=n,this._elRef=i,this.changeDetection=r,this._onChange=Function.prototype,this._onTouched=Function.prototype,this._validatorChange=Function.prototype,this._picker.bsValueChange.subscribe(t=>{this._setInputValue(t),this._value!==t&&(this._value=t,this._onChange(t),this._onTouched()),this.changeDetection.markForCheck()}),this._localeService.localeChange.subscribe(()=>{this._setInputValue(this._value)}),this._picker.dateInputFormat$.pipe(Xc()).subscribe(()=>{this._setInputValue(this._value)})}onKeydownEvent(t){13!==t.keyCode&&"Enter"!==t.code||this.hide()}_setInputValue(t){const e=t?nU(t,this._picker._config.dateInputFormat,this._localeService.currentLocale):"";this._renderer.setProperty(this._elRef.nativeElement,"value",e)}onChange(t){this.writeValue(t.target.value),this._onChange(this._value),this._picker._config.returnFocusToInput&&this._renderer.selectRootElement(this._elRef.nativeElement).focus(),this._onTouched()}validate(t){const e=t.value;if(null==e||""===e)return null;if(qF(e)){if(!BF(e))return{bsDate:{invalid:e}};if(this._picker&&this._picker.minDate&&dU(e,this._picker.minDate,"date"))return this.writeValue(this._picker.minDate),{bsDate:{minDate:this._picker.minDate}};if(this._picker&&this._picker.maxDate&&hU(e,this._picker.maxDate,"date"))return this.writeValue(this._picker.maxDate),{bsDate:{maxDate:this._picker.maxDate}}}}registerOnValidatorChange(t){this._validatorChange=t}writeValue(t){if(t){const e=this._localeService.currentLocale;if(!MV(e))throw new Error(`Locale "${e}" is not defined, please add it with "defineLocale(...)"`);this._value=cU(t,this._picker._config.dateInputFormat,this._localeService.currentLocale),this._picker._config.useUtc&&(this._value=uU(this._value))}else this._value=null;this._picker.bsValue=this._value}setDisabledState(t){this._picker.isDisabled=t,t?this._renderer.setAttribute(this._elRef.nativeElement,"disabled","disabled"):this._renderer.removeAttribute(this._elRef.nativeElement,"disabled")}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}onBlur(){this._onTouched()}hide(){this._picker.hide(),this._renderer.selectRootElement(this._elRef.nativeElement).blur(),this._picker._config.returnFocusToInput&&this._renderer.selectRootElement(this._elRef.nativeElement).focus()}}return t.\u0275fac=function(e){return new(e||t)(i.Mb(CB,1),i.Mb(Jq),i.Mb(i.E),i.Mb(i.l),i.Mb(i.h))},t.\u0275dir=i.Hb({type:t,selectors:[["input","bsDatepicker",""]],hostBindings:function(t,e){1&t&&i.Zb("change",function(t){return e.onChange(t)})("keyup.esc",function(){return e.hide()})("keydown",function(t){return e.onKeydownEvent(t)})("blur",function(){return e.onBlur()})},features:[i.zb([kB,OB])]}),t})(),xB=(()=>{class t extends Yq{constructor(){super(...arguments),this.displayMonths=2}}return t.\u0275fac=function(e){return EB(e||t)},t.\u0275prov=Object(i.Ib)({factory:function(){return new t},token:t,providedIn:"root"}),t})();const EB=i.Ub(xB);let IB=(()=>{class t{constructor(t,e,n,r,o){this._config=t,this._elementRef=e,this._renderer=n,this.placement="bottom",this.triggers="click",this.outsideClick=!0,this.container="body",this.outsideEsc=!0,this.bsValueChange=new i.n,this._subs=[],this._rangeInputFormat$=new Mr.a,this._datepicker=o.createLoader(e,r,n),Object.assign(this,t),this.onShown=this._datepicker.onShown,this.onHidden=this._datepicker.onHidden,this.isOpen$=new jr(this.isOpen)}get isOpen(){return this._datepicker.isShown}set isOpen(t){this.isOpen$.next(t)}set bsValue(t){this._bsValue!==t&&(this._bsValue=t,this.bsValueChange.emit(t))}set bsConfig(t){this._bsConfig=t,this.setConfig(),this._rangeInputFormat$.next(t&&t.rangeInputFormat)}get bsConfig(){return this._bsConfig}get rangeInputFormat$(){return this._rangeInputFormat$}ngOnInit(){this.isDestroy$=new Mr.a,this._datepicker.listen({outsideClick:this.outsideClick,outsideEsc:this.outsideEsc,triggers:this.triggers,show:()=>this.show()}),this.setConfig()}ngOnChanges(t){this._datepickerRef&&this._datepickerRef.instance&&(t.minDate&&(this._datepickerRef.instance.minDate=this.minDate),t.maxDate&&(this._datepickerRef.instance.maxDate=this.maxDate),t.datesDisabled&&(this._datepickerRef.instance.datesDisabled=this.datesDisabled),t.datesEnabled&&(this._datepickerRef.instance.datesEnabled=this.datesEnabled),t.daysDisabled&&(this._datepickerRef.instance.daysDisabled=this.daysDisabled),t.isDisabled&&(this._datepickerRef.instance.isDisabled=this.isDisabled),t.dateCustomClasses&&(this._datepickerRef.instance.dateCustomClasses=this.dateCustomClasses))}ngAfterViewInit(){this.isOpen$.pipe(Xr(t=>t!==this.isOpen),El(this.isDestroy$)).subscribe(()=>this.toggle())}show(){this._datepicker.isShown||(this.setConfig(),this._datepickerRef=this._datepicker.provide({provide:Yq,useValue:this._config}).attach(SB).to(this.container).position({attachment:this.placement}).show({placement:this.placement}),this._subs.push(this.bsValueChange.subscribe(t=>{this._datepickerRef.instance.value=t})),this._subs.push(this._datepickerRef.instance.valueChange.pipe(Xr(t=>t&&t[0]&&!!t[1])).subscribe(t=>{this.bsValue=t,this.hide()})))}setConfig(){this._config=Object.assign({},this._config,this.bsConfig,{value:this._bsValue,isDisabled:this.isDisabled,minDate:this.minDate||this.bsConfig&&this.bsConfig.minDate,maxDate:this.maxDate||this.bsConfig&&this.bsConfig.maxDate,daysDisabled:this.daysDisabled||this.bsConfig&&this.bsConfig.daysDisabled,dateCustomClasses:this.dateCustomClasses||this.bsConfig&&this.bsConfig.dateCustomClasses,datesDisabled:this.datesDisabled||this.bsConfig&&this.bsConfig.datesDisabled,datesEnabled:this.datesEnabled||this.bsConfig&&this.bsConfig.datesEnabled,ranges:this.bsConfig&&this.bsConfig.ranges,maxDateRange:this.bsConfig&&this.bsConfig.maxDateRange})}hide(){this.isOpen&&this._datepicker.hide();for(const t of this._subs)t.unsubscribe();this._config.returnFocusToInput&&this._renderer.selectRootElement(this._elementRef.nativeElement).focus()}toggle(){if(this.isOpen)return this.hide();this.show()}ngOnDestroy(){this._datepicker.dispose(),this.isOpen$.next(!1),this.isDestroy$&&(this.isDestroy$.next(),this.isDestroy$.complete())}}return t.\u0275fac=function(e){return new(e||t)(i.Mb(xB),i.Mb(i.l),i.Mb(i.E),i.Mb(i.Q),i.Mb(aF))},t.\u0275dir=i.Hb({type:t,selectors:[["","bsDaterangepicker",""]],inputs:{placement:"placement",triggers:"triggers",outsideClick:"outsideClick",container:"container",outsideEsc:"outsideEsc",isOpen:"isOpen",bsValue:"bsValue",bsConfig:"bsConfig",isDisabled:"isDisabled",minDate:"minDate",maxDate:"maxDate",dateCustomClasses:"dateCustomClasses",daysDisabled:"daysDisabled",datesDisabled:"datesDisabled",datesEnabled:"datesEnabled"},outputs:{bsValueChange:"bsValueChange",onShown:"onShown",onHidden:"onHidden"},exportAs:["bsDaterangepicker"],features:[i.yb]}),t})();const AB={provide:ri,useExisting:Object(i.U)(()=>PB),multi:!0},RB={provide:di,useExisting:Object(i.U)(()=>PB),multi:!0};let PB=(()=>{class t{constructor(t,e,n,i,r){this._picker=t,this._localeService=e,this._renderer=n,this._elRef=i,this.changeDetection=r,this._onChange=Function.prototype,this._onTouched=Function.prototype,this._validatorChange=Function.prototype,this._picker.bsValueChange.subscribe(t=>{this._setInputValue(t),this._value!==t&&(this._value=t,this._onChange(t),this._onTouched()),this.changeDetection.markForCheck()}),this._localeService.localeChange.subscribe(()=>{this._setInputValue(this._value)}),this._picker.rangeInputFormat$.pipe(Xc()).subscribe(()=>{this._setInputValue(this._value)})}onKeydownEvent(t){13!==t.keyCode&&"Enter"!==t.code||this.hide()}_setInputValue(t){let e="";if(t){const n=t[0]?nU(t[0],this._picker._config.rangeInputFormat,this._localeService.currentLocale):"",i=t[1]?nU(t[1],this._picker._config.rangeInputFormat,this._localeService.currentLocale):"";e=n&&i?n+this._picker._config.rangeSeparator+i:""}this._renderer.setProperty(this._elRef.nativeElement,"value",e)}onChange(t){this.writeValue(t.target.value),this._onChange(this._value),this._picker._config.returnFocusToInput&&this._renderer.selectRootElement(this._elRef.nativeElement).focus(),this._onTouched()}validate(t){const e=t.value,n=[];if(null==e||!WF(e))return null;e.sort((t,e)=>t-e);const i=BF(e[0]),r=BF(e[1]);return i?r?(this._picker&&this._picker.minDate&&dU(e[0],this._picker.minDate,"date")&&(e[0]=this._picker.minDate,n.push({bsDate:{minDate:this._picker.minDate}})),this._picker&&this._picker.maxDate&&hU(e[1],this._picker.maxDate,"date")&&(e[1]=this._picker.maxDate,n.push({bsDate:{maxDate:this._picker.maxDate}})),n.length>0?(this.writeValue(e),n):void 0):{bsDate:{invalid:e[1]}}:{bsDate:{invalid:e[0]}}}registerOnValidatorChange(t){this._validatorChange=t}writeValue(t){if(t){const e=this._localeService.currentLocale;if(!MV(e))throw new Error(`Locale "${e}" is not defined, please add it with "defineLocale(...)"`);let n=[];"string"==typeof t&&(n=t.split(this._picker._config.rangeSeparator)),Array.isArray(t)&&(n=t),this._value=n.map(t=>this._picker._config.useUtc?uU(cU(t,this._picker._config.rangeInputFormat,this._localeService.currentLocale)):cU(t,this._picker._config.rangeInputFormat,this._localeService.currentLocale)).map(t=>isNaN(t.valueOf())?null:t)}else this._value=null;this._picker.bsValue=this._value}setDisabledState(t){this._picker.isDisabled=t,t?this._renderer.setAttribute(this._elRef.nativeElement,"disabled","disabled"):this._renderer.removeAttribute(this._elRef.nativeElement,"disabled")}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}onBlur(){this._onTouched()}hide(){this._picker.hide(),this._renderer.selectRootElement(this._elRef.nativeElement).blur(),this._picker._config.returnFocusToInput&&this._renderer.selectRootElement(this._elRef.nativeElement).focus()}}return t.\u0275fac=function(e){return new(e||t)(i.Mb(IB,1),i.Mb(Jq),i.Mb(i.E),i.Mb(i.l),i.Mb(i.h))},t.\u0275dir=i.Hb({type:t,selectors:[["input","bsDaterangepicker",""]],hostBindings:function(t,e){1&t&&i.Zb("change",function(t){return e.onChange(t)})("keyup.esc",function(){return e.hide()})("keydown",function(t){return e.onKeydownEvent(t)})("blur",function(){return e.onBlur()})},features:[i.zb([AB,RB])]}),t})(),DB=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Gb({type:t,selectors:[["bs-calendar-layout"]],ngContentSelectors:oq,decls:6,vars:2,consts:[["title","hey there",4,"ngIf"],[1,"bs-datepicker-head"],[1,"bs-datepicker-body"],[4,"ngIf"],["title","hey there"]],template:function(t,e){1&t&&(i.hc(rq),i.Dc(0,nq,1,0,"bs-current-date",0),i.Sb(1,"div",1),i.gc(2),i.Rb(),i.Sb(3,"div",2),i.gc(4,1),i.Rb(),i.Dc(5,iq,1,0,"bs-timepicker",3)),2&t&&(i.ic("ngIf",!1),i.Ab(5),i.ic("ngIf",!1))},directives:function(){return[D,MB,qB]},encapsulation:2}),t})(),MB=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Gb({type:t,selectors:[["bs-current-date"]],inputs:{title:"title"},decls:3,vars:1,consts:[[1,"current-timedate"]],template:function(t,e){1&t&&(i.Sb(0,"div",0),i.Sb(1,"span"),i.Fc(2),i.Rb(),i.Rb()),2&t&&(i.Ab(2),i.Gc(e.title))},encapsulation:2}),t})(),NB=(()=>{class t{constructor(){this.onSelect=new i.n,this.customRange=null}selectFromRanges(t){this.onSelect.emit(t)}checkRange(){return!!this.ranges&&this.ranges.filter(t=>t.value===this.selectedRange).length>0}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Gb({type:t,selectors:[["bs-custom-date-view"]],inputs:{ranges:"ranges",selectedRange:"selectedRange",customRangeLabel:"customRangeLabel"},outputs:{onSelect:"onSelect"},decls:4,vars:4,consts:[[1,"bs-datepicker-predefined-btns"],["type","button","class","btn",3,"selected","click",4,"ngFor","ngForOf"],["type","button",1,"btn",3,"click"]],template:function(t,e){1&t&&(i.Sb(0,"div",0),i.Dc(1,sq,2,3,"button",1),i.Sb(2,"button",2),i.Zb("click",function(){return e.selectFromRanges(e.customRange)}),i.Fc(3),i.Rb(),i.Rb()),2&t&&(i.Ab(1),i.ic("ngForOf",e.ranges),i.Ab(1),i.Eb("selected",!e.checkRange()),i.Ab(1),i.Hc(" ",e.customRangeLabel," "))},directives:[R],encapsulation:2,changeDetection:0}),t})(),jB=(()=>{class t{constructor(t,e,n){this._config=t,this._elRef=e,this._renderer=n}ngOnInit(){this.day.isToday&&this._config&&this._config.customTodayClass&&this._renderer.addClass(this._elRef.nativeElement,this._config.customTodayClass),"string"==typeof this.day.customClasses&&this.day.customClasses.split(" ").filter(t=>t).forEach(t=>{this._renderer.addClass(this._elRef.nativeElement,t)})}}return t.\u0275fac=function(e){return new(e||t)(i.Mb(Yq),i.Mb(i.l),i.Mb(i.E))},t.\u0275cmp=i.Gb({type:t,selectors:[["","bsDatepickerDayDecorator",""]],hostVars:16,hostBindings:function(t,e){2&t&&i.Eb("disabled",e.day.isDisabled)("is-highlighted",e.day.isHovered)("is-other-month",e.day.isOtherMonth)("is-active-other-month",e.day.isOtherMonthHovered)("in-range",e.day.isInRange)("select-start",e.day.isSelectionStart)("select-end",e.day.isSelectionEnd)("selected",e.day.isSelected)},inputs:{day:"day"},attrs:aq,decls:1,vars:1,template:function(t,e){1&t&&i.Fc(0),2&t&&i.Gc(e.day.label)},encapsulation:2,changeDetection:0}),t})();const FB={UP:0,DOWN:1};FB[FB.UP]="UP",FB[FB.DOWN]="DOWN";let LB=(()=>{class t{constructor(){this.onNavigate=new i.n,this.onViewMode=new i.n}navTo(t){this.onNavigate.emit(t?FB.DOWN:FB.UP)}view(t){this.onViewMode.emit(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Gb({type:t,selectors:[["bs-datepicker-navigation-view"]],inputs:{calendar:"calendar"},outputs:{onNavigate:"onNavigate",onViewMode:"onViewMode"},decls:12,vars:8,consts:[["type","button",1,"previous",3,"disabled","click"],[4,"ngIf"],["type","button",1,"current",3,"click"],["type","button",1,"next",3,"disabled","click"]],template:function(t,e){1&t&&(i.Sb(0,"button",0),i.Zb("click",function(){return e.navTo(!0)}),i.Sb(1,"span"),i.Fc(2,"\u2039"),i.Rb(),i.Rb(),i.Dc(3,cq,5,1,"ng-container",1),i.Fc(4," \u200b "),i.Sb(5,"button",2),i.Zb("click",function(){return e.view("year")}),i.Sb(6,"span"),i.Fc(7),i.Rb(),i.Rb(),i.Fc(8," \u200b "),i.Sb(9,"button",3),i.Zb("click",function(){return e.navTo(!1)}),i.Sb(10,"span"),i.Fc(11,"\u203a"),i.Rb(),i.Rb()),2&t&&(i.Ac("visibility",e.calendar.hideLeftArrow?"hidden":"visible"),i.ic("disabled",e.calendar.disableLeftArrow),i.Ab(3),i.ic("ngIf",e.calendar.monthTitle),i.Ab(4),i.Gc(e.calendar.yearTitle),i.Ab(2),i.Ac("visibility",e.calendar.hideRightArrow?"hidden":"visible"),i.ic("disabled",e.calendar.disableRightArrow))},directives:[D],encapsulation:2,changeDetection:0}),t})(),VB=(()=>{class t{constructor(t){this._config=t,this.onNavigate=new i.n,this.onViewMode=new i.n,this.onSelect=new i.n,this.onHover=new i.n,this.onHoverWeek=new i.n,this.isiOS=/iPad|iPhone|iPod/.test(navigator.platform)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1,this._config.dateTooltipTexts&&this._config.dateTooltipTexts.length>0&&(this.isShowTooltip=!0)}navigateTo(t){this.onNavigate.emit({step:{month:FB.DOWN===t?-1:1}})}changeViewMode(t){this.onViewMode.emit(t)}selectDay(t){this.onSelect.emit(t)}selectWeek(t){if(!this._config.selectWeek&&!this._config.selectWeekDateRange)return;if(0===t.days.length)return;if(this._config.selectWeek&&t.days[0]&&!t.days[0].isDisabled&&this._config.selectFromOtherMonth)return void this.onSelect.emit(t.days[0]);const e=t.days.find(t=>(this._config.selectFromOtherMonth||!t.isOtherMonth)&&!t.isDisabled);if(this.onSelect.emit(e),this._config.selectWeekDateRange){const e=t.days.slice(0).reverse().find(t=>(this._config.selectFromOtherMonth||!t.isOtherMonth)&&!t.isDisabled);this.onSelect.emit(e)}}weekHoverHandler(t,e){(this._config.selectWeek||this._config.selectWeekDateRange)&&t.days.find(t=>(this._config.selectFromOtherMonth||!t.isOtherMonth)&&!t.isDisabled)&&(t.isHovered=e,this.isWeekHovered=e,this.onHoverWeek.emit(t))}hoverDay(t,e){this._config.selectFromOtherMonth&&t.isOtherMonth&&(t.isOtherMonthHovered=e),this._config.dateTooltipTexts&&(t.tooltipText="",this._config.dateTooltipTexts.forEach(e=>{bL(e.date,t.date)&&(t.tooltipText=e.tooltipText)})),this.onHover.emit({cell:t,isHovered:e})}}return t.\u0275fac=function(e){return new(e||t)(i.Mb(Yq))},t.\u0275cmp=i.Gb({type:t,selectors:[["bs-days-calendar-view"]],inputs:{calendar:"calendar",options:"options"},outputs:{onNavigate:"onNavigate",onViewMode:"onViewMode",onSelect:"onSelect",onHover:"onHover",onHoverWeek:"onHoverWeek"},decls:9,vars:4,consts:[[3,"calendar","onNavigate","onViewMode"],["role","grid",1,"days","weeks"],[4,"ngIf"],["aria-label","weekday",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],["aria-label","weekday"],["class","week",3,"active-week",4,"ngIf"],["role","gridcell",4,"ngFor","ngForOf"],[1,"week"],[3,"click",4,"ngIf"],[3,"click","mouseenter","mouseleave",4,"ngIf"],[3,"click"],[3,"click","mouseenter","mouseleave"],["role","gridcell"],["bsDatepickerDayDecorator","",3,"day","tooltip","click","mouseenter","mouseleave",4,"ngIf"],["bsDatepickerDayDecorator","",3,"day","click","mouseenter","mouseleave",4,"ngIf"],["bsDatepickerDayDecorator","",3,"day","click",4,"ngIf"],["bsDatepickerDayDecorator","",3,"day","tooltip","click","mouseenter","mouseleave"],["bsDatepickerDayDecorator","",3,"day","click","mouseenter","mouseleave"],["bsDatepickerDayDecorator","",3,"day","click"]],template:function(t,e){1&t&&(i.Sb(0,"bs-calendar-layout"),i.Sb(1,"bs-datepicker-navigation-view",0),i.Zb("onNavigate",function(t){return e.navigateTo(t)})("onViewMode",function(t){return e.changeViewMode(t)}),i.Rb(),i.Sb(2,"table",1),i.Sb(3,"thead"),i.Sb(4,"tr"),i.Dc(5,uq,1,0,"th",2),i.Dc(6,lq,2,1,"th",3),i.Rb(),i.Rb(),i.Sb(7,"tbody"),i.Dc(8,_q,3,2,"tr",4),i.Rb(),i.Rb(),i.Rb()),2&t&&(i.Ab(1),i.ic("calendar",e.calendar),i.Ab(4),i.ic("ngIf",e.options.showWeekNumbers),i.Ab(1),i.ic("ngForOf",e.calendar.weekdays),i.Ab(2),i.ic("ngForOf",e.calendar.weeks))},directives:[DB,LB,D,R,jB,mF],encapsulation:2}),t})(),UB=(()=>{class t{constructor(){this.onNavigate=new i.n,this.onViewMode=new i.n,this.onSelect=new i.n,this.onHover=new i.n}navigateTo(t){this.onNavigate.emit({step:{year:FB.DOWN===t?-1:1}})}viewMonth(t){this.onSelect.emit(t)}hoverMonth(t,e){this.onHover.emit({cell:t,isHovered:e})}changeViewMode(t){this.onViewMode.emit(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Gb({type:t,selectors:[["bs-month-calendar-view"]],inputs:{calendar:"calendar"},outputs:{onNavigate:"onNavigate",onViewMode:"onViewMode",onSelect:"onSelect",onHover:"onHover"},decls:5,vars:2,consts:[[3,"calendar","onNavigate","onViewMode"],["role","grid",1,"months"],[4,"ngFor","ngForOf"],["role","gridcell",3,"disabled","is-highlighted","click","mouseenter","mouseleave",4,"ngFor","ngForOf"],["role","gridcell",3,"click","mouseenter","mouseleave"]],template:function(t,e){1&t&&(i.Sb(0,"bs-calendar-layout"),i.Sb(1,"bs-datepicker-navigation-view",0),i.Zb("onNavigate",function(t){return e.navigateTo(t)})("onViewMode",function(t){return e.changeViewMode(t)}),i.Rb(),i.Sb(2,"table",1),i.Sb(3,"tbody"),i.Dc(4,yq,2,1,"tr",2),i.Rb(),i.Rb(),i.Rb()),2&t&&(i.Ab(1),i.ic("calendar",e.calendar),i.Ab(3),i.ic("ngForOf",e.calendar.months))},directives:[DB,LB,R],encapsulation:2}),t})(),qB=(()=>{class t{constructor(){this.ampm="ok",this.hours=0,this.minutes=0}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Gb({type:t,selectors:[["bs-timepicker"]],decls:16,vars:3,consts:[[1,"bs-timepicker-container"],[1,"bs-timepicker-controls"],["type","button",1,"bs-decrease"],["type","text","placeholder","00",3,"value"],["type","button",1,"bs-increase"],["type","button",1,"switch-time-format"],["src","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAKCAYAAABi8KSDAAABSElEQVQYV3XQPUvDUBQG4HNuagtVqc6KgouCv6GIuIntYBLB9hcIQpLStCAIV7DYmpTcRWcXqZio3Vwc/UCc/QEqfgyKGbr0I7nS1EiHeqYzPO/h5SD0jaxUZjmSLCB+OFb+UFINFwASAEAdpu9gaGXVyAHHFQBkHpKHc6a9dzECvADyY9sqlAMsK9W0jzxDXqeytr3mhQckxSji27TJJ5/rPmIpwJJq3HrtduriYOurv1a4i1p5HnhkG9OFymi0ReoO05cGwb+ayv4dysVygjeFmsP05f8wpZQ8fsdvfmuY9zjWSNqUtgYFVnOVReILYoBFzdQI5/GGFzNHhGbeZnopDGU29sZbscgldmC99w35VOATTycIMMcBXIfpSVGzZhA6C8hh00conln6VQ9TGgV32OEAKQC4DrBq7CJwd0ggR7Vq/rPrfgB+C3sGypY5DAAAAABJRU5ErkJggg==","alt",""]],template:function(t,e){1&t&&(i.Sb(0,"div",0),i.Sb(1,"div",1),i.Sb(2,"button",2),i.Fc(3,"-"),i.Rb(),i.Nb(4,"input",3),i.Sb(5,"button",4),i.Fc(6,"+"),i.Rb(),i.Rb(),i.Sb(7,"div",1),i.Sb(8,"button",2),i.Fc(9,"-"),i.Rb(),i.Nb(10,"input",3),i.Sb(11,"button",4),i.Fc(12,"+"),i.Rb(),i.Rb(),i.Sb(13,"button",5),i.Fc(14),i.Nb(15,"img",6),i.Rb(),i.Rb()),2&t&&(i.Ab(4),i.ic("value",e.hours),i.Ab(6),i.ic("value",e.minutes),i.Ab(4),i.Hc("",e.ampm," "))},encapsulation:2}),t})(),BB=(()=>{class t{constructor(){this.onNavigate=new i.n,this.onViewMode=new i.n,this.onSelect=new i.n,this.onHover=new i.n}navigateTo(t){this.onNavigate.emit({step:{year:16*(FB.DOWN===t?-1:1)}})}viewYear(t){this.onSelect.emit(t)}hoverYear(t,e){this.onHover.emit({cell:t,isHovered:e})}changeViewMode(t){this.onViewMode.emit(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Gb({type:t,selectors:[["bs-years-calendar-view"]],inputs:{calendar:"calendar"},outputs:{onNavigate:"onNavigate",onViewMode:"onViewMode",onSelect:"onSelect",onHover:"onHover"},decls:5,vars:2,consts:[[3,"calendar","onNavigate","onViewMode"],["role","grid",1,"years"],[4,"ngFor","ngForOf"],["role","gridcell",3,"disabled","is-highlighted","click","mouseenter","mouseleave",4,"ngFor","ngForOf"],["role","gridcell",3,"click","mouseenter","mouseleave"]],template:function(t,e){1&t&&(i.Sb(0,"bs-calendar-layout"),i.Sb(1,"bs-datepicker-navigation-view",0),i.Zb("onNavigate",function(t){return e.navigateTo(t)})("onViewMode",function(t){return e.changeViewMode(t)}),i.Rb(),i.Sb(2,"table",1),i.Sb(3,"tbody"),i.Dc(4,Cq,2,1,"tr",2),i.Rb(),i.Rb(),i.Rb()),2&t&&(i.Ab(1),i.ic("calendar",e.calendar),i.Ab(3),i.ic("ngForOf",e.calendar.years))},directives:[DB,LB,R],encapsulation:2}),t})(),HB=(()=>{class t{static forRoot(){return{ngModule:t,providers:[aF,iF,yB,Xq,tB,Jq]}}}return t.\u0275mod=i.Kb({type:t}),t.\u0275inj=i.Jb({factory:function(e){return new(e||t)},imports:[[K,bF.forRoot()]]}),t})();class zB{format(t,e,n){return nU(t,e,n)}}let WB=(()=>{class t{constructor(){this.selectionDone=new i.n(void 0),this.update=new i.n(!1),this.activeDateChange=new i.n(void 0),this.stepDay={},this.stepMonth={},this.stepYear={},this.modes=["day","month","year"],this.dateFormatter=new zB}get activeDate(){return this._activeDate}set activeDate(t){this._activeDate=t}ngOnInit(){this.uniqueId="datepicker--"+Math.floor(1e4*Math.random()),this.initDate?(this.activeDate=this.initDate,this.selectedDate=new Date(this.activeDate.valueOf()),this.update.emit(this.activeDate)):void 0===this.activeDate&&(this.activeDate=new Date)}ngOnChanges(t){this.refreshView(),this.checkIfActiveDateGotUpdated(t.activeDate)}checkIfActiveDateGotUpdated(t){if(t&&!t.firstChange){const e=t.previousValue;e&&e instanceof Date&&e.getTime()!==t.currentValue.getTime()&&this.activeDateChange.emit(this.activeDate)}}setCompareHandler(t,e){"day"===e&&(this.compareHandlerDay=t),"month"===e&&(this.compareHandlerMonth=t),"year"===e&&(this.compareHandlerYear=t)}compare(t,e){if(void 0!==t&&void 0!==e)return"day"===this.datepickerMode&&this.compareHandlerDay?this.compareHandlerDay(t,e):"month"===this.datepickerMode&&this.compareHandlerMonth?this.compareHandlerMonth(t,e):"year"===this.datepickerMode&&this.compareHandlerYear?this.compareHandlerYear(t,e):void 0}setRefreshViewHandler(t,e){"day"===e&&(this.refreshViewHandlerDay=t),"month"===e&&(this.refreshViewHandlerMonth=t),"year"===e&&(this.refreshViewHandlerYear=t)}refreshView(){"day"===this.datepickerMode&&this.refreshViewHandlerDay&&this.refreshViewHandlerDay(),"month"===this.datepickerMode&&this.refreshViewHandlerMonth&&this.refreshViewHandlerMonth(),"year"===this.datepickerMode&&this.refreshViewHandlerYear&&this.refreshViewHandlerYear()}dateFilter(t,e){return this.dateFormatter.format(t,e,this.locale)}isActive(t){return 0===this.compare(t.date,this.activeDate)&&(this.activeDateId=t.uid,!0)}createDateObject(t,e){const n={};return n.date=new Date(t.getFullYear(),t.getMonth(),t.getDate()),n.date=this.fixTimeZone(n.date),n.label=this.dateFilter(t,e),n.selected=0===this.compare(t,this.selectedDate),n.disabled=this.isDisabled(t),n.current=0===this.compare(t,new Date),n.customClass=this.getCustomClassForDate(n.date),n}split(t,e){const n=[];for(;t.length>0;)n.push(t.splice(0,e));return n}fixTimeZone(t){const e=t.getHours();return new Date(t.getFullYear(),t.getMonth(),t.getDate(),23===e?e+2:0)}select(t,e=!0){this.datepickerMode===this.minMode?(this.activeDate||(this.activeDate=new Date(0,0,0,0,0,0,0)),this.activeDate=new Date(t.getFullYear(),t.getMonth(),t.getDate()),this.activeDate=this.fixTimeZone(this.activeDate),e&&this.selectionDone.emit(this.activeDate)):(this.activeDate=new Date(t.getFullYear(),t.getMonth(),t.getDate()),this.activeDate=this.fixTimeZone(this.activeDate),e&&(this.datepickerMode=this.modes[this.modes.indexOf(this.datepickerMode)-1])),this.selectedDate=new Date(this.activeDate.valueOf()),this.update.emit(this.activeDate),this.refreshView()}move(t){let e;if("day"===this.datepickerMode&&(e=this.stepDay),"month"===this.datepickerMode&&(e=this.stepMonth),"year"===this.datepickerMode&&(e=this.stepYear),e){const n=this.activeDate.getFullYear()+t*(e.years||0),i=this.activeDate.getMonth()+t*(e.months||0);this.activeDate=new Date(n,i,1),this.refreshView(),this.activeDateChange.emit(this.activeDate)}}toggleMode(t){const e=t||1;this.datepickerMode===this.maxMode&&1===e||this.datepickerMode===this.minMode&&-1===e||(this.datepickerMode=this.modes[this.modes.indexOf(this.datepickerMode)+e],this.refreshView())}getCustomClassForDate(t){if(!this.customClass)return"";const e=this.customClass.find(e=>e.date.valueOf()===t.valueOf()&&e.mode===this.datepickerMode,this);return void 0===e?"":e.clazz}compareDateDisabled(t,e){if(void 0!==t&&void 0!==e)return"day"===t.mode&&this.compareHandlerDay?this.compareHandlerDay(t.date,e):"month"===t.mode&&this.compareHandlerMonth?this.compareHandlerMonth(t.date,e):"year"===t.mode&&this.compareHandlerYear?this.compareHandlerYear(t.date,e):void 0}isDisabled(t){let e=!1;return this.dateDisabled&&this.dateDisabled.forEach(n=>{0===this.compareDateDisabled(n,t)&&(e=!0)}),this.dayDisabled&&(e=e||this.dayDisabled.indexOf(t.getDay())>-1),e||this.minDate&&this.compare(t,this.minDate)<0||this.maxDate&&this.compare(t,this.maxDate)>0}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Gb({type:t,selectors:[["datepicker-inner"]],inputs:{activeDate:"activeDate",datepickerMode:"datepickerMode",locale:"locale",startingDay:"startingDay",yearRange:"yearRange",minDate:"minDate",maxDate:"maxDate",minMode:"minMode",maxMode:"maxMode",showWeeks:"showWeeks",formatDay:"formatDay",formatMonth:"formatMonth",formatYear:"formatYear",formatDayHeader:"formatDayHeader",formatDayTitle:"formatDayTitle",formatMonthTitle:"formatMonthTitle",onlyCurrentMonth:"onlyCurrentMonth",shortcutPropagation:"shortcutPropagation",customClass:"customClass",monthColLimit:"monthColLimit",yearColLimit:"yearColLimit",dateDisabled:"dateDisabled",dayDisabled:"dayDisabled",initDate:"initDate"},outputs:{selectionDone:"selectionDone",update:"update",activeDateChange:"activeDateChange"},features:[i.yb],ngContentSelectors:kq,decls:1,vars:1,consts:[["class","well well-sm bg-faded p-a card","role","application",4,"ngIf"],["role","application",1,"well","well-sm","bg-faded","p-a","card"]],template:function(t,e){1&t&&(i.hc(),i.Dc(0,Sq,2,0,"div",0)),2&t&&i.ic("ngIf",e.datepickerMode)},directives:[D],encapsulation:2}),t})(),GB=(()=>{class t{constructor(){this.locale="en",this.datepickerMode="day",this.startingDay=0,this.yearRange=20,this.minMode="day",this.maxMode="year",this.showWeeks=!0,this.formatDay="DD",this.formatMonth="MMMM",this.formatYear="YYYY",this.formatDayHeader="dd",this.formatDayTitle="MMMM YYYY",this.formatMonthTitle="YYYY",this.onlyCurrentMonth=!1,this.monthColLimit=3,this.yearColLimit=5,this.shortcutPropagation=!1}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(i.Ib)({factory:function(){return new t},token:t,providedIn:"root"}),t})();const KB={provide:ri,useExisting:Object(i.U)(()=>$B),multi:!0};let $B=(()=>{class t{constructor(t){this.datepickerMode="day",this.showWeeks=!0,this.selectionDone=new i.n(void 0),this.activeDateChange=new i.n(void 0),this.onChange=Function.prototype,this.onTouched=Function.prototype,this._now=new Date,this.config=t,this.configureOptions()}get activeDate(){return this._activeDate||this._now}set activeDate(t){this._activeDate=t}configureOptions(){Object.assign(this,this.config)}onUpdate(t){this.activeDate=t,this.onChange(t)}onSelectionDone(t){this.selectionDone.emit(t)}onActiveDateChange(t){this.activeDateChange.emit(t)}writeValue(t){if(0!==this._datePicker.compare(t,this._activeDate))return t&&t instanceof Date?(this.activeDate=t,void this._datePicker.select(t,!1)):void(this.activeDate=t?new Date(t):void 0)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}}return t.\u0275fac=function(e){return new(e||t)(i.Mb(GB))},t.\u0275cmp=i.Gb({type:t,selectors:[["datepicker"]],viewQuery:function(t,e){if(1&t&&i.yc(WB,!0),2&t){let t;i.qc(t=i.ac())&&(e._datePicker=t.first)}},inputs:{datepickerMode:"datepickerMode",showWeeks:"showWeeks",activeDate:"activeDate",initDate:"initDate",minDate:"minDate",maxDate:"maxDate",minMode:"minMode",maxMode:"maxMode",formatDay:"formatDay",formatMonth:"formatMonth",formatYear:"formatYear",formatDayHeader:"formatDayHeader",formatDayTitle:"formatDayTitle",formatMonthTitle:"formatMonthTitle",startingDay:"startingDay",yearRange:"yearRange",onlyCurrentMonth:"onlyCurrentMonth",shortcutPropagation:"shortcutPropagation",monthColLimit:"monthColLimit",yearColLimit:"yearColLimit",customClass:"customClass",dateDisabled:"dateDisabled",dayDisabled:"dayDisabled"},outputs:{selectionDone:"selectionDone",activeDateChange:"activeDateChange"},features:[i.zb([KB])],decls:4,vars:24,consts:[[3,"activeDate","locale","datepickerMode","initDate","minDate","maxDate","minMode","maxMode","showWeeks","formatDay","formatMonth","formatYear","formatDayHeader","formatDayTitle","formatMonthTitle","startingDay","yearRange","customClass","dateDisabled","dayDisabled","onlyCurrentMonth","shortcutPropagation","monthColLimit","yearColLimit","update","selectionDone","activeDateChange"],["tabindex","0"]],template:function(t,e){1&t&&(i.Sb(0,"datepicker-inner",0),i.Zb("update",function(t){return e.onUpdate(t)})("selectionDone",function(t){return e.onSelectionDone(t)})("activeDateChange",function(t){return e.onActiveDateChange(t)}),i.Nb(1,"daypicker",1),i.Nb(2,"monthpicker",1),i.Nb(3,"yearpicker",1),i.Rb()),2&t&&i.ic("activeDate",e.activeDate)("locale",e.config.locale)("datepickerMode",e.datepickerMode)("initDate",e.initDate)("minDate",e.minDate)("maxDate",e.maxDate)("minMode",e.minMode)("maxMode",e.maxMode)("showWeeks",e.showWeeks)("formatDay",e.formatDay)("formatMonth",e.formatMonth)("formatYear",e.formatYear)("formatDayHeader",e.formatDayHeader)("formatDayTitle",e.formatDayTitle)("formatMonthTitle",e.formatMonthTitle)("startingDay",e.startingDay)("yearRange",e.yearRange)("customClass",e.customClass)("dateDisabled",e.dateDisabled)("dayDisabled",e.dayDisabled)("onlyCurrentMonth",e.onlyCurrentMonth)("shortcutPropagation",e.shortcutPropagation)("monthColLimit",e.monthColLimit)("yearColLimit",e.yearColLimit)},directives:function(){return[WB,YB,QB,ZB]},encapsulation:2}),t})(),YB=(()=>{class t{constructor(t){this.labels=[],this.rows=[],this.weekNumbers=[],this.datePicker=t}get isBs4(){return!wj()}ngOnInit(){const t=this;this.datePicker.stepDay={months:1},this.datePicker.setRefreshViewHandler(function(){const e=this.activeDate.getFullYear(),n=this.activeDate.getMonth(),i=new Date(e,n,1),r=this.startingDay-i.getDay(),o=r>0?7-r:-r,s=new Date(i.getTime());o>0&&s.setDate(1-o);const a=t.getDates(s,42),c=[];for(let t=0;t<42;t++){const e=this.createDateObject(a[t],this.formatDay);e.secondary=a[t].getMonth()!==n,e.uid=this.uniqueId+"-"+t,c[t]=e}t.labels=[];for(let u=0;u<7;u++)t.labels[u]={},t.labels[u].abbr=this.dateFilter(c[u].date,this.formatDayHeader),t.labels[u].full=this.dateFilter(c[u].date,"EEEE");if(t.title=this.dateFilter(this.activeDate,this.formatDayTitle),t.rows=this.split(c,7),this.showWeeks){t.weekNumbers=[];const e=(11-this.startingDay)%7,n=t.rows.length;for(let i=0;i<n;i++)t.weekNumbers.push(t.getISO8601WeekNumber(t.rows[i][e].date))}},"day"),this.datePicker.setCompareHandler(function(t,e){const n=new Date(t.getFullYear(),t.getMonth(),t.getDate()),i=new Date(e.getFullYear(),e.getMonth(),e.getDate());return n.getTime()-i.getTime()},"day"),this.datePicker.refreshView()}getDates(t,e){const n=new Array(e);let i,r=new Date(t.getTime()),o=0;for(;o<e;)i=new Date(r.getTime()),i=this.datePicker.fixTimeZone(i),n[o++]=i,r=new Date(i.getFullYear(),i.getMonth(),i.getDate()+1);return n}getISO8601WeekNumber(t){const e=new Date(t.getTime());e.setDate(e.getDate()+4-(e.getDay()||7));const n=e.getTime();return e.setMonth(0),e.setDate(1),Math.floor(Math.round((n-e.getTime())/864e5)/7)+1}}return t.\u0275fac=function(e){return new(e||t)(i.Mb(WB))},t.\u0275cmp=i.Gb({type:t,selectors:[["daypicker"]],decls:1,vars:1,consts:[["role","grid","aria-activedescendant","activeDateId",4,"ngIf"],["role","grid","aria-activedescendant","activeDateId"],["type","button","class","btn btn-default btn-secondary btn-sm pull-left float-left","tabindex","-1",3,"click",4,"ngIf"],["type","button","tabindex","-1",1,"btn","btn-default","btn-secondary","btn-sm",2,"width","100%",3,"id","disabled","ngClass","click"],["type","button","class","btn btn-default btn-secondary btn-sm pull-right float-right","tabindex","-1",3,"click",4,"ngIf"],[4,"ngIf"],["class","text-center",4,"ngFor","ngForOf"],["ngFor","",3,"ngForOf"],["type","button","tabindex","-1",1,"btn","btn-default","btn-secondary","btn-sm","pull-left","float-left",3,"click"],["type","button","tabindex","-1",1,"btn","btn-default","btn-secondary","btn-sm","pull-right","float-right",3,"click"],[1,"text-center"],["aria-label","labelz.full"],["class","h6","class","text-center",4,"ngIf"],["class","text-center","role","gridcell",3,"id",4,"ngFor","ngForOf"],["role","gridcell",1,"text-center",3,"id"],["type","button","style","min-width:100%;","tabindex","-1",3,"class","ngClass","disabled","click",4,"ngIf"],["type","button","tabindex","-1",2,"min-width","100%",3,"ngClass","disabled","click"],[3,"ngClass"]],template:function(t,e){1&t&&i.Dc(0,Vq,18,15,"table",0),2&t&&i.ic("ngIf","day"===e.datePicker.datepickerMode)},directives:[D,I,R],styles:["[_nghost-%COMP%]   .btn-secondary[_ngcontent-%COMP%] {\n      color: #292b2c;\n      background-color: #fff;\n      border-color: #ccc;\n    }\n    [_nghost-%COMP%]   .btn-info[_ngcontent-%COMP%]   .text-muted[_ngcontent-%COMP%] {\n      color: #292b2c !important;\n    }"]}),t})(),QB=(()=>{class t{constructor(t){this.rows=[],this.datePicker=t}get isBs4(){return!wj()}ngOnInit(){const t=this;this.datePicker.stepMonth={years:1},this.datePicker.setRefreshViewHandler(function(){const e=new Array(12),n=this.activeDate.getFullYear();let i;for(let t=0;t<12;t++)i=new Date(n,t,1),i=this.fixTimeZone(i),e[t]=this.createDateObject(i,this.formatMonth),e[t].uid=this.uniqueId+"-"+t;t.title=this.dateFilter(this.activeDate,this.formatMonthTitle),t.rows=this.split(e,t.datePicker.monthColLimit)},"month"),this.datePicker.setCompareHandler(function(t,e){const n=new Date(t.getFullYear(),t.getMonth()),i=new Date(e.getFullYear(),e.getMonth());return n.getTime()-i.getTime()},"month"),this.datePicker.refreshView()}}return t.\u0275fac=function(e){return new(e||t)(i.Mb(WB))},t.\u0275cmp=i.Gb({type:t,selectors:[["monthpicker"]],decls:1,vars:1,consts:[["role","grid",4,"ngIf"],["role","grid"],["type","button","tabindex","-1",1,"btn","btn-default","btn-sm","pull-left","float-left",3,"click"],["type","button","tabindex","-1",1,"btn","btn-default","btn-sm",2,"width","100%",3,"id","disabled","ngClass","click"],["type","button","tabindex","-1",1,"btn","btn-default","btn-sm","pull-right","float-right",3,"click"],[4,"ngFor","ngForOf"],["class","text-center","role","gridcell",3,"ngClass",4,"ngFor","ngForOf"],["role","gridcell",1,"text-center",3,"ngClass"],["type","button","tabindex","-1",1,"btn","btn-default",2,"min-width","100%",3,"ngClass","disabled","click"],[3,"ngClass"]],template:function(t,e){1&t&&i.Dc(0,zq,15,8,"table",0),2&t&&i.ic("ngIf","month"===e.datePicker.datepickerMode)},directives:[D,I,R],styles:[$q]}),t})(),ZB=(()=>{class t{constructor(t){this.rows=[],this.datePicker=t}get isBs4(){return!wj()}ngOnInit(){const t=this;this.datePicker.stepYear={years:this.datePicker.yearRange},this.datePicker.setRefreshViewHandler(function(){const e=new Array(this.yearRange);let n;const i=t.getStartingYear(this.activeDate.getFullYear());for(let t=0;t<this.yearRange;t++)n=new Date(i+t,0,1),n=this.fixTimeZone(n),e[t]=this.createDateObject(n,this.formatYear),e[t].uid=this.uniqueId+"-"+t;t.title=[e[0].label,e[this.yearRange-1].label].join(" - "),t.rows=this.split(e,t.datePicker.yearColLimit)},"year"),this.datePicker.setCompareHandler(function(t,e){return t.getFullYear()-e.getFullYear()},"year"),this.datePicker.refreshView()}getStartingYear(t){return(t-1)/this.datePicker.yearRange*this.datePicker.yearRange+1}}return t.\u0275fac=function(e){return new(e||t)(i.Mb(WB))},t.\u0275cmp=i.Gb({type:t,selectors:[["yearpicker"]],decls:1,vars:1,consts:[["role","grid",4,"ngIf"],["role","grid"],["type","button","tabindex","-1",1,"btn","btn-default","btn-sm","pull-left","float-left",3,"click"],["role","heading","type","button","tabindex","-1",1,"btn","btn-default","btn-sm",2,"width","100%",3,"id","disabled","ngClass","click"],["type","button","tabindex","-1",1,"btn","btn-default","btn-sm","pull-right","float-right",3,"click"],[4,"ngFor","ngForOf"],["class","text-center","role","gridcell",4,"ngFor","ngForOf"],["role","gridcell",1,"text-center"],["type","button","tabindex","-1",1,"btn","btn-default",2,"min-width","100%",3,"ngClass","disabled","click"],[3,"ngClass"]],template:function(t,e){1&t&&i.Dc(0,Kq,15,8,"table",0),2&t&&i.ic("ngIf","year"===e.datePicker.datepickerMode)},directives:[D,I,R],styles:[$q]}),t})();const XB={UNKNOWN:0,NEXT:1,PREV:2};XB[XB.UNKNOWN]="UNKNOWN",XB[XB.NEXT]="NEXT",XB[XB.PREV]="PREV";let JB=(()=>{class t{static forRoot(){return{ngModule:t,providers:[]}}}return t.\u0275mod=i.Kb({type:t}),t.\u0275inj=i.Jb({factory:function(e){return new(e||t)},imports:[[K]]}),t})();const tH=["*"];let eH=(()=>{class t{constructor(){this.hide=Function,this.setClass=Function}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Ib({token:t,factory:t.\u0275fac}),t})(),nH=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Ib({token:t,factory:t.\u0275fac}),t})();const iH={backdrop:!0,keyboard:!0,focus:!0,show:!1,ignoreBackdropClick:!1,class:"",animated:!0,initialState:{}},rH=new i.q("override-default-config");let oH=(()=>{class t{constructor(t,e,n){this._element=e,this._renderer=n,this.isShown=!1,this.isModalHiding=!1,this.clickStartedInContent=!1,this.config=Object.assign({},t)}ngOnInit(){this.isAnimated&&this._renderer.addClass(this._element.nativeElement,"fade"),this._renderer.setStyle(this._element.nativeElement,"display","block"),setTimeout(()=>{this.isShown=!0,this._renderer.addClass(this._element.nativeElement,wj()?"in":"show")},this.isAnimated?150:0),document&&document.body&&(1===this.bsModalService.getModalsCount()&&(this.bsModalService.checkScrollbar(),this.bsModalService.setScrollbar()),this._renderer.addClass(document.body,"modal-open")),this._element.nativeElement&&this._element.nativeElement.focus()}onClickStarted(t){this.clickStartedInContent=t.target!==this._element.nativeElement}onClickStop(t){this.config.ignoreBackdropClick||"static"===this.config.backdrop||t.target!==this._element.nativeElement||this.clickStartedInContent?this.clickStartedInContent=!1:(this.bsModalService.setDismissReason("backdrop-click"),this.hide())}onPopState(){this.bsModalService.setDismissReason("browser-back-navigation-clicked"),this.hide()}onEsc(t){this.isShown&&(27!==t.keyCode&&"Escape"!==t.key||t.preventDefault(),this.config.keyboard&&this.level===this.bsModalService.getModalsCount()&&(this.bsModalService.setDismissReason("esc"),this.hide()))}ngOnDestroy(){this.isShown&&this.hide()}hide(){!this.isModalHiding&&this.isShown&&(this.isModalHiding=!0,this._renderer.removeClass(this._element.nativeElement,wj()?"in":"show"),setTimeout(()=>{this.isShown=!1,document&&document.body&&1===this.bsModalService.getModalsCount()&&this._renderer.removeClass(document.body,"modal-open"),this.bsModalService.hide(this.config.id),this.isModalHiding=!1},this.isAnimated?300:0))}}return t.\u0275fac=function(e){return new(e||t)(i.Mb(nH),i.Mb(i.l),i.Mb(i.E))},t.\u0275cmp=i.Gb({type:t,selectors:[["modal-container"]],hostAttrs:["role","dialog","tabindex","-1",1,"modal"],hostVars:3,hostBindings:function(t,e){1&t&&i.Zb("mousedown",function(t){return e.onClickStarted(t)})("mouseup",function(t){return e.onClickStop(t)})("popstate",function(){return e.onPopState()},!1,i.sc)("keydown.esc",function(t){return e.onEsc(t)},!1,i.sc),2&t&&i.Bb("aria-modal",!0)("aria-labelledby",e.config.ariaLabelledBy)("aria-describedby",e.config.ariaDescribedby)},ngContentSelectors:tH,decls:3,vars:2,consts:[["role","document"],[1,"modal-content"]],template:function(t,e){1&t&&(i.hc(),i.Sb(0,"div",0),i.Sb(1,"div",1),i.gc(2),i.Rb(),i.Rb()),2&t&&i.Cb("modal-dialog"+(e.config.class?" "+e.config.class:""))},encapsulation:2}),t})(),sH=(()=>{class t{constructor(t,e){this._isShown=!1,this.element=t,this.renderer=e}get isAnimated(){return this._isAnimated}set isAnimated(t){this._isAnimated=t}get isShown(){return this._isShown}set isShown(t){this._isShown=t,t?this.renderer.addClass(this.element.nativeElement,"in"):this.renderer.removeClass(this.element.nativeElement,"in"),wj()||(t?this.renderer.addClass(this.element.nativeElement,"show"):this.renderer.removeClass(this.element.nativeElement,"show"))}ngOnInit(){this.isAnimated&&(this.renderer.addClass(this.element.nativeElement,"fade"),class{static reflow(t){}static getStyles(t){let e=t.ownerDocument.defaultView;return e&&e.opener||(e=vj),e.getComputedStyle(t)}}.reflow(this.element.nativeElement)),this.isShown=!0}}return t.\u0275fac=function(e){return new(e||t)(i.Mb(i.l),i.Mb(i.E))},t.\u0275cmp=i.Gb({type:t,selectors:[["bs-modal-backdrop"]],hostAttrs:[1,"modal-backdrop"],decls:0,vars:0,template:function(t,e){},encapsulation:2}),t})(),aH=(()=>{class t{constructor(t,e,n){this.clf=e,this.modalDefaultOption=n,this.onShow=new i.n,this.onShown=new i.n,this.onHide=new i.n,this.onHidden=new i.n,this.isBodyOverflowing=!1,this.originalBodyPadding=0,this.scrollbarWidth=0,this.modalsCount=0,this.lastDismissReason=null,this.loaders=[],this._backdropLoader=this.clf.createLoader(null,null,null),this._renderer=t.createRenderer(null,null),this.config=n?Object.assign({},iH,n):iH}show(t,e){this.modalsCount++,this._createLoaders();const n=(null==e?void 0:e.id)||(new Date).getUTCMilliseconds();return this.config=this.modalDefaultOption?Object.assign({},iH,this.modalDefaultOption,e):Object.assign({},iH,e),this.config.id=n,this._showBackdrop(),this.lastDismissReason=null,this._showModal(t)}hide(t){1!==this.modalsCount&&null!=t||(this._hideBackdrop(),this.resetScrollbar()),this.modalsCount=this.modalsCount>=1&&null!=t?this.modalsCount-1:0,setTimeout(()=>{this._hideModal(t),this.removeLoaders(t)},this.config.animated?150:0)}_showBackdrop(){const t=this.config.backdrop||"static"===this.config.backdrop,e=!this.backdropRef||!this.backdropRef.instance.isShown;1===this.modalsCount&&(this.removeBackdrop(),t&&e&&(this._backdropLoader.attach(sH).to("body").show({isAnimated:this.config.animated}),this.backdropRef=this._backdropLoader._componentRef))}_hideBackdrop(){this.backdropRef&&(this.backdropRef.instance.isShown=!1,setTimeout(()=>this.removeBackdrop(),this.config.animated?150:0))}_showModal(t){var e;const n=this.loaders[this.loaders.length-1];if(this.config&&this.config.providers)for(const i of this.config.providers)n.provide(i);const r=new eH,o=n.provide({provide:nH,useValue:this.config}).provide({provide:eH,useValue:r}).attach(oH).to("body");return r.hide=()=>o.instance.hide(),r.setClass=t=>{o.instance.config.class=t},r.onHidden=new i.n,r.onHide=new i.n,this.copyEvent(n.onBeforeHide,r.onHide),this.copyEvent(n.onHidden,r.onHidden),o.show({content:t,isAnimated:this.config.animated,initialState:this.config.initialState,bsModalService:this,id:this.config.id}),o.instance.level=this.getModalsCount(),r.content=n.getInnerComponent()||null,r.id=null===(e=o.instance.config)||void 0===e?void 0:e.id,r}_hideModal(t){if(null!=t){const e=this.loaders.findIndex(e=>e.instance.config.id===t),n=this.loaders[e];n&&n.hide(t)}else this.loaders.forEach(t=>{t.hide(t.instance.config.id)})}getModalsCount(){return this.modalsCount}setDismissReason(t){this.lastDismissReason=t}removeBackdrop(){this._renderer.removeClass(document.body,"modal-open"),this._backdropLoader.hide(),this.backdropRef=null}checkScrollbar(){this.isBodyOverflowing=document.body.clientWidth<window.innerWidth,this.scrollbarWidth=this.getScrollbarWidth()}setScrollbar(){document&&(this.originalBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")||"0",10),this.isBodyOverflowing&&(document.body.style.paddingRight=this.originalBodyPadding+this.scrollbarWidth+"px"))}resetScrollbar(){document.body.style.paddingRight=this.originalBodyPadding+"px"}getScrollbarWidth(){const t=this._renderer.createElement("div");this._renderer.addClass(t,"modal-scrollbar-measure"),this._renderer.appendChild(document.body,t);const e=t.offsetWidth-t.clientWidth;return this._renderer.removeChild(document.body,t),e}_createLoaders(){const t=this.clf.createLoader(null,null,null);this.copyEvent(t.onBeforeShow,this.onShow),this.copyEvent(t.onShown,this.onShown),this.copyEvent(t.onBeforeHide,this.onHide),this.copyEvent(t.onHidden,this.onHidden),this.loaders.push(t)}removeLoaders(t){if(null!=t){const e=this.loaders.findIndex(e=>e.instance.config.id===t);e>=0&&(this.loaders.splice(e,1),this.loaders.forEach((t,e)=>{t.instance.level=e+1}))}else this.loaders.splice(0,this.loaders.length)}copyEvent(t,e){t.subscribe(t=>{e.emit(this.lastDismissReason||t)})}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(i.F),i.Wb(aF),i.Wb(rH,8))},t.\u0275prov=i.Ib({token:t,factory:t.\u0275fac}),t})(),cH=(()=>{class t{static forRoot(){return{ngModule:t,providers:[aH,aF,iF]}}static forChild(){return{ngModule:t,providers:[aH,aF,iF]}}}return t.\u0275mod=i.Kb({type:t}),t.\u0275inj=i.Jb({factory:function(e){return new(e||t)}}),t})();const uH=["container"],lH=["on"],hH=["label"],dH=["off"],fH=()=>{},pH={provide:ri,useExisting:Object(i.U)(()=>gH),multi:!0};let gH=(()=>{class t{constructor(t,e){this.cd=t,this.render=e,this.handleWidth=0,this.labelWidth=0,this.labelText="",this.inverse=!1,this.baseClass="bootstrap-switch",this.onText="ON",this.offText="OFF",this.disabled=!1,this.readonly=!1,this._focused=!1,this._size="normal",this._animate=!0,this._innerAnimate=!0,this._indeterminate=!1,this._onColor="primary",this._offColor="default",this._wrapperClass="wrapper",this._innerState=!1,this._innerHandleWidth="auto",this._innerLabelWidth="auto",this._dragStart=null,this._dragEnd=null,this._onTouchedCallback=fH,this._onChangeCallback=fH,this.changeState=new i.n}$on(){return this.on.nativeElement}$off(){return this.off.nativeElement}$label(){return this.label.nativeElement}$container(){return this.container.nativeElement}getWrapperClasses(){let t=this.baseClass+" "+this.baseClass+"-"+this._wrapperClass;return this._focused&&(t+=" "+this.baseClass+"-focused"),this.readonly&&(t+=" "+this.baseClass+"-readonly"),null!=this._size&&(t+=" "+this.baseClass+"-"+this._size),t+=this._innerState?" "+this.baseClass+"-on":" "+this.baseClass+"-off",this._animate&&(t+=" "+this.baseClass+"-animate"),this.disabled&&(t+=" "+this.baseClass+"-disabled"),(this._indeterminate||null==this._innerState)&&(t+=" "+this.baseClass+"-indeterminate"),this.inverse&&(t+=" "+this.baseClass+"-inverse"),t}getOnClasses(){let t=this.baseClass+"-handle-on";return this._onColor&&(t+=" "+this.baseClass+"-"+this._onColor),t}getOffClasses(){let t=this.baseClass+"-handle-off";return this._offColor&&(t+=" "+this.baseClass+"-"+this._offColor),t}getLabelMarginLeft(){let t=this.inverse?-this.handleWidth:0;return this._indeterminate||null==this._innerState?t=-this.handleWidth/2:this._dragEnd?t=this._dragEnd:this._innerState||(t=this.inverse?0:-this.handleWidth),t+"px"}ngOnChanges(t){(t.setLabelText||t.setOnText||t.setHandleWidth||t.setLabelWidth||t.setOffText||t.setSize)&&this.calculateWith(!0)}ngAfterViewInit(){this.calculateWith()}onClick(){this.disabled||this.readonly||this._dragEnd?this._dragEnd&&(this._dragEnd=null):this.setStateValue(!this._innerState)}onKeyDown(t){if(t.which&&!this.disabled&&!this.readonly)switch(t.which){case 37:t.preventDefault(),t.stopImmediatePropagation(),this.setStateValue(!1);break;case 39:t.preventDefault(),t.stopImmediatePropagation(),this.setStateValue(!0)}}onDragStart(t){if(t.target===this.$label()){if(this._dragStart||this.disabled||this.readonly)return;t.preventDefault(),t.stopPropagation(),this._dragStart=(t.pageX||t.touches[0].pageX)-parseInt(this.$container().style.marginLeft,10),this._animate&&(this._animate=!this._animate)}}onDragMove(t){if(this._dragStart){t.preventDefault();const e=(t.pageX||t.touches[0].pageX)-this._dragStart;if(e<-Number(this.handleWidth)||e>0)return;this._dragEnd=e}}onDragEnd(t,e=!1){if(this._dragStart){if(t.preventDefault(),t.stopPropagation(),this._dragEnd){const t=this._dragEnd>-Number(this.handleWidth)/2;this.setStateValue(this.inverse?!t:t)}this._dragStart=null,e&&(this._dragEnd=null),this._innerAnimate&&(this._animate=!0)}}onTouchStart(t){this.onDragStart(t)}onMouseDown(t){this.onDragStart(t)}onTouchMove(t){this.onDragMove(t)}onMouseMove(t){this.onDragMove(t)}onMouseUp(t){this.onDragEnd(t)}onTouchEnd(t){this.onDragEnd(t,!0)}onMouseLeave(t){this.onDragEnd(t,!0)}onFocus(){this._focused=!0}onBlur(){this._focused=!1,this._onTouchedCallback()}calculateWith(t=!1){t&&this._innerAnimate&&(this._animate=!1),setTimeout(()=>{this.render.setStyle(this.$on(),"width","auto"),this.render.setStyle(this.$off(),"width","auto"),this.render.setStyle(this.$label(),"width","auto");const e="auto"===this._innerHandleWidth?Math.max(this.$on().offsetWidth,this.$off().offsetWidth):this._innerHandleWidth;this.labelWidth=this.$label().offsetWidth<e?Number("auto"===this._innerLabelWidth?e:this._innerLabelWidth):"auto"===this._innerLabelWidth?this.$label().offsetWidth:Number(this._innerLabelWidth),this.handleWidth=Number(e),this.render.setStyle(this.$label(),"width",this.labelWidth+"px"),this.render.setStyle(this.$on(),"width",this.handleWidth+"px"),this.render.setStyle(this.$off(),"width",this.handleWidth+"px"),setTimeout(()=>{t&&this._innerAnimate&&(this._animate=!0)}),this.cd.markForCheck()})}set setBaseClass(t){this.baseClass=t}set setWrapperClass(t){this._wrapperClass=t}set setOffText(t){this.offText=t||"OFF"}set setLabelText(t){this.labelText=t}set setOnText(t){this.onText=t||"ON"}set setSize(t){t&&(this._size=t)}set setAnimate(t){this._animate=t,this._innerAnimate=t}set setOnColor(t){t&&(this._onColor=t)}set setOffColor(t){t&&(this._offColor=t)}set setDisabled(t){this.disabled=t}set setReadOnly(t){this.readonly=t}set setIndeterminate(t){this._indeterminate=t}set setInverse(t){this.inverse=t}set setHandleWidth(t){this._innerHandleWidth=void 0!==t?t:"auto"}set setLabelWidth(t){this._innerLabelWidth=void 0!==t?t:"auto"}get value(){return this._innerState}set value(t){null==t&&(this._indeterminate=!0),this.setStateValue(t)}setStateValue(t){t!==this._innerState&&(this._onChangeCallback(t),this.changeState.emit({previousValue:this._innerState,currentValue:t}),this._innerState=t)}writeValue(t){t!==this._innerState&&(this._innerState=t,this.cd.markForCheck())}setDisabledState(t){this.disabled=t}registerOnChange(t){this._onChangeCallback=t}registerOnTouched(t){this._onTouchedCallback=t}}return t.\u0275fac=function(e){return new(e||t)(i.Mb(i.h),i.Mb(i.E))},t.\u0275cmp=i.Gb({type:t,selectors:[["bSwitch"]],viewQuery:function(t,e){if(1&t&&(i.Ic(uH,!0),i.Ic(lH,!0),i.Ic(hH,!0),i.Ic(dH,!0)),2&t){let t;i.qc(t=i.ac())&&(e.container=t.first),i.qc(t=i.ac())&&(e.on=t.first),i.qc(t=i.ac())&&(e.label=t.first),i.qc(t=i.ac())&&(e.off=t.first)}},hostBindings:function(t,e){1&t&&i.Zb("click",function(){return e.onClick()})("keydown",function(t){return e.onKeyDown(t)})("touchstart",function(t){return e.onTouchStart(t)})("mousedown",function(t){return e.onMouseDown(t)})("touchmove",function(t){return e.onTouchMove(t)})("mousemove",function(t){return e.onMouseMove(t)})("mouseup",function(t){return e.onMouseUp(t)})("touchend",function(t){return e.onTouchEnd(t)})("mouseleave",function(t){return e.onMouseLeave(t)})},inputs:{setBaseClass:["switch-base-class","setBaseClass"],setWrapperClass:["switch-wrapper-class","setWrapperClass"],setOffText:["switch-off-text","setOffText"],setLabelText:["switch-label-text","setLabelText"],setOnText:["switch-on-text","setOnText"],setSize:["switch-size","setSize"],setAnimate:["switch-animate","setAnimate"],setOnColor:["switch-on-color","setOnColor"],setOffColor:["switch-off-color","setOffColor"],setDisabled:["switch-disabled","setDisabled"],setReadOnly:["switch-readonly","setReadOnly"],setIndeterminate:["switch-indeterminate","setIndeterminate"],setInverse:["switch-inverse","setInverse"],setHandleWidth:["switch-handle-width","setHandleWidth"],setLabelWidth:["switch-label-width","setLabelWidth"]},outputs:{changeState:"changeState"},features:[i.zb([pH]),i.yb],decls:11,vars:17,consts:[[3,"ngClass"],["container",""],[3,"innerHTML","ngClass"],["on",""],["label",""],["off",""],["type","checkbox",3,"ngModel","readonly","disabled","ngModelChange","focus","blur"]],template:function(t,e){1&t&&(i.Sb(0,"div",0),i.Sb(1,"div",0,1),i.Nb(3,"span",2,3),i.Sb(5,"span",0,4),i.Fc(7),i.Rb(),i.Nb(8,"span",2,5),i.Sb(10,"input",6),i.Zb("ngModelChange",function(t){return e.value=t})("focus",function(){return e.onFocus()})("blur",function(){return e.onBlur()}),i.Rb(),i.Rb(),i.Rb()),2&t&&(i.Ac("width",e.handleWidth+e.labelWidth+"px"),i.ic("ngClass",e.getWrapperClasses()),i.Ab(1),i.Ac("width",2*e.handleWidth+e.labelWidth+"px")("margin-left",e.getLabelMarginLeft()),i.ic("ngClass",e.baseClass+"-container"),i.Ab(2),i.ic("innerHTML",e.inverse?e.offText:e.onText,i.uc)("ngClass",e.inverse?e.getOffClasses():e.getOnClasses()),i.Ab(2),i.ic("ngClass",e.baseClass+"-label"),i.Ab(2),i.Hc("\xa0",e.labelText,""),i.Ab(1),i.ic("innerHTML",e.inverse?e.onText:e.offText,i.uc)("ngClass",e.inverse?e.getOnClasses():e.getOffClasses()),i.Ab(2),i.ic("ngModel",e.value)("readonly",e.readonly)("disabled",e.disabled))},directives:[I,si,Ri,yr],encapsulation:2}),t})(),mH=(()=>{class t{}return t.\u0275mod=i.Kb({type:t}),t.\u0275inj=i.Jb({factory:function(e){return new(e||t)},imports:[[K,Rr]]}),t})(),bH=(()=>{class t{static forRoot(){return{ngModule:t,providers:[aF,iF]}}}return t.\u0275mod=i.Kb({type:t}),t.\u0275inj=i.Jb({factory:function(e){return new(e||t)},imports:[[K]]}),t})();const _H=[{path:"challenge-the-ai",component:bM},{path:lj,component:bM},{path:dj,component:bM},{path:hj,component:rj},{path:"leaderboard",component:cj},{path:"download",component:rd},{path:"mturk/create/:id",component:xM},{path:"mturk/solve/:id",component:DM},{path:uj,component:DM},{path:"mturk/qualification/create",component:lN},{path:"mturk/qualification/solve",component:vN},{path:"mturk/qualification/rg/create",component:lN},{path:"mturk/qualification/rg/ai/create",component:lN},{path:"mturk/qualification/oa/create",component:lN},{path:"mturk/qualification/oa/ai/create",component:lN},{path:"mturk/qualification/oh/create",component:lN},{path:"mturk/qualification/oh/ai/create",component:lN},{path:"mturk/qualification/nr/create",component:lN},{path:"mturk/qualification/nr/ai/create",component:lN},{path:"**",component:$h}];let vH=(()=>{class t{constructor(t,e){this.authService=t,this.leaderboardService=e,this.authService.init(),this.leaderboardService.init()}}return t.\u0275mod=i.Kb({type:t}),t.\u0275inj=i.Jb({factory:function(e){return new(e||t)(i.Wb(nP),i.Wb(oj))},providers:[nP,oj,{provide:_,useValue:document.getElementsByTagName("base")[0].href}],imports:[[K,WR.a.initializeApp(eP),Tt,Rr,CD,Ih,_c.forRoot(_H,{onSameUrlNavigation:"reload"}),uF.forRoot(),lF.forRoot(),bF.forRoot(),bH.forRoot(),Lc.forRoot(),mH,id.forRoot(),FF.forRoot(),LF.forRoot(),HB.forRoot(),JB.forRoot(),cH.forRoot(),Zn,Pr,Sl,zD,ZD,lh,FN],_c]}),t})(),yH=(()=>{class t{}return t.\u0275mod=i.Kb({type:t,bootstrap:[gj]}),t.\u0275inj=i.Jb({factory:function(e){return new(e||t)},providers:[oP],imports:[[Zn,Rr,jd,_c,pj,vH,lh,Ih]]}),t})();Object(i.T)(),kt().bootstrapModule(yH).catch(t=>console.error(t))},zx2A:function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return a}),n.d(e,"c",function(){return c});var i=n("7o/Q"),r=n("HDdC"),o=n("SeVD");class s extends i.a{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends i.a{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function c(t,e){if(!e.closed)return t instanceof r.a?t.subscribe(e):Object(o.a)(t)(e)}}},[[0,0]]]);